(self["webpackChunkpumpstation"]=self["webpackChunkpumpstation"]||[]).push([[998],{6980:function(t,e,i){"use strict";i.r(e),i.d(e,{afterMain:function(){return w},afterRead:function(){return v},afterWrite:function(){return T},applyStyles:function(){return z},arrow:function(){return ot},auto:function(){return a},basePlacements:function(){return l},beforeMain:function(){return b},beforeRead:function(){return y},beforeWrite:function(){return S},bottom:function(){return r},clippingParents:function(){return u},computeStyles:function(){return dt},createPopper:function(){return ce},createPopperBase:function(){return ae},createPopperLite:function(){return ue},detectOverflow:function(){return Lt},end:function(){return h},eventListeners:function(){return mt},flip:function(){return Rt},hide:function(){return Ut},left:function(){return o},main:function(){return _},modifierPhases:function(){return k},offset:function(){return Ht},placements:function(){return g},popper:function(){return p},popperGenerator:function(){return oe},popperOffsets:function(){return Gt},preventOverflow:function(){return Yt},read:function(){return x},reference:function(){return f},right:function(){return s},start:function(){return c},top:function(){return n},variationPlacements:function(){return m},viewport:function(){return d},write:function(){return C}});var n="top",r="bottom",s="right",o="left",a="auto",l=[n,r,s,o],c="start",h="end",u="clippingParents",d="viewport",p="popper",f="reference",m=l.reduce((function(t,e){return t.concat([e+"-"+c,e+"-"+h])}),[]),g=[].concat(l,[a]).reduce((function(t,e){return t.concat([e,e+"-"+c,e+"-"+h])}),[]),y="beforeRead",x="read",v="afterRead",b="beforeMain",_="main",w="afterMain",S="beforeWrite",C="write",T="afterWrite",k=[y,x,v,b,_,w,S,C,T];function A(t){return t?(t.nodeName||"").toLowerCase():null}function I(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function M(t){var e=I(t).Element;return t instanceof e||t instanceof Element}function P(t){var e=I(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function E(t){if("undefined"===typeof ShadowRoot)return!1;var e=I(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function D(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},r=e.elements[t];P(r)&&A(r)&&(Object.assign(r.style,i),Object.keys(n).forEach((function(t){var e=n[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})))}))}function L(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var n=e.elements[t],r=e.attributes[t]||{},s=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]),o=s.reduce((function(t,e){return t[e]="",t}),{});P(n)&&A(n)&&(Object.assign(n.style,o),Object.keys(r).forEach((function(t){n.removeAttribute(t)})))}))}}var z={name:"applyStyles",enabled:!0,phase:"write",fn:D,effect:L,requires:["computeStyles"]};function O(t){return t.split("-")[0]}var F=Math.max,R=Math.min,B=Math.round;function N(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function j(){return!/^((?!chrome|android).)*safari/i.test(N())}function U(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),r=1,s=1;e&&P(t)&&(r=t.offsetWidth>0&&B(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&B(n.height)/t.offsetHeight||1);var o=M(t)?I(t):window,a=o.visualViewport,l=!j()&&i,c=(n.left+(l&&a?a.offsetLeft:0))/r,h=(n.top+(l&&a?a.offsetTop:0))/s,u=n.width/r,d=n.height/s;return{width:u,height:d,top:h,right:c+u,bottom:h+d,left:c,x:c,y:h}}function V(t){var e=U(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function $(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&E(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function H(t){return I(t).getComputedStyle(t)}function q(t){return["table","td","th"].indexOf(A(t))>=0}function G(t){return((M(t)?t.ownerDocument:t.document)||window.document).documentElement}function W(t){return"html"===A(t)?t:t.assignedSlot||t.parentNode||(E(t)?t.host:null)||G(t)}function X(t){return P(t)&&"fixed"!==H(t).position?t.offsetParent:null}function Y(t){var e=/firefox/i.test(N()),i=/Trident/i.test(N());if(i&&P(t)){var n=H(t);if("fixed"===n.position)return null}var r=W(t);E(r)&&(r=r.host);while(P(r)&&["html","body"].indexOf(A(r))<0){var s=H(r);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return r;r=r.parentNode}return null}function Z(t){var e=I(t),i=X(t);while(i&&q(i)&&"static"===H(i).position)i=X(i);return i&&("html"===A(i)||"body"===A(i)&&"static"===H(i).position)?e:i||Y(t)||e}function K(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function J(t,e,i){return F(t,R(e,i))}function Q(t,e,i){var n=J(t,e,i);return n>i?i:n}function tt(){return{top:0,right:0,bottom:0,left:0}}function et(t){return Object.assign({},tt(),t)}function it(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}var nt=function(t,e){return t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t,et("number"!==typeof t?t:it(t,l))};function rt(t){var e,i=t.state,a=t.name,l=t.options,c=i.elements.arrow,h=i.modifiersData.popperOffsets,u=O(i.placement),d=K(u),p=[o,s].indexOf(u)>=0,f=p?"height":"width";if(c&&h){var m=nt(l.padding,i),g=V(c),y="y"===d?n:o,x="y"===d?r:s,v=i.rects.reference[f]+i.rects.reference[d]-h[d]-i.rects.popper[f],b=h[d]-i.rects.reference[d],_=Z(c),w=_?"y"===d?_.clientHeight||0:_.clientWidth||0:0,S=v/2-b/2,C=m[y],T=w-g[f]-m[x],k=w/2-g[f]/2+S,A=J(C,k,T),I=d;i.modifiersData[a]=(e={},e[I]=A,e.centerOffset=A-k,e)}}function st(t){var e=t.state,i=t.options,n=i.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=e.elements.popper.querySelector(r),r))&&$(e.elements.popper,r)&&(e.elements.arrow=r)}var ot={name:"arrow",enabled:!0,phase:"main",fn:rt,effect:st,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function at(t){return t.split("-")[1]}var lt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ct(t,e){var i=t.x,n=t.y,r=e.devicePixelRatio||1;return{x:B(i*r)/r||0,y:B(n*r)/r||0}}function ht(t){var e,i=t.popper,a=t.popperRect,l=t.placement,c=t.variation,u=t.offsets,d=t.position,p=t.gpuAcceleration,f=t.adaptive,m=t.roundOffsets,g=t.isFixed,y=u.x,x=void 0===y?0:y,v=u.y,b=void 0===v?0:v,_="function"===typeof m?m({x:x,y:b}):{x:x,y:b};x=_.x,b=_.y;var w=u.hasOwnProperty("x"),S=u.hasOwnProperty("y"),C=o,T=n,k=window;if(f){var A=Z(i),M="clientHeight",P="clientWidth";if(A===I(i)&&(A=G(i),"static"!==H(A).position&&"absolute"===d&&(M="scrollHeight",P="scrollWidth")),l===n||(l===o||l===s)&&c===h){T=r;var E=g&&A===k&&k.visualViewport?k.visualViewport.height:A[M];b-=E-a.height,b*=p?1:-1}if(l===o||(l===n||l===r)&&c===h){C=s;var D=g&&A===k&&k.visualViewport?k.visualViewport.width:A[P];x-=D-a.width,x*=p?1:-1}}var L,z=Object.assign({position:d},f&&lt),O=!0===m?ct({x:x,y:b},I(i)):{x:x,y:b};return x=O.x,b=O.y,p?Object.assign({},z,(L={},L[T]=S?"0":"",L[C]=w?"0":"",L.transform=(k.devicePixelRatio||1)<=1?"translate("+x+"px, "+b+"px)":"translate3d("+x+"px, "+b+"px, 0)",L)):Object.assign({},z,(e={},e[T]=S?b+"px":"",e[C]=w?x+"px":"",e.transform="",e))}function ut(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=void 0===n||n,s=i.adaptive,o=void 0===s||s,a=i.roundOffsets,l=void 0===a||a,c={placement:O(e.placement),variation:at(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,ht(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,ht(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var dt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ut,data:{}},pt={passive:!0};function ft(t){var e=t.state,i=t.instance,n=t.options,r=n.scroll,s=void 0===r||r,o=n.resize,a=void 0===o||o,l=I(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach((function(t){t.addEventListener("scroll",i.update,pt)})),a&&l.addEventListener("resize",i.update,pt),function(){s&&c.forEach((function(t){t.removeEventListener("scroll",i.update,pt)})),a&&l.removeEventListener("resize",i.update,pt)}}var mt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ft,data:{}},gt={left:"right",right:"left",bottom:"top",top:"bottom"};function yt(t){return t.replace(/left|right|bottom|top/g,(function(t){return gt[t]}))}var xt={start:"end",end:"start"};function vt(t){return t.replace(/start|end/g,(function(t){return xt[t]}))}function bt(t){var e=I(t),i=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:i,scrollTop:n}}function _t(t){return U(G(t)).left+bt(t).scrollLeft}function wt(t,e){var i=I(t),n=G(t),r=i.visualViewport,s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=j();(c||!c&&"fixed"===e)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+_t(t),y:l}}function St(t){var e,i=G(t),n=bt(t),r=null==(e=t.ownerDocument)?void 0:e.body,s=F(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=F(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+_t(t),l=-n.scrollTop;return"rtl"===H(r||i).direction&&(a+=F(i.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Ct(t){var e=H(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function Tt(t){return["html","body","#document"].indexOf(A(t))>=0?t.ownerDocument.body:P(t)&&Ct(t)?t:Tt(W(t))}function kt(t,e){var i;void 0===e&&(e=[]);var n=Tt(t),r=n===(null==(i=t.ownerDocument)?void 0:i.body),s=I(n),o=r?[s].concat(s.visualViewport||[],Ct(n)?n:[]):n,a=e.concat(o);return r?a:a.concat(kt(W(o)))}function At(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function It(t,e){var i=U(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function Mt(t,e,i){return e===d?At(wt(t,i)):M(e)?It(e,i):At(St(G(t)))}function Pt(t){var e=kt(W(t)),i=["absolute","fixed"].indexOf(H(t).position)>=0,n=i&&P(t)?Z(t):t;return M(n)?e.filter((function(t){return M(t)&&$(t,n)&&"body"!==A(t)})):[]}function Et(t,e,i,n){var r="clippingParents"===e?Pt(t):[].concat(e),s=[].concat(r,[i]),o=s[0],a=s.reduce((function(e,i){var r=Mt(t,i,n);return e.top=F(r.top,e.top),e.right=R(r.right,e.right),e.bottom=R(r.bottom,e.bottom),e.left=F(r.left,e.left),e}),Mt(t,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Dt(t){var e,i=t.reference,a=t.element,l=t.placement,u=l?O(l):null,d=l?at(l):null,p=i.x+i.width/2-a.width/2,f=i.y+i.height/2-a.height/2;switch(u){case n:e={x:p,y:i.y-a.height};break;case r:e={x:p,y:i.y+i.height};break;case s:e={x:i.x+i.width,y:f};break;case o:e={x:i.x-a.width,y:f};break;default:e={x:i.x,y:i.y}}var m=u?K(u):null;if(null!=m){var g="y"===m?"height":"width";switch(d){case c:e[m]=e[m]-(i[g]/2-a[g]/2);break;case h:e[m]=e[m]+(i[g]/2-a[g]/2);break;default:}}return e}function Lt(t,e){void 0===e&&(e={});var i=e,o=i.placement,a=void 0===o?t.placement:o,c=i.strategy,h=void 0===c?t.strategy:c,m=i.boundary,g=void 0===m?u:m,y=i.rootBoundary,x=void 0===y?d:y,v=i.elementContext,b=void 0===v?p:v,_=i.altBoundary,w=void 0!==_&&_,S=i.padding,C=void 0===S?0:S,T=et("number"!==typeof C?C:it(C,l)),k=b===p?f:p,A=t.rects.popper,I=t.elements[w?k:b],P=Et(M(I)?I:I.contextElement||G(t.elements.popper),g,x,h),E=U(t.elements.reference),D=Dt({reference:E,element:A,strategy:"absolute",placement:a}),L=At(Object.assign({},A,D)),z=b===p?L:E,O={top:P.top-z.top+T.top,bottom:z.bottom-P.bottom+T.bottom,left:P.left-z.left+T.left,right:z.right-P.right+T.right},F=t.modifiersData.offset;if(b===p&&F){var R=F[a];Object.keys(O).forEach((function(t){var e=[s,r].indexOf(t)>=0?1:-1,i=[n,r].indexOf(t)>=0?"y":"x";O[t]+=R[i]*e}))}return O}function zt(t,e){void 0===e&&(e={});var i=e,n=i.placement,r=i.boundary,s=i.rootBoundary,o=i.padding,a=i.flipVariations,c=i.allowedAutoPlacements,h=void 0===c?g:c,u=at(n),d=u?a?m:m.filter((function(t){return at(t)===u})):l,p=d.filter((function(t){return h.indexOf(t)>=0}));0===p.length&&(p=d);var f=p.reduce((function(e,i){return e[i]=Lt(t,{placement:i,boundary:r,rootBoundary:s,padding:o})[O(i)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}function Ot(t){if(O(t)===a)return[];var e=yt(t);return[vt(t),e,vt(e)]}function Ft(t){var e=t.state,i=t.options,l=t.name;if(!e.modifiersData[l]._skip){for(var h=i.mainAxis,u=void 0===h||h,d=i.altAxis,p=void 0===d||d,f=i.fallbackPlacements,m=i.padding,g=i.boundary,y=i.rootBoundary,x=i.altBoundary,v=i.flipVariations,b=void 0===v||v,_=i.allowedAutoPlacements,w=e.options.placement,S=O(w),C=S===w,T=f||(C||!b?[yt(w)]:Ot(w)),k=[w].concat(T).reduce((function(t,i){return t.concat(O(i)===a?zt(e,{placement:i,boundary:g,rootBoundary:y,padding:m,flipVariations:b,allowedAutoPlacements:_}):i)}),[]),A=e.rects.reference,I=e.rects.popper,M=new Map,P=!0,E=k[0],D=0;D<k.length;D++){var L=k[D],z=O(L),F=at(L)===c,R=[n,r].indexOf(z)>=0,B=R?"width":"height",N=Lt(e,{placement:L,boundary:g,rootBoundary:y,altBoundary:x,padding:m}),j=R?F?s:o:F?r:n;A[B]>I[B]&&(j=yt(j));var U=yt(j),V=[];if(u&&V.push(N[z]<=0),p&&V.push(N[j]<=0,N[U]<=0),V.every((function(t){return t}))){E=L,P=!1;break}M.set(L,V)}if(P)for(var $=b?3:1,H=function(t){var e=k.find((function(e){var i=M.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return E=e,"break"},q=$;q>0;q--){var G=H(q);if("break"===G)break}e.placement!==E&&(e.modifiersData[l]._skip=!0,e.placement=E,e.reset=!0)}}var Rt={name:"flip",enabled:!0,phase:"main",fn:Ft,requiresIfExists:["offset"],data:{_skip:!1}};function Bt(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function Nt(t){return[n,s,r,o].some((function(e){return t[e]>=0}))}function jt(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=Lt(e,{elementContext:"reference"}),a=Lt(e,{altBoundary:!0}),l=Bt(o,n),c=Bt(a,r,s),h=Nt(l),u=Nt(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":u})}var Ut={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:jt};function Vt(t,e,i){var r=O(t),a=[o,n].indexOf(r)>=0?-1:1,l="function"===typeof i?i(Object.assign({},e,{placement:t})):i,c=l[0],h=l[1];return c=c||0,h=(h||0)*a,[o,s].indexOf(r)>=0?{x:h,y:c}:{x:c,y:h}}function $t(t){var e=t.state,i=t.options,n=t.name,r=i.offset,s=void 0===r?[0,0]:r,o=g.reduce((function(t,i){return t[i]=Vt(i,e.rects,s),t}),{}),a=o[e.placement],l=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=o}var Ht={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$t};function qt(t){var e=t.state,i=t.name;e.modifiersData[i]=Dt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Gt={name:"popperOffsets",enabled:!0,phase:"read",fn:qt,data:{}};function Wt(t){return"x"===t?"y":"x"}function Xt(t){var e=t.state,i=t.options,a=t.name,l=i.mainAxis,h=void 0===l||l,u=i.altAxis,d=void 0!==u&&u,p=i.boundary,f=i.rootBoundary,m=i.altBoundary,g=i.padding,y=i.tether,x=void 0===y||y,v=i.tetherOffset,b=void 0===v?0:v,_=Lt(e,{boundary:p,rootBoundary:f,padding:g,altBoundary:m}),w=O(e.placement),S=at(e.placement),C=!S,T=K(w),k=Wt(T),A=e.modifiersData.popperOffsets,I=e.rects.reference,M=e.rects.popper,P="function"===typeof b?b(Object.assign({},e.rects,{placement:e.placement})):b,E="number"===typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(A){if(h){var z,B="y"===T?n:o,N="y"===T?r:s,j="y"===T?"height":"width",U=A[T],$=U+_[B],H=U-_[N],q=x?-M[j]/2:0,G=S===c?I[j]:M[j],W=S===c?-M[j]:-I[j],X=e.elements.arrow,Y=x&&X?V(X):{width:0,height:0},et=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:tt(),it=et[B],nt=et[N],rt=J(0,I[j],Y[j]),st=C?I[j]/2-q-rt-it-E.mainAxis:G-rt-it-E.mainAxis,ot=C?-I[j]/2+q+rt+nt+E.mainAxis:W+rt+nt+E.mainAxis,lt=e.elements.arrow&&Z(e.elements.arrow),ct=lt?"y"===T?lt.clientTop||0:lt.clientLeft||0:0,ht=null!=(z=null==D?void 0:D[T])?z:0,ut=U+st-ht-ct,dt=U+ot-ht,pt=J(x?R($,ut):$,U,x?F(H,dt):H);A[T]=pt,L[T]=pt-U}if(d){var ft,mt="x"===T?n:o,gt="x"===T?r:s,yt=A[k],xt="y"===k?"height":"width",vt=yt+_[mt],bt=yt-_[gt],_t=-1!==[n,o].indexOf(w),wt=null!=(ft=null==D?void 0:D[k])?ft:0,St=_t?vt:yt-I[xt]-M[xt]-wt+E.altAxis,Ct=_t?yt+I[xt]+M[xt]-wt-E.altAxis:bt,Tt=x&&_t?Q(St,yt,Ct):J(x?St:vt,yt,x?Ct:bt);A[k]=Tt,L[k]=Tt-yt}e.modifiersData[a]=L}}var Yt={name:"preventOverflow",enabled:!0,phase:"main",fn:Xt,requiresIfExists:["offset"]};function Zt(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Kt(t){return t!==I(t)&&P(t)?Zt(t):bt(t)}function Jt(t){var e=t.getBoundingClientRect(),i=B(e.width)/t.offsetWidth||1,n=B(e.height)/t.offsetHeight||1;return 1!==i||1!==n}function Qt(t,e,i){void 0===i&&(i=!1);var n=P(e),r=P(e)&&Jt(e),s=G(e),o=U(t,r,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&(("body"!==A(e)||Ct(s))&&(a=Kt(e)),P(e)?(l=U(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=_t(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function te(t){var e=new Map,i=new Set,n=[];function r(t){i.add(t.name);var s=[].concat(t.requires||[],t.requiresIfExists||[]);s.forEach((function(t){if(!i.has(t)){var n=e.get(t);n&&r(n)}})),n.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){i.has(t.name)||r(t)})),n}function ee(t){var e=te(t);return k.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}function ie(t){var e;return function(){return e||(e=new Promise((function(i){Promise.resolve().then((function(){e=void 0,i(t())}))}))),e}}function ne(t){var e=t.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}var re={placement:"bottom",modifiers:[],strategy:"absolute"};function se(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function oe(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,r=e.defaultOptions,s=void 0===r?re:r;return function(t,e,i){void 0===i&&(i=s);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},re,s),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},o=[],a=!1,l={state:r,setOptions:function(i){var o="function"===typeof i?i(r.options):i;h(),r.options=Object.assign({},s,r.options,o),r.scrollParents={reference:M(t)?kt(t):t.contextElement?kt(t.contextElement):[],popper:kt(e)};var a=ee(ne([].concat(n,r.options.modifiers)));return r.orderedModifiers=a.filter((function(t){return t.enabled})),c(),l.update()},forceUpdate:function(){if(!a){var t=r.elements,e=t.reference,i=t.popper;if(se(e,i)){r.rects={reference:Qt(e,Z(i),"fixed"===r.options.strategy),popper:V(i)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(t){return r.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<r.orderedModifiers.length;n++)if(!0!==r.reset){var s=r.orderedModifiers[n],o=s.fn,c=s.options,h=void 0===c?{}:c,u=s.name;"function"===typeof o&&(r=o({state:r,options:h,name:u,instance:l})||r)}else r.reset=!1,n=-1}}},update:ie((function(){return new Promise((function(t){l.forceUpdate(),t(r)}))})),destroy:function(){h(),a=!0}};if(!se(t,e))return l;function c(){r.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,s=t.effect;if("function"===typeof s){var a=s({state:r,name:e,instance:l,options:n}),c=function(){};o.push(a||c)}}))}function h(){o.forEach((function(t){return t()})),o=[]}return l.setOptions(i).then((function(t){!a&&i.onFirstUpdate&&i.onFirstUpdate(t)})),l}}var ae=oe(),le=[mt,Gt,dt,z,Ht,Rt,Yt,ot,Ut],ce=oe({defaultModifiers:le}),he=[mt,Gt,dt,z],ue=oe({defaultModifiers:he})},2262:function(t,e,i){"use strict";i.d(e,{$y:function(){return It},B:function(){return o},BK:function(){return Yt},Bj:function(){return s},EB:function(){return c},Fl:function(){return ee},IU:function(){return Et},Jd:function(){return I},OT:function(){return Ct},PG:function(){return At},SU:function(){return $t},Tn:function(){return Ht},Um:function(){return St},Vh:function(){return Jt},WL:function(){return Gt},X$:function(){return D},X3:function(){return Pt},XI:function(){return Nt},Xl:function(){return Dt},YS:function(){return Tt},ZM:function(){return Xt},cE:function(){return C},dq:function(){return Rt},iH:function(){return Bt},j:function(){return P},lk:function(){return M},nZ:function(){return l},oR:function(){return Vt},qj:function(){return wt},qq:function(){return w},sT:function(){return T},yT:function(){return Mt}});var n=i(3577);let r;class s{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=r,!t&&r&&(this.index=(r.scopes||(r.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=r;try{return r=this,t()}finally{r=e}}else 0}on(){r=this}off(){r=this.parent}stop(t){if(this._active){let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function o(t){return new s(t)}function a(t,e=r){e&&e.active&&e.effects.push(t)}function l(){return r}function c(t){r&&r.cleanups.push(t)}const h=t=>{const e=new Set(t);return e.w=0,e.n=0,e},u=t=>(t.w&y)>0,d=t=>(t.n&y)>0,p=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=y},f=t=>{const{deps:e}=t;if(e.length){let i=0;for(let n=0;n<e.length;n++){const r=e[n];u(r)&&!d(r)?r.delete(t):e[i++]=r,r.w&=~y,r.n&=~y}e.length=i}},m=new WeakMap;let g=0,y=1;const x=30;let v;const b=Symbol(""),_=Symbol("");class w{constructor(t,e=null,i){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,a(this,i)}run(){if(!this.active)return this.fn();let t=v,e=k;while(t){if(t===this)return;t=t.parent}try{return this.parent=v,v=this,k=!0,y=1<<++g,g<=x?p(this):S(this),this.fn()}finally{g<=x&&f(this),y=1<<--g,v=this.parent,k=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){v===this?this.deferStop=!0:this.active&&(S(this),this.onStop&&this.onStop(),this.active=!1)}}function S(t){const{deps:e}=t;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(t);e.length=0}}function C(t,e){t.effect instanceof w&&(t=t.effect.fn);const i=new w(t);e&&((0,n.l7)(i,e),e.scope&&a(i,e.scope)),e&&e.lazy||i.run();const r=i.run.bind(i);return r.effect=i,r}function T(t){t.effect.stop()}let k=!0;const A=[];function I(){A.push(k),k=!1}function M(){const t=A.pop();k=void 0===t||t}function P(t,e,i){if(k&&v){let e=m.get(t);e||m.set(t,e=new Map);let n=e.get(i);n||e.set(i,n=h());const r=void 0;E(n,r)}}function E(t,e){let i=!1;g<=x?d(t)||(t.n|=y,i=!u(t)):i=!t.has(v),i&&(t.add(v),v.deps.push(t))}function D(t,e,i,r,s,o){const a=m.get(t);if(!a)return;let l=[];if("clear"===e)l=[...a.values()];else if("length"===i&&(0,n.kJ)(t)){const t=Number(r);a.forEach(((e,i)=>{("length"===i||!(0,n.yk)(i)&&i>=t)&&l.push(e)}))}else switch(void 0!==i&&l.push(a.get(i)),e){case"add":(0,n.kJ)(t)?(0,n.S0)(i)&&l.push(a.get("length")):(l.push(a.get(b)),(0,n._N)(t)&&l.push(a.get(_)));break;case"delete":(0,n.kJ)(t)||(l.push(a.get(b)),(0,n._N)(t)&&l.push(a.get(_)));break;case"set":(0,n._N)(t)&&l.push(a.get(b));break}if(1===l.length)l[0]&&L(l[0]);else{const t=[];for(const e of l)e&&t.push(...e);L(h(t))}}function L(t,e){const i=(0,n.kJ)(t)?t:[...t];for(const n of i)n.computed&&z(n,e);for(const n of i)n.computed||z(n,e)}function z(t,e){(t!==v||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function O(t,e){var i;return null==(i=m.get(t))?void 0:i.get(e)}const F=(0,n.fY)("__proto__,__v_isRef,__isVue"),R=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(n.yk)),B=N();function N(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const i=Et(this);for(let e=0,r=this.length;e<r;e++)P(i,"get",e+"");const n=i[e](...t);return-1===n||!1===n?i[e](...t.map(Et)):n}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){I();const i=Et(this)[e].apply(this,t);return M(),i}})),t}function j(t){const e=Et(this);return P(e,"has",t),e.hasOwnProperty(t)}class U{constructor(t=!1,e=!1){this._isReadonly=t,this._shallow=e}get(t,e,i){const r=this._isReadonly,s=this._shallow;if("__v_isReactive"===e)return!r;if("__v_isReadonly"===e)return r;if("__v_isShallow"===e)return s;if("__v_raw"===e)return i===(r?s?vt:xt:s?yt:gt).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=(0,n.kJ)(t);if(!r){if(o&&(0,n.RI)(B,e))return Reflect.get(B,e,i);if("hasOwnProperty"===e)return j}const a=Reflect.get(t,e,i);return((0,n.yk)(e)?R.has(e):F(e))?a:(r||P(t,"get",e),s?a:Rt(a)?o&&(0,n.S0)(e)?a:a.value:(0,n.Kn)(a)?r?Ct(a):wt(a):a)}}class V extends U{constructor(t=!1){super(!1,t)}set(t,e,i,r){let s=t[e];if(!this._shallow){const e=It(s);if(Mt(i)||It(i)||(s=Et(s),i=Et(i)),!(0,n.kJ)(t)&&Rt(s)&&!Rt(i))return!e&&(s.value=i,!0)}const o=(0,n.kJ)(t)&&(0,n.S0)(e)?Number(e)<t.length:(0,n.RI)(t,e),a=Reflect.set(t,e,i,r);return t===Et(r)&&(o?(0,n.aU)(i,s)&&D(t,"set",e,i,s):D(t,"add",e,i)),a}deleteProperty(t,e){const i=(0,n.RI)(t,e),r=t[e],s=Reflect.deleteProperty(t,e);return s&&i&&D(t,"delete",e,void 0,r),s}has(t,e){const i=Reflect.has(t,e);return(0,n.yk)(e)&&R.has(e)||P(t,"has",e),i}ownKeys(t){return P(t,"iterate",(0,n.kJ)(t)?"length":b),Reflect.ownKeys(t)}}class $ extends U{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const H=new V,q=new $,G=new V(!0),W=new $(!0),X=t=>t,Y=t=>Reflect.getPrototypeOf(t);function Z(t,e,i=!1,r=!1){t=t["__v_raw"];const s=Et(t),o=Et(e);i||((0,n.aU)(e,o)&&P(s,"get",e),P(s,"get",o));const{has:a}=Y(s),l=r?X:i?zt:Lt;return a.call(s,e)?l(t.get(e)):a.call(s,o)?l(t.get(o)):void(t!==s&&t.get(e))}function K(t,e=!1){const i=this["__v_raw"],r=Et(i),s=Et(t);return e||((0,n.aU)(t,s)&&P(r,"has",t),P(r,"has",s)),t===s?i.has(t):i.has(t)||i.has(s)}function J(t,e=!1){return t=t["__v_raw"],!e&&P(Et(t),"iterate",b),Reflect.get(t,"size",t)}function Q(t){t=Et(t);const e=Et(this),i=Y(e),n=i.has.call(e,t);return n||(e.add(t),D(e,"add",t,t)),this}function tt(t,e){e=Et(e);const i=Et(this),{has:r,get:s}=Y(i);let o=r.call(i,t);o||(t=Et(t),o=r.call(i,t));const a=s.call(i,t);return i.set(t,e),o?(0,n.aU)(e,a)&&D(i,"set",t,e,a):D(i,"add",t,e),this}function et(t){const e=Et(this),{has:i,get:n}=Y(e);let r=i.call(e,t);r||(t=Et(t),r=i.call(e,t));const s=n?n.call(e,t):void 0,o=e.delete(t);return r&&D(e,"delete",t,void 0,s),o}function it(){const t=Et(this),e=0!==t.size,i=void 0,n=t.clear();return e&&D(t,"clear",void 0,void 0,i),n}function nt(t,e){return function(i,n){const r=this,s=r["__v_raw"],o=Et(s),a=e?X:t?zt:Lt;return!t&&P(o,"iterate",b),s.forEach(((t,e)=>i.call(n,a(t),a(e),r)))}}function rt(t,e,i){return function(...r){const s=this["__v_raw"],o=Et(s),a=(0,n._N)(o),l="entries"===t||t===Symbol.iterator&&a,c="keys"===t&&a,h=s[t](...r),u=i?X:e?zt:Lt;return!e&&P(o,"iterate",c?_:b),{next(){const{value:t,done:e}=h.next();return e?{value:t,done:e}:{value:l?[u(t[0]),u(t[1])]:u(t),done:e}},[Symbol.iterator](){return this}}}}function st(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function ot(){const t={get(t){return Z(this,t)},get size(){return J(this)},has:K,add:Q,set:tt,delete:et,clear:it,forEach:nt(!1,!1)},e={get(t){return Z(this,t,!1,!0)},get size(){return J(this)},has:K,add:Q,set:tt,delete:et,clear:it,forEach:nt(!1,!0)},i={get(t){return Z(this,t,!0)},get size(){return J(this,!0)},has(t){return K.call(this,t,!0)},add:st("add"),set:st("set"),delete:st("delete"),clear:st("clear"),forEach:nt(!0,!1)},n={get(t){return Z(this,t,!0,!0)},get size(){return J(this,!0)},has(t){return K.call(this,t,!0)},add:st("add"),set:st("set"),delete:st("delete"),clear:st("clear"),forEach:nt(!0,!0)},r=["keys","values","entries",Symbol.iterator];return r.forEach((r=>{t[r]=rt(r,!1,!1),i[r]=rt(r,!0,!1),e[r]=rt(r,!1,!0),n[r]=rt(r,!0,!0)})),[t,i,e,n]}const[at,lt,ct,ht]=ot();function ut(t,e){const i=e?t?ht:ct:t?lt:at;return(e,r,s)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get((0,n.RI)(i,r)&&r in e?i:e,r,s)}const dt={get:ut(!1,!1)},pt={get:ut(!1,!0)},ft={get:ut(!0,!1)},mt={get:ut(!0,!0)};const gt=new WeakMap,yt=new WeakMap,xt=new WeakMap,vt=new WeakMap;function bt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _t(t){return t["__v_skip"]||!Object.isExtensible(t)?0:bt((0,n.W7)(t))}function wt(t){return It(t)?t:kt(t,!1,H,dt,gt)}function St(t){return kt(t,!1,G,pt,yt)}function Ct(t){return kt(t,!0,q,ft,xt)}function Tt(t){return kt(t,!0,W,mt,vt)}function kt(t,e,i,r,s){if(!(0,n.Kn)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const o=s.get(t);if(o)return o;const a=_t(t);if(0===a)return t;const l=new Proxy(t,2===a?r:i);return s.set(t,l),l}function At(t){return It(t)?At(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function It(t){return!(!t||!t["__v_isReadonly"])}function Mt(t){return!(!t||!t["__v_isShallow"])}function Pt(t){return At(t)||It(t)}function Et(t){const e=t&&t["__v_raw"];return e?Et(e):t}function Dt(t){return(0,n.Nj)(t,"__v_skip",!0),t}const Lt=t=>(0,n.Kn)(t)?wt(t):t,zt=t=>(0,n.Kn)(t)?Ct(t):t;function Ot(t){k&&v&&(t=Et(t),E(t.dep||(t.dep=h())))}function Ft(t,e){t=Et(t);const i=t.dep;i&&L(i)}function Rt(t){return!(!t||!0!==t.__v_isRef)}function Bt(t){return jt(t,!1)}function Nt(t){return jt(t,!0)}function jt(t,e){return Rt(t)?t:new Ut(t,e)}class Ut{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Et(t),this._value=e?t:Lt(t)}get value(){return Ot(this),this._value}set value(t){const e=this.__v_isShallow||Mt(t)||It(t);t=e?t:Et(t),(0,n.aU)(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Lt(t),Ft(this,t))}}function Vt(t){Ft(t,void 0)}function $t(t){return Rt(t)?t.value:t}function Ht(t){return(0,n.mf)(t)?t():$t(t)}const qt={get:(t,e,i)=>$t(Reflect.get(t,e,i)),set:(t,e,i,n)=>{const r=t[e];return Rt(r)&&!Rt(i)?(r.value=i,!0):Reflect.set(t,e,i,n)}};function Gt(t){return At(t)?t:new Proxy(t,qt)}class Wt{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:e,set:i}=t((()=>Ot(this)),(()=>Ft(this)));this._get=e,this._set=i}get value(){return this._get()}set value(t){this._set(t)}}function Xt(t){return new Wt(t)}function Yt(t){const e=(0,n.kJ)(t)?new Array(t.length):{};for(const i in t)e[i]=Qt(t,i);return e}class Zt{constructor(t,e,i){this._object=t,this._key=e,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return void 0===t?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return O(Et(this._object),this._key)}}class Kt{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Jt(t,e,i){return Rt(t)?t:(0,n.mf)(t)?new Kt(t):(0,n.Kn)(t)&&arguments.length>1?Qt(t,e,i):Bt(t)}function Qt(t,e,i){const n=t[e];return Rt(n)?n:new Zt(t,e,i)}class te{constructor(t,e,i,n){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this._dirty=!0,this.effect=new w(t,(()=>{this._dirty||(this._dirty=!0,Ft(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!n,this["__v_isReadonly"]=i}get value(){const t=Et(this);return Ot(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function ee(t,e,i=!1){let r,s;const o=(0,n.mf)(t);o?(r=t,s=n.dG):(r=t.get,s=t.set);const a=new te(r,s,o||!s,i);return a}},6252:function(t,e,i){"use strict";i.d(e,{$d:function(){return l},$y:function(){return n.$y},Ah:function(){return he},B:function(){return n.B},BK:function(){return n.BK},Bj:function(){return n.Bj},Bz:function(){return ke},C3:function(){return un},C_:function(){return r.C_},Cn:function(){return V},EB:function(){return n.EB},EM:function(){return li},Eo:function(){return Li},F4:function(){return xn},FN:function(){return Dn},Fl:function(){return Qn},G:function(){return lr},Gn:function(){return Pe},HX:function(){return $},HY:function(){return Xi},Ho:function(){return vn},IU:function(){return n.IU},JJ:function(){return oi},Jd:function(){return ce},KU:function(){return a},Ko:function(){return me},LL:function(){return it},MW:function(){return Te},MX:function(){return rr},Mr:function(){return nr},Nv:function(){return ge},OT:function(){return n.OT},Ob:function(){return Yt},P$:function(){return Ft},PG:function(){return n.PG},Q2:function(){return nt},Q6:function(){return Vt},RC:function(){return qt},Rh:function(){return bt},Rr:function(){return De},S3:function(){return c},SU:function(){return n.SU},Tn:function(){return n.Tn},U2:function(){return Bt},Uc:function(){return er},Uk:function(){return bn},Um:function(){return n.Um},Us:function(){return Di},Vf:function(){return Be},Vh:function(){return n.Vh},WI:function(){return ye},WL:function(){return n.WL},WY:function(){return Ae},Wl:function(){return Me},Wm:function(){return gn},Wu:function(){return o},X3:function(){return n.X3},XI:function(){return n.XI},Xl:function(){return n.Xl},Xn:function(){return ae},Y1:function(){return qn},Y3:function(){return b},Y8:function(){return Dt},YP:function(){return St},YS:function(){return n.YS},Yq:function(){return de},Yu:function(){return Ie},ZK:function(){return s},ZM:function(){return n.ZM},Zq:function(){return ir},_:function(){return mn},_A:function(){return r._A},aZ:function(){return $t},b9:function(){return Ee},bT:function(){return pe},bv:function(){return oe},cE:function(){return n.cE},d1:function(){return fe},dD:function(){return U},dG:function(){return kn},dl:function(){return Kt},dq:function(){return n.dq},ec:function(){return z},eq:function(){return cr},f3:function(){return ai},h:function(){return tr},hR:function(){return r.hR},i8:function(){return or},iD:function(){return an},iH:function(){return n.iH},ic:function(){return le},j4:function(){return ln},j5:function(){return r.j5},kC:function(){return r.kC},kq:function(){return wn},l1:function(){return Le},lA:function(){return cn},lR:function(){return Gi},m0:function(){return vt},mW:function(){return E},mv:function(){return je},mx:function(){return ve},n4:function(){return lt},nJ:function(){return zt},nK:function(){return Ut},nQ:function(){return sr},nZ:function(){return n.nZ},oR:function(){return n.oR},of:function(){return Gn},p1:function(){return Ne},qG:function(){return Ki},qZ:function(){return sn},qb:function(){return T},qj:function(){return n.qj},qq:function(){return n.qq},ry:function(){return hr},sT:function(){return n.sT},se:function(){return Jt},sv:function(){return Zi},tT:function(){return ze},uE:function(){return _n},u_:function(){return Re},up:function(){return tt},vl:function(){return ue},vs:function(){return r.vs},w5:function(){return H},wF:function(){return se},wg:function(){return tn},wy:function(){return It},xv:function(){return Yi},yT:function(){return n.yT},yX:function(){return _t},zw:function(){return r.zw}});var n=i(2262),r=i(3577);function s(t,...e){}function o(t,e){}function a(t,e,i,n){let r;try{r=n?t(...n):t()}catch(s){c(s,e,i)}return r}function l(t,e,i,n){if((0,r.mf)(t)){const s=a(t,e,i,n);return s&&(0,r.tI)(s)&&s.catch((t=>{c(t,e,i)})),s}const s=[];for(let r=0;r<t.length;r++)s.push(l(t[r],e,i,n));return s}function c(t,e,i,n=!0){const r=e?e.vnode:null;if(e){let n=e.parent;const r=e.proxy,s=i;while(n){const e=n.ec;if(e)for(let i=0;i<e.length;i++)if(!1===e[i](t,r,s))return;n=n.parent}const o=e.appContext.config.errorHandler;if(o)return void a(o,null,10,[t,r,s])}h(t,i,r,n)}function h(t,e,i,n=!0){console.error(t)}let u=!1,d=!1;const p=[];let f=0;const m=[];let g=null,y=0;const x=Promise.resolve();let v=null;function b(t){const e=v||x;return t?e.then(this?t.bind(this):t):e}function _(t){let e=f+1,i=p.length;while(e<i){const n=e+i>>>1,r=p[n],s=I(r);s<t||s===t&&r.pre?e=n+1:i=n}return e}function w(t){p.length&&p.includes(t,u&&t.allowRecurse?f+1:f)||(null==t.id?p.push(t):p.splice(_(t.id),0,t),S())}function S(){u||d||(d=!0,v=x.then(P))}function C(t){const e=p.indexOf(t);e>f&&p.splice(e,1)}function T(t){(0,r.kJ)(t)?m.push(...t):g&&g.includes(t,t.allowRecurse?y+1:y)||m.push(t),S()}function k(t,e,i=(u?f+1:0)){for(0;i<p.length;i++){const e=p[i];if(e&&e.pre){if(t&&e.id!==t.uid)continue;0,p.splice(i,1),i--,e()}}}function A(t){if(m.length){const t=[...new Set(m)];if(m.length=0,g)return void g.push(...t);for(g=t,g.sort(((t,e)=>I(t)-I(e))),y=0;y<g.length;y++)g[y]();g=null,y=0}}const I=t=>null==t.id?1/0:t.id,M=(t,e)=>{const i=I(t)-I(e);if(0===i){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return i};function P(t){d=!1,u=!0,p.sort(M);r.dG;try{for(f=0;f<p.length;f++){const t=p[f];t&&!1!==t.active&&a(t,null,14)}}finally{f=0,p.length=0,A(t),u=!1,v=null,(p.length||m.length)&&P(t)}}let E,D=[],L=!1;function z(t,e){var i,n;if(E=t,E)E.enabled=!0,D.forEach((({event:t,args:e})=>E.emit(t,...e))),D=[];else if("undefined"!==typeof window&&window.HTMLElement&&!(null==(n=null==(i=window.navigator)?void 0:i.userAgent)?void 0:n.includes("jsdom"))){const t=e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[];t.push((t=>{z(t,e)})),setTimeout((()=>{E||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,L=!0,D=[])}),3e3)}else L=!0,D=[]}function O(t,e,...i){if(t.isUnmounted)return;const n=t.vnode.props||r.kT;let s=i;const o=e.startsWith("update:"),a=o&&e.slice(7);if(a&&a in n){const t=`${"modelValue"===a?"model":a}Modifiers`,{number:e,trim:o}=n[t]||r.kT;o&&(s=i.map((t=>(0,r.HD)(t)?t.trim():t))),e&&(s=i.map(r.h5))}let c;let h=n[c=(0,r.hR)(e)]||n[c=(0,r.hR)((0,r._A)(e))];!h&&o&&(h=n[c=(0,r.hR)((0,r.rs)(e))]),h&&l(h,t,6,s);const u=n[c+"Once"];if(u){if(t.emitted){if(t.emitted[c])return}else t.emitted={};t.emitted[c]=!0,l(u,t,6,s)}}function F(t,e,i=!1){const n=e.emitsCache,s=n.get(t);if(void 0!==s)return s;const o=t.emits;let a={},l=!1;if(!(0,r.mf)(t)){const n=t=>{const i=F(t,e,!0);i&&(l=!0,(0,r.l7)(a,i))};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}return o||l?((0,r.kJ)(o)?o.forEach((t=>a[t]=null)):(0,r.l7)(a,o),(0,r.Kn)(t)&&n.set(t,a),a):((0,r.Kn)(t)&&n.set(t,null),null)}function R(t,e){return!(!t||!(0,r.F7)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,r.RI)(t,e[0].toLowerCase()+e.slice(1))||(0,r.RI)(t,(0,r.rs)(e))||(0,r.RI)(t,e))}let B=null,N=null;function j(t){const e=B;return B=t,N=t&&t.type.__scopeId||null,e}function U(t){N=t}function V(){N=null}const $=t=>H;function H(t,e=B,i){if(!e)return t;if(t._n)return t;const n=(...i)=>{n._d&&sn(-1);const r=j(e);let s;try{s=t(...i)}finally{j(r),n._d&&sn(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function q(t){const{type:e,vnode:i,proxy:n,withProxy:s,props:o,propsOptions:[a],slots:l,attrs:h,emit:u,render:d,renderCache:p,data:f,setupState:m,ctx:g,inheritAttrs:y}=t;let x,v;const b=j(t);try{if(4&i.shapeFlag){const t=s||n,e=t;x=Sn(d.call(e,t,p,o,m,f,g)),v=h}else{const t=e;0,x=Sn(t.length>1?t(o,{attrs:h,slots:l,emit:u}):t(o,null)),v=e.props?h:W(h)}}catch(w){Ji.length=0,c(w,t,1),x=gn(Zi)}let _=x;if(v&&!1!==y){const t=Object.keys(v),{shapeFlag:e}=_;t.length&&7&e&&(a&&t.some(r.tR)&&(v=X(v,a)),_=vn(_,v))}return i.dirs&&(_=vn(_),_.dirs=_.dirs?_.dirs.concat(i.dirs):i.dirs),i.transition&&(_.transition=i.transition),x=_,j(b),x}function G(t){let e;for(let i=0;i<t.length;i++){const n=t[i];if(!cn(n))return;if(n.type!==Zi||"v-if"===n.children){if(e)return;e=n}}return e}const W=t=>{let e;for(const i in t)("class"===i||"style"===i||(0,r.F7)(i))&&((e||(e={}))[i]=t[i]);return e},X=(t,e)=>{const i={};for(const n in t)(0,r.tR)(n)&&n.slice(9)in e||(i[n]=t[n]);return i};function Y(t,e,i){const{props:n,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(!(i&&l>=0))return!(!r&&!a||a&&a.$stable)||n!==o&&(n?!o||Z(n,o,c):!!o);if(1024&l)return!0;if(16&l)return n?Z(n,o,c):!!o;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const i=t[e];if(o[i]!==n[i]&&!R(c,i))return!0}}return!1}function Z(t,e,i){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const s=n[r];if(e[s]!==t[s]&&!R(i,s))return!0}return!1}function K({vnode:t,parent:e},i){while(e&&e.subTree===t)(t=e.vnode).el=i,e=e.parent}const J="components",Q="directives";function tt(t,e){return rt(J,t,!0,e)||t}const et=Symbol.for("v-ndc");function it(t){return(0,r.HD)(t)?rt(J,t,!1)||t:t||et}function nt(t){return rt(Q,t)}function rt(t,e,i=!0,n=!1){const s=B||En;if(s){const i=s.type;if(t===J){const t=Kn(i,!1);if(t&&(t===e||t===(0,r._A)(e)||t===(0,r.kC)((0,r._A)(e))))return i}const o=st(s[t]||i[t],e)||st(s.appContext[t],e);return!o&&n?i:o}}function st(t,e){return t&&(t[e]||t[(0,r._A)(e)]||t[(0,r.kC)((0,r._A)(e))])}const ot=t=>t.__isSuspense,at={name:"Suspense",__isSuspense:!0,process(t,e,i,n,r,s,o,a,l,c){null==t?ht(e,i,n,r,s,o,a,l,c):ut(t,e,i,n,r,o,a,l,c)},hydrate:pt,create:dt,normalize:ft},lt=at;function ct(t,e){const i=t.props&&t.props[e];(0,r.mf)(i)&&i()}function ht(t,e,i,n,r,s,o,a,l){const{p:c,o:{createElement:h}}=l,u=h("div"),d=t.suspense=dt(t,r,n,e,u,i,s,o,a,l);c(null,d.pendingBranch=t.ssContent,u,null,n,d,s,o),d.deps>0?(ct(t,"onPending"),ct(t,"onFallback"),c(null,t.ssFallback,e,i,n,null,s,o),yt(d,t.ssFallback)):d.resolve(!1,!0)}function ut(t,e,i,n,r,s,o,a,{p:l,um:c,o:{createElement:h}}){const u=e.suspense=t.suspense;u.vnode=e,e.el=t.el;const d=e.ssContent,p=e.ssFallback,{activeBranch:f,pendingBranch:m,isInFallback:g,isHydrating:y}=u;if(m)u.pendingBranch=d,hn(d,m)?(l(m,d,u.hiddenContainer,null,r,u,s,o,a),u.deps<=0?u.resolve():g&&(l(f,p,i,n,r,null,s,o,a),yt(u,p))):(u.pendingId++,y?(u.isHydrating=!1,u.activeBranch=m):c(m,r,u),u.deps=0,u.effects.length=0,u.hiddenContainer=h("div"),g?(l(null,d,u.hiddenContainer,null,r,u,s,o,a),u.deps<=0?u.resolve():(l(f,p,i,n,r,null,s,o,a),yt(u,p))):f&&hn(d,f)?(l(f,d,i,n,r,u,s,o,a),u.resolve(!0)):(l(null,d,u.hiddenContainer,null,r,u,s,o,a),u.deps<=0&&u.resolve()));else if(f&&hn(d,f))l(f,d,i,n,r,u,s,o,a),yt(u,d);else if(ct(e,"onPending"),u.pendingBranch=d,u.pendingId++,l(null,d,u.hiddenContainer,null,r,u,s,o,a),u.deps<=0)u.resolve();else{const{timeout:t,pendingId:e}=u;t>0?setTimeout((()=>{u.pendingId===e&&u.fallback(p)}),t):0===t&&u.fallback(p)}}function dt(t,e,i,n,s,o,a,l,h,u,d=!1){const{p:p,m:f,um:m,n:g,o:{parentNode:y,remove:x}}=u;let v;const b=xt(t);b&&(null==e?void 0:e.pendingBranch)&&(v=e.pendingId,e.deps++);const _=t.props?(0,r.He)(t.props.timeout):void 0;const w={vnode:t,parent:e,parentComponent:i,isSVG:a,container:n,hiddenContainer:s,anchor:o,deps:0,pendingId:0,timeout:"number"===typeof _?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(t=!1,i=!1){const{vnode:n,activeBranch:r,pendingBranch:s,pendingId:o,effects:a,parentComponent:l,container:c}=w;let h=!1;if(w.isHydrating)w.isHydrating=!1;else if(!t){h=r&&s.transition&&"out-in"===s.transition.mode,h&&(r.transition.afterLeave=()=>{o===w.pendingId&&(f(s,c,g(r),0),T(a))});let{anchor:t}=w;r&&(t=g(r),m(r,l,w,!0)),h||f(s,c,t,0)}yt(w,s),w.pendingBranch=null,w.isInFallback=!1;let u=w.parent,d=!1;while(u){if(u.pendingBranch){u.effects.push(...a),d=!0;break}u=u.parent}d||h||T(a),w.effects=[],b&&e&&e.pendingBranch&&v===e.pendingId&&(e.deps--,0!==e.deps||i||e.resolve()),ct(n,"onResolve")},fallback(t){if(!w.pendingBranch)return;const{vnode:e,activeBranch:i,parentComponent:n,container:r,isSVG:s}=w;ct(e,"onFallback");const o=g(i),a=()=>{w.isInFallback&&(p(null,t,r,o,n,null,s,l,h),yt(w,t))},c=t.transition&&"out-in"===t.transition.mode;c&&(i.transition.afterLeave=a),w.isInFallback=!0,m(i,n,null,!0),c||a()},move(t,e,i){w.activeBranch&&f(w.activeBranch,t,e,i),w.container=t},next(){return w.activeBranch&&g(w.activeBranch)},registerDep(t,e){const i=!!w.pendingBranch;i&&w.deps++;const n=t.vnode.el;t.asyncDep.catch((e=>{c(e,t,0)})).then((r=>{if(t.isUnmounted||w.isUnmounted||w.pendingId!==t.suspenseId)return;t.asyncResolved=!0;const{vnode:s}=t;Hn(t,r,!1),n&&(s.el=n);const o=!n&&t.subTree.el;e(t,s,y(n||t.subTree.el),n?null:g(t.subTree),w,a,h),o&&x(o),K(t,s.el),i&&0===--w.deps&&w.resolve()}))},unmount(t,e){w.isUnmounted=!0,w.activeBranch&&m(w.activeBranch,i,t,e),w.pendingBranch&&m(w.pendingBranch,i,t,e)}};return w}function pt(t,e,i,n,r,s,o,a,l){const c=e.suspense=dt(e,n,i,t.parentNode,document.createElement("div"),null,r,s,o,a,!0),h=l(t,c.pendingBranch=e.ssContent,i,c,s,o);return 0===c.deps&&c.resolve(!1,!0),h}function ft(t){const{shapeFlag:e,children:i}=t,n=32&e;t.ssContent=mt(n?i.default:i),t.ssFallback=n?mt(i.fallback):gn(Zi)}function mt(t){let e;if((0,r.mf)(t)){const i=rn&&t._c;i&&(t._d=!1,tn()),t=t(),i&&(t._d=!0,e=Qi,en())}if((0,r.kJ)(t)){const e=G(t);0,t=e}return t=Sn(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter((e=>e!==t))),t}function gt(t,e){e&&e.pendingBranch?(0,r.kJ)(t)?e.effects.push(...t):e.effects.push(t):T(t)}function yt(t,e){t.activeBranch=e;const{vnode:i,parentComponent:n}=t,r=i.el=e.el;n&&n.subTree===i&&(n.vnode.el=r,K(n,r))}function xt(t){var e;return null!=(null==(e=t.props)?void 0:e.suspensible)&&!1!==t.props.suspensible}function vt(t,e){return Ct(t,null,e)}function bt(t,e){return Ct(t,null,{flush:"post"})}function _t(t,e){return Ct(t,null,{flush:"sync"})}const wt={};function St(t,e,i){return Ct(t,e,i)}function Ct(t,e,{immediate:i,deep:s,flush:o,onTrack:c,onTrigger:h}=r.kT){var u;const d=(0,n.nZ)()===(null==(u=En)?void 0:u.scope)?En:null;let p,f,m=!1,g=!1;if((0,n.dq)(t)?(p=()=>t.value,m=(0,n.yT)(t)):(0,n.PG)(t)?(p=()=>t,s=!0):(0,r.kJ)(t)?(g=!0,m=t.some((t=>(0,n.PG)(t)||(0,n.yT)(t))),p=()=>t.map((t=>(0,n.dq)(t)?t.value:(0,n.PG)(t)?At(t):(0,r.mf)(t)?a(t,d,2):void 0))):p=(0,r.mf)(t)?e?()=>a(t,d,2):()=>{if(!d||!d.isUnmounted)return f&&f(),l(t,d,3,[x])}:r.dG,e&&s){const t=p;p=()=>At(t())}let y,x=t=>{f=S.onStop=()=>{a(t,d,4),f=S.onStop=void 0}};if(Un){if(x=r.dG,e?i&&l(e,d,3,[p(),g?[]:void 0,x]):p(),"sync"!==o)return r.dG;{const t=ir();y=t.__watcherHandles||(t.__watcherHandles=[])}}let v=g?new Array(t.length).fill(wt):wt;const b=()=>{if(S.active)if(e){const t=S.run();(s||m||(g?t.some(((t,e)=>(0,r.aU)(t,v[e]))):(0,r.aU)(t,v)))&&(f&&f(),l(e,d,3,[t,v===wt?void 0:g&&v[0]===wt?[]:v,x]),v=t)}else S.run()};let _;b.allowRecurse=!!e,"sync"===o?_=b:"post"===o?_=()=>Ei(b,d&&d.suspense):(b.pre=!0,d&&(b.id=d.uid),_=()=>w(b));const S=new n.qq(p,_);e?i?b():v=S.run():"post"===o?Ei(S.run.bind(S),d&&d.suspense):S.run();const C=()=>{S.stop(),d&&d.scope&&(0,r.Od)(d.scope.effects,S)};return y&&y.push(C),C}function Tt(t,e,i){const n=this.proxy,s=(0,r.HD)(t)?t.includes(".")?kt(n,t):()=>n[t]:t.bind(n,n);let o;(0,r.mf)(e)?o=e:(o=e.handler,i=e);const a=En;Fn(this);const l=Ct(s,o.bind(n),i);return a?Fn(a):Rn(),l}function kt(t,e){const i=e.split(".");return()=>{let e=t;for(let t=0;t<i.length&&e;t++)e=e[i[t]];return e}}function At(t,e){if(!(0,r.Kn)(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),(0,n.dq)(t))At(t.value,e);else if((0,r.kJ)(t))for(let i=0;i<t.length;i++)At(t[i],e);else if((0,r.DM)(t)||(0,r._N)(t))t.forEach((t=>{At(t,e)}));else if((0,r.PO)(t))for(const i in t)At(t[i],e);return t}function It(t,e){const i=B;if(null===i)return t;const n=Zn(i)||i.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,i,a,l=r.kT]=e[o];t&&((0,r.mf)(t)&&(t={mounted:t,updated:t}),t.deep&&At(i),s.push({dir:t,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function Mt(t,e,i,r){const s=t.dirs,o=e&&e.dirs;for(let a=0;a<s.length;a++){const c=s[a];o&&(c.oldValue=o[a].value);let h=c.dir[r];h&&((0,n.Jd)(),l(h,i,8,[t.el,c,t,e]),(0,n.lk)())}}const Pt=Symbol("_leaveCb"),Et=Symbol("_enterCb");function Dt(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return oe((()=>{t.isMounted=!0})),ce((()=>{t.isUnmounting=!0})),t}const Lt=[Function,Array],zt={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Lt,onEnter:Lt,onAfterEnter:Lt,onEnterCancelled:Lt,onBeforeLeave:Lt,onLeave:Lt,onAfterLeave:Lt,onLeaveCancelled:Lt,onBeforeAppear:Lt,onAppear:Lt,onAfterAppear:Lt,onAppearCancelled:Lt},Ot={name:"BaseTransition",props:zt,setup(t,{slots:e}){const i=Dn(),r=Dt();let s;return()=>{const o=e.default&&Vt(e.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){let t=!1;for(const e of o)if(e.type!==Zi){0,a=e,t=!0;break}}const l=(0,n.IU)(t),{mode:c}=l;if(r.isLeaving)return Nt(a);const h=jt(a);if(!h)return Nt(a);const u=Bt(h,l,r,i);Ut(h,u);const d=i.subTree,p=d&&jt(d);let f=!1;const{getTransitionKey:m}=h.type;if(m){const t=m();void 0===s?s=t:t!==s&&(s=t,f=!0)}if(p&&p.type!==Zi&&(!hn(h,p)||f)){const t=Bt(p,l,r,i);if(Ut(p,t),"out-in"===c)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,!1!==i.update.active&&i.update()},Nt(a);"in-out"===c&&h.type!==Zi&&(t.delayLeave=(t,e,i)=>{const n=Rt(r,p);n[String(p.key)]=p,t[Pt]=()=>{e(),t[Pt]=void 0,delete u.delayedLeave},u.delayedLeave=i})}return a}}},Ft=Ot;function Rt(t,e){const{leavingVNodes:i}=t;let n=i.get(e.type);return n||(n=Object.create(null),i.set(e.type,n)),n}function Bt(t,e,i,n){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:h,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:p,onLeave:f,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:y,onAppear:x,onAfterAppear:v,onAppearCancelled:b}=e,_=String(t.key),w=Rt(i,t),S=(t,e)=>{t&&l(t,n,9,e)},C=(t,e)=>{const i=e[1];S(t,e),(0,r.kJ)(t)?t.every((t=>t.length<=1))&&i():t.length<=1&&i()},T={mode:o,persisted:a,beforeEnter(e){let n=c;if(!i.isMounted){if(!s)return;n=y||c}e[Pt]&&e[Pt](!0);const r=w[_];r&&hn(t,r)&&r.el[Pt]&&r.el[Pt](),S(n,[e])},enter(t){let e=h,n=u,r=d;if(!i.isMounted){if(!s)return;e=x||h,n=v||u,r=b||d}let o=!1;const a=t[Et]=e=>{o||(o=!0,S(e?r:n,[t]),T.delayedLeave&&T.delayedLeave(),t[Et]=void 0)};e?C(e,[t,a]):a()},leave(e,n){const r=String(t.key);if(e[Et]&&e[Et](!0),i.isUnmounting)return n();S(p,[e]);let s=!1;const o=e[Pt]=i=>{s||(s=!0,n(),S(i?g:m,[e]),e[Pt]=void 0,w[r]===t&&delete w[r])};w[r]=t,f?C(f,[e,o]):o()},clone(t){return Bt(t,e,i,n)}};return T}function Nt(t){if(Wt(t))return t=vn(t),t.children=null,t}function jt(t){return Wt(t)?t.children?t.children[0]:void 0:t}function Ut(t,e){6&t.shapeFlag&&t.component?Ut(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Vt(t,e=!1,i){let n=[],r=0;for(let s=0;s<t.length;s++){let o=t[s];const a=null==i?o.key:String(i)+String(null!=o.key?o.key:s);o.type===Xi?(128&o.patchFlag&&r++,n=n.concat(Vt(o.children,e,a))):(e||o.type!==Zi)&&n.push(null!=a?vn(o,{key:a}):o)}if(r>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}
/*! #__NO_SIDE_EFFECTS__ */function $t(t,e){return(0,r.mf)(t)?(()=>(0,r.l7)({name:t.name},e,{setup:t}))():t}const Ht=t=>!!t.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;function qt(t){(0,r.mf)(t)&&(t={loader:t});const{loader:e,loadingComponent:i,errorComponent:s,delay:o=200,timeout:a,suspensible:l=!0,onError:h}=t;let u,d=null,p=0;const f=()=>(p++,d=null,m()),m=()=>{let t;return d||(t=d=e().catch((t=>{if(t=t instanceof Error?t:new Error(String(t)),h)return new Promise(((e,i)=>{const n=()=>e(f()),r=()=>i(t);h(t,n,r,p+1)}));throw t})).then((e=>t!==d&&d?d:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),u=e,e))))};return $t({name:"AsyncComponentWrapper",__asyncLoader:m,get __asyncResolved(){return u},setup(){const t=En;if(u)return()=>Gt(u,t);const e=e=>{d=null,c(e,t,13,!s)};if(l&&t.suspense||Un)return m().then((e=>()=>Gt(e,t))).catch((t=>(e(t),()=>s?gn(s,{error:t}):null)));const r=(0,n.iH)(!1),h=(0,n.iH)(),p=(0,n.iH)(!!o);return o&&setTimeout((()=>{p.value=!1}),o),null!=a&&setTimeout((()=>{if(!r.value&&!h.value){const t=new Error(`Async component timed out after ${a}ms.`);e(t),h.value=t}}),a),m().then((()=>{r.value=!0,t.parent&&Wt(t.parent.vnode)&&w(t.parent.update)})).catch((t=>{e(t),h.value=t})),()=>r.value&&u?Gt(u,t):h.value&&s?gn(s,{error:h.value}):i&&!p.value?gn(i):void 0}})}function Gt(t,e){const{ref:i,props:n,children:r,ce:s}=e.vnode,o=gn(t,n,r);return o.ref=i,o.ce=s,delete e.vnode.ce,o}const Wt=t=>t.type.__isKeepAlive,Xt={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const i=Dn(),n=i.ctx;if(!n.renderer)return()=>{const t=e.default&&e.default();return t&&1===t.length?t[0]:t};const s=new Map,o=new Set;let a=null;const l=i.suspense,{renderer:{p:c,m:h,um:u,o:{createElement:d}}}=n,p=d("div");function f(t){ee(t),u(t,i,l,!0)}function m(t){s.forEach(((e,i)=>{const n=Kn(e.type);!n||t&&t(n)||g(i)}))}function g(t){const e=s.get(t);a&&hn(e,a)?a&&ee(a):f(e),s.delete(t),o.delete(t)}n.activate=(t,e,i,n,s)=>{const o=t.component;h(t,e,i,0,l),c(o.vnode,t,e,i,o,l,n,t.slotScopeIds,s),Ei((()=>{o.isDeactivated=!1,o.a&&(0,r.ir)(o.a);const e=t.props&&t.props.onVnodeMounted;e&&An(e,o.parent,t)}),l)},n.deactivate=t=>{const e=t.component;h(t,p,null,1,l),Ei((()=>{e.da&&(0,r.ir)(e.da);const i=t.props&&t.props.onVnodeUnmounted;i&&An(i,e.parent,t),e.isDeactivated=!0}),l)},St((()=>[t.include,t.exclude]),(([t,e])=>{t&&m((e=>Zt(t,e))),e&&m((t=>!Zt(e,t)))}),{flush:"post",deep:!0});let y=null;const x=()=>{null!=y&&s.set(y,ie(i.subTree))};return oe(x),le(x),ce((()=>{s.forEach((t=>{const{subTree:e,suspense:n}=i,r=ie(e);if(t.type!==r.type||t.key!==r.key)f(t);else{ee(r);const t=r.component.da;t&&Ei(t,n)}}))})),()=>{if(y=null,!e.default)return null;const i=e.default(),n=i[0];if(i.length>1)return a=null,i;if(!cn(n)||!(4&n.shapeFlag)&&!(128&n.shapeFlag))return a=null,n;let r=ie(n);const l=r.type,c=Kn(Ht(r)?r.type.__asyncResolved||{}:l),{include:h,exclude:u,max:d}=t;if(h&&(!c||!Zt(h,c))||u&&c&&Zt(u,c))return a=r,n;const p=null==r.key?l:r.key,f=s.get(p);return r.el&&(r=vn(r),128&n.shapeFlag&&(n.ssContent=r)),y=p,f?(r.el=f.el,r.component=f.component,r.transition&&Ut(r,r.transition),r.shapeFlag|=512,o.delete(p),o.add(p)):(o.add(p),d&&o.size>parseInt(d,10)&&g(o.values().next().value)),r.shapeFlag|=256,a=r,ot(n.type)?n:r}}},Yt=Xt;function Zt(t,e){return(0,r.kJ)(t)?t.some((t=>Zt(t,e))):(0,r.HD)(t)?t.split(",").includes(e):!!(0,r.Kj)(t)&&t.test(e)}function Kt(t,e){Qt(t,"a",e)}function Jt(t,e){Qt(t,"da",e)}function Qt(t,e,i=En){const n=t.__wdc||(t.__wdc=()=>{let e=i;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(ne(e,n,i),i){let t=i.parent;while(t&&t.parent)Wt(t.parent.vnode)&&te(n,e,i,t),t=t.parent}}function te(t,e,i,n){const s=ne(e,t,n,!0);he((()=>{(0,r.Od)(n[e],s)}),i)}function ee(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ie(t){return 128&t.shapeFlag?t.ssContent:t}function ne(t,e,i=En,r=!1){if(i){const s=i[t]||(i[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(i.isUnmounted)return;(0,n.Jd)(),Fn(i);const s=l(e,i,t,r);return Rn(),(0,n.lk)(),s});return r?s.unshift(o):s.push(o),o}}const re=t=>(e,i=En)=>(!Un||"sp"===t)&&ne(t,((...t)=>e(...t)),i),se=re("bm"),oe=re("m"),ae=re("bu"),le=re("u"),ce=re("bum"),he=re("um"),ue=re("sp"),de=re("rtg"),pe=re("rtc");function fe(t,e=En){ne("ec",t,e)}function me(t,e,i,n){let s;const o=i&&i[n];if((0,r.kJ)(t)||(0,r.HD)(t)){s=new Array(t.length);for(let i=0,n=t.length;i<n;i++)s[i]=e(t[i],i,void 0,o&&o[i])}else if("number"===typeof t){0,s=new Array(t);for(let i=0;i<t;i++)s[i]=e(i+1,i,void 0,o&&o[i])}else if((0,r.Kn)(t))if(t[Symbol.iterator])s=Array.from(t,((t,i)=>e(t,i,void 0,o&&o[i])));else{const i=Object.keys(t);s=new Array(i.length);for(let n=0,r=i.length;n<r;n++){const r=i[n];s[n]=e(t[r],r,n,o&&o[n])}}else s=[];return i&&(i[n]=s),s}function ge(t,e){for(let i=0;i<e.length;i++){const n=e[i];if((0,r.kJ)(n))for(let e=0;e<n.length;e++)t[n[e].name]=n[e].fn;else n&&(t[n.name]=n.key?(...t)=>{const e=n.fn(...t);return e&&(e.key=n.key),e}:n.fn)}return t}function ye(t,e,i={},n,r){if(B.isCE||B.parent&&Ht(B.parent)&&B.parent.isCE)return"default"!==e&&(i.name=e),gn("slot",i,n&&n());let s=t[e];s&&s._c&&(s._d=!1),tn();const o=s&&xe(s(i)),a=ln(Xi,{key:i.key||o&&o.key||`_${e}`},o||(n?n():[]),o&&1===t._?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function xe(t){return t.some((t=>!cn(t)||t.type!==Zi&&!(t.type===Xi&&!xe(t.children))))?t:null}function ve(t,e){const i={};for(const n in t)i[e&&/[A-Z]/.test(n)?`on:${n}`:(0,r.hR)(n)]=t[n];return i}const be=t=>t?Bn(t)?Zn(t)||t.proxy:be(t.parent):null,_e=(0,r.l7)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>be(t.parent),$root:t=>be(t.root),$emit:t=>t.emit,$options:t=>Ge(t),$forceUpdate:t=>t.f||(t.f=()=>w(t.update)),$nextTick:t=>t.n||(t.n=b.bind(t.proxy)),$watch:t=>Tt.bind(t)}),we=(t,e)=>t!==r.kT&&!t.__isScriptSetup&&(0,r.RI)(t,e),Se={get({_:t},e){const{ctx:i,setupState:s,data:o,props:a,accessCache:l,type:c,appContext:h}=t;let u;if("$"!==e[0]){const n=l[e];if(void 0!==n)switch(n){case 1:return s[e];case 2:return o[e];case 4:return i[e];case 3:return a[e]}else{if(we(s,e))return l[e]=1,s[e];if(o!==r.kT&&(0,r.RI)(o,e))return l[e]=2,o[e];if((u=t.propsOptions[0])&&(0,r.RI)(u,e))return l[e]=3,a[e];if(i!==r.kT&&(0,r.RI)(i,e))return l[e]=4,i[e];Ue&&(l[e]=0)}}const d=_e[e];let p,f;return d?("$attrs"===e&&(0,n.j)(t,"get",e),d(t)):(p=c.__cssModules)&&(p=p[e])?p:i!==r.kT&&(0,r.RI)(i,e)?(l[e]=4,i[e]):(f=h.config.globalProperties,(0,r.RI)(f,e)?f[e]:void 0)},set({_:t},e,i){const{data:n,setupState:s,ctx:o}=t;return we(s,e)?(s[e]=i,!0):n!==r.kT&&(0,r.RI)(n,e)?(n[e]=i,!0):!(0,r.RI)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=i,!0))},has({_:{data:t,setupState:e,accessCache:i,ctx:n,appContext:s,propsOptions:o}},a){let l;return!!i[a]||t!==r.kT&&(0,r.RI)(t,a)||we(e,a)||(l=o[0])&&(0,r.RI)(l,a)||(0,r.RI)(n,a)||(0,r.RI)(_e,a)||(0,r.RI)(s.config.globalProperties,a)},defineProperty(t,e,i){return null!=i.get?t._.accessCache[e]=0:(0,r.RI)(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};const Ce=(0,r.l7)({},Se,{get(t,e){if(e!==Symbol.unscopables)return Se.get(t,e,t)},has(t,e){const i="_"!==e[0]&&!(0,r.yl)(e);return i}});function Te(){return null}function ke(){return null}function Ae(t){0}function Ie(t){0}function Me(){return null}function Pe(){0}function Ee(t,e){return null}function De(){return Oe().slots}function Le(){return Oe().attrs}function ze(t,e,i){const r=Dn();if(i&&i.local){const i=(0,n.iH)(t[e]);return St((()=>t[e]),(t=>i.value=t)),St(i,(i=>{i!==t[e]&&r.emit(`update:${e}`,i)})),i}return{__v_isRef:!0,get value(){return t[e]},set value(t){r.emit(`update:${e}`,t)}}}function Oe(){const t=Dn();return t.setupContext||(t.setupContext=Yn(t))}function Fe(t){return(0,r.kJ)(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}function Re(t,e){const i=Fe(t);for(const n in e){if(n.startsWith("__skip"))continue;let t=i[n];t?(0,r.kJ)(t)||(0,r.mf)(t)?t=i[n]={type:t,default:e[n]}:t.default=e[n]:null===t&&(t=i[n]={default:e[n]}),t&&e[`__skip_${n}`]&&(t.skipFactory=!0)}return i}function Be(t,e){return t&&e?(0,r.kJ)(t)&&(0,r.kJ)(e)?t.concat(e):(0,r.l7)({},Fe(t),Fe(e)):t||e}function Ne(t,e){const i={};for(const n in t)e.includes(n)||Object.defineProperty(i,n,{enumerable:!0,get:()=>t[n]});return i}function je(t){const e=Dn();let i=t();return Rn(),(0,r.tI)(i)&&(i=i.catch((t=>{throw Fn(e),t}))),[i,()=>Fn(e)]}let Ue=!0;function Ve(t){const e=Ge(t),i=t.proxy,s=t.ctx;Ue=!1,e.beforeCreate&&He(e.beforeCreate,t,"bc");const{data:o,computed:a,methods:l,watch:c,provide:h,inject:u,created:d,beforeMount:p,mounted:f,beforeUpdate:m,updated:g,activated:y,deactivated:x,beforeDestroy:v,beforeUnmount:b,destroyed:_,unmounted:w,render:S,renderTracked:C,renderTriggered:T,errorCaptured:k,serverPrefetch:A,expose:I,inheritAttrs:M,components:P,directives:E,filters:D}=e,L=null;if(u&&$e(u,s,L),l)for(const n in l){const t=l[n];(0,r.mf)(t)&&(s[n]=t.bind(i))}if(o){0;const e=o.call(i,i);0,(0,r.Kn)(e)&&(t.data=(0,n.qj)(e))}if(Ue=!0,a)for(const n in a){const t=a[n],e=(0,r.mf)(t)?t.bind(i,i):(0,r.mf)(t.get)?t.get.bind(i,i):r.dG;0;const o=!(0,r.mf)(t)&&(0,r.mf)(t.set)?t.set.bind(i):r.dG,l=Qn({get:e,set:o});Object.defineProperty(s,n,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(c)for(const n in c)qe(c[n],s,i,n);if(h){const t=(0,r.mf)(h)?h.call(i):h;Reflect.ownKeys(t).forEach((e=>{oi(e,t[e])}))}function z(t,e){(0,r.kJ)(e)?e.forEach((e=>t(e.bind(i)))):e&&t(e.bind(i))}if(d&&He(d,t,"c"),z(se,p),z(oe,f),z(ae,m),z(le,g),z(Kt,y),z(Jt,x),z(fe,k),z(pe,C),z(de,T),z(ce,b),z(he,w),z(ue,A),(0,r.kJ)(I))if(I.length){const e=t.exposed||(t.exposed={});I.forEach((t=>{Object.defineProperty(e,t,{get:()=>i[t],set:e=>i[t]=e})}))}else t.exposed||(t.exposed={});S&&t.render===r.dG&&(t.render=S),null!=M&&(t.inheritAttrs=M),P&&(t.components=P),E&&(t.directives=E)}function $e(t,e,i=r.dG){(0,r.kJ)(t)&&(t=Ke(t));for(const s in t){const i=t[s];let o;o=(0,r.Kn)(i)?"default"in i?ai(i.from||s,i.default,!0):ai(i.from||s):ai(i),(0,n.dq)(o)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t}):e[s]=o}}function He(t,e,i){l((0,r.kJ)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,i)}function qe(t,e,i,n){const s=n.includes(".")?kt(i,n):()=>i[n];if((0,r.HD)(t)){const i=e[t];(0,r.mf)(i)&&St(s,i)}else if((0,r.mf)(t))St(s,t.bind(i));else if((0,r.Kn)(t))if((0,r.kJ)(t))t.forEach((t=>qe(t,e,i,n)));else{const n=(0,r.mf)(t.handler)?t.handler.bind(i):e[t.handler];(0,r.mf)(n)&&St(s,n,t)}else 0}function Ge(t){const e=t.type,{mixins:i,extends:n}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,l=o.get(e);let c;return l?c=l:s.length||i||n?(c={},s.length&&s.forEach((t=>We(c,t,a,!0))),We(c,e,a)):c=e,(0,r.Kn)(e)&&o.set(e,c),c}function We(t,e,i,n=!1){const{mixins:r,extends:s}=e;s&&We(t,s,i,!0),r&&r.forEach((e=>We(t,e,i,!0)));for(const o in e)if(n&&"expose"===o);else{const n=Xe[o]||i&&i[o];t[o]=n?n(t[o],e[o]):e[o]}return t}const Xe={data:Ye,props:ti,emits:ti,methods:Qe,computed:Qe,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:Qe,directives:Qe,watch:ei,provide:Ye,inject:Ze};function Ye(t,e){return e?t?function(){return(0,r.l7)((0,r.mf)(t)?t.call(this,this):t,(0,r.mf)(e)?e.call(this,this):e)}:e:t}function Ze(t,e){return Qe(Ke(t),Ke(e))}function Ke(t){if((0,r.kJ)(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function Je(t,e){return t?[...new Set([].concat(t,e))]:e}function Qe(t,e){return t?(0,r.l7)(Object.create(null),t,e):e}function ti(t,e){return t?(0,r.kJ)(t)&&(0,r.kJ)(e)?[...new Set([...t,...e])]:(0,r.l7)(Object.create(null),Fe(t),Fe(null!=e?e:{})):e}function ei(t,e){if(!t)return e;if(!e)return t;const i=(0,r.l7)(Object.create(null),t);for(const n in e)i[n]=Je(t[n],e[n]);return i}function ii(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ni=0;function ri(t,e){return function(i,n=null){(0,r.mf)(i)||(i=(0,r.l7)({},i)),null==n||(0,r.Kn)(n)||(n=null);const s=ii();const o=new WeakSet;let a=!1;const l=s.app={_uid:ni++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:or,get config(){return s.config},set config(t){0},use(t,...e){return o.has(t)||(t&&(0,r.mf)(t.install)?(o.add(t),t.install(l,...e)):(0,r.mf)(t)&&(o.add(t),t(l,...e))),l},mixin(t){return s.mixins.includes(t)||s.mixins.push(t),l},component(t,e){return e?(s.components[t]=e,l):s.components[t]},directive(t,e){return e?(s.directives[t]=e,l):s.directives[t]},mount(r,o,c){if(!a){0;const h=gn(i,n);return h.appContext=s,o&&e?e(h,r):t(h,r,c),a=!0,l._container=r,r.__vue_app__=l,Zn(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(t,e){return s.provides[t]=e,l},runWithContext(t){si=l;try{return t()}finally{si=null}}};return l}}let si=null;function oi(t,e){if(En){let i=En.provides;const n=En.parent&&En.parent.provides;n===i&&(i=En.provides=Object.create(n)),i[t]=e}else 0}function ai(t,e,i=!1){const n=En||B;if(n||si){const s=n?null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:si._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return i&&(0,r.mf)(e)?e.call(n&&n.proxy):e}else 0}function li(){return!!(En||B||si)}function ci(t,e,i,s=!1){const o={},a={};(0,r.Nj)(a,dn,1),t.propsDefaults=Object.create(null),ui(t,e,o,a);for(const n in t.propsOptions[0])n in o||(o[n]=void 0);i?t.props=s?o:(0,n.Um)(o):t.type.props?t.props=o:t.props=a,t.attrs=a}function hi(t,e,i,s){const{props:o,attrs:a,vnode:{patchFlag:l}}=t,c=(0,n.IU)(o),[h]=t.propsOptions;let u=!1;if(!(s||l>0)||16&l){let n;ui(t,e,o,a)&&(u=!0);for(const s in c)e&&((0,r.RI)(e,s)||(n=(0,r.rs)(s))!==s&&(0,r.RI)(e,n))||(h?!i||void 0===i[s]&&void 0===i[n]||(o[s]=di(h,c,s,void 0,t,!0)):delete o[s]);if(a!==c)for(const t in a)e&&(0,r.RI)(e,t)||(delete a[t],u=!0)}else if(8&l){const i=t.vnode.dynamicProps;for(let n=0;n<i.length;n++){let s=i[n];if(R(t.emitsOptions,s))continue;const l=e[s];if(h)if((0,r.RI)(a,s))l!==a[s]&&(a[s]=l,u=!0);else{const e=(0,r._A)(s);o[e]=di(h,c,e,l,t,!1)}else l!==a[s]&&(a[s]=l,u=!0)}}u&&(0,n.X$)(t,"set","$attrs")}function ui(t,e,i,s){const[o,a]=t.propsOptions;let l,c=!1;if(e)for(let n in e){if((0,r.Gg)(n))continue;const h=e[n];let u;o&&(0,r.RI)(o,u=(0,r._A)(n))?a&&a.includes(u)?(l||(l={}))[u]=h:i[u]=h:R(t.emitsOptions,n)||n in s&&h===s[n]||(s[n]=h,c=!0)}if(a){const e=(0,n.IU)(i),s=l||r.kT;for(let n=0;n<a.length;n++){const l=a[n];i[l]=di(o,e,l,s[l],t,!(0,r.RI)(s,l))}}return c}function di(t,e,i,n,s,o){const a=t[i];if(null!=a){const t=(0,r.RI)(a,"default");if(t&&void 0===n){const t=a.default;if(a.type!==Function&&!a.skipFactory&&(0,r.mf)(t)){const{propsDefaults:r}=s;i in r?n=r[i]:(Fn(s),n=r[i]=t.call(null,e),Rn())}else n=t}a[0]&&(o&&!t?n=!1:!a[1]||""!==n&&n!==(0,r.rs)(i)||(n=!0))}return n}function pi(t,e,i=!1){const n=e.propsCache,s=n.get(t);if(s)return s;const o=t.props,a={},l=[];let c=!1;if(!(0,r.mf)(t)){const n=t=>{c=!0;const[i,n]=pi(t,e,!0);(0,r.l7)(a,i),n&&l.push(...n)};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}if(!o&&!c)return(0,r.Kn)(t)&&n.set(t,r.Z6),r.Z6;if((0,r.kJ)(o))for(let u=0;u<o.length;u++){0;const t=(0,r._A)(o[u]);fi(t)&&(a[t]=r.kT)}else if(o){0;for(const t in o){const e=(0,r._A)(t);if(fi(e)){const i=o[t],n=a[e]=(0,r.kJ)(i)||(0,r.mf)(i)?{type:i}:(0,r.l7)({},i);if(n){const t=yi(Boolean,n.type),i=yi(String,n.type);n[0]=t>-1,n[1]=i<0||t<i,(t>-1||(0,r.RI)(n,"default"))&&l.push(e)}}}}const h=[a,l];return(0,r.Kn)(t)&&n.set(t,h),h}function fi(t){return"$"!==t[0]}function mi(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:null===t?"null":""}function gi(t,e){return mi(t)===mi(e)}function yi(t,e){return(0,r.kJ)(e)?e.findIndex((e=>gi(e,t))):(0,r.mf)(e)&&gi(e,t)?0:-1}const xi=t=>"_"===t[0]||"$stable"===t,vi=t=>(0,r.kJ)(t)?t.map(Sn):[Sn(t)],bi=(t,e,i)=>{if(e._n)return e;const n=H(((...t)=>vi(e(...t))),i);return n._c=!1,n},_i=(t,e,i)=>{const n=t._ctx;for(const s in t){if(xi(s))continue;const i=t[s];if((0,r.mf)(i))e[s]=bi(s,i,n);else if(null!=i){0;const t=vi(i);e[s]=()=>t}}},wi=(t,e)=>{const i=vi(e);t.slots.default=()=>i},Si=(t,e)=>{if(32&t.vnode.shapeFlag){const i=e._;i?(t.slots=(0,n.IU)(e),(0,r.Nj)(e,"_",i)):_i(e,t.slots={})}else t.slots={},e&&wi(t,e);(0,r.Nj)(t.slots,dn,1)},Ci=(t,e,i)=>{const{vnode:n,slots:s}=t;let o=!0,a=r.kT;if(32&n.shapeFlag){const t=e._;t?i&&1===t?o=!1:((0,r.l7)(s,e),i||1!==t||delete s._):(o=!e.$stable,_i(e,s)),a=e}else e&&(wi(t,e),a={default:1});if(o)for(const r in s)xi(r)||null!=a[r]||delete s[r]};function Ti(t,e,i,s,o=!1){if((0,r.kJ)(t))return void t.forEach(((t,n)=>Ti(t,e&&((0,r.kJ)(e)?e[n]:e),i,s,o)));if(Ht(s)&&!o)return;const l=4&s.shapeFlag?Zn(s.component)||s.component.proxy:s.el,c=o?null:l,{i:h,r:u}=t;const d=e&&e.r,p=h.refs===r.kT?h.refs={}:h.refs,f=h.setupState;if(null!=d&&d!==u&&((0,r.HD)(d)?(p[d]=null,(0,r.RI)(f,d)&&(f[d]=null)):(0,n.dq)(d)&&(d.value=null)),(0,r.mf)(u))a(u,h,12,[c,p]);else{const e=(0,r.HD)(u),s=(0,n.dq)(u);if(e||s){const n=()=>{if(t.f){const i=e?(0,r.RI)(f,u)?f[u]:p[u]:u.value;o?(0,r.kJ)(i)&&(0,r.Od)(i,l):(0,r.kJ)(i)?i.includes(l)||i.push(l):e?(p[u]=[l],(0,r.RI)(f,u)&&(f[u]=p[u])):(u.value=[l],t.k&&(p[t.k]=u.value))}else e?(p[u]=c,(0,r.RI)(f,u)&&(f[u]=c)):s&&(u.value=c,t.k&&(p[t.k]=c))};c?(n.id=-1,Ei(n,i)):n()}else 0}}let ki=!1;const Ai=t=>/svg/.test(t.namespaceURI)&&"foreignObject"!==t.tagName,Ii=t=>8===t.nodeType;function Mi(t){const{mt:e,p:i,o:{patchProp:n,createText:s,nextSibling:o,parentNode:a,remove:l,insert:c,createComment:h}}=t,u=(t,e)=>{if(!e.hasChildNodes())return i(null,t,e),A(),void(e._vnode=t);ki=!1,d(e.firstChild,t,null,null,null),A(),e._vnode=t,ki&&console.error("Hydration completed but contains mismatches.")},d=(i,n,r,l,h,u=!1)=>{const b=Ii(i)&&"["===i.data,_=()=>g(i,n,r,l,h,b),{type:w,ref:S,shapeFlag:C,patchFlag:T}=n;let k=i.nodeType;n.el=i,-2===T&&(u=!1,n.dynamicChildren=null);let A=null;switch(w){case Yi:3!==k?""===n.children?(c(n.el=s(""),a(i),i),A=i):A=_():(i.data!==n.children&&(ki=!0,i.data=n.children),A=o(i));break;case Zi:v(i)?(A=o(i),x(n.el=i.content.firstChild,i,r)):A=8!==k||b?_():o(i);break;case Ki:if(b&&(i=o(i),k=i.nodeType),1===k||3===k){A=i;const t=!n.children.length;for(let e=0;e<n.staticCount;e++)t&&(n.children+=1===A.nodeType?A.outerHTML:A.data),e===n.staticCount-1&&(n.anchor=A),A=o(A);return b?o(A):A}_();break;case Xi:A=b?m(i,n,r,l,h,u):_();break;default:if(1&C)A=1===k&&n.type.toLowerCase()===i.tagName.toLowerCase()||v(i)?p(i,n,r,l,h,u):_();else if(6&C){n.slotScopeIds=h;const t=a(i);if(A=b?y(i):Ii(i)&&"teleport start"===i.data?y(i,i.data,"teleport end"):o(i),e(n,t,null,r,l,Ai(t),u),Ht(n)){let e;b?(e=gn(Xi),e.anchor=A?A.previousSibling:t.lastChild):e=3===i.nodeType?bn(""):gn("div"),e.el=i,n.component.subTree=e}}else 64&C?A=8!==k?_():n.type.hydrate(i,n,r,l,h,u,t,f):128&C&&(A=n.type.hydrate(i,n,r,l,Ai(a(i)),h,u,t,d))}return null!=S&&Ti(S,null,l,n),A},p=(t,e,i,s,o,a)=>{a=a||!!e.dynamicChildren;const{type:c,props:h,patchFlag:u,shapeFlag:d,dirs:p,transition:m}=e,g="input"===c||"option"===c;if(g||-1!==u){p&&Mt(e,null,i,"created");let c,y=!1;if(v(t)){y=Fi(s,m)&&i&&i.vnode.props&&i.vnode.props.appear;const n=t.content.firstChild;y&&m.beforeEnter(n),x(n,t,i),e.el=t=n}if(h)if(g||!a||48&u)for(const e in h)(g&&(e.endsWith("value")||"indeterminate"===e)||(0,r.F7)(e)&&!(0,r.Gg)(e)||"."===e[0])&&n(t,e,null,h[e],!1,void 0,i);else h.onClick&&n(t,"onClick",null,h.onClick,!1,void 0,i);if((c=h&&h.onVnodeBeforeMount)&&An(c,i,e),p&&Mt(e,null,i,"beforeMount"),((c=h&&h.onVnodeMounted)||p||y)&&gt((()=>{c&&An(c,i,e),y&&m.enter(t),p&&Mt(e,null,i,"mounted")}),s),16&d&&(!h||!h.innerHTML&&!h.textContent)){let n=f(t.firstChild,e,t,i,s,o,a);while(n){ki=!0;const t=n;n=n.nextSibling,l(t)}}else 8&d&&t.textContent!==e.children&&(ki=!0,t.textContent=e.children)}return t.nextSibling},f=(t,e,n,r,s,o,a)=>{a=a||!!e.dynamicChildren;const l=e.children,c=l.length;for(let h=0;h<c;h++){const e=a?l[h]:l[h]=Sn(l[h]);if(t)t=d(t,e,r,s,o,a);else{if(e.type===Yi&&!e.children)continue;ki=!0,i(null,e,n,null,r,s,Ai(n),o)}}return t},m=(t,e,i,n,r,s)=>{const{slotScopeIds:l}=e;l&&(r=r?r.concat(l):l);const u=a(t),d=f(o(t),e,u,i,n,r,s);return d&&Ii(d)&&"]"===d.data?o(e.anchor=d):(ki=!0,c(e.anchor=h("]"),u,d),d)},g=(t,e,n,r,s,c)=>{if(ki=!0,e.el=null,c){const e=y(t);while(1){const i=o(t);if(!i||i===e)break;l(i)}}const h=o(t),u=a(t);return l(t),i(null,e,u,h,n,r,Ai(u),s),h},y=(t,e="[",i="]")=>{let n=0;while(t)if(t=o(t),t&&Ii(t)&&(t.data===e&&n++,t.data===i)){if(0===n)return o(t);n--}return t},x=(t,e,i)=>{const n=e.parentNode;n&&n.replaceChild(t,e);let r=i;while(r)r.vnode.el===e&&(r.vnode.el=r.subTree.el=t),r=r.parent},v=t=>1===t.nodeType&&"template"===t.tagName.toLowerCase();return[u,d]}function Pi(){}const Ei=gt;function Di(t){return zi(t)}function Li(t){return zi(t,Mi)}function zi(t,e){Pi();const i=(0,r.E9)();i.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:l,createText:c,createComment:h,setText:u,setElementText:d,parentNode:p,nextSibling:f,setScopeId:m=r.dG,insertStaticContent:g}=t,y=(t,e,i,n=null,r=null,s=null,o=!1,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!hn(t,e)&&(n=J(t),H(t,r,s,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:h,shapeFlag:u}=e;switch(c){case Yi:x(t,e,i,n);break;case Zi:v(t,e,i,n);break;case Ki:null==t&&b(e,i,n,o);break;case Xi:z(t,e,i,n,r,s,o,a,l);break;default:1&u?T(t,e,i,n,r,s,o,a,l):6&u?O(t,e,i,n,r,s,o,a,l):(64&u||128&u)&&c.process(t,e,i,n,r,s,o,a,l,tt)}null!=h&&r&&Ti(h,t&&t.ref,s,e||t,!e)},x=(t,e,i,n)=>{if(null==t)s(e.el=c(e.children),i,n);else{const i=e.el=t.el;e.children!==t.children&&u(i,e.children)}},v=(t,e,i,n)=>{null==t?s(e.el=h(e.children||""),i,n):e.el=t.el},b=(t,e,i,n)=>{[t.el,t.anchor]=g(t.children,e,i,n,t.el,t.anchor)},_=({el:t,anchor:e},i,n)=>{let r;while(t&&t!==e)r=f(t),s(t,i,n),t=r;s(e,i,n)},S=({el:t,anchor:e})=>{let i;while(t&&t!==e)i=f(t),o(t),t=i;o(e)},T=(t,e,i,n,r,s,o,a,l)=>{o=o||"svg"===e.type,null==t?I(e,i,n,r,s,o,a,l):E(t,e,r,s,o,a,l)},I=(t,e,i,n,o,c,h,u)=>{let p,f;const{type:m,props:g,shapeFlag:y,transition:x,dirs:v}=t;if(p=t.el=l(t.type,c,g&&g.is,g),8&y?d(p,t.children):16&y&&P(t.children,p,null,n,o,c&&"foreignObject"!==m,h,u),v&&Mt(t,null,n,"created"),M(p,t,t.scopeId,h,n),g){for(const e in g)"value"===e||(0,r.Gg)(e)||a(p,e,null,g[e],c,t.children,n,o,Z);"value"in g&&a(p,"value",null,g.value),(f=g.onVnodeBeforeMount)&&An(f,n,t)}v&&Mt(t,null,n,"beforeMount");const b=Fi(o,x);b&&x.beforeEnter(p),s(p,e,i),((f=g&&g.onVnodeMounted)||b||v)&&Ei((()=>{f&&An(f,n,t),b&&x.enter(p),v&&Mt(t,null,n,"mounted")}),o)},M=(t,e,i,n,r)=>{if(i&&m(t,i),n)for(let s=0;s<n.length;s++)m(t,n[s]);if(r){let i=r.subTree;if(e===i){const e=r.vnode;M(t,e,e.scopeId,e.slotScopeIds,r.parent)}}},P=(t,e,i,n,r,s,o,a,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=a?Cn(t[c]):Sn(t[c]);y(null,l,e,i,n,r,s,o,a)}},E=(t,e,i,n,s,o,l)=>{const c=e.el=t.el;let{patchFlag:h,dynamicChildren:u,dirs:p}=e;h|=16&t.patchFlag;const f=t.props||r.kT,m=e.props||r.kT;let g;i&&Oi(i,!1),(g=m.onVnodeBeforeUpdate)&&An(g,i,e,t),p&&Mt(e,t,i,"beforeUpdate"),i&&Oi(i,!0);const y=s&&"foreignObject"!==e.type;if(u?D(t.dynamicChildren,u,c,i,n,y,o):l||j(t,e,c,null,i,n,y,o,!1),h>0){if(16&h)L(c,e,f,m,i,n,s);else if(2&h&&f.class!==m.class&&a(c,"class",null,m.class,s),4&h&&a(c,"style",f.style,m.style,s),8&h){const r=e.dynamicProps;for(let e=0;e<r.length;e++){const o=r[e],l=f[o],h=m[o];h===l&&"value"!==o||a(c,o,l,h,s,t.children,i,n,Z)}}1&h&&t.children!==e.children&&d(c,e.children)}else l||null!=u||L(c,e,f,m,i,n,s);((g=m.onVnodeUpdated)||p)&&Ei((()=>{g&&An(g,i,e,t),p&&Mt(e,t,i,"updated")}),n)},D=(t,e,i,n,r,s,o)=>{for(let a=0;a<e.length;a++){const l=t[a],c=e[a],h=l.el&&(l.type===Xi||!hn(l,c)||70&l.shapeFlag)?p(l.el):i;y(l,c,h,null,n,r,s,o,!0)}},L=(t,e,i,n,s,o,l)=>{if(i!==n){if(i!==r.kT)for(const c in i)(0,r.Gg)(c)||c in n||a(t,c,i[c],null,l,e.children,s,o,Z);for(const c in n){if((0,r.Gg)(c))continue;const h=n[c],u=i[c];h!==u&&"value"!==c&&a(t,c,u,h,l,e.children,s,o,Z)}"value"in n&&a(t,"value",i.value,n.value)}},z=(t,e,i,n,r,o,a,l,h)=>{const u=e.el=t?t.el:c(""),d=e.anchor=t?t.anchor:c("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=e;m&&(l=l?l.concat(m):m),null==t?(s(u,i,n),s(d,i,n),P(e.children,i,d,r,o,a,l,h)):p>0&&64&p&&f&&t.dynamicChildren?(D(t.dynamicChildren,f,i,r,o,a,l),(null!=e.key||r&&e===r.subTree)&&Ri(t,e,!0)):j(t,e,i,d,r,o,a,l,h)},O=(t,e,i,n,r,s,o,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?r.ctx.activate(e,i,n,o,l):F(e,i,n,r,s,o,l):R(t,e,l)},F=(t,e,i,n,r,s,o)=>{const a=t.component=Pn(t,n,r);if(Wt(t)&&(a.ctx.renderer=tt),Vn(a),a.asyncDep){if(r&&r.registerDep(a,B),!t.el){const t=a.subTree=gn(Zi);v(null,t,e,i)}}else B(a,t,e,i,r,s,o)},R=(t,e,i)=>{const n=e.component=t.component;if(Y(t,e,i)){if(n.asyncDep&&!n.asyncResolved)return void N(n,e,i);n.next=e,C(n.update),n.update()}else e.el=t.el,n.vnode=e},B=(t,e,i,s,o,a,l)=>{const c=()=>{if(t.isMounted){let e,{next:i,bu:n,u:s,parent:c,vnode:h}=t,u=i;0,Oi(t,!1),i?(i.el=h.el,N(t,i,l)):i=h,n&&(0,r.ir)(n),(e=i.props&&i.props.onVnodeBeforeUpdate)&&An(e,c,i,h),Oi(t,!0);const d=q(t);0;const f=t.subTree;t.subTree=d,y(f,d,p(f.el),J(f),t,o,a),i.el=d.el,null===u&&K(t,d.el),s&&Ei(s,o),(e=i.props&&i.props.onVnodeUpdated)&&Ei((()=>An(e,c,i,h)),o)}else{let n;const{el:l,props:c}=e,{bm:h,m:u,parent:d}=t,p=Ht(e);if(Oi(t,!1),h&&(0,r.ir)(h),!p&&(n=c&&c.onVnodeBeforeMount)&&An(n,d,e),Oi(t,!0),l&&it){const i=()=>{t.subTree=q(t),it(l,t.subTree,t,o,null)};p?e.type.__asyncLoader().then((()=>!t.isUnmounted&&i())):i()}else{0;const n=t.subTree=q(t);0,y(null,n,i,s,t,o,a),e.el=n.el}if(u&&Ei(u,o),!p&&(n=c&&c.onVnodeMounted)){const t=e;Ei((()=>An(n,d,t)),o)}(256&e.shapeFlag||d&&Ht(d.vnode)&&256&d.vnode.shapeFlag)&&t.a&&Ei(t.a,o),t.isMounted=!0,e=i=s=null}},h=t.effect=new n.qq(c,(()=>w(u)),t.scope),u=t.update=()=>h.run();u.id=t.uid,Oi(t,!0),u()},N=(t,e,i)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,hi(t,e.props,r,i),Ci(t,e.children,i),(0,n.Jd)(),k(t),(0,n.lk)()},j=(t,e,i,n,r,s,o,a,l=!1)=>{const c=t&&t.children,h=t?t.shapeFlag:0,u=e.children,{patchFlag:p,shapeFlag:f}=e;if(p>0){if(128&p)return void V(c,u,i,n,r,s,o,a,l);if(256&p)return void U(c,u,i,n,r,s,o,a,l)}8&f?(16&h&&Z(c,r,s),u!==c&&d(i,u)):16&h?16&f?V(c,u,i,n,r,s,o,a,l):Z(c,r,s,!0):(8&h&&d(i,""),16&f&&P(u,i,n,r,s,o,a,l))},U=(t,e,i,n,s,o,a,l,c)=>{t=t||r.Z6,e=e||r.Z6;const h=t.length,u=e.length,d=Math.min(h,u);let p;for(p=0;p<d;p++){const n=e[p]=c?Cn(e[p]):Sn(e[p]);y(t[p],n,i,null,s,o,a,l,c)}h>u?Z(t,s,o,!0,!1,d):P(e,i,n,s,o,a,l,c,d)},V=(t,e,i,n,s,o,a,l,c)=>{let h=0;const u=e.length;let d=t.length-1,p=u-1;while(h<=d&&h<=p){const n=t[h],r=e[h]=c?Cn(e[h]):Sn(e[h]);if(!hn(n,r))break;y(n,r,i,null,s,o,a,l,c),h++}while(h<=d&&h<=p){const n=t[d],r=e[p]=c?Cn(e[p]):Sn(e[p]);if(!hn(n,r))break;y(n,r,i,null,s,o,a,l,c),d--,p--}if(h>d){if(h<=p){const t=p+1,r=t<u?e[t].el:n;while(h<=p)y(null,e[h]=c?Cn(e[h]):Sn(e[h]),i,r,s,o,a,l,c),h++}}else if(h>p)while(h<=d)H(t[h],s,o,!0),h++;else{const f=h,m=h,g=new Map;for(h=m;h<=p;h++){const t=e[h]=c?Cn(e[h]):Sn(e[h]);null!=t.key&&g.set(t.key,h)}let x,v=0;const b=p-m+1;let _=!1,w=0;const S=new Array(b);for(h=0;h<b;h++)S[h]=0;for(h=f;h<=d;h++){const n=t[h];if(v>=b){H(n,s,o,!0);continue}let r;if(null!=n.key)r=g.get(n.key);else for(x=m;x<=p;x++)if(0===S[x-m]&&hn(n,e[x])){r=x;break}void 0===r?H(n,s,o,!0):(S[r-m]=h+1,r>=w?w=r:_=!0,y(n,e[r],i,null,s,o,a,l,c),v++)}const C=_?Bi(S):r.Z6;for(x=C.length-1,h=b-1;h>=0;h--){const t=m+h,r=e[t],d=t+1<u?e[t+1].el:n;0===S[h]?y(null,r,i,d,s,o,a,l,c):_&&(x<0||h!==C[x]?$(r,i,d,2):x--)}}},$=(t,e,i,n,r=null)=>{const{el:o,type:a,transition:l,children:c,shapeFlag:h}=t;if(6&h)return void $(t.component.subTree,e,i,n);if(128&h)return void t.suspense.move(e,i,n);if(64&h)return void a.move(t,e,i,tt);if(a===Xi){s(o,e,i);for(let t=0;t<c.length;t++)$(c[t],e,i,n);return void s(t.anchor,e,i)}if(a===Ki)return void _(t,e,i);const u=2!==n&&1&h&&l;if(u)if(0===n)l.beforeEnter(o),s(o,e,i),Ei((()=>l.enter(o)),r);else{const{leave:t,delayLeave:n,afterLeave:r}=l,a=()=>s(o,e,i),c=()=>{t(o,(()=>{a(),r&&r()}))};n?n(o,a,c):c()}else s(o,e,i)},H=(t,e,i,n=!1,r=!1)=>{const{type:s,props:o,ref:a,children:l,dynamicChildren:c,shapeFlag:h,patchFlag:u,dirs:d}=t;if(null!=a&&Ti(a,null,i,t,!0),256&h)return void e.ctx.deactivate(t);const p=1&h&&d,f=!Ht(t);let m;if(f&&(m=o&&o.onVnodeBeforeUnmount)&&An(m,e,t),6&h)X(t.component,i,n);else{if(128&h)return void t.suspense.unmount(i,n);p&&Mt(t,null,e,"beforeUnmount"),64&h?t.type.remove(t,e,i,r,tt,n):c&&(s!==Xi||u>0&&64&u)?Z(c,e,i,!1,!0):(s===Xi&&384&u||!r&&16&h)&&Z(l,e,i),n&&G(t)}(f&&(m=o&&o.onVnodeUnmounted)||p)&&Ei((()=>{m&&An(m,e,t),p&&Mt(t,null,e,"unmounted")}),i)},G=t=>{const{type:e,el:i,anchor:n,transition:r}=t;if(e===Xi)return void W(i,n);if(e===Ki)return void S(t);const s=()=>{o(i),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:n}=r,o=()=>e(i,s);n?n(t.el,s,o):o()}else s()},W=(t,e)=>{let i;while(t!==e)i=f(t),o(t),t=i;o(e)},X=(t,e,i)=>{const{bum:n,scope:s,update:o,subTree:a,um:l}=t;n&&(0,r.ir)(n),s.stop(),o&&(o.active=!1,H(a,t,e,i)),l&&Ei(l,e),Ei((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},Z=(t,e,i,n=!1,r=!1,s=0)=>{for(let o=s;o<t.length;o++)H(t[o],e,i,n,r)},J=t=>6&t.shapeFlag?J(t.component.subTree):128&t.shapeFlag?t.suspense.next():f(t.anchor||t.el),Q=(t,e,i)=>{null==t?e._vnode&&H(e._vnode,null,null,!0):y(e._vnode||null,t,e,null,null,null,i),k(),A(),e._vnode=t},tt={p:y,um:H,m:$,r:G,mt:F,mc:P,pc:j,pbc:D,n:J,o:t};let et,it;return e&&([et,it]=e(tt)),{render:Q,hydrate:et,createApp:ri(Q,et)}}function Oi({effect:t,update:e},i){t.allowRecurse=e.allowRecurse=i}function Fi(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ri(t,e,i=!1){const n=t.children,s=e.children;if((0,r.kJ)(n)&&(0,r.kJ)(s))for(let r=0;r<n.length;r++){const t=n[r];let e=s[r];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=s[r]=Cn(s[r]),e.el=t.el),i||Ri(t,e)),e.type===Yi&&(e.el=t.el)}}function Bi(t){const e=t.slice(),i=[0];let n,r,s,o,a;const l=t.length;for(n=0;n<l;n++){const l=t[n];if(0!==l){if(r=i[i.length-1],t[r]<l){e[n]=r,i.push(n);continue}s=0,o=i.length-1;while(s<o)a=s+o>>1,t[i[a]]<l?s=a+1:o=a;l<t[i[s]]&&(s>0&&(e[n]=i[s-1]),i[s]=n)}}s=i.length,o=i[s-1];while(s-- >0)i[s]=o,o=e[o];return i}const Ni=t=>t.__isTeleport,ji=t=>t&&(t.disabled||""===t.disabled),Ui=t=>"undefined"!==typeof SVGElement&&t instanceof SVGElement,Vi=(t,e)=>{const i=t&&t.to;if((0,r.HD)(i)){if(e){const t=e(i);return t}return null}return i},$i={name:"Teleport",__isTeleport:!0,process(t,e,i,n,r,s,o,a,l,c){const{mc:h,pc:u,pbc:d,o:{insert:p,querySelector:f,createText:m,createComment:g}}=c,y=ji(e.props);let{shapeFlag:x,children:v,dynamicChildren:b}=e;if(null==t){const t=e.el=m(""),c=e.anchor=m("");p(t,i,n),p(c,i,n);const u=e.target=Vi(e.props,f),d=e.targetAnchor=m("");u&&(p(d,u),o=o||Ui(u));const g=(t,e)=>{16&x&&h(v,t,e,r,s,o,a,l)};y?g(i,c):u&&g(u,d)}else{e.el=t.el;const n=e.anchor=t.anchor,h=e.target=t.target,p=e.targetAnchor=t.targetAnchor,m=ji(t.props),g=m?i:h,x=m?n:p;if(o=o||Ui(h),b?(d(t.dynamicChildren,b,g,r,s,o,a),Ri(t,e,!0)):l||u(t,e,g,x,r,s,o,a,!1),y)m?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Hi(e,i,n,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=Vi(e.props,f);t&&Hi(e,t,null,c,0)}else m&&Hi(e,h,p,c,1)}Wi(e)},remove(t,e,i,n,{um:r,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:h,target:u,props:d}=t;if(u&&s(h),o&&s(c),16&a){const t=o||!ji(d);for(let n=0;n<l.length;n++){const s=l[n];r(s,e,i,t,!!s.dynamicChildren)}}},move:Hi,hydrate:qi};function Hi(t,e,i,{o:{insert:n},m:r},s=2){0===s&&n(t.targetAnchor,e,i);const{el:o,anchor:a,shapeFlag:l,children:c,props:h}=t,u=2===s;if(u&&n(o,e,i),(!u||ji(h))&&16&l)for(let d=0;d<c.length;d++)r(c[d],e,i,2);u&&n(a,e,i)}function qi(t,e,i,n,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const h=e.target=Vi(e.props,l);if(h){const l=h._lpa||h.firstChild;if(16&e.shapeFlag)if(ji(e.props))e.anchor=c(o(t),e,a(t),i,n,r,s),e.targetAnchor=l;else{e.anchor=o(t);let a=l;while(a)if(a=o(a),a&&8===a.nodeType&&"teleport anchor"===a.data){e.targetAnchor=a,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(l,e,h,i,n,r,s)}Wi(e)}return e.anchor&&o(e.anchor)}const Gi=$i;function Wi(t){const e=t.ctx;if(e&&e.ut){let i=t.children[0].el;while(i&&i!==t.targetAnchor)1===i.nodeType&&i.setAttribute("data-v-owner",e.uid),i=i.nextSibling;e.ut()}}const Xi=Symbol.for("v-fgt"),Yi=Symbol.for("v-txt"),Zi=Symbol.for("v-cmt"),Ki=Symbol.for("v-stc"),Ji=[];let Qi=null;function tn(t=!1){Ji.push(Qi=t?null:[])}function en(){Ji.pop(),Qi=Ji[Ji.length-1]||null}let nn,rn=1;function sn(t){rn+=t}function on(t){return t.dynamicChildren=rn>0?Qi||r.Z6:null,en(),rn>0&&Qi&&Qi.push(t),t}function an(t,e,i,n,r,s){return on(mn(t,e,i,n,r,s,!0))}function ln(t,e,i,n,r){return on(gn(t,e,i,n,r,!0))}function cn(t){return!!t&&!0===t.__v_isVNode}function hn(t,e){return t.type===e.type&&t.key===e.key}function un(t){nn=t}const dn="__vInternal",pn=({key:t})=>null!=t?t:null,fn=({ref:t,ref_key:e,ref_for:i})=>("number"===typeof t&&(t=""+t),null!=t?(0,r.HD)(t)||(0,n.dq)(t)||(0,r.mf)(t)?{i:B,r:t,k:e,f:!!i}:t:null);function mn(t,e=null,i=null,n=0,s=null,o=(t===Xi?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&pn(e),ref:e&&fn(e),scopeId:N,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:B};return l?(Tn(c,i),128&o&&t.normalize(c)):i&&(c.shapeFlag|=(0,r.HD)(i)?8:16),rn>0&&!a&&Qi&&(c.patchFlag>0||6&o)&&32!==c.patchFlag&&Qi.push(c),c}const gn=yn;function yn(t,e=null,i=null,s=0,o=null,a=!1){if(t&&t!==et||(t=Zi),cn(t)){const n=vn(t,e,!0);return i&&Tn(n,i),rn>0&&!a&&Qi&&(6&n.shapeFlag?Qi[Qi.indexOf(t)]=n:Qi.push(n)),n.patchFlag|=-2,n}if(Jn(t)&&(t=t.__vccOpts),e){e=xn(e);let{class:t,style:i}=e;t&&!(0,r.HD)(t)&&(e.class=(0,r.C_)(t)),(0,r.Kn)(i)&&((0,n.X3)(i)&&!(0,r.kJ)(i)&&(i=(0,r.l7)({},i)),e.style=(0,r.j5)(i))}const l=(0,r.HD)(t)?1:ot(t)?128:Ni(t)?64:(0,r.Kn)(t)?4:(0,r.mf)(t)?2:0;return mn(t,e,i,s,o,l,a,!0)}function xn(t){return t?(0,n.X3)(t)||dn in t?(0,r.l7)({},t):t:null}function vn(t,e,i=!1){const{props:n,ref:s,patchFlag:o,children:a}=t,l=e?kn(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&pn(l),ref:e&&e.ref?i&&s?(0,r.kJ)(s)?s.concat(fn(e)):[s,fn(e)]:fn(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Xi?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&vn(t.ssContent),ssFallback:t.ssFallback&&vn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c}function bn(t=" ",e=0){return gn(Yi,null,t,e)}function _n(t,e){const i=gn(Ki,null,t);return i.staticCount=e,i}function wn(t="",e=!1){return e?(tn(),ln(Zi,null,t)):gn(Zi,null,t)}function Sn(t){return null==t||"boolean"===typeof t?gn(Zi):(0,r.kJ)(t)?gn(Xi,null,t.slice()):"object"===typeof t?Cn(t):gn(Yi,null,String(t))}function Cn(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:vn(t)}function Tn(t,e){let i=0;const{shapeFlag:n}=t;if(null==e)e=null;else if((0,r.kJ)(e))i=16;else if("object"===typeof e){if(65&n){const i=e.default;return void(i&&(i._c&&(i._d=!1),Tn(t,i()),i._c&&(i._d=!0)))}{i=32;const n=e._;n||dn in e?3===n&&B&&(1===B.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=B}}else(0,r.mf)(e)?(e={default:e,_ctx:B},i=32):(e=String(e),64&n?(i=16,e=[bn(e)]):i=8);t.children=e,t.shapeFlag|=i}function kn(...t){const e={};for(let i=0;i<t.length;i++){const n=t[i];for(const t in n)if("class"===t)e.class!==n.class&&(e.class=(0,r.C_)([e.class,n.class]));else if("style"===t)e.style=(0,r.j5)([e.style,n.style]);else if((0,r.F7)(t)){const i=e[t],s=n[t];!s||i===s||(0,r.kJ)(i)&&i.includes(s)||(e[t]=i?[].concat(i,s):s)}else""!==t&&(e[t]=n[t])}return e}function An(t,e,i,n=null){l(t,e,7,[i,n])}const In=ii();let Mn=0;function Pn(t,e,i){const s=t.type,o=(e?e.appContext:t.appContext)||In,a={uid:Mn++,vnode:t,type:s,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new n.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pi(s,o),emitsOptions:F(s,o),emit:null,emitted:null,propsDefaults:r.kT,inheritAttrs:s.inheritAttrs,ctx:r.kT,data:r.kT,props:r.kT,attrs:r.kT,slots:r.kT,refs:r.kT,setupState:r.kT,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=O.bind(null,a),t.ce&&t.ce(a),a}let En=null;const Dn=()=>En||B;let Ln,zn,On="__VUE_INSTANCE_SETTERS__";(zn=(0,r.E9)()[On])||(zn=(0,r.E9)()[On]=[]),zn.push((t=>En=t)),Ln=t=>{zn.length>1?zn.forEach((e=>e(t))):zn[0](t)};const Fn=t=>{Ln(t),t.scope.on()},Rn=()=>{En&&En.scope.off(),Ln(null)};function Bn(t){return 4&t.vnode.shapeFlag}let Nn,jn,Un=!1;function Vn(t,e=!1){Un=e;const{props:i,children:n}=t.vnode,r=Bn(t);ci(t,i,r,e),Si(t,n);const s=r?$n(t,e):void 0;return Un=!1,s}function $n(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=(0,n.Xl)(new Proxy(t.ctx,Se));const{setup:s}=i;if(s){const i=t.setupContext=s.length>1?Yn(t):null;Fn(t),(0,n.Jd)();const o=a(s,t,0,[t.props,i]);if((0,n.lk)(),Rn(),(0,r.tI)(o)){if(o.then(Rn,Rn),e)return o.then((i=>{Hn(t,i,e)})).catch((e=>{c(e,t,0)}));t.asyncDep=o}else Hn(t,o,e)}else Wn(t,e)}function Hn(t,e,i){(0,r.mf)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,r.Kn)(e)&&(t.setupState=(0,n.WL)(e)),Wn(t,i)}function qn(t){Nn=t,jn=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Ce))}}const Gn=()=>!Nn;function Wn(t,e,i){const s=t.type;if(!t.render){if(!e&&Nn&&!s.render){const e=s.template||Ge(t).template;if(e){0;const{isCustomElement:i,compilerOptions:n}=t.appContext.config,{delimiters:o,compilerOptions:a}=s,l=(0,r.l7)((0,r.l7)({isCustomElement:i,delimiters:o},n),a);s.render=Nn(e,l)}}t.render=s.render||r.dG,jn&&jn(t)}Fn(t),(0,n.Jd)();try{Ve(t)}finally{(0,n.lk)(),Rn()}}function Xn(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,i){return(0,n.j)(t,"get","$attrs"),e[i]}}))}function Yn(t){const e=e=>{t.exposed=e||{}};return{get attrs(){return Xn(t)},slots:t.slots,emit:t.emit,expose:e}}function Zn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,n.WL)((0,n.Xl)(t.exposed)),{get(e,i){return i in e?e[i]:i in _e?_e[i](t):void 0},has(t,e){return e in t||e in _e}}))}function Kn(t,e=!0){return(0,r.mf)(t)?t.displayName||t.name:t.name||e&&t.__name}function Jn(t){return(0,r.mf)(t)&&"__vccOpts"in t}const Qn=(t,e)=>(0,n.Fl)(t,e,Un);function tr(t,e,i){const n=arguments.length;return 2===n?(0,r.Kn)(e)&&!(0,r.kJ)(e)?cn(e)?gn(t,null,[e]):gn(t,e):gn(t,null,e):(n>3?i=Array.prototype.slice.call(arguments,2):3===n&&cn(i)&&(i=[i]),gn(t,e,i))}const er=Symbol.for("v-scx"),ir=()=>{{const t=ai(er);return t}};function nr(){return void 0}function rr(t,e,i,n){const r=i[n];if(r&&sr(r,t))return r;const s=e();return s.memo=t.slice(),i[n]=s}function sr(t,e){const i=t.memo;if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++)if((0,r.aU)(i[n],e[n]))return!1;return rn>0&&Qi&&Qi.push(t),!0}const or="3.3.13",ar={createComponentInstance:Pn,setupComponent:Vn,renderComponentRoot:q,setCurrentRenderingInstance:j,isVNode:cn,normalizeVNode:Sn},lr=ar,cr=null,hr=null},9963:function(t,e,i){"use strict";i.d(e,{$d:function(){return n.$d},$y:function(){return n.$y},Ah:function(){return ct},B:function(){return n.B},BK:function(){return n.BK},Bj:function(){return n.Bj},Bz:function(){return n.Bz},C3:function(){return n.C3},C_:function(){return n.C_},Cn:function(){return n.Cn},D2:function(){return $t},EB:function(){return n.EB},EM:function(){return n.EM},Eo:function(){return n.Eo},F4:function(){return n.F4},F8:function(){return D},FN:function(){return n.FN},Fl:function(){return n.Fl},G:function(){return n.G},G2:function(){return Pt},Gn:function(){return n.Gn},HX:function(){return n.HX},HY:function(){return n.HY},Ho:function(){return n.Ho},IU:function(){return n.IU},JJ:function(){return n.JJ},Jd:function(){return n.Jd},KU:function(){return n.KU},Ko:function(){return n.Ko},LL:function(){return n.LL},MW:function(){return lt},MX:function(){return n.MX},Mr:function(){return n.Mr},Nd:function(){return ee},Nv:function(){return n.Nv},OT:function(){return n.OT},Ob:function(){return n.Ob},P$:function(){return n.P$},PG:function(){return n.PG},Q2:function(){return n.Q2},Q6:function(){return n.Q6},RC:function(){return n.RC},Rh:function(){return n.Rh},Rr:function(){return n.Rr},S3:function(){return n.S3},SK:function(){return n.Ah},SU:function(){return n.SU},Tn:function(){return n.Tn},U2:function(){return n.U2},Uc:function(){return n.Uc},Uk:function(){return n.Uk},Um:function(){return n.Um},Us:function(){return n.Us},Vf:function(){return n.Vf},Vh:function(){return n.Vh},W3:function(){return xt},WI:function(){return n.WI},WL:function(){return n.WL},WY:function(){return n.WY},Wl:function(){return n.Wl},Wm:function(){return n.Wm},Wu:function(){return n.Wu},X3:function(){return n.X3},XI:function(){return n.XI},Xl:function(){return n.Xl},Xn:function(){return n.Xn},Y1:function(){return n.Y1},Y3:function(){return n.Y3},Y8:function(){return n.Y8},YP:function(){return n.YP},YS:function(){return n.YS},YZ:function(){return Ot},Yq:function(){return n.Yq},Yu:function(){return n.Yu},ZB:function(){return Zt},ZK:function(){return n.ZK},ZM:function(){return n.ZM},Zq:function(){return n.Zq},_:function(){return n._},_A:function(){return n._A},a2:function(){return ut},aZ:function(){return n.aZ},b9:function(){return n.b9},bM:function(){return Et},bT:function(){return n.bT},bv:function(){return n.bv},cE:function(){return n.cE},d1:function(){return n.d1},dD:function(){return n.dD},dG:function(){return n.dG},dl:function(){return n.dl},dq:function(){return n.dq},e8:function(){return It},ec:function(){return n.ec},eq:function(){return n.eq},f3:function(){return n.f3},fb:function(){return dt},h:function(){return n.h},hR:function(){return n.hR},i8:function(){return n.i8},iD:function(){return n.iD},iH:function(){return n.iH},iM:function(){return Ut},ic:function(){return n.ic},j4:function(){return n.j4},j5:function(){return n.j5},kC:function(){return n.kC},kq:function(){return n.kq},l1:function(){return n.l1},lA:function(){return n.lA},lR:function(){return n.lR},m0:function(){return n.m0},mW:function(){return n.mW},mv:function(){return n.mv},mx:function(){return n.mx},n4:function(){return n.n4},nJ:function(){return n.nJ},nK:function(){return n.nK},nQ:function(){return n.nQ},nZ:function(){return n.nZ},nr:function(){return At},oR:function(){return n.oR},of:function(){return n.of},p1:function(){return n.p1},qG:function(){return n.qG},qZ:function(){return n.qZ},qb:function(){return n.qb},qj:function(){return n.qj},qq:function(){return n.qq},ri:function(){return Kt},ry:function(){return n.ry},sT:function(){return n.sT},sY:function(){return Yt},se:function(){return n.se},sj:function(){return F},sv:function(){return n.sv},tT:function(){return n.tT},uE:function(){return n.uE},uT:function(){return p},u_:function(){return n.u_},up:function(){return n.up},vl:function(){return n.vl},vr:function(){return Jt},vs:function(){return n.vs},w5:function(){return n.w5},wF:function(){return n.wF},wg:function(){return n.wg},wy:function(){return n.wy},xv:function(){return n.xv},yT:function(){return n.yT},yX:function(){return n.yX},yb:function(){return n.MW},zw:function(){return n.zw}});var n=i(6252),r=i(3577),s=i(2262);const o="http://www.w3.org/2000/svg",a="undefined"!==typeof document?document:null,l=a&&a.createElement("template"),c={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,n)=>{const r=e?a.createElementNS(o,t):a.createElement(t,i?{is:i}:void 0);return"select"===t&&n&&null!=n.multiple&&r.setAttribute("multiple",n.multiple),r},createText:t=>a.createTextNode(t),createComment:t=>a.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>a.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,n,r,s){const o=i?i.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling)){while(1)if(e.insertBefore(r.cloneNode(!0),i),r===s||!(r=r.nextSibling))break}else{l.innerHTML=n?`<svg>${t}</svg>`:t;const r=l.content;if(n){const t=r.firstChild;while(t.firstChild)r.appendChild(t.firstChild);r.removeChild(t)}e.insertBefore(r,i)}return[o?o.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},h="transition",u="animation",d=Symbol("_vtc"),p=(t,{slots:e})=>(0,n.h)(n.P$,x(t),e);p.displayName="Transition";const f={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},m=p.props=(0,r.l7)({},n.nJ,f),g=(t,e=[])=>{(0,r.kJ)(t)?t.forEach((t=>t(...e))):t&&t(...e)},y=t=>!!t&&((0,r.kJ)(t)?t.some((t=>t.length>1)):t.length>1);function x(t){const e={};for(const r in t)r in f||(e[r]=t[r]);if(!1===t.css)return e;const{name:i="v",type:n,duration:s,enterFromClass:o=`${i}-enter-from`,enterActiveClass:a=`${i}-enter-active`,enterToClass:l=`${i}-enter-to`,appearFromClass:c=o,appearActiveClass:h=a,appearToClass:u=l,leaveFromClass:d=`${i}-leave-from`,leaveActiveClass:p=`${i}-leave-active`,leaveToClass:m=`${i}-leave-to`}=t,x=v(s),b=x&&x[0],C=x&&x[1],{onBeforeEnter:k,onEnter:A,onEnterCancelled:I,onLeave:P,onLeaveCancelled:E,onBeforeAppear:D=k,onAppear:L=A,onAppearCancelled:z=I}=e,O=(t,e,i)=>{w(t,e?u:l),w(t,e?h:a),i&&i()},F=(t,e)=>{t._isLeaving=!1,w(t,d),w(t,m),w(t,p),e&&e()},R=t=>(e,i)=>{const r=t?L:A,s=()=>O(e,t,i);g(r,[e,s]),S((()=>{w(e,t?c:o),_(e,t?u:l),y(r)||T(e,n,b,s)}))};return(0,r.l7)(e,{onBeforeEnter(t){g(k,[t]),_(t,o),_(t,a)},onBeforeAppear(t){g(D,[t]),_(t,c),_(t,h)},onEnter:R(!1),onAppear:R(!0),onLeave(t,e){t._isLeaving=!0;const i=()=>F(t,e);_(t,d),M(),_(t,p),S((()=>{t._isLeaving&&(w(t,d),_(t,m),y(P)||T(t,n,C,i))})),g(P,[t,i])},onEnterCancelled(t){O(t,!1),g(I,[t])},onAppearCancelled(t){O(t,!0),g(z,[t])},onLeaveCancelled(t){F(t),g(E,[t])}})}function v(t){if(null==t)return null;if((0,r.Kn)(t))return[b(t.enter),b(t.leave)];{const e=b(t);return[e,e]}}function b(t){const e=(0,r.He)(t);return e}function _(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t[d]||(t[d]=new Set)).add(e)}function w(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const i=t[d];i&&(i.delete(e),i.size||(t[d]=void 0))}function S(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let C=0;function T(t,e,i,n){const r=t._endId=++C,s=()=>{r===t._endId&&n()};if(i)return setTimeout(s,i);const{type:o,timeout:a,propCount:l}=k(t,e);if(!o)return n();const c=o+"end";let h=0;const u=()=>{t.removeEventListener(c,d),s()},d=e=>{e.target===t&&++h>=l&&u()};setTimeout((()=>{h<l&&u()}),a+1),t.addEventListener(c,d)}function k(t,e){const i=window.getComputedStyle(t),n=t=>(i[t]||"").split(", "),r=n(`${h}Delay`),s=n(`${h}Duration`),o=A(r,s),a=n(`${u}Delay`),l=n(`${u}Duration`),c=A(a,l);let d=null,p=0,f=0;e===h?o>0&&(d=h,p=o,f=s.length):e===u?c>0&&(d=u,p=c,f=l.length):(p=Math.max(o,c),d=p>0?o>c?h:u:null,f=d?d===h?s.length:l.length:0);const m=d===h&&/\b(transform|all)(,|$)/.test(n(`${h}Property`).toString());return{type:d,timeout:p,propCount:f,hasTransform:m}}function A(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,i)=>I(e)+I(t[i]))))}function I(t){return"auto"===t?0:1e3*Number(t.slice(0,-1).replace(",","."))}function M(){return document.body.offsetHeight}function P(t,e,i){const n=t[d];n&&(e=(e?[e,...n]:[...n]).join(" ")),null==e?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}const E=Symbol("_vod"),D={beforeMount(t,{value:e},{transition:i}){t[E]="none"===t.style.display?"":t.style.display,i&&e?i.beforeEnter(t):L(t,e)},mounted(t,{value:e},{transition:i}){i&&e&&i.enter(t)},updated(t,{value:e,oldValue:i},{transition:n}){!e!==!i&&(n?e?(n.beforeEnter(t),L(t,!0),n.enter(t)):n.leave(t,(()=>{L(t,!1)})):L(t,e))},beforeUnmount(t,{value:e}){L(t,e)}};function L(t,e){t.style.display=e?t[E]:"none"}function z(){D.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const O=Symbol("");function F(t){const e=(0,n.FN)();if(!e)return;const i=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach((t=>B(t,i)))},r=()=>{const n=t(e.proxy);R(e.subTree,n),i(n)};(0,n.Rh)(r),(0,n.bv)((()=>{const t=new MutationObserver(r);t.observe(e.subTree.el.parentNode,{childList:!0}),(0,n.Ah)((()=>t.disconnect()))}))}function R(t,e){if(128&t.shapeFlag){const i=t.suspense;t=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push((()=>{R(i.activeBranch,e)}))}while(t.component)t=t.component.subTree;if(1&t.shapeFlag&&t.el)B(t.el,e);else if(t.type===n.HY)t.children.forEach((t=>R(t,e)));else if(t.type===n.qG){let{el:i,anchor:n}=t;while(i){if(B(i,e),i===n)break;i=i.nextSibling}}}function B(t,e){if(1===t.nodeType){const i=t.style;let n="";for(const t in e)i.setProperty(`--${t}`,e[t]),n+=`--${t}: ${e[t]};`;i[O]=n}}function N(t,e,i){const n=t.style,s=(0,r.HD)(i);if(i&&!s){if(e&&!(0,r.HD)(e))for(const t in e)null==i[t]&&U(n,t,"");for(const t in i)U(n,t,i[t])}else{const r=n.display;if(s){if(e!==i){const t=n[O];t&&(i+=";"+t),n.cssText=i}}else e&&t.removeAttribute("style");E in t&&(n.display=r)}}const j=/\s*!important$/;function U(t,e,i){if((0,r.kJ)(i))i.forEach((i=>U(t,e,i)));else if(null==i&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const n=H(t,e);j.test(i)?t.setProperty((0,r.rs)(n),i.replace(j,""),"important"):t[n]=i}}const V=["Webkit","Moz","ms"],$={};function H(t,e){const i=$[e];if(i)return i;let n=(0,r._A)(e);if("filter"!==n&&n in t)return $[e]=n;n=(0,r.kC)(n);for(let r=0;r<V.length;r++){const i=V[r]+n;if(i in t)return $[e]=i}return e}const q="http://www.w3.org/1999/xlink";function G(t,e,i,n,s){if(n&&e.startsWith("xlink:"))null==i?t.removeAttributeNS(q,e.slice(6,e.length)):t.setAttributeNS(q,e,i);else{const n=(0,r.Pq)(e);null==i||n&&!(0,r.yA)(i)?t.removeAttribute(e):t.setAttribute(e,n?"":i)}}function W(t,e,i,n,s,o,a){if("innerHTML"===e||"textContent"===e)return n&&a(n,s,o),void(t[e]=null==i?"":i);const l=t.tagName;if("value"===e&&"PROGRESS"!==l&&!l.includes("-")){t._value=i;const n="OPTION"===l?t.getAttribute("value"):t.value,r=null==i?"":i;return n!==r&&(t.value=r),void(null==i&&t.removeAttribute(e))}let c=!1;if(""===i||null==i){const n=typeof t[e];"boolean"===n?i=(0,r.yA)(i):null==i&&"string"===n?(i="",c=!0):"number"===n&&(i=0,c=!0)}try{t[e]=i}catch(h){0}c&&t.removeAttribute(e)}function X(t,e,i,n){t.addEventListener(e,i,n)}function Y(t,e,i,n){t.removeEventListener(e,i,n)}const Z=Symbol("_vei");function K(t,e,i,n,r=null){const s=t[Z]||(t[Z]={}),o=s[e];if(n&&o)o.value=n;else{const[i,a]=Q(e);if(n){const o=s[e]=nt(n,r);X(t,i,o,a)}else o&&(Y(t,i,o,a),s[e]=void 0)}}const J=/(?:Once|Passive|Capture)$/;function Q(t){let e;if(J.test(t)){let i;e={};while(i=t.match(J))t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}const i=":"===t[2]?t.slice(3):(0,r.rs)(t.slice(2));return[i,e]}let tt=0;const et=Promise.resolve(),it=()=>tt||(et.then((()=>tt=0)),tt=Date.now());function nt(t,e){const i=t=>{if(t._vts){if(t._vts<=i.attached)return}else t._vts=Date.now();(0,n.$d)(rt(t,i.value),e,5,[t])};return i.value=t,i.attached=it(),i}function rt(t,e){if((0,r.kJ)(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const st=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ot=(t,e,i,n,s=!1,o,a,l,c)=>{"class"===e?P(t,n,s):"style"===e?N(t,i,n):(0,r.F7)(e)?(0,r.tR)(e)||K(t,e,i,n,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):at(t,e,n,s))?W(t,e,n,o,a,l,c):("true-value"===e?t._trueValue=n:"false-value"===e&&(t._falseValue=n),G(t,e,n,s))};function at(t,e,i,n){if(n)return"innerHTML"===e||"textContent"===e||!!(e in t&&st(e)&&(0,r.mf)(i));if("spellcheck"===e||"draggable"===e||"translate"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if("width"===e||"height"===e){const e=t.tagName;if("IMG"===e||"VIDEO"===e||"CANVAS"===e||"SOURCE"===e)return!1}return(!st(e)||!(0,r.HD)(i))&&e in t}
/*! #__NO_SIDE_EFFECTS__ */function lt(t,e){const i=(0,n.aZ)(t);class r extends ut{constructor(t){super(i,t,e)}}return r.def=i,r}
/*! #__NO_SIDE_EFFECTS__ */const ct=t=>lt(t,Zt),ht="undefined"!==typeof HTMLElement?HTMLElement:class{};class ut extends ht{constructor(t,e={},i){super(),this._def=t,this._props=e,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),(0,n.Y3)((()=>{this._connected||(Yt(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver((t=>{for(const e of t)this._setAttr(e.attributeName)})),this._ob.observe(this,{attributes:!0});const t=(t,e=!1)=>{const{props:i,styles:n}=t;let s;if(i&&!(0,r.kJ)(i))for(const o in i){const t=i[o];(t===Number||t&&t.type===Number)&&(o in this._props&&(this._props[o]=(0,r.He)(this._props[o])),(s||(s=Object.create(null)))[(0,r._A)(o)]=!0)}this._numberProps=s,e&&this._resolveProps(t),this._applyStyles(n),this._update()},e=this._def.__asyncLoader;e?e().then((e=>t(e,!0))):t(this._def)}_resolveProps(t){const{props:e}=t,i=(0,r.kJ)(e)?e:Object.keys(e||{});for(const n of Object.keys(this))"_"!==n[0]&&i.includes(n)&&this._setProp(n,this[n],!0,!1);for(const n of i.map(r._A))Object.defineProperty(this,n,{get(){return this._getProp(n)},set(t){this._setProp(n,t)}})}_setAttr(t){let e=this.getAttribute(t);const i=(0,r._A)(t);this._numberProps&&this._numberProps[i]&&(e=(0,r.He)(e)),this._setProp(i,e,!1)}_getProp(t){return this._props[t]}_setProp(t,e,i=!0,n=!0){e!==this._props[t]&&(this._props[t]=e,n&&this._instance&&this._update(),i&&(!0===e?this.setAttribute((0,r.rs)(t),""):"string"===typeof e||"number"===typeof e?this.setAttribute((0,r.rs)(t),e+""):e||this.removeAttribute((0,r.rs)(t))))}_update(){Yt(this._createVNode(),this.shadowRoot)}_createVNode(){const t=(0,n.Wm)(this._def,(0,r.l7)({},this._props));return this._instance||(t.ce=t=>{this._instance=t,t.isCE=!0;const e=(t,e)=>{this.dispatchEvent(new CustomEvent(t,{detail:e}))};t.emit=(t,...i)=>{e(t,i),(0,r.rs)(t)!==t&&e((0,r.rs)(t),i)};let i=this;while(i=i&&(i.parentNode||i.host))if(i instanceof ut){t.parent=i._instance,t.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach((t=>{const e=document.createElement("style");e.textContent=t,this.shadowRoot.appendChild(e)}))}}function dt(t="$style"){{const e=(0,n.FN)();if(!e)return r.kT;const i=e.type.__cssModules;if(!i)return r.kT;const s=i[t];return s||r.kT}}const pt=new WeakMap,ft=new WeakMap,mt=Symbol("_moveCb"),gt=Symbol("_enterCb"),yt={name:"TransitionGroup",props:(0,r.l7)({},m,{tag:String,moveClass:String}),setup(t,{slots:e}){const i=(0,n.FN)(),r=(0,n.Y8)();let o,a;return(0,n.ic)((()=>{if(!o.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!wt(o[0].el,i.vnode.el,e))return;o.forEach(vt),o.forEach(bt);const n=o.filter(_t);M(),n.forEach((t=>{const i=t.el,n=i.style;_(i,e),n.transform=n.webkitTransform=n.transitionDuration="";const r=i[mt]=t=>{t&&t.target!==i||t&&!/transform$/.test(t.propertyName)||(i.removeEventListener("transitionend",r),i[mt]=null,w(i,e))};i.addEventListener("transitionend",r)}))})),()=>{const l=(0,s.IU)(t),c=x(l);let h=l.tag||n.HY;o=a,a=e.default?(0,n.Q6)(e.default()):[];for(let t=0;t<a.length;t++){const e=a[t];null!=e.key&&(0,n.nK)(e,(0,n.U2)(e,c,r,i))}if(o)for(let t=0;t<o.length;t++){const e=o[t];(0,n.nK)(e,(0,n.U2)(e,c,r,i)),pt.set(e,e.el.getBoundingClientRect())}return(0,n.Wm)(h,null,a)}}};yt.props;const xt=yt;function vt(t){const e=t.el;e[mt]&&e[mt](),e[gt]&&e[gt]()}function bt(t){ft.set(t,t.el.getBoundingClientRect())}function _t(t){const e=pt.get(t),i=ft.get(t),n=e.left-i.left,r=e.top-i.top;if(n||r){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${n}px,${r}px)`,e.transitionDuration="0s",t}}function wt(t,e,i){const n=t.cloneNode(),r=t[d];r&&r.forEach((t=>{t.split(/\s+/).forEach((t=>t&&n.classList.remove(t)))})),i.split(/\s+/).forEach((t=>t&&n.classList.add(t))),n.style.display="none";const s=1===e.nodeType?e:e.parentNode;s.appendChild(n);const{hasTransform:o}=k(n);return s.removeChild(n),o}const St=t=>{const e=t.props["onUpdate:modelValue"]||!1;return(0,r.kJ)(e)?t=>(0,r.ir)(e,t):e};function Ct(t){t.target.composing=!0}function Tt(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const kt=Symbol("_assign"),At={created(t,{modifiers:{lazy:e,trim:i,number:n}},s){t[kt]=St(s);const o=n||s.props&&"number"===s.props.type;X(t,e?"change":"input",(e=>{if(e.target.composing)return;let n=t.value;i&&(n=n.trim()),o&&(n=(0,r.h5)(n)),t[kt](n)})),i&&X(t,"change",(()=>{t.value=t.value.trim()})),e||(X(t,"compositionstart",Ct),X(t,"compositionend",Tt),X(t,"change",Tt))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:i,trim:n,number:s}},o){if(t[kt]=St(o),t.composing)return;const a=s||"number"===t.type?(0,r.h5)(t.value):t.value,l=null==e?"":e;if(a!==l){if(document.activeElement===t&&"range"!==t.type){if(i)return;if(n&&t.value.trim()===l)return}t.value=l}}},It={deep:!0,created(t,e,i){t[kt]=St(i),X(t,"change",(()=>{const e=t._modelValue,i=Lt(t),n=t.checked,s=t[kt];if((0,r.kJ)(e)){const t=(0,r.hq)(e,i),o=-1!==t;if(n&&!o)s(e.concat(i));else if(!n&&o){const i=[...e];i.splice(t,1),s(i)}}else if((0,r.DM)(e)){const t=new Set(e);n?t.add(i):t.delete(i),s(t)}else s(zt(t,n))}))},mounted:Mt,beforeUpdate(t,e,i){t[kt]=St(i),Mt(t,e,i)}};function Mt(t,{value:e,oldValue:i},n){t._modelValue=e,(0,r.kJ)(e)?t.checked=(0,r.hq)(e,n.props.value)>-1:(0,r.DM)(e)?t.checked=e.has(n.props.value):e!==i&&(t.checked=(0,r.WV)(e,zt(t,!0)))}const Pt={created(t,{value:e},i){t.checked=(0,r.WV)(e,i.props.value),t[kt]=St(i),X(t,"change",(()=>{t[kt](Lt(t))}))},beforeUpdate(t,{value:e,oldValue:i},n){t[kt]=St(n),e!==i&&(t.checked=(0,r.WV)(e,n.props.value))}},Et={deep:!0,created(t,{value:e,modifiers:{number:i}},n){const s=(0,r.DM)(e);X(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>i?(0,r.h5)(Lt(t)):Lt(t)));t[kt](t.multiple?s?new Set(e):e:e[0])})),t[kt]=St(n)},mounted(t,{value:e}){Dt(t,e)},beforeUpdate(t,e,i){t[kt]=St(i)},updated(t,{value:e}){Dt(t,e)}};function Dt(t,e){const i=t.multiple;if(!i||(0,r.kJ)(e)||(0,r.DM)(e)){for(let n=0,s=t.options.length;n<s;n++){const s=t.options[n],o=Lt(s);if(i)(0,r.kJ)(e)?s.selected=(0,r.hq)(e,o)>-1:s.selected=e.has(o);else if((0,r.WV)(Lt(s),e))return void(t.selectedIndex!==n&&(t.selectedIndex=n))}i||-1===t.selectedIndex||(t.selectedIndex=-1)}}function Lt(t){return"_value"in t?t._value:t.value}function zt(t,e){const i=e?"_trueValue":"_falseValue";return i in t?t[i]:e}const Ot={created(t,e,i){Rt(t,e,i,null,"created")},mounted(t,e,i){Rt(t,e,i,null,"mounted")},beforeUpdate(t,e,i,n){Rt(t,e,i,n,"beforeUpdate")},updated(t,e,i,n){Rt(t,e,i,n,"updated")}};function Ft(t,e){switch(t){case"SELECT":return Et;case"TEXTAREA":return At;default:switch(e){case"checkbox":return It;case"radio":return Pt;default:return At}}}function Rt(t,e,i,n,r){const s=Ft(t.tagName,i.props&&i.props.type),o=s[r];o&&o(t,e,i,n)}function Bt(){At.getSSRProps=({value:t})=>({value:t}),Pt.getSSRProps=({value:t},e)=>{if(e.props&&(0,r.WV)(e.props.value,t))return{checked:!0}},It.getSSRProps=({value:t},e)=>{if((0,r.kJ)(t)){if(e.props&&(0,r.hq)(t,e.props.value)>-1)return{checked:!0}}else if((0,r.DM)(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Ot.getSSRProps=(t,e)=>{if("string"!==typeof e.type)return;const i=Ft(e.type.toUpperCase(),e.props&&e.props.type);return i.getSSRProps?i.getSSRProps(t,e):void 0}}const Nt=["ctrl","shift","alt","meta"],jt={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>Nt.some((i=>t[`${i}Key`]&&!e.includes(i)))},Ut=(t,e)=>{const i=t._withMods||(t._withMods={}),n=e.join(".");return i[n]||(i[n]=(i,...n)=>{for(let t=0;t<e.length;t++){const n=jt[e[t]];if(n&&n(i,e))return}return t(i,...n)})},Vt={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},$t=(t,e)=>{const i=t._withKeys||(t._withKeys={}),n=e.join(".");return i[n]||(i[n]=i=>{if(!("key"in i))return;const n=(0,r.rs)(i.key);return e.some((t=>t===n||Vt[t]===n))?t(i):void 0})},Ht=(0,r.l7)({patchProp:ot},c);let qt,Gt=!1;function Wt(){return qt||(qt=(0,n.Us)(Ht))}function Xt(){return qt=Gt?qt:(0,n.Eo)(Ht),Gt=!0,qt}const Yt=(...t)=>{Wt().render(...t)},Zt=(...t)=>{Xt().hydrate(...t)},Kt=(...t)=>{const e=Wt().createApp(...t);const{mount:i}=e;return e.mount=t=>{const n=Qt(t);if(!n)return;const s=e._component;(0,r.mf)(s)||s.render||s.template||(s.template=n.innerHTML),n.innerHTML="";const o=i(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e},Jt=(...t)=>{const e=Xt().createApp(...t);const{mount:i}=e;return e.mount=t=>{const e=Qt(t);if(e)return i(e,!0,e instanceof SVGElement)},e};function Qt(t){if((0,r.HD)(t)){const e=document.querySelector(t);return e}return t}let te=!1;const ee=()=>{te||(te=!0,Bt(),z())}},3577:function(t,e,i){"use strict";function n(t,e){const i=Object.create(null),n=t.split(",");for(let r=0;r<n.length;r++)i[n[r]]=!0;return e?t=>!!i[t.toLowerCase()]:t=>!!i[t]}i.d(e,{C_:function(){return K},DM:function(){return g},E9:function(){return $},F7:function(){return l},Gg:function(){return M},HD:function(){return b},He:function(){return U},Kj:function(){return x},Kn:function(){return w},NO:function(){return a},Nj:function(){return N},Od:function(){return u},PO:function(){return A},Pq:function(){return tt},RI:function(){return p},S0:function(){return I},W7:function(){return k},WV:function(){return nt},Z6:function(){return s},_A:function(){return D},_N:function(){return m},aU:function(){return R},dG:function(){return o},fY:function(){return n},h5:function(){return j},hR:function(){return F},hq:function(){return rt},ir:function(){return B},j5:function(){return G},kC:function(){return O},kJ:function(){return f},kT:function(){return r},l7:function(){return h},mf:function(){return v},rs:function(){return z},tI:function(){return S},tR:function(){return c},vs:function(){return J},yA:function(){return et},yk:function(){return _},yl:function(){return q},zw:function(){return st}});const r={},s=[],o=()=>{},a=()=>!1,l=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),c=t=>t.startsWith("onUpdate:"),h=Object.assign,u=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},d=Object.prototype.hasOwnProperty,p=(t,e)=>d.call(t,e),f=Array.isArray,m=t=>"[object Map]"===T(t),g=t=>"[object Set]"===T(t),y=t=>"[object Date]"===T(t),x=t=>"[object RegExp]"===T(t),v=t=>"function"===typeof t,b=t=>"string"===typeof t,_=t=>"symbol"===typeof t,w=t=>null!==t&&"object"===typeof t,S=t=>(w(t)||v(t))&&v(t.then)&&v(t.catch),C=Object.prototype.toString,T=t=>C.call(t),k=t=>T(t).slice(8,-1),A=t=>"[object Object]"===T(t),I=t=>b(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,M=n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),P=t=>{const e=Object.create(null);return i=>{const n=e[i];return n||(e[i]=t(i))}},E=/-(\w)/g,D=P((t=>t.replace(E,((t,e)=>e?e.toUpperCase():"")))),L=/\B([A-Z])/g,z=P((t=>t.replace(L,"-$1").toLowerCase())),O=P((t=>t.charAt(0).toUpperCase()+t.slice(1))),F=P((t=>{const e=t?`on${O(t)}`:"";return e})),R=(t,e)=>!Object.is(t,e),B=(t,e)=>{for(let i=0;i<t.length;i++)t[i](e)},N=(t,e,i)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:i})},j=t=>{const e=parseFloat(t);return isNaN(e)?t:e},U=t=>{const e=b(t)?Number(t):NaN;return isNaN(e)?t:e};let V;const $=()=>V||(V="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof i.g?i.g:{});const H="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",q=n(H);function G(t){if(f(t)){const e={};for(let i=0;i<t.length;i++){const n=t[i],r=b(n)?Z(n):G(n);if(r)for(const t in r)e[t]=r[t]}return e}if(b(t)||w(t))return t}const W=/;(?![^(]*\))/g,X=/:([^]+)/,Y=/\/\*[^]*?\*\//g;function Z(t){const e={};return t.replace(Y,"").split(W).forEach((t=>{if(t){const i=t.split(X);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}function K(t){let e="";if(b(t))e=t;else if(f(t))for(let i=0;i<t.length;i++){const n=K(t[i]);n&&(e+=n+" ")}else if(w(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}function J(t){if(!t)return null;let{class:e,style:i}=t;return e&&!b(e)&&(t.class=K(e)),i&&(t.style=G(i)),t}const Q="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tt=n(Q);function et(t){return!!t||""===t}function it(t,e){if(t.length!==e.length)return!1;let i=!0;for(let n=0;i&&n<t.length;n++)i=nt(t[n],e[n]);return i}function nt(t,e){if(t===e)return!0;let i=y(t),n=y(e);if(i||n)return!(!i||!n)&&t.getTime()===e.getTime();if(i=_(t),n=_(e),i||n)return t===e;if(i=f(t),n=f(e),i||n)return!(!i||!n)&&it(t,e);if(i=w(t),n=w(e),i||n){if(!i||!n)return!1;const r=Object.keys(t).length,s=Object.keys(e).length;if(r!==s)return!1;for(const i in t){const n=t.hasOwnProperty(i),r=e.hasOwnProperty(i);if(n&&!r||!n&&r||!nt(t[i],e[i]))return!1}}return String(t)===String(e)}function rt(t,e){return t.findIndex((t=>nt(t,e)))}const st=t=>b(t)?t:null==t?"":f(t)||w(t)&&(t.toString===C||!v(t.toString))?JSON.stringify(t,ot,2):String(t),ot=(t,e)=>e&&e.__v_isRef?ot(t,e.value):m(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,i],n)=>(t[at(e,n)+" =>"]=i,t)),{})}:g(e)?{[`Set(${e.size})`]:[...e.values()].map((t=>at(t)))}:_(e)?at(e):!w(e)||f(e)||A(e)?e:String(e),at=(t,e="")=>{var i;return _(t)?`Symbol(${null!=(i=t.description)?i:e})`:t}},3734:function(t,e,i){
/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,n){t.exports=n(i(6980))})(0,(function(t){"use strict";function e(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t)for(const i in t)if("default"!==i){const n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:()=>t[i]})}return e.default=t,Object.freeze(e)}const i=e(t),n=new Map,r={set(t,e,i){n.has(t)||n.set(t,new Map);const r=n.get(t);r.has(e)||0===r.size?r.set(e,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get(t,e){return n.has(t)&&n.get(t).get(e)||null},remove(t,e){if(!n.has(t))return;const i=n.get(t);i.delete(e),0===i.size&&n.delete(t)}},s=1e6,o=1e3,a="transitionend",l=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,((t,e)=>`#${CSS.escape(e)}`))),t),c=t=>null===t||void 0===t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),h=t=>{do{t+=Math.floor(Math.random()*s)}while(document.getElementById(t));return t},u=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const n=Number.parseFloat(e),r=Number.parseFloat(i);return n||r?(e=e.split(",")[0],i=i.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(i))*o):0},d=t=>{t.dispatchEvent(new Event(a))},p=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),f=t=>p(t)?t.jquery?t[0]:t:"string"===typeof t&&t.length>0?document.querySelector(l(t)):null,m=t=>{if(!p(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),i=t.closest("details:not([open])");if(!i)return e;if(i!==t){const e=t.closest("summary");if(e&&e.parentNode!==i)return!1;if(null===e)return!1}return e},g=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||("undefined"!==typeof t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),y=t=>{if(!document.documentElement.attachShadow)return null;if("function"===typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?y(t.parentNode):null},x=()=>{},v=t=>{t.offsetHeight},b=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,_=[],w=t=>{"loading"===document.readyState?(_.length||document.addEventListener("DOMContentLoaded",(()=>{for(const t of _)t()})),_.push(t)):t()},S=()=>"rtl"===document.documentElement.dir,C=t=>{w((()=>{const e=b();if(e){const i=t.NAME,n=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=n,t.jQueryInterface)}}))},T=(t,e=[],i=t)=>"function"===typeof t?t(...e):i,k=(t,e,i=!0)=>{if(!i)return void T(t);const n=5,r=u(e)+n;let s=!1;const o=({target:i})=>{i===e&&(s=!0,e.removeEventListener(a,o),T(t))};e.addEventListener(a,o),setTimeout((()=>{s||d(e)}),r)},A=(t,e,i,n)=>{const r=t.length;let s=t.indexOf(e);return-1===s?!i&&n?t[r-1]:t[0]:(s+=i?1:-1,n&&(s=(s+r)%r),t[Math.max(0,Math.min(s,r-1))])},I=/[^.]*(?=\..*)\.|.*/,M=/\..*/,P=/::\d+$/,E={};let D=1;const L={mouseenter:"mouseover",mouseleave:"mouseout"},z=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function O(t,e){return e&&`${e}::${D++}`||t.uidEvent||D++}function F(t){const e=O(t);return t.uidEvent=e,E[e]=E[e]||{},E[e]}function R(t,e){return function i(n){return G(n,{delegateTarget:t}),i.oneOff&&q.off(t,n.type,e),e.apply(t,[n])}}function B(t,e,i){return function n(r){const s=t.querySelectorAll(e);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(const a of s)if(a===o)return G(r,{delegateTarget:o}),n.oneOff&&q.off(t,r.type,e,i),i.apply(o,[r])}}function N(t,e,i=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===i))}function j(t,e,i){const n="string"===typeof e,r=n?i:e||i;let s=H(t);return z.has(s)||(s=t),[n,r,s]}function U(t,e,i,n,r){if("string"!==typeof e||!t)return;let[s,o,a]=j(e,i,n);if(e in L){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};o=t(o)}const l=F(t),c=l[a]||(l[a]={}),h=N(c,o,s?i:null);if(h)return void(h.oneOff=h.oneOff&&r);const u=O(o,e.replace(I,"")),d=s?B(t,i,o):R(t,o);d.delegationSelector=s?i:null,d.callable=o,d.oneOff=r,d.uidEvent=u,c[u]=d,t.addEventListener(a,d,s)}function V(t,e,i,n,r){const s=N(e[i],n,r);s&&(t.removeEventListener(i,s,Boolean(r)),delete e[i][s.uidEvent])}function $(t,e,i,n){const r=e[i]||{};for(const[s,o]of Object.entries(r))s.includes(n)&&V(t,e,i,o.callable,o.delegationSelector)}function H(t){return t=t.replace(M,""),L[t]||t}const q={on(t,e,i,n){U(t,e,i,n,!1)},one(t,e,i,n){U(t,e,i,n,!0)},off(t,e,i,n){if("string"!==typeof e||!t)return;const[r,s,o]=j(e,i,n),a=o!==e,l=F(t),c=l[o]||{},h=e.startsWith(".");if("undefined"===typeof s){if(h)for(const i of Object.keys(l))$(t,l,i,e.slice(1));for(const[i,n]of Object.entries(c)){const r=i.replace(P,"");a&&!e.includes(r)||V(t,l,o,n.callable,n.delegationSelector)}}else{if(!Object.keys(c).length)return;V(t,l,o,s,r?i:null)}},trigger(t,e,i){if("string"!==typeof e||!t)return null;const n=b(),r=H(e),s=e!==r;let o=null,a=!0,l=!0,c=!1;s&&n&&(o=n.Event(e,i),n(t).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const h=G(new Event(e,{bubbles:a,cancelable:!0}),i);return c&&h.preventDefault(),l&&t.dispatchEvent(h),h.defaultPrevented&&o&&o.preventDefault(),h}};function G(t,e={}){for(const[n,r]of Object.entries(e))try{t[n]=r}catch(i){Object.defineProperty(t,n,{configurable:!0,get(){return r}})}return t}function W(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!==typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function X(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const Y={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${X(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${X(e)}`)},getDataAttributes(t){if(!t)return{};const e={},i=Object.keys(t.dataset).filter((t=>t.startsWith("bs")&&!t.startsWith("bsConfig")));for(const n of i){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=W(t.dataset[n])}return e},getDataAttribute(t,e){return W(t.getAttribute(`data-bs-${X(e)}`))}};class Z{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=p(e)?Y.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"===typeof i?i:{},...p(e)?Y.getDataAttributes(e):{},..."object"===typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,n]of Object.entries(e)){const e=t[i],r=p(e)?"element":c(e);if(!new RegExp(n).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${r}" but expected type "${n}".`)}}}const K="5.3.2";class J extends Z{constructor(t,e){super(),t=f(t),t&&(this._element=t,this._config=this._getConfig(e),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),q.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){k(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return r.get(f(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"===typeof e?e:null)}static get VERSION(){return K}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Q=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&"#"!==i?l(i.trim()):null}return e},tt={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter((t=>t.matches(e)))},parents(t,e){const i=[];let n=t.parentNode.closest(e);while(n)i.push(n),n=n.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;while(i){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;while(i){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(",");return this.find(e,t).filter((t=>!g(t)&&m(t)))},getSelectorFromElement(t){const e=Q(t);return e&&tt.findOne(e)?e:null},getElementFromSelector(t){const e=Q(t);return e?tt.findOne(e):null},getMultipleElementsFromSelector(t){const e=Q(t);return e?tt.find(e):[]}},et=(t,e="hide")=>{const i=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;q.on(document,i,`[data-bs-dismiss="${n}"]`,(function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),g(this))return;const r=tt.getElementFromSelector(this)||this.closest(`.${n}`),s=t.getOrCreateInstance(r);s[e]()}))},it="alert",nt="bs.alert",rt=`.${nt}`,st=`close${rt}`,ot=`closed${rt}`,at="fade",lt="show";class ct extends J{static get NAME(){return it}close(){const t=q.trigger(this._element,st);if(t.defaultPrevented)return;this._element.classList.remove(lt);const e=this._element.classList.contains(at);this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),q.trigger(this._element,ot),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=ct.getOrCreateInstance(this);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}et(ct,"close"),C(ct);const ht="button",ut="bs.button",dt=`.${ut}`,pt=".data-api",ft="active",mt='[data-bs-toggle="button"]',gt=`click${dt}${pt}`;class yt extends J{static get NAME(){return ht}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ft))}static jQueryInterface(t){return this.each((function(){const e=yt.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}q.on(document,gt,mt,(t=>{t.preventDefault();const e=t.target.closest(mt),i=yt.getOrCreateInstance(e);i.toggle()})),C(yt);const xt="swipe",vt=".bs.swipe",bt=`touchstart${vt}`,_t=`touchmove${vt}`,wt=`touchend${vt}`,St=`pointerdown${vt}`,Ct=`pointerup${vt}`,Tt="touch",kt="pen",At="pointer-event",It=40,Mt={endCallback:null,leftCallback:null,rightCallback:null},Pt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Et extends Z{constructor(t,e){super(),this._element=t,t&&Et.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Mt}static get DefaultType(){return Pt}static get NAME(){return xt}dispose(){q.off(this._element,vt)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),T(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=It)return;const e=t/this._deltaX;this._deltaX=0,e&&T(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(q.on(this._element,St,(t=>this._start(t))),q.on(this._element,Ct,(t=>this._end(t))),this._element.classList.add(At)):(q.on(this._element,bt,(t=>this._start(t))),q.on(this._element,_t,(t=>this._move(t))),q.on(this._element,wt,(t=>this._end(t))))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===kt||t.pointerType===Tt)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Dt="carousel",Lt="bs.carousel",zt=`.${Lt}`,Ot=".data-api",Ft="ArrowLeft",Rt="ArrowRight",Bt=500,Nt="next",jt="prev",Ut="left",Vt="right",$t=`slide${zt}`,Ht=`slid${zt}`,qt=`keydown${zt}`,Gt=`mouseenter${zt}`,Wt=`mouseleave${zt}`,Xt=`dragstart${zt}`,Yt=`load${zt}${Ot}`,Zt=`click${zt}${Ot}`,Kt="carousel",Jt="active",Qt="slide",te="carousel-item-end",ee="carousel-item-start",ie="carousel-item-next",ne="carousel-item-prev",re=".active",se=".carousel-item",oe=re+se,ae=".carousel-item img",le=".carousel-indicators",ce="[data-bs-slide], [data-bs-slide-to]",he='[data-bs-ride="carousel"]',ue={[Ft]:Vt,[Rt]:Ut},de={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},pe={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class fe extends J{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=tt.findOne(le,this._element),this._addEventListeners(),this._config.ride===Kt&&this.cycle()}static get Default(){return de}static get DefaultType(){return pe}static get NAME(){return Dt}next(){this._slide(Nt)}nextWhenVisible(){!document.hidden&&m(this._element)&&this.next()}prev(){this._slide(jt)}pause(){this._isSliding&&d(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?q.one(this._element,Ht,(()=>this.cycle())):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void q.one(this._element,Ht,(()=>this.to(t)));const i=this._getItemIndex(this._getActive());if(i===t)return;const n=t>i?Nt:jt;this._slide(n,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&q.on(this._element,qt,(t=>this._keydown(t))),"hover"===this._config.pause&&(q.on(this._element,Gt,(()=>this.pause())),q.on(this._element,Wt,(()=>this._maybeEnableCycle()))),this._config.touch&&Et.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of tt.find(ae,this._element))q.on(i,Xt,(t=>t.preventDefault()));const t=()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),Bt+this._config.interval))},e={leftCallback:()=>this._slide(this._directionToOrder(Ut)),rightCallback:()=>this._slide(this._directionToOrder(Vt)),endCallback:t};this._swipeHelper=new Et(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=ue[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=tt.findOne(re,this._indicatorsElement);e.classList.remove(Jt),e.removeAttribute("aria-current");const i=tt.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(Jt),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),n=t===Nt,r=e||A(this._getItems(),i,n,this._config.wrap);if(r===i)return;const s=this._getItemIndex(r),o=e=>q.trigger(this._element,e,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:s}),a=o($t);if(a.defaultPrevented)return;if(!i||!r)return;const l=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=r;const c=n?ee:te,h=n?ie:ne;r.classList.add(h),v(r),i.classList.add(c),r.classList.add(c);const u=()=>{r.classList.remove(c,h),r.classList.add(Jt),i.classList.remove(Jt,h,c),this._isSliding=!1,o(Ht)};this._queueCallback(u,i,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains(Qt)}_getActive(){return tt.findOne(oe,this._element)}_getItems(){return tt.find(se,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return S()?t===Ut?jt:Nt:t===Ut?Nt:jt}_orderToDirection(t){return S()?t===jt?Ut:Vt:t===jt?Vt:Ut}static jQueryInterface(t){return this.each((function(){const e=fe.getOrCreateInstance(this,t);if("number"!==typeof t){if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)}))}}q.on(document,Zt,ce,(function(t){const e=tt.getElementFromSelector(this);if(!e||!e.classList.contains(Kt))return;t.preventDefault();const i=fe.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");return n?(i.to(n),void i._maybeEnableCycle()):"next"===Y.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())})),q.on(window,Yt,(()=>{const t=tt.find(he);for(const e of t)fe.getOrCreateInstance(e)})),C(fe);const me="collapse",ge="bs.collapse",ye=`.${ge}`,xe=".data-api",ve=`show${ye}`,be=`shown${ye}`,_e=`hide${ye}`,we=`hidden${ye}`,Se=`click${ye}${xe}`,Ce="show",Te="collapse",ke="collapsing",Ae="collapsed",Ie=`:scope .${Te} .${Te}`,Me="collapse-horizontal",Pe="width",Ee="height",De=".collapse.show, .collapse.collapsing",Le='[data-bs-toggle="collapse"]',ze={parent:null,toggle:!0},Oe={parent:"(null|element)",toggle:"boolean"};class Fe extends J{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=tt.find(Le);for(const n of i){const t=tt.getSelectorFromElement(n),e=tt.find(t).filter((t=>t===this._element));null!==t&&e.length&&this._triggerArray.push(n)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ze}static get DefaultType(){return Oe}static get NAME(){return me}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(De).filter((t=>t!==this._element)).map((t=>Fe.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;const e=q.trigger(this._element,ve);if(e.defaultPrevented)return;for(const o of t)o.hide();const i=this._getDimension();this._element.classList.remove(Te),this._element.classList.add(ke),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(ke),this._element.classList.add(Te,Ce),this._element.style[i]="",q.trigger(this._element,be)},r=i[0].toUpperCase()+i.slice(1),s=`scroll${r}`;this._queueCallback(n,this._element,!0),this._element.style[i]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown())return;const t=q.trigger(this._element,_e);if(t.defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,v(this._element),this._element.classList.add(ke),this._element.classList.remove(Te,Ce);for(const n of this._triggerArray){const t=tt.getElementFromSelector(n);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([n],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(ke),this._element.classList.add(Te),q.trigger(this._element,we)};this._element.style[e]="",this._queueCallback(i,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Ce)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=f(t.parent),t}_getDimension(){return this._element.classList.contains(Me)?Pe:Ee}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Le);for(const e of t){const t=tt.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=tt.find(Ie,this._config.parent);return tt.find(t,this._config.parent).filter((t=>!e.includes(t)))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle(Ae,!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"===typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each((function(){const i=Fe.getOrCreateInstance(this,e);if("string"===typeof t){if("undefined"===typeof i[t])throw new TypeError(`No method named "${t}"`);i[t]()}}))}}q.on(document,Se,Le,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const e of tt.getMultipleElementsFromSelector(this))Fe.getOrCreateInstance(e,{toggle:!1}).toggle()})),C(Fe);const Re="dropdown",Be="bs.dropdown",Ne=`.${Be}`,je=".data-api",Ue="Escape",Ve="Tab",$e="ArrowUp",He="ArrowDown",qe=2,Ge=`hide${Ne}`,We=`hidden${Ne}`,Xe=`show${Ne}`,Ye=`shown${Ne}`,Ze=`click${Ne}${je}`,Ke=`keydown${Ne}${je}`,Je=`keyup${Ne}${je}`,Qe="show",ti="dropup",ei="dropend",ii="dropstart",ni="dropup-center",ri="dropdown-center",si='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',oi=`${si}.${Qe}`,ai=".dropdown-menu",li=".navbar",ci=".navbar-nav",hi=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ui=S()?"top-end":"top-start",di=S()?"top-start":"top-end",pi=S()?"bottom-end":"bottom-start",fi=S()?"bottom-start":"bottom-end",mi=S()?"left-start":"right-start",gi=S()?"right-start":"left-start",yi="top",xi="bottom",vi={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},bi={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class _i extends J{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=tt.next(this._element,ai)[0]||tt.prev(this._element,ai)[0]||tt.findOne(ai,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return vi}static get DefaultType(){return bi}static get NAME(){return Re}toggle(){return this._isShown()?this.hide():this.show()}show(){if(g(this._element)||this._isShown())return;const t={relatedTarget:this._element},e=q.trigger(this._element,Xe,t);if(!e.defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ci))for(const t of[].concat(...document.body.children))q.on(t,"mouseover",x);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Qe),this._element.classList.add(Qe),q.trigger(this._element,Ye,t)}}hide(){if(g(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){const e=q.trigger(this._element,Ge,t);if(!e.defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))q.off(t,"mouseover",x);this._popper&&this._popper.destroy(),this._menu.classList.remove(Qe),this._element.classList.remove(Qe),this._element.setAttribute("aria-expanded","false"),Y.removeDataAttribute(this._menu,"popper"),q.trigger(this._element,We,t)}}_getConfig(t){if(t=super._getConfig(t),"object"===typeof t.reference&&!p(t.reference)&&"function"!==typeof t.reference.getBoundingClientRect)throw new TypeError(`${Re.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if("undefined"===typeof i)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:p(this._config.reference)?t=f(this._config.reference):"object"===typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=i.createPopper(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Qe)}_getPlacement(){const t=this._parent;if(t.classList.contains(ei))return mi;if(t.classList.contains(ii))return gi;if(t.classList.contains(ni))return yi;if(t.classList.contains(ri))return xi;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains(ti)?e?di:ui:e?fi:pi}_detectNavbar(){return null!==this._element.closest(li)}_getOffset(){const{offset:t}=this._config;return"string"===typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"===typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Y.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...T(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){const i=tt.find(hi,this._menu).filter((t=>m(t)));i.length&&A(i,e,t===He,!i.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=_i.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(t.button===qe||"keyup"===t.type&&t.key!==Ve)return;const e=tt.find(oi);for(const i of e){const e=_i.getInstance(i);if(!e||!1===e._config.autoClose)continue;const n=t.composedPath(),r=n.includes(e._menu);if(n.includes(e._element)||"inside"===e._config.autoClose&&!r||"outside"===e._config.autoClose&&r)continue;if(e._menu.contains(t.target)&&("keyup"===t.type&&t.key===Ve||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const s={relatedTarget:e._element};"click"===t.type&&(s.clickEvent=t),e._completeHide(s)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i=t.key===Ue,n=[$e,He].includes(t.key);if(!n&&!i)return;if(e&&!i)return;t.preventDefault();const r=this.matches(si)?this:tt.prev(this,si)[0]||tt.next(this,si)[0]||tt.findOne(si,t.delegateTarget.parentNode),s=_i.getOrCreateInstance(r);if(n)return t.stopPropagation(),s.show(),void s._selectMenuItem(t);s._isShown()&&(t.stopPropagation(),s.hide(),r.focus())}}q.on(document,Ke,si,_i.dataApiKeydownHandler),q.on(document,Ke,ai,_i.dataApiKeydownHandler),q.on(document,Ze,_i.clearMenus),q.on(document,Je,_i.clearMenus),q.on(document,Ze,si,(function(t){t.preventDefault(),_i.getOrCreateInstance(this).toggle()})),C(_i);const wi="backdrop",Si="fade",Ci="show",Ti=`mousedown.bs.${wi}`,ki={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ai={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ii extends Z{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return ki}static get DefaultType(){return Ai}static get NAME(){return wi}show(t){if(!this._config.isVisible)return void T(t);this._append();const e=this._getElement();this._config.isAnimated&&v(e),e.classList.add(Ci),this._emulateAnimation((()=>{T(t)}))}hide(t){this._config.isVisible?(this._getElement().classList.remove(Ci),this._emulateAnimation((()=>{this.dispose(),T(t)}))):T(t)}dispose(){this._isAppended&&(q.off(this._element,Ti),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Si),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=f(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),q.on(t,Ti,(()=>{T(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(t){k(t,this._getElement(),this._config.isAnimated)}}const Mi="focustrap",Pi="bs.focustrap",Ei=`.${Pi}`,Di=`focusin${Ei}`,Li=`keydown.tab${Ei}`,zi="Tab",Oi="forward",Fi="backward",Ri={autofocus:!0,trapElement:null},Bi={autofocus:"boolean",trapElement:"element"};class Ni extends Z{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ri}static get DefaultType(){return Bi}static get NAME(){return Mi}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),q.off(document,Ei),q.on(document,Di,(t=>this._handleFocusin(t))),q.on(document,Li,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,q.off(document,Ei))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=tt.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===Fi?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){t.key===zi&&(this._lastTabNavDirection=t.shiftKey?Fi:Oi)}}const ji=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ui=".sticky-top",Vi="padding-right",$i="margin-right";class Hi{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Vi,(e=>e+t)),this._setElementAttributes(ji,Vi,(e=>e+t)),this._setElementAttributes(Ui,$i,(e=>e-t))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Vi),this._resetElementAttributes(ji,Vi),this._resetElementAttributes(Ui,$i)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const n=this.getWidth(),r=t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+n)return;this._saveInitialAttribute(t,e);const r=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${i(Number.parseFloat(r))}px`)};this._applyManipulationCallback(t,r)}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&Y.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){const i=t=>{const i=Y.getDataAttribute(t,e);null!==i?(Y.removeDataAttribute(t,e),t.style.setProperty(e,i)):t.style.removeProperty(e)};this._applyManipulationCallback(t,i)}_applyManipulationCallback(t,e){if(p(t))e(t);else for(const i of tt.find(t,this._element))e(i)}}const qi="modal",Gi="bs.modal",Wi=`.${Gi}`,Xi=".data-api",Yi="Escape",Zi=`hide${Wi}`,Ki=`hidePrevented${Wi}`,Ji=`hidden${Wi}`,Qi=`show${Wi}`,tn=`shown${Wi}`,en=`resize${Wi}`,nn=`click.dismiss${Wi}`,rn=`mousedown.dismiss${Wi}`,sn=`keydown.dismiss${Wi}`,on=`click${Wi}${Xi}`,an="modal-open",ln="fade",cn="show",hn="modal-static",un=".modal.show",dn=".modal-dialog",pn=".modal-body",fn='[data-bs-toggle="modal"]',mn={backdrop:!0,focus:!0,keyboard:!0},gn={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class yn extends J{constructor(t,e){super(t,e),this._dialog=tt.findOne(dn,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Hi,this._addEventListeners()}static get Default(){return mn}static get DefaultType(){return gn}static get NAME(){return qi}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;const e=q.trigger(this._element,Qi,{relatedTarget:t});e.defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(an),this._adjustDialog(),this._backdrop.show((()=>this._showElement(t))))}hide(){if(!this._isShown||this._isTransitioning)return;const t=q.trigger(this._element,Zi);t.defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(cn),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated()))}dispose(){q.off(window,Wi),q.off(this._dialog,Wi),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ii({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ni({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=tt.findOne(pn,this._dialog);e&&(e.scrollTop=0),v(this._element),this._element.classList.add(cn);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,q.trigger(this._element,tn,{relatedTarget:t})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){q.on(this._element,sn,(t=>{t.key===Yi&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),q.on(window,en,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),q.on(this._element,rn,(t=>{q.one(this._element,nn,(e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(an),this._resetAdjustments(),this._scrollBar.reset(),q.trigger(this._element,Ji)}))}_isAnimated(){return this._element.classList.contains(ln)}_triggerBackdropTransition(){const t=q.trigger(this._element,Ki);if(t.defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(hn)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(hn),this._queueCallback((()=>{this._element.classList.remove(hn),this._queueCallback((()=>{this._element.style.overflowY=i}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const t=S()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!i&&t){const t=S()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const i=yn.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}}))}}q.on(document,on,fn,(function(t){const e=tt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),q.one(e,Qi,(t=>{t.defaultPrevented||q.one(e,Ji,(()=>{m(this)&&this.focus()}))}));const i=tt.findOne(un);i&&yn.getInstance(i).hide();const n=yn.getOrCreateInstance(e);n.toggle(this)})),et(yn),C(yn);const xn="offcanvas",vn="bs.offcanvas",bn=`.${vn}`,_n=".data-api",wn=`load${bn}${_n}`,Sn="Escape",Cn="show",Tn="showing",kn="hiding",An="offcanvas-backdrop",In=".offcanvas.show",Mn=`show${bn}`,Pn=`shown${bn}`,En=`hide${bn}`,Dn=`hidePrevented${bn}`,Ln=`hidden${bn}`,zn=`resize${bn}`,On=`click${bn}${_n}`,Fn=`keydown.dismiss${bn}`,Rn='[data-bs-toggle="offcanvas"]',Bn={backdrop:!0,keyboard:!0,scroll:!1},Nn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class jn extends J{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Bn}static get DefaultType(){return Nn}static get NAME(){return xn}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown)return;const e=q.trigger(this._element,Mn,{relatedTarget:t});if(e.defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Hi).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Tn);const i=()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Cn),this._element.classList.remove(Tn),q.trigger(this._element,Pn,{relatedTarget:t})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown)return;const t=q.trigger(this._element,En);if(t.defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(kn),this._backdrop.hide();const e=()=>{this._element.classList.remove(Cn,kn),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Hi).reset(),q.trigger(this._element,Ln)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{"static"!==this._config.backdrop?this.hide():q.trigger(this._element,Dn)},e=Boolean(this._config.backdrop);return new Ii({className:An,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new Ni({trapElement:this._element})}_addEventListeners(){q.on(this._element,Fn,(t=>{t.key===Sn&&(this._config.keyboard?this.hide():q.trigger(this._element,Dn))}))}static jQueryInterface(t){return this.each((function(){const e=jn.getOrCreateInstance(this,t);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}q.on(document,On,Rn,(function(t){const e=tt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),g(this))return;q.one(e,Ln,(()=>{m(this)&&this.focus()}));const i=tt.findOne(In);i&&i!==e&&jn.getInstance(i).hide();const n=jn.getOrCreateInstance(e);n.toggle(this)})),q.on(window,wn,(()=>{for(const t of tt.find(In))jn.getOrCreateInstance(t).show()})),q.on(window,zn,(()=>{for(const t of tt.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&jn.getOrCreateInstance(t).hide()})),et(jn),C(jn);const Un=/^aria-[\w-]*$/i,Vn={"*":["class","dir","id","lang","role",Un],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},$n=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Hn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,qn=(t,e)=>{const i=t.nodeName.toLowerCase();return e.includes(i)?!$n.has(i)||Boolean(Hn.test(t.nodeValue)):e.filter((t=>t instanceof RegExp)).some((t=>t.test(i)))};function Gn(t,e,i){if(!t.length)return t;if(i&&"function"===typeof i)return i(t);const n=new window.DOMParser,r=n.parseFromString(t,"text/html"),s=[].concat(...r.body.querySelectorAll("*"));for(const o of s){const t=o.nodeName.toLowerCase();if(!Object.keys(e).includes(t)){o.remove();continue}const i=[].concat(...o.attributes),n=[].concat(e["*"]||[],e[t]||[]);for(const e of i)qn(e,n)||o.removeAttribute(e.nodeName)}return r.body.innerHTML}const Wn="TemplateFactory",Xn={allowList:Vn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Yn={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Zn={entry:"(string|element|function|null)",selector:"(string|element)"};class Kn extends Z{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Xn}static get DefaultType(){return Yn}static get NAME(){return Wn}getContent(){return Object.values(this._config.content).map((t=>this._resolvePossibleFunction(t))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[n,r]of Object.entries(this._config.content))this._setContent(t,r,n);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},Zn)}_setContent(t,e,i){const n=tt.findOne(i,t);n&&(e=this._resolvePossibleFunction(e),e?p(e)?this._putElementInTemplate(f(e),n):this._config.html?n.innerHTML=this._maybeSanitize(e):n.textContent=e:n.remove())}_maybeSanitize(t){return this._config.sanitize?Gn(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return T(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const Jn="tooltip",Qn=new Set(["sanitize","allowList","sanitizeFn"]),tr="fade",er="modal",ir="show",nr=".tooltip-inner",rr=`.${er}`,sr="hide.bs.modal",or="hover",ar="focus",lr="click",cr="manual",hr="hide",ur="hidden",dr="show",pr="shown",fr="inserted",mr="click",gr="focusin",yr="focusout",xr="mouseenter",vr="mouseleave",br={AUTO:"auto",TOP:"top",RIGHT:S()?"left":"right",BOTTOM:"bottom",LEFT:S()?"right":"left"},_r={allowList:Vn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},wr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Sr extends J{constructor(t,e){if("undefined"===typeof i)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return _r}static get DefaultType(){return wr}static get NAME(){return Jn}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),q.off(this._element.closest(rr),sr,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=q.trigger(this._element,this.constructor.eventName(dr)),e=y(this._element),i=(e||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(n),q.trigger(this._element,this.constructor.eventName(fr))),this._popper=this._createPopper(n),n.classList.add(ir),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))q.on(o,"mouseover",x);const s=()=>{q.trigger(this._element,this.constructor.eventName(pr)),!1===this._isHovered&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown())return;const t=q.trigger(this._element,this.constructor.eventName(hr));if(t.defaultPrevented)return;const e=this._getTipElement();if(e.classList.remove(ir),"ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))q.off(n,"mouseover",x);this._activeTrigger[lr]=!1,this._activeTrigger[ar]=!1,this._activeTrigger[or]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),q.trigger(this._element,this.constructor.eventName(ur)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(tr,ir),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=h(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(tr),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Kn({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[nr]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(tr)}_isShown(){return this.tip&&this.tip.classList.contains(ir)}_createPopper(t){const e=T(this._config.placement,[this,t,this._element]),n=br[e.toUpperCase()];return i.createPopper(this._element,t,this._getPopperConfig(n))}_getOffset(){const{offset:t}=this._config;return"string"===typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"===typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return T(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,...T(this._config.popperConfig,[e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)q.on(this._element,this.constructor.eventName(mr),this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e.toggle()}));else if(e!==cr){const t=e===or?this.constructor.eventName(xr):this.constructor.eventName(gr),i=e===or?this.constructor.eventName(vr):this.constructor.eventName(yr);q.on(this._element,t,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?ar:or]=!0,e._enter()})),q.on(this._element,i,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?ar:or]=e._element.contains(t.relatedTarget),e._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},q.on(this._element.closest(rr),sr,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=Y.getDataAttributes(this._element);for(const i of Object.keys(e))Qn.has(i)&&delete e[i];return t={...e,..."object"===typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:f(t.container),"number"===typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"===typeof t.title&&(t.title=t.title.toString()),"number"===typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each((function(){const e=Sr.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}C(Sr);const Cr="popover",Tr=".popover-header",kr=".popover-body",Ar={...Sr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ir={...Sr.DefaultType,content:"(null|string|element|function)"};class Mr extends Sr{static get Default(){return Ar}static get DefaultType(){return Ir}static get NAME(){return Cr}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Tr]:this._getTitle(),[kr]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each((function(){const e=Mr.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}C(Mr);const Pr="scrollspy",Er="bs.scrollspy",Dr=`.${Er}`,Lr=".data-api",zr=`activate${Dr}`,Or=`click${Dr}`,Fr=`load${Dr}${Lr}`,Rr="dropdown-item",Br="active",Nr='[data-bs-spy="scroll"]',jr="[href]",Ur=".nav, .list-group",Vr=".nav-link",$r=".nav-item",Hr=".list-group-item",qr=`${Vr}, ${$r} > ${Vr}, ${Hr}`,Gr=".dropdown",Wr=".dropdown-toggle",Xr={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Yr={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Zr extends J{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Xr}static get DefaultType(){return Yr}static get NAME(){return Pr}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=f(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"===typeof t.threshold&&(t.threshold=t.threshold.split(",").map((t=>Number.parseFloat(t)))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(q.off(this._config.target,Or),q.on(this._config.target,Or,jr,(t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,n=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}})))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((t=>this._observerCallback(t)),t)}_observerCallback(t){const e=t=>this._targetLinks.get(`#${t.target.id}`),i=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},n=(this._rootElement||document.documentElement).scrollTop,r=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const s of t){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(s));continue}const t=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&t){if(i(s),!n)return}else r||t||i(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=tt.find(jr,this._config.target);for(const e of t){if(!e.hash||g(e))continue;const t=tt.findOne(decodeURI(e.hash),this._element);m(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Br),this._activateParents(t),q.trigger(this._element,zr,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(Rr))tt.findOne(Wr,t.closest(Gr)).classList.add(Br);else for(const e of tt.parents(t,Ur))for(const t of tt.prev(e,qr))t.classList.add(Br)}_clearActiveClass(t){t.classList.remove(Br);const e=tt.find(`${jr}.${Br}`,t);for(const i of e)i.classList.remove(Br)}static jQueryInterface(t){return this.each((function(){const e=Zr.getOrCreateInstance(this,t);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}q.on(window,Fr,(()=>{for(const t of tt.find(Nr))Zr.getOrCreateInstance(t)})),C(Zr);const Kr="tab",Jr="bs.tab",Qr=`.${Jr}`,ts=`hide${Qr}`,es=`hidden${Qr}`,is=`show${Qr}`,ns=`shown${Qr}`,rs=`click${Qr}`,ss=`keydown${Qr}`,os=`load${Qr}`,as="ArrowLeft",ls="ArrowRight",cs="ArrowUp",hs="ArrowDown",us="Home",ds="End",ps="active",fs="fade",ms="show",gs="dropdown",ys=".dropdown-toggle",xs=".dropdown-menu",vs=`:not(${ys})`,bs='.list-group, .nav, [role="tablist"]',_s=".nav-item, .list-group-item",ws=`.nav-link${vs}, .list-group-item${vs}, [role="tab"]${vs}`,Ss='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Cs=`${ws}, ${Ss}`,Ts=`.${ps}[data-bs-toggle="tab"], .${ps}[data-bs-toggle="pill"], .${ps}[data-bs-toggle="list"]`;class ks extends J{constructor(t){super(t),this._parent=this._element.closest(bs),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),q.on(this._element,ss,(t=>this._keydown(t))))}static get NAME(){return Kr}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?q.trigger(e,ts,{relatedTarget:t}):null,n=q.trigger(t,is,{relatedTarget:e});n.defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(ps),this._activate(tt.getElementFromSelector(t));const i=()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),q.trigger(t,ns,{relatedTarget:e})):t.classList.add(ms)};this._queueCallback(i,t,t.classList.contains(fs))}_deactivate(t,e){if(!t)return;t.classList.remove(ps),t.blur(),this._deactivate(tt.getElementFromSelector(t));const i=()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),q.trigger(t,es,{relatedTarget:e})):t.classList.remove(ms)};this._queueCallback(i,t,t.classList.contains(fs))}_keydown(t){if(![as,ls,cs,hs,us,ds].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter((t=>!g(t)));let i;if([us,ds].includes(t.key))i=e[t.key===us?0:e.length-1];else{const n=[ls,hs].includes(t.key);i=A(e,t.target,n,!0)}i&&(i.focus({preventScroll:!0}),ks.getOrCreateInstance(i).show())}_getChildren(){return tt.find(Cs,this._parent)}_getActiveElem(){return this._getChildren().find((t=>this._elemIsActive(t)))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=tt.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains(gs))return;const n=(t,n)=>{const r=tt.findOne(t,i);r&&r.classList.toggle(n,e)};n(ys,ps),n(xs,ms),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(ps)}_getInnerElement(t){return t.matches(Cs)?t:tt.findOne(Cs,t)}_getOuterElement(t){return t.closest(_s)||t}static jQueryInterface(t){return this.each((function(){const e=ks.getOrCreateInstance(this);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}q.on(document,rs,Ss,(function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),g(this)||ks.getOrCreateInstance(this).show()})),q.on(window,os,(()=>{for(const t of tt.find(Ts))ks.getOrCreateInstance(t)})),C(ks);const As="toast",Is="bs.toast",Ms=`.${Is}`,Ps=`mouseover${Ms}`,Es=`mouseout${Ms}`,Ds=`focusin${Ms}`,Ls=`focusout${Ms}`,zs=`hide${Ms}`,Os=`hidden${Ms}`,Fs=`show${Ms}`,Rs=`shown${Ms}`,Bs="fade",Ns="hide",js="show",Us="showing",Vs={animation:"boolean",autohide:"boolean",delay:"number"},$s={animation:!0,autohide:!0,delay:5e3};class Hs extends J{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return $s}static get DefaultType(){return Vs}static get NAME(){return As}show(){const t=q.trigger(this._element,Fs);if(t.defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Bs);const e=()=>{this._element.classList.remove(Us),q.trigger(this._element,Rs),this._maybeScheduleHide()};this._element.classList.remove(Ns),v(this._element),this._element.classList.add(js,Us),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown())return;const t=q.trigger(this._element,zs);if(t.defaultPrevented)return;const e=()=>{this._element.classList.add(Ns),this._element.classList.remove(Us,js),q.trigger(this._element,Os)};this._element.classList.add(Us),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(js),super.dispose()}isShown(){return this._element.classList.contains(js)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e;break}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){q.on(this._element,Ps,(t=>this._onInteraction(t,!0))),q.on(this._element,Es,(t=>this._onInteraction(t,!1))),q.on(this._element,Ds,(t=>this._onInteraction(t,!0))),q.on(this._element,Ls,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=Hs.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}et(Hs),C(Hs);const qs={Alert:ct,Button:yt,Carousel:fe,Collapse:Fe,Dropdown:_i,Modal:yn,Offcanvas:jn,Popover:Mr,ScrollSpy:Zr,Tab:ks,Toast:Hs,Tooltip:Sr};return qs}))},5627:function(t,e,i){var n,r;
/*!
 * Flash export buttons for Buttons and DataTables.
 * 2015 SpryMedia Ltd - datatables.net/license
 *
 * ZeroClipbaord - MIT license
 * Copyright (c) 2012 Joseph Huckaby
 */(function(s){n=[i(9755),i(991),i(8336)],r=function(t){return s(t,window,document)}.apply(e,n),void 0===r||(t.exports=r)})((function(t,e,i,n){"use strict";var r=t.fn.dataTable,s={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(t){return"string"==typeof t&&(t=i.getElementById(t)),t.addClass||(t.hide=function(){this.style.display="none"},t.show=function(){this.style.display=""},t.addClass=function(t){this.removeClass(t),this.className+=" "+t},t.removeClass=function(t){this.className=this.className.replace(new RegExp("\\s*"+t+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},t.hasClass=function(t){return!!this.className.match(new RegExp("\\s*"+t+"\\s*"))}),t},setMoviePath:function(t){this.moviePath=t},dispatch:function(t,e,i){var n=this.clients[t];n&&n.receiveEvent(e,i)},log:function(t){console.log("Flash: "+t)},register:function(t,e){this.clients[t]=e},getDOMObjectPosition:function(t){var e={left:0,top:0,width:t.width?t.width:t.offsetWidth,height:t.height?t.height:t.offsetHeight};""!==t.style.width&&(e.width=t.style.width.replace("px","")),""!==t.style.height&&(e.height=t.style.height.replace("px",""));while(t)e.left+=t.offsetLeft,e.top+=t.offsetTop,t=t.offsetParent;return e},Client:function(t){this.handlers={},this.id=s.nextId++,this.movieId="ZeroClipboard_TableToolsMovie_"+this.id,s.register(this.id,this),t&&this.glue(t)}};s.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,sheetName:"",glue:function(t,e){this.domElement=s.$(t);var n=99;this.domElement.style.zIndex&&(n=parseInt(this.domElement.style.zIndex,10)+1);var r=s.getDOMObjectPosition(this.domElement);this.div=i.createElement("div");var o=this.div.style;o.position="absolute",o.left="0px",o.top="0px",o.width=r.width+"px",o.height=r.height+"px",o.zIndex=n,"undefined"!=typeof e&&""!==e&&(this.div.title=e),0!==r.width&&0!==r.height&&(this.sized=!0),this.domElement&&(this.domElement.appendChild(this.div),this.div.innerHTML=this.getHTML(r.width,r.height).replace(/&/g,"&amp;"))},positionElement:function(){var t=s.getDOMObjectPosition(this.domElement),e=this.div.style;if(e.position="absolute",e.width=t.width+"px",e.height=t.height+"px",0!==t.width&&0!==t.height){this.sized=!0;var i=this.div.childNodes[0];i.width=t.width,i.height=t.height}},getHTML:function(t,e){var i="",n="id="+this.id+"&width="+t+"&height="+e;if(navigator.userAgent.match(/MSIE/)){var r=location.href.match(/^https/i)?"https://":"http://";i+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+r+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+t+'" height="'+e+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+s.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+n+'"/><param name="wmode" value="transparent"/></object>'}else i+='<embed id="'+this.movieId+'" src="'+s.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+t+'" height="'+e+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+n+'" wmode="transparent" />';return i},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){var e=this;this.domElement&&this.div&&(t(this.div).remove(),this.domElement=null,this.div=null,t.each(s.clients,(function(t,i){i===e&&delete s.clients[t]})))},reposition:function(t){if(t&&(this.domElement=s.$(t),this.domElement||this.hide()),this.domElement&&this.div){var e=s.getDOMObjectPosition(this.domElement),i=this.div.style;i.left=e.left+"px",i.top=e.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(t){this.clipText+=t,this.ready&&this.movie.appendText(t)},setText:function(t){this.clipText=t,this.ready&&this.movie.setText(t)},setFileName:function(t){this.fileName=t,this.ready&&this.movie.setFileName(t)},setSheetData:function(t){this.ready&&this.movie.setSheetData(JSON.stringify(t))},setAction:function(t){this.action=t,this.ready&&this.movie.setAction(t)},addEventListener:function(t,e){t=t.toString().toLowerCase().replace(/^on/,""),this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(e)},setHandCursor:function(t){this.handCursorEnabled=t,this.ready&&this.movie.setHandCursor(t)},setCSSEffects:function(t){this.cssEffects=!!t},receiveEvent:function(t,n){var r;switch(t=t.toString().toLowerCase().replace(/^on/,""),t){case"load":if(this.movie=i.getElementById(this.movieId),!this.movie)return r=this,void setTimeout((function(){r.receiveEvent("load",null)}),1);if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/))return r=this,setTimeout((function(){r.receiveEvent("load",null)}),100),void(this.ready=!0);this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1);break}if(this.handlers[t])for(var s=0,o=this.handlers[t].length;s<o;s++){var a=this.handlers[t][s];"function"==typeof a?a(this,n):"object"==typeof a&&2==a.length?a[0][a[1]](this,n):"string"==typeof a&&e[a](this,n)}}},s.hasFlash=function(){try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(t)return!0}catch(e){if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]!==n&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0}return!1},e.ZeroClipboard_TableTools=s;var o=function(t,e){e.attr("id");e.parents("html").length?t.glue(e[0],""):setTimeout((function(){o(t,e)}),500)},a=function(e,i){var r="*"===e.filename&&"*"!==e.title&&e.title!==n?e.title:e.filename;return"function"===typeof r&&(r=r()),-1!==r.indexOf("*")&&(r=t.trim(r.replace("*",t("title").text()))),r=r.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),i===n||!0===i?r+e.extension:r},l=function(t){var e="Sheet1";return t.sheetName&&(e=t.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),e},c=function(t,e){var i=e.match(/[\s\S]{1,8192}/g)||[];t.clearText();for(var n=0,r=i.length;n<r;n++)t.appendText(i[n])},h=function(t){return t.newline?t.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},u=function(t,e){for(var i=h(e),r=t.buttons.exportData(e.exportOptions),s=e.fieldBoundary,o=e.fieldSeparator,a=new RegExp(s,"g"),l=e.escapeChar!==n?e.escapeChar:"\\",c=function(t){for(var e="",i=0,n=t.length;i<n;i++)i>0&&(e+=o),e+=s?s+(""+t[i]).replace(a,l+s)+s:t[i];return e},u=e.header?c(r.header)+i:"",d=e.footer&&r.footer?i+c(r.footer):"",p=[],f=0,m=r.body.length;f<m;f++)p.push(c(r.body[f]));return{str:u+p.join(i)+d,rows:p.length}},d={available:function(){return s.hasFlash()},init:function(t,e,i){s.moviePath=r.Buttons.swfPath;var n=new s.Client;n.setHandCursor(!0),n.addEventListener("mouseDown",(function(n){i._fromFlash=!0,t.button(e[0]).trigger(),i._fromFlash=!1})),o(n,e),i._flash=n},destroy:function(t,e,i){i._flash.destroy()},fieldSeparator:",",fieldBoundary:'"',exportOptions:{},title:"*",filename:"*",extension:".csv",header:!0,footer:!1};function p(t){var e="A".charCodeAt(0),i="Z".charCodeAt(0),n=i-e+1,r="";while(t>=0)r=String.fromCharCode(t%n+e)+r,t=Math.floor(t/n)-1;return r}function f(e,i,n){var r=e.createElement(i);return n&&(n.attr&&t(r).attr(n.attr),n.children&&t.each(n.children,(function(t,e){r.appendChild(e)})),n.text&&r.appendChild(e.createTextNode(n.text))),r}function m(t,e){var i,r,s,o=t.header[e].length;t.footer&&t.footer[e].length>o&&(o=t.footer[e].length);for(var a=0,l=t.body.length;a<l;a++){var c=t.body[a][e];if(s=null!==c&&c!==n?c.toString():"",-1!==s.indexOf("\n")?(r=s.split("\n"),r.sort((function(t,e){return e.length-t.length})),i=r[0].length):i=s.length,i>o&&(o=i),o>40)return 52}return o*=1.3,o>6?o:6}var g,y="";function x(e){g===n&&(g=-1===y.serializeToString(t.parseXML(v["xl/worksheets/sheet1.xml"])).indexOf("xmlns:r")),t.each(e,(function(i,n){if(t.isPlainObject(n))x(n);else{if(g){var r,s,o=n.childNodes[0],a=[];for(r=o.attributes.length-1;r>=0;r--){var l=o.attributes[r].nodeName,c=o.attributes[r].nodeValue;-1!==l.indexOf(":")&&(a.push({name:l,value:c}),o.removeAttribute(l))}for(r=0,s=a.length;r<s;r++){var h=n.createAttribute(a[r].name.replace(":","_dt_b_namespace_token_"));h.value=a[r].value,o.setAttributeNode(h)}}var u=y.serializeToString(n);g&&(-1===u.indexOf("<?xml")&&(u='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+u),u=u.replace(/_dt_b_namespace_token_/g,":")),u=u.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g,"<$1 $2>"),e[i]=u}}))}y="undefined"===typeof e.XMLSerializer?new function(){this.serializeToString=function(t){return t.xml}}:new XMLSerializer;var v={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="" sheetId="1" r:id="rId1"/></sheets></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;£&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$€-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill/><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="61"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},b=[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(t){return t/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(t){return t/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?£[\d,]+.?\d*$/,style:58},{match:/^\-?€[\d,]+.?\d*$/,style:59},{match:/^\([\d,]+\)$/,style:61,fmt:function(t){return-1*t.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(t){return-1*t.replace(/[\(\)]/g,"")}},{match:/^[\d,]+$/,style:63},{match:/^[\d,]+\.\d{2}$/,style:64}];return r.Buttons.swfPath="//cdn.datatables.net/buttons/1.2.4/swf/flashExport.swf",r.Api.register("buttons.resize()",(function(){t.each(s.clients,(function(t,e){e.domElement!==n&&e.domElement.parentNode&&e.positionElement()}))})),r.ext.buttons.copyFlash=t.extend({},d,{className:"buttons-copy buttons-flash",text:function(t){return t.i18n("buttons.copy","Copy")},action:function(t,e,i,n){if(n._fromFlash){this.processing(!0);var r=n._flash,s=u(e,n),o=n.customize?n.customize(s.str,n):s.str;r.setAction("copy"),c(r,o),this.processing(!1),e.buttons.info(e.i18n("buttons.copyTitle","Copy to clipboard"),e.i18n("buttons.copySuccess",{_:"Copied %d rows to clipboard",1:"Copied 1 row to clipboard"},s.rows),3e3)}},fieldSeparator:"\t",fieldBoundary:""}),r.ext.buttons.csvFlash=t.extend({},d,{className:"buttons-csv buttons-flash",text:function(t){return t.i18n("buttons.csv","CSV")},action:function(t,e,i,n){var r=n._flash,s=u(e,n),o=n.customize?n.customize(s.str,n):s.str;r.setAction("csv"),r.setFileName(a(n)),c(r,o)},escapeChar:'"'}),r.ext.buttons.excelFlash=t.extend({},d,{className:"buttons-excel buttons-flash",text:function(t){return t.i18n("buttons.excel","Excel")},action:function(e,i,r,s){this.processing(!0);var o,h,u=s._flash,d=0,g=t.parseXML(v["xl/worksheets/sheet1.xml"]),y=g.getElementsByTagName("sheetData")[0],_={_rels:{".rels":t.parseXML(v["_rels/.rels"])},xl:{_rels:{"workbook.xml.rels":t.parseXML(v["xl/_rels/workbook.xml.rels"])},"workbook.xml":t.parseXML(v["xl/workbook.xml"]),"styles.xml":t.parseXML(v["xl/styles.xml"]),worksheets:{"sheet1.xml":g}},"[Content_Types].xml":t.parseXML(v["[Content_Types].xml"])},w=i.buttons.exportData(s.exportOptions),S=function(e){o=d+1,h=f(g,"row",{attr:{r:o}});for(var i=0,r=e.length;i<r;i++){var s=p(i)+""+o,a=null;if(null!==e[i]&&e[i]!==n&&""!==e[i]){e[i]=t.trim(e[i]);for(var l=0,c=b.length;l<c;l++){var u=b[l];if(e[i].match&&!e[i].match(/^0\d+/)&&e[i].match(u.match)){var m=e[i].replace(/[^\d\.\-]/g,"");u.fmt&&(m=u.fmt(m)),a=f(g,"c",{attr:{r:s,s:u.style},children:[f(g,"v",{text:m})]});break}}if(!a)if("number"===typeof e[i]||e[i].match&&e[i].match(/^-?\d+(\.\d+)?$/)&&!e[i].match(/^0\d+/))a=f(g,"c",{attr:{t:"n",r:s},children:[f(g,"v",{text:e[i]})]});else{var x=e[i].replace?e[i].replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):e[i];a=f(g,"c",{attr:{t:"inlineStr",r:s},children:{row:f(g,"is",{children:{row:f(g,"t",{text:x})}})}})}h.appendChild(a)}}y.appendChild(h),d++};t("sheets sheet",_.xl["workbook.xml"]).attr("name",l(s)),s.customizeData&&s.customizeData(w),s.header&&(S(w.header,d),t("row c",g).attr("s","2"));for(var C=0,T=w.body.length;C<T;C++)S(w.body[C],d);s.footer&&w.footer&&(S(w.footer,d),t("row:last c",g).attr("s","2"));var k=f(g,"cols");t("worksheet",g).prepend(k);for(var A=0,I=w.header.length;A<I;A++)k.appendChild(f(g,"col",{attr:{min:A+1,max:A+1,width:m(w,A),customWidth:1}}));s.customize&&s.customize(_),x(_),u.setAction("excel"),u.setFileName(a(s)),u.setSheetData(_),c(u,""),this.processing(!1)},extension:".xlsx"}),r.ext.buttons.pdfFlash=t.extend({},d,{className:"buttons-pdf buttons-flash",text:function(t){return t.i18n("buttons.pdf","PDF")},action:function(t,e,i,n){this.processing(!0);var r=n._flash,s=e.buttons.exportData(n.exportOptions),o=e.table().node().offsetWidth,l=e.columns(n.columns).indexes().map((function(t){return e.column(t).header().offsetWidth/o}));r.setAction("pdf"),r.setFileName(a(n)),c(r,JSON.stringify({title:a(n,!1),message:"function"==typeof n.message?n.message(e,i,n):n.message,colWidth:l.toArray(),orientation:n.orientation,size:n.pageSize,header:n.header?s.header:null,footer:n.footer?s.footer:null,body:s.body})),this.processing(!1)},extension:".pdf",orientation:"portrait",pageSize:"A4",message:"",newline:"\n"}),r.Buttons}))},5130:function(t,e,i){!function(e,n){t.exports=n(i(8840),i(9812))}(window,(function(t,e){return n=[function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e,i){"use strict";i.r(e),i.d(e,"Chart",(function(){return p})),i.d(e,"default",(function(){return f}));e=i(0);var n=i.n(e);function r(t,e){return function t(e,i,r){function s(s,o){!n.a.isObject(s,!r)||n.a.isClass(s)||n.a.isDOMElement(s)?e[o]=i[o]:e[o]=t(e[o]||n.a.isArray(s)?[]:{},s,r)}return n.a.isArray(i)?i.forEach(s):n.a.objectEach(i,s),e}({},t,e)}var s=i(1);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var i;if(t)return"string"==typeof t?l(t,e):"Map"===(i="Object"===(i=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function c(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)),n}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){var n,r;n=t,r=i[e],(e=function(t){return t=function(t,e){if("object"!==o(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0===i)return("string"===e?String:Number)(t);if(i=i.call(t,e||"default"),"object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===o(t)?t:String(t)}(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}}},d=function(t,e){return e.split(".")[0]<3?h(h({},u),{},{render:function(t){return t("div",{ref:"chart"})},beforeDestroy:function(){this.chart&&this.chart.destroy()},watch:{options:{handler:function(t){var e;(e=this.chart).update.apply(e,[r(t,this.deepCopyOnUpdate)].concat(a(this.updateArgs)))},deep:!0}},mounted:function(){var e=this.highcharts||t;this.options&&e[this.constructorType]?this.chart=e[this.constructorType](this.$refs.chart,r(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}}):h(h({},u),{},{render:function(){return Object(s.h)("div",{ref:"chartContainer"})},setup:function(e){var i=Object(s.ref)(null),n=Object(s.shallowRef)({});return Object(s.onMounted)((function(){var s=e.highcharts||t;e.options&&s[e.constructorType]?n.value=s[e.constructorType](i.value,r(e.options,!0),e.callback||null):e.options?console.warn("'".concat(e.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')})),Object(s.watch)((function(){return e.options}),(function(t,i){var s;(s=n.value).update.apply(s,[r(t,e.deepCopyOnUpdate)].concat(a(e.updateArgs)))}),{deep:!0}),Object(s.onBeforeUnmount)((function(){n.value&&n.value.destroy()})),{chart:n,chartContainer:i,props:e}}})},p=d(n.a,s.version||i.n(s).a.version);function f(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.component(e.tagName||"highcharts",d(e.highcharts||n.a,t.version))}}],r={},i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2);function i(t){var e;return(r[t]||(e=r[t]={i:t,l:!1,exports:{}},n[t].call(e.exports,e,e.exports,i),e.l=!0,e)).exports}var n,r}))},3456:function(t,e,i){var n,r;!function(s){t.exports?(s.default=s,t.exports=s):(n=[i(8840)],r=function(t){return s(t),s.Highcharts=t,s}.apply(e,n),void 0===r||(t.exports=r))}((function(t){"use strict";var e=t?t._modules:{};function i(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}i(e,"Core/Math3D.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e){let{deg2rad:i}=t,{pick:n}=e;function r(t,e,r,o){let a=e.options.chart.options3d,l=n(o,!!r&&e.inverted),c={x:e.plotWidth/2,y:e.plotHeight/2,z:a.depth/2,vd:n(a.depth,1)*n(a.viewDistance,0)},h=e.scale3d||1,u=i*a.beta*(l?-1:1),d=i*a.alpha*(l?-1:1),p={cosA:Math.cos(d),cosB:Math.cos(-u),sinA:Math.sin(d),sinB:Math.sin(-u)};return r||(c.x+=e.plotLeft,c.y+=e.plotTop),t.map((function(t){var e,i,n;let r=(e=(l?t.y:t.x)-c.x,i=(l?t.x:t.y)-c.y,n=(t.z||0)-c.z,{x:p.cosB*e-p.sinB*n,y:-p.sinA*p.sinB*e+p.cosA*i-p.cosB*p.sinA*n,z:p.cosA*p.sinB*e+p.sinA*i+p.cosA*p.cosB*n}),o=s(r,c,c.vd);return o.x=o.x*h+c.x,o.y=o.y*h+c.y,o.z=r.z*h+c.z,{x:l?o.y:o.x,y:l?o.x:o.y,z:o.z}}))}function s(t,e,i){let n=i>0&&i<Number.POSITIVE_INFINITY?i/(t.z+e.z+i):1;return{x:t.x*n,y:t.y*n}}function o(t){let e,i,n=0;for(e=0;e<t.length;e++)i=(e+1)%t.length,n+=t[e].x*t[i].y-t[i].x*t[e].y;return n/2}return{perspective:r,perspective3D:s,pointCameraDistance:function(t,e){let i=e.options.chart.options3d,r={x:e.plotWidth/2,y:e.plotHeight/2,z:n(i.depth,1)*n(i.viewDistance,0)+i.depth},s=Math.sqrt(Math.pow(r.x-n(t.plotX,t.x),2)+Math.pow(r.y-n(t.plotY,t.y),2)+Math.pow(r.z-n(t.plotZ,t.z),2));return s},shapeArea:o,shapeArea3D:function(t,e,i){return o(r(t,e,i))}}})),i(e,"Core/Chart/Chart3D.js",[e["Core/Color/Color.js"],e["Core/Defaults.js"],e["Core/Math3D.js"],e["Core/Utilities.js"]],(function(t,e,i,n){var r;let{parse:s}=t,{defaultOptions:o}=e,{perspective:a,shapeArea3D:l}=i,{addEvent:c,isArray:h,merge:u,pick:d,wrap:p}=n;return function(t){function e(t){this.is3d()&&"scatter"===t.options.type&&(t.options.type="scatter3d")}function i(){if(this.chart3d&&this.is3d()){let t=this.renderer,e=this.options.chart.options3d,i=this.chart3d.get3dFrame(),n=this.plotLeft,r=this.plotLeft+this.plotWidth,o=this.plotTop,a=this.plotTop+this.plotHeight,l=e.depth,c=n-(i.left.visible?i.left.size:0),h=r+(i.right.visible?i.right.size:0),u=o-(i.top.visible?i.top.size:0),d=a+(i.bottom.visible?i.bottom.size:0),p=0-(i.front.visible?i.front.size:0),f=l+(i.back.visible?i.back.size:0),m=this.hasRendered?"animate":"attr";this.chart3d.frame3d=i,this.frameShapes||(this.frameShapes={bottom:t.polyhedron().add(),top:t.polyhedron().add(),left:t.polyhedron().add(),right:t.polyhedron().add(),back:t.polyhedron().add(),front:t.polyhedron().add()}),this.frameShapes.bottom[m]({class:"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:i.bottom.frontFacing?-1e3:1e3,faces:[{fill:s(i.bottom.color).brighten(.1).get(),vertexes:[{x:c,y:d,z:p},{x:h,y:d,z:p},{x:h,y:d,z:f},{x:c,y:d,z:f}],enabled:i.bottom.visible},{fill:s(i.bottom.color).brighten(.1).get(),vertexes:[{x:n,y:a,z:l},{x:r,y:a,z:l},{x:r,y:a,z:0},{x:n,y:a,z:0}],enabled:i.bottom.visible},{fill:s(i.bottom.color).brighten(-.1).get(),vertexes:[{x:c,y:d,z:p},{x:c,y:d,z:f},{x:n,y:a,z:l},{x:n,y:a,z:0}],enabled:i.bottom.visible&&!i.left.visible},{fill:s(i.bottom.color).brighten(-.1).get(),vertexes:[{x:h,y:d,z:f},{x:h,y:d,z:p},{x:r,y:a,z:0},{x:r,y:a,z:l}],enabled:i.bottom.visible&&!i.right.visible},{fill:s(i.bottom.color).get(),vertexes:[{x:h,y:d,z:p},{x:c,y:d,z:p},{x:n,y:a,z:0},{x:r,y:a,z:0}],enabled:i.bottom.visible&&!i.front.visible},{fill:s(i.bottom.color).get(),vertexes:[{x:c,y:d,z:f},{x:h,y:d,z:f},{x:r,y:a,z:l},{x:n,y:a,z:l}],enabled:i.bottom.visible&&!i.back.visible}]}),this.frameShapes.top[m]({class:"highcharts-3d-frame highcharts-3d-frame-top",zIndex:i.top.frontFacing?-1e3:1e3,faces:[{fill:s(i.top.color).brighten(.1).get(),vertexes:[{x:c,y:u,z:f},{x:h,y:u,z:f},{x:h,y:u,z:p},{x:c,y:u,z:p}],enabled:i.top.visible},{fill:s(i.top.color).brighten(.1).get(),vertexes:[{x:n,y:o,z:0},{x:r,y:o,z:0},{x:r,y:o,z:l},{x:n,y:o,z:l}],enabled:i.top.visible},{fill:s(i.top.color).brighten(-.1).get(),vertexes:[{x:c,y:u,z:f},{x:c,y:u,z:p},{x:n,y:o,z:0},{x:n,y:o,z:l}],enabled:i.top.visible&&!i.left.visible},{fill:s(i.top.color).brighten(-.1).get(),vertexes:[{x:h,y:u,z:p},{x:h,y:u,z:f},{x:r,y:o,z:l},{x:r,y:o,z:0}],enabled:i.top.visible&&!i.right.visible},{fill:s(i.top.color).get(),vertexes:[{x:c,y:u,z:p},{x:h,y:u,z:p},{x:r,y:o,z:0},{x:n,y:o,z:0}],enabled:i.top.visible&&!i.front.visible},{fill:s(i.top.color).get(),vertexes:[{x:h,y:u,z:f},{x:c,y:u,z:f},{x:n,y:o,z:l},{x:r,y:o,z:l}],enabled:i.top.visible&&!i.back.visible}]}),this.frameShapes.left[m]({class:"highcharts-3d-frame highcharts-3d-frame-left",zIndex:i.left.frontFacing?-1e3:1e3,faces:[{fill:s(i.left.color).brighten(.1).get(),vertexes:[{x:c,y:d,z:p},{x:n,y:a,z:0},{x:n,y:a,z:l},{x:c,y:d,z:f}],enabled:i.left.visible&&!i.bottom.visible},{fill:s(i.left.color).brighten(.1).get(),vertexes:[{x:c,y:u,z:f},{x:n,y:o,z:l},{x:n,y:o,z:0},{x:c,y:u,z:p}],enabled:i.left.visible&&!i.top.visible},{fill:s(i.left.color).brighten(-.1).get(),vertexes:[{x:c,y:d,z:f},{x:c,y:u,z:f},{x:c,y:u,z:p},{x:c,y:d,z:p}],enabled:i.left.visible},{fill:s(i.left.color).brighten(-.1).get(),vertexes:[{x:n,y:o,z:l},{x:n,y:a,z:l},{x:n,y:a,z:0},{x:n,y:o,z:0}],enabled:i.left.visible},{fill:s(i.left.color).get(),vertexes:[{x:c,y:d,z:p},{x:c,y:u,z:p},{x:n,y:o,z:0},{x:n,y:a,z:0}],enabled:i.left.visible&&!i.front.visible},{fill:s(i.left.color).get(),vertexes:[{x:c,y:u,z:f},{x:c,y:d,z:f},{x:n,y:a,z:l},{x:n,y:o,z:l}],enabled:i.left.visible&&!i.back.visible}]}),this.frameShapes.right[m]({class:"highcharts-3d-frame highcharts-3d-frame-right",zIndex:i.right.frontFacing?-1e3:1e3,faces:[{fill:s(i.right.color).brighten(.1).get(),vertexes:[{x:h,y:d,z:f},{x:r,y:a,z:l},{x:r,y:a,z:0},{x:h,y:d,z:p}],enabled:i.right.visible&&!i.bottom.visible},{fill:s(i.right.color).brighten(.1).get(),vertexes:[{x:h,y:u,z:p},{x:r,y:o,z:0},{x:r,y:o,z:l},{x:h,y:u,z:f}],enabled:i.right.visible&&!i.top.visible},{fill:s(i.right.color).brighten(-.1).get(),vertexes:[{x:r,y:o,z:0},{x:r,y:a,z:0},{x:r,y:a,z:l},{x:r,y:o,z:l}],enabled:i.right.visible},{fill:s(i.right.color).brighten(-.1).get(),vertexes:[{x:h,y:d,z:p},{x:h,y:u,z:p},{x:h,y:u,z:f},{x:h,y:d,z:f}],enabled:i.right.visible},{fill:s(i.right.color).get(),vertexes:[{x:h,y:u,z:p},{x:h,y:d,z:p},{x:r,y:a,z:0},{x:r,y:o,z:0}],enabled:i.right.visible&&!i.front.visible},{fill:s(i.right.color).get(),vertexes:[{x:h,y:d,z:f},{x:h,y:u,z:f},{x:r,y:o,z:l},{x:r,y:a,z:l}],enabled:i.right.visible&&!i.back.visible}]}),this.frameShapes.back[m]({class:"highcharts-3d-frame highcharts-3d-frame-back",zIndex:i.back.frontFacing?-1e3:1e3,faces:[{fill:s(i.back.color).brighten(.1).get(),vertexes:[{x:h,y:d,z:f},{x:c,y:d,z:f},{x:n,y:a,z:l},{x:r,y:a,z:l}],enabled:i.back.visible&&!i.bottom.visible},{fill:s(i.back.color).brighten(.1).get(),vertexes:[{x:c,y:u,z:f},{x:h,y:u,z:f},{x:r,y:o,z:l},{x:n,y:o,z:l}],enabled:i.back.visible&&!i.top.visible},{fill:s(i.back.color).brighten(-.1).get(),vertexes:[{x:c,y:d,z:f},{x:c,y:u,z:f},{x:n,y:o,z:l},{x:n,y:a,z:l}],enabled:i.back.visible&&!i.left.visible},{fill:s(i.back.color).brighten(-.1).get(),vertexes:[{x:h,y:u,z:f},{x:h,y:d,z:f},{x:r,y:a,z:l},{x:r,y:o,z:l}],enabled:i.back.visible&&!i.right.visible},{fill:s(i.back.color).get(),vertexes:[{x:n,y:o,z:l},{x:r,y:o,z:l},{x:r,y:a,z:l},{x:n,y:a,z:l}],enabled:i.back.visible},{fill:s(i.back.color).get(),vertexes:[{x:c,y:d,z:f},{x:h,y:d,z:f},{x:h,y:u,z:f},{x:c,y:u,z:f}],enabled:i.back.visible}]}),this.frameShapes.front[m]({class:"highcharts-3d-frame highcharts-3d-frame-front",zIndex:i.front.frontFacing?-1e3:1e3,faces:[{fill:s(i.front.color).brighten(.1).get(),vertexes:[{x:c,y:d,z:p},{x:h,y:d,z:p},{x:r,y:a,z:0},{x:n,y:a,z:0}],enabled:i.front.visible&&!i.bottom.visible},{fill:s(i.front.color).brighten(.1).get(),vertexes:[{x:h,y:u,z:p},{x:c,y:u,z:p},{x:n,y:o,z:0},{x:r,y:o,z:0}],enabled:i.front.visible&&!i.top.visible},{fill:s(i.front.color).brighten(-.1).get(),vertexes:[{x:c,y:u,z:p},{x:c,y:d,z:p},{x:n,y:a,z:0},{x:n,y:o,z:0}],enabled:i.front.visible&&!i.left.visible},{fill:s(i.front.color).brighten(-.1).get(),vertexes:[{x:h,y:d,z:p},{x:h,y:u,z:p},{x:r,y:o,z:0},{x:r,y:a,z:0}],enabled:i.front.visible&&!i.right.visible},{fill:s(i.front.color).get(),vertexes:[{x:r,y:o,z:0},{x:n,y:o,z:0},{x:n,y:a,z:0},{x:r,y:a,z:0}],enabled:i.front.visible},{fill:s(i.front.color).get(),vertexes:[{x:h,y:d,z:p},{x:c,y:d,z:p},{x:c,y:u,z:p},{x:h,y:u,z:p}],enabled:i.front.visible}]})}}function n(){this.styledMode&&[{name:"darker",slope:.6},{name:"brighter",slope:1.4}].forEach((function(t){this.renderer.definition({tagName:"filter",attributes:{id:"highcharts-"+t.name},children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",attributes:{type:"linear",slope:t.slope}},{tagName:"feFuncG",attributes:{type:"linear",slope:t.slope}},{tagName:"feFuncB",attributes:{type:"linear",slope:t.slope}}]}]})}),this)}function r(){let t=this.options;this.is3d()&&(t.series||[]).forEach((function(e){let i=e.type||t.chart.type||t.chart.defaultSeriesType;"scatter"===i&&(e.type="scatter3d")}))}function f(){let t=this.options.chart.options3d;if(this.chart3d&&this.is3d()){t&&(t.alpha=t.alpha%360+(t.alpha>=0?0:360),t.beta=t.beta%360+(t.beta>=0?0:360));let e=this.inverted,i=this.clipBox,n=this.margin;i[e?"y":"x"]=-(n[3]||0),i[e?"x":"y"]=-(n[0]||0),i[e?"height":"width"]=this.chartWidth+(n[3]||0)+(n[1]||0),i[e?"width":"height"]=this.chartHeight+(n[0]||0)+(n[2]||0),this.scale3d=1,!0===t.fitToPlot&&(this.scale3d=this.chart3d.getScale(t.depth)),this.chart3d.frame3d=this.chart3d.get3dFrame()}}function m(){this.is3d()&&(this.isDirtyBox=!0)}function g(){this.chart3d&&this.is3d()&&(this.chart3d.frame3d=this.chart3d.get3dFrame())}function y(){this.chart3d||(this.chart3d=new _(this))}function x(t){return this.is3d()||t.apply(this,[].slice.call(arguments,1))}function v(t){let e,i=this.series.length;if(this.is3d())for(;i--;)(e=this.series[i]).translate(),e.render();else t.call(this)}function b(t){t.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}t.defaultOptions={chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}},t.compose=function(s,a){let l=s.prototype,d=a.prototype;l.is3d=function(){return!(!this.options.chart.options3d||!this.options.chart.options3d.enabled)},l.propsRequireDirtyBox.push("chart.options3d"),l.propsRequireUpdateSeries.push("chart.options3d"),d.matrixSetter=function(){let t;if(this.pos<1&&(h(this.start)||h(this.end))){let e=this.start||[1,0,0,1,0,0],i=this.end||[1,0,0,1,0,0];t=[];for(let n=0;n<6;n++)t.push(this.pos*i[n]+(1-this.pos)*e[n])}else t=this.end;this.elem.attr(this.prop,t,null,!0)},u(!0,o,t.defaultOptions),c(s,"init",y),c(s,"addSeries",e),c(s,"afterDrawChartBox",i),c(s,"afterGetContainer",n),c(s,"afterInit",r),c(s,"afterSetChartSize",f),c(s,"beforeRedraw",m),c(s,"beforeRender",g),p(l,"isInsidePlot",x),p(l,"renderSeries",v),p(l,"setClassName",b)};class _{constructor(t){this.frame3d=void 0,this.chart=t}get3dFrame(){let t=this.chart,e=t.options.chart.options3d,i=e.frame,n=t.plotLeft,r=t.plotLeft+t.plotWidth,s=t.plotTop,o=t.plotTop+t.plotHeight,c=e.depth,h=function(e){let i=l(e,t);return i>.5?1:i<-.5?-1:0},u=h([{x:n,y:o,z:c},{x:r,y:o,z:c},{x:r,y:o,z:0},{x:n,y:o,z:0}]),p=h([{x:n,y:s,z:0},{x:r,y:s,z:0},{x:r,y:s,z:c},{x:n,y:s,z:c}]),f=h([{x:n,y:s,z:0},{x:n,y:s,z:c},{x:n,y:o,z:c},{x:n,y:o,z:0}]),m=h([{x:r,y:s,z:c},{x:r,y:s,z:0},{x:r,y:o,z:0},{x:r,y:o,z:c}]),g=h([{x:n,y:o,z:0},{x:r,y:o,z:0},{x:r,y:s,z:0},{x:n,y:s,z:0}]),y=h([{x:n,y:s,z:c},{x:r,y:s,z:c},{x:r,y:o,z:c},{x:n,y:o,z:c}]),x=!1,v=!1,b=!1,_=!1;[].concat(t.xAxis,t.yAxis,t.zAxis).forEach((function(t){t&&(t.horiz?t.opposite?v=!0:x=!0:t.opposite?_=!0:b=!0)}));let w=function(t,e,i){let n=["size","color","visible"],r={};for(let o=0;o<n.length;o++){let e=n[o];for(let i=0;i<t.length;i++)if("object"==typeof t[i]){let n=t[i][e];if(null!=n){r[e]=n;break}}}let s=i;return!0===r.visible||!1===r.visible?s=r.visible:"auto"===r.visible&&(s=e>0),{size:d(r.size,1),color:d(r.color,"none"),frontFacing:e>0,visible:s}},S={axes:{},bottom:w([i.bottom,i.top,i],u,x),top:w([i.top,i.bottom,i],p,v),left:w([i.left,i.right,i.side,i],f,b),right:w([i.right,i.left,i.side,i],m,_),back:w([i.back,i.front,i],y,!0),front:w([i.front,i.back,i],g,!1)};if("auto"===e.axisLabelPosition){let e=function(t,e){return t.visible!==e.visible||t.visible&&e.visible&&t.frontFacing!==e.frontFacing},i=[];e(S.left,S.front)&&i.push({y:(s+o)/2,x:n,z:0,xDir:{x:1,y:0,z:0}}),e(S.left,S.back)&&i.push({y:(s+o)/2,x:n,z:c,xDir:{x:0,y:0,z:-1}}),e(S.right,S.front)&&i.push({y:(s+o)/2,x:r,z:0,xDir:{x:0,y:0,z:1}}),e(S.right,S.back)&&i.push({y:(s+o)/2,x:r,z:c,xDir:{x:-1,y:0,z:0}});let l=[];e(S.bottom,S.front)&&l.push({x:(n+r)/2,y:o,z:0,xDir:{x:1,y:0,z:0}}),e(S.bottom,S.back)&&l.push({x:(n+r)/2,y:o,z:c,xDir:{x:-1,y:0,z:0}});let h=[];e(S.top,S.front)&&h.push({x:(n+r)/2,y:s,z:0,xDir:{x:1,y:0,z:0}}),e(S.top,S.back)&&h.push({x:(n+r)/2,y:s,z:c,xDir:{x:-1,y:0,z:0}});let u=[];e(S.bottom,S.left)&&u.push({z:(0+c)/2,y:o,x:n,xDir:{x:0,y:0,z:-1}}),e(S.bottom,S.right)&&u.push({z:(0+c)/2,y:o,x:r,xDir:{x:0,y:0,z:1}});let d=[];e(S.top,S.left)&&d.push({z:(0+c)/2,y:s,x:n,xDir:{x:0,y:0,z:-1}}),e(S.top,S.right)&&d.push({z:(0+c)/2,y:s,x:r,xDir:{x:0,y:0,z:1}});let p=function(e,i,n){if(0===e.length)return null;if(1===e.length)return e[0];let r=a(e,t,!1),s=0;for(let t=1;t<r.length;t++)(n*r[t][i]>n*r[s][i]||n*r[t][i]==n*r[s][i]&&r[t].z<r[s].z)&&(s=t);return e[s]};S.axes={y:{left:p(i,"x",-1),right:p(i,"x",1)},x:{top:p(h,"y",-1),bottom:p(l,"y",1)},z:{top:p(d,"y",-1),bottom:p(u,"y",1)}}}else S.axes={y:{left:{x:n,z:0,xDir:{x:1,y:0,z:0}},right:{x:r,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:s,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:o,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:b?r:n,y:s,xDir:b?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:b?r:n,y:o,xDir:b?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}};return S}getScale(t){let e,i=this.chart,n=i.plotLeft,r=i.plotWidth+n,s=i.plotTop,o=i.plotHeight+s,l=n+i.plotWidth/2,c=s+i.plotHeight/2,h={minX:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,minY:Number.MAX_VALUE,maxY:-Number.MAX_VALUE},u=1;return e=[{x:n,y:s,z:0},{x:n,y:s,z:t}],[0,1].forEach((function(t){e.push({x:r,y:e[t].y,z:e[t].z})})),[0,1,2,3].forEach((function(t){e.push({x:e[t].x,y:o,z:e[t].z})})),(e=a(e,i,!1)).forEach((function(t){h.minX=Math.min(h.minX,t.x),h.maxX=Math.max(h.maxX,t.x),h.minY=Math.min(h.minY,t.y),h.maxY=Math.max(h.maxY,t.y)})),n>h.minX&&(u=Math.min(u,1-Math.abs((n+l)/(h.minX+l))%1)),r<h.maxX&&(u=Math.min(u,(r-l)/(h.maxX-l))),s>h.minY&&(u=h.minY<0?Math.min(u,(s+c)/(-h.minY+s+c)):Math.min(u,1-(s+c)/(h.minY+c)%1)),o<h.maxY&&(u=Math.min(u,Math.abs((o-c)/(h.maxY-c)))),u}}t.Additions=_}(r||(r={})),r})),i(e,"Series/Area3D/Area3DSeries.js",[e["Core/Math3D.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{perspective:n}=t,{seriesTypes:{line:{prototype:r}}}=e,{wrap:s}=i,o=[];function a(t){let e=t.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return e;let i=r.getGraphPath,s=this.options,o=Math.round(this.yAxis.getThreshold(s.threshold)),a=[];if(this.rawPointsX)for(let n=0;n<this.points.length;n++)a.push({x:this.rawPointsX[n],y:s.stacking?this.points[n].yBottom:o,z:this.zPadding});let l=this.chart.options.chart.options3d;a=n(a,this.chart,!0).map((t=>({plotX:t.x,plotY:t.y,plotZ:t.z}))),this.group&&l&&l.depth&&l.beta&&(this.markerGroup&&(this.markerGroup.add(this.group),this.markerGroup.attr({translateX:0,translateY:0})),this.group.attr({zIndex:Math.max(1,l.beta>270||l.beta<90?l.depth-Math.round(this.zPadding||0):Math.round(this.zPadding||0))})),a.reversed=!0;let c=i.call(this,a,!0,!0);if(c[0]&&"M"===c[0][0]&&(c[0]=["L",c[0][1],c[0][2]]),this.areaPath){let t=this.areaPath.splice(0,this.areaPath.length/2).concat(c);t.xMap=this.areaPath.xMap,this.areaPath=t}return e}return{compose:function(t){i.pushUnique(o,t)&&s(t.prototype,"getGraphPath",a)}}})),i(e,"Core/Axis/Axis3DDefaults.js",[],(function(){return{labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}}})),i(e,"Core/Axis/Tick3DComposition.js",[e["Core/Utilities.js"]],(function(t){let{addEvent:e,extend:i,wrap:n}=t,r=[];function s(t){let e=this.axis.axis3D;e&&i(t.pos,e.fix3dPosition(t.pos))}function o(t){let e=this.axis.axis3D,i=t.apply(this,[].slice.call(arguments,1));if(e){let t=i[0],n=i[1];if("M"===t[0]&&"L"===n[0]){let i=[e.fix3dPosition({x:t[1],y:t[2],z:0}),e.fix3dPosition({x:n[1],y:n[2],z:0})];return this.axis.chart.renderer.toLineSegments(i)}}return i}return{compose:function(i){t.pushUnique(r,i)&&(e(i,"afterGetLabelPosition",s),n(i.prototype,"getMarkPath",o))}}})),i(e,"Core/Axis/Axis3DComposition.js",[e["Core/Axis/Axis3DDefaults.js"],e["Core/Globals.js"],e["Core/Math3D.js"],e["Core/Axis/Tick3DComposition.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r){let{deg2rad:s}=e,{perspective:o,perspective3D:a,shapeArea:l}=i,{addEvent:c,merge:h,pick:u,wrap:d}=r,p=[];function f(){let t=this.chart,e=this.options;t.is3d&&t.is3d()&&"colorAxis"!==this.coll&&(e.tickWidth=u(e.tickWidth,0),e.gridLineWidth=u(e.gridLineWidth,1))}function m(t){this.chart.is3d()&&"colorAxis"!==this.coll&&t.point&&(t.point.crosshairPos=this.isXAxis?t.point.axisXpos:this.len-t.point.axisYpos)}function g(){this.axis3D||(this.axis3D=new w(this))}function y(t){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:t.apply(this,[].slice.call(arguments,1))}function x(t){if(!this.chart.is3d()||"colorAxis"===this.coll)return t.apply(this,[].slice.call(arguments,1));let e=arguments,i=e[1],n=e[2],r=[],s=this.getPlotLinePath({value:i}),o=this.getPlotLinePath({value:n});if(s&&o)for(let a=0;a<s.length;a+=2){let t=s[a],e=s[a+1],i=o[a],n=o[a+1];"M"===t[0]&&"L"===e[0]&&"M"===i[0]&&"L"===n[0]&&r.push(t,e,n,["L",i[1],i[2]],["Z"])}return r}function v(t){let e=this.axis3D,i=this.chart,n=t.apply(this,[].slice.call(arguments,1));if("colorAxis"===this.coll||!i.chart3d||!i.is3d()||null===n)return n;let r,s=i.options.chart.options3d,a=this.isZAxis?i.plotWidth:s.depth,l=i.chart3d.frame3d,c=n[0],h=n[1],u=[];return"M"===c[0]&&"L"===h[0]&&(r=[e.swapZ({x:c[1],y:c[2],z:0}),e.swapZ({x:c[1],y:c[2],z:a}),e.swapZ({x:h[1],y:h[2],z:0}),e.swapZ({x:h[1],y:h[2],z:a})],this.horiz?(this.isZAxis?(l.left.visible&&u.push(r[0],r[2]),l.right.visible&&u.push(r[1],r[3])):(l.front.visible&&u.push(r[0],r[2]),l.back.visible&&u.push(r[1],r[3])),l.top.visible&&u.push(r[0],r[1]),l.bottom.visible&&u.push(r[2],r[3])):(l.front.visible&&u.push(r[0],r[2]),l.back.visible&&u.push(r[1],r[3]),l.left.visible&&u.push(r[0],r[1]),l.right.visible&&u.push(r[2],r[3])),u=o(u,this.chart,!1)),i.renderer.toLineSegments(u)}function b(t,e){let i=this.chart,n=this.ticks,r=this.gridGroup;if(this.categories&&i.frameShapes&&i.is3d()&&r&&e&&e.label){let t,s,o,l=r.element.childNodes[0].getBBox(),c=i.frameShapes.left.getBBox(),h=i.options.chart.options3d,d={x:i.plotWidth/2,y:i.plotHeight/2,z:h.depth/2,vd:u(h.depth,1)*u(h.viewDistance,0)},p=e.pos,f=n[p-1],m=n[p+1];return 0!==p&&f&&f.label&&f.label.xy&&(s=a({x:f.label.xy.x,y:f.label.xy.y,z:null},d,d.vd)),m&&m.label&&m.label.xy&&(o=a({x:m.label.xy.x,y:m.label.xy.y,z:null},d,d.vd)),t=a(t={x:e.label.xy.x,y:e.label.xy.y,z:null},d,d.vd),Math.abs(s?t.x-s.x:o?o.x-t.x:l.x-c.x)}return t.apply(this,[].slice.call(arguments,1))}function _(t){let e=t.apply(this,[].slice.call(arguments,1));return this.axis3D?this.axis3D.fix3dPosition(e,!0):e}class w{static compose(e,i){if(n.compose(i),r.pushUnique(p,e)){h(!0,e.defaultOptions,t),e.keepProps.push("axis3D"),c(e,"init",g),c(e,"afterSetOptions",f),c(e,"drawCrosshair",m);let i=e.prototype;d(i,"getLinePath",y),d(i,"getPlotBandPath",x),d(i,"getPlotLinePath",v),d(i,"getSlotWidth",b),d(i,"getTitlePosition",_)}}constructor(t){this.axis=t}fix3dPosition(t,e){let i=this.axis,n=i.chart;if("colorAxis"===i.coll||!n.chart3d||!n.is3d())return t;let r,a=s*n.options.chart.options3d.alpha,c=s*n.options.chart.options3d.beta,h=u(e&&i.options.title.position3d,i.options.labels.position3d),d=u(e&&i.options.title.skew3d,i.options.labels.skew3d),p=n.chart3d.frame3d,f=n.plotLeft,m=n.plotWidth+f,g=n.plotTop,y=n.plotHeight+g,x=0,v=0,b={x:0,y:1,z:0},_=!1;if(t=i.axis3D.swapZ({x:t.x,y:t.y,z:0}),i.isZAxis)if(i.opposite){if(null===p.axes.z.top)return{};v=t.y-g,t.x=p.axes.z.top.x,t.y=p.axes.z.top.y,r=p.axes.z.top.xDir,_=!p.top.frontFacing}else{if(null===p.axes.z.bottom)return{};v=t.y-y,t.x=p.axes.z.bottom.x,t.y=p.axes.z.bottom.y,r=p.axes.z.bottom.xDir,_=!p.bottom.frontFacing}else if(i.horiz)if(i.opposite){if(null===p.axes.x.top)return{};v=t.y-g,t.y=p.axes.x.top.y,t.z=p.axes.x.top.z,r=p.axes.x.top.xDir,_=!p.top.frontFacing}else{if(null===p.axes.x.bottom)return{};v=t.y-y,t.y=p.axes.x.bottom.y,t.z=p.axes.x.bottom.z,r=p.axes.x.bottom.xDir,_=!p.bottom.frontFacing}else if(i.opposite){if(null===p.axes.y.right)return{};x=t.x-m,t.x=p.axes.y.right.x,t.z=p.axes.y.right.z,r={x:(r=p.axes.y.right.xDir).z,y:r.y,z:-r.x}}else{if(null===p.axes.y.left)return{};x=t.x-f,t.x=p.axes.y.left.x,t.z=p.axes.y.left.z,r=p.axes.y.left.xDir}if("chart"===h);else if("flap"===h)if(i.horiz){let t=Math.sin(a);i.opposite&&(t=-t),_&&(t=-t),b={x:r.z*t,y:Math.cos(a),z:-r.x*t}}else r={x:Math.cos(c),y:0,z:Math.sin(c)};else if("ortho"===h)if(i.horiz){let t=Math.cos(a),e={x:Math.sin(c)*t,y:-Math.sin(a),z:-t*Math.cos(c)},i=1/Math.sqrt((b={x:r.y*e.z-r.z*e.y,y:r.z*e.x-r.x*e.z,z:r.x*e.y-r.y*e.x}).x*b.x+b.y*b.y+b.z*b.z);_&&(i=-i),b={x:i*b.x,y:i*b.y,z:i*b.z}}else r={x:Math.cos(c),y:0,z:Math.sin(c)};else i.horiz?b={x:Math.sin(c)*Math.sin(a),y:Math.cos(a),z:-Math.cos(c)*Math.sin(a)}:r={x:Math.cos(c),y:0,z:Math.sin(c)};t.x+=x*r.x+v*b.x,t.y+=x*r.y+v*b.y,t.z+=x*r.z+v*b.z;let w=o([t],i.chart)[0];if(d){let e=0>l(o([t,{x:t.x+r.x,y:t.y+r.y,z:t.z+r.z},{x:t.x+b.x,y:t.y+b.y,z:t.z+b.z}],i.chart));e&&(r={x:-r.x,y:-r.y,z:-r.z});let n=o([{x:t.x,y:t.y,z:t.z},{x:t.x+r.x,y:t.y+r.y,z:t.z+r.z},{x:t.x+b.x,y:t.y+b.y,z:t.z+b.z}],i.chart);w.matrix=[n[1].x-n[0].x,n[1].y-n[0].y,n[2].x-n[0].x,n[2].y-n[0].y,w.x,w.y],w.matrix[4]-=w.x*w.matrix[0]+w.y*w.matrix[2],w.matrix[5]-=w.x*w.matrix[1]+w.y*w.matrix[3]}return w}swapZ(t,e){let i=this.axis;if(i.isZAxis){let n=e?0:i.chart.plotLeft;return{x:n+t.z,y:t.y,z:t.x-n}}return t}}return w})),i(e,"Core/Series/Series3D.js",[e["Core/Math3D.js"],e["Core/Series/Series.js"],e["Core/Utilities.js"]],(function(t,e,i){let{perspective:n}=t,{addEvent:r,extend:s,merge:o,pick:a,pushUnique:l,isNumber:c}=i,h=[];class u extends e{static compose(t){l(h,t)&&(r(t,"afterTranslate",(function(){this.chart.is3d()&&this.translate3dPoints()})),s(t.prototype,{translate3dPoints:u.prototype.translate3dPoints}))}translate3dPoints(){let t,e,i,r,s=this.options,o=this.chart,l=a(this.zAxis,o.options.zAxis[0]),h=[],u=[],d=s.stacking?c(s.stack)?s.stack:0:this.index||0;for(r=0,this.zPadding=d*(s.depth||0+(s.groupZPadding||1));r<this.data.length;r++)t=this.data[r],l&&l.translate?(i=l.logarithmic&&l.val2lin?l.val2lin(t.z):t.z,t.plotZ=l.translate(i),t.isInside=!!t.isInside&&i>=l.min&&i<=l.max):t.plotZ=this.zPadding,t.axisXpos=t.plotX,t.axisYpos=t.plotY,t.axisZpos=t.plotZ,h.push({x:t.plotX,y:t.plotY,z:t.plotZ}),u.push(t.plotX||0);this.rawPointsX=u;let p=n(h,o,!0);for(r=0;r<this.data.length;r++)t=this.data[r],e=p[r],t.plotX=e.x,t.plotY=e.y,t.plotZ=e.z}}return u.defaultOptions=o(e.defaultOptions),u})),i(e,"Core/Renderer/SVG/SVGElement3D.js",[e["Core/Color/Color.js"],e["Core/Renderer/RendererRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{parse:n}=t,{Element:r}=e.getRendererType().prototype,{defined:s,pick:o}=i;class a extends r{constructor(){super(...arguments),this.parts=["front","top","side"],this.pathType="cuboid"}initArgs(t){let e=this.renderer,i=e[this.pathType+"Path"](t),n=i.zIndexes;for(let r of this.parts){let t={class:"highcharts-3d-"+r,zIndex:n[r]||0};e.styledMode&&("top"===r?t.filter="url(#highcharts-brighter)":"side"===r&&(t.filter="url(#highcharts-darker)")),this[r]=e.path(i[r]).attr(t).add(this)}this.attr({"stroke-linejoin":"round",zIndex:n.group}),this.forcedSides=i.forcedSides}singleSetterForParts(t,e,i,n,r,s){let o={},a=[null,null,n||"attr",r,s],l=i&&i.zIndexes;if(i){for(let e of(l&&l.group&&this.attr({zIndex:l.group}),Object.keys(i)))o[e]={},o[e][t]=i[e],l&&(o[e].zIndex=i.zIndexes[e]||0);a[1]=o}else o[t]=e,a[0]=o;return this.processParts.apply(this,a)}processParts(t,e,i,n,r){for(let s of this.parts)e&&(t=o(e[s],!1)),!1!==t&&this[s][i](t,n,r);return this}destroy(){return this.processParts(null,null,"destroy"),super.destroy()}attr(t,e,i,n){if("string"==typeof t&&void 0!==e){let i=t;(t={})[i]=e}return t.shapeArgs||s(t.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](t.shapeArgs||t)):super.attr(t,void 0,i,n)}animate(t,e,i){if(s(t.x)&&s(t.y)){let n=this.renderer[this.pathType+"Path"](t),r=n.forcedSides;this.singleSetterForParts("d",null,n,"animate",e,i),this.attr({zIndex:n.zIndexes.group}),r===this.forcedSides||(this.forcedSides=r,this.renderer.styledMode||this.fillSetter(this.fill))}else super.animate(t,e,i);return this}fillSetter(t){return this.forcedSides=this.forcedSides||[],this.singleSetterForParts("fill",null,{front:t,top:n(t).brighten(this.forcedSides.indexOf("top")>=0?0:.1).get(),side:n(t).brighten(this.forcedSides.indexOf("side")>=0?0:-.1).get()}),this.color=this.fill=t,this}}return a.types={base:a,cuboid:a},a})),i(e,"Core/Renderer/SVG/SVGRenderer3D.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Math3D.js"],e["Core/Renderer/SVG/SVGElement3D.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r,s){var o;let{animObject:a}=t,{parse:l}=e,{charts:c,deg2rad:h}=i,{perspective:u,shapeArea:d}=n,{defined:p,extend:f,merge:m,pick:g,pushUnique:y}=s,x=[],v=Math.cos,b=Math.sin,_=Math.PI,w=4*(Math.sqrt(2)-1)/3/(_/2);function S(t,e,i,n,r,s,o,a){let l=s-r,c=[];return s>r&&s-r>Math.PI/2+1e-4?c=(c=c.concat(S(t,e,i,n,r,r+Math.PI/2,o,a))).concat(S(t,e,i,n,r+Math.PI/2,s,o,a)):s<r&&r-s>Math.PI/2+1e-4?c=(c=c.concat(S(t,e,i,n,r,r-Math.PI/2,o,a))).concat(S(t,e,i,n,r-Math.PI/2,s,o,a)):[["C",t+i*Math.cos(r)-i*w*l*Math.sin(r)+o,e+n*Math.sin(r)+n*w*l*Math.cos(r)+a,t+i*Math.cos(s)+i*w*l*Math.sin(s)+o,e+n*Math.sin(s)-n*w*l*Math.cos(s)+a,t+i*Math.cos(s)+o,e+n*Math.sin(s)+a]]}return function(t){function e(t,e){let i=[];for(let n of t)i.push(["L",n.x,n.y]);return t.length&&(i[0][0]="M",e&&i.push(["Z"])),i}function n(t){let e=[],i=!0;for(let n of t)e.push(i?["M",n.x,n.y]:["L",n.x,n.y]),i=!i;return e}function s(t){let e=this,i=e.Element.prototype,n=e.createElement("path");return n.vertexes=[],n.insidePlotArea=!1,n.enabled=!0,n.attr=function(t){if("object"==typeof t&&(p(t.enabled)||p(t.vertexes)||p(t.insidePlotArea))){this.enabled=g(t.enabled,this.enabled),this.vertexes=g(t.vertexes,this.vertexes),this.insidePlotArea=g(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea;let i=c[e.chartIndex],n=u(this.vertexes,i,this.insidePlotArea),r=e.toLinePath(n,!0),s=d(n);t.d=r,t.visibility=this.enabled&&s>0?"inherit":"hidden"}return i.attr.apply(this,arguments)},n.animate=function(t){if("object"==typeof t&&(p(t.enabled)||p(t.vertexes)||p(t.insidePlotArea))){this.enabled=g(t.enabled,this.enabled),this.vertexes=g(t.vertexes,this.vertexes),this.insidePlotArea=g(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea;let i=c[e.chartIndex],n=u(this.vertexes,i,this.insidePlotArea),r=e.toLinePath(n,!0),s=d(n),o=this.enabled&&s>0?"visible":"hidden";t.d=r,this.attr("visibility",o)}return i.animate.apply(this,arguments)},n.attr(t)}function o(t){let e=this,i=e.Element.prototype,n=e.g(),r=n.destroy;return this.styledMode||n.attr({"stroke-linejoin":"round"}),n.faces=[],n.destroy=function(){for(let t=0;t<n.faces.length;t++)n.faces[t].destroy();return r.call(this)},n.attr=function(t,r,s,o){if("object"==typeof t&&p(t.faces)){for(;n.faces.length>t.faces.length;)n.faces.pop().destroy();for(;n.faces.length<t.faces.length;)n.faces.push(e.face3d().add(n));for(let i=0;i<t.faces.length;i++)e.styledMode&&delete t.faces[i].fill,n.faces[i].attr(t.faces[i],null,s,o);delete t.faces}return i.attr.apply(this,arguments)},n.animate=function(t,r,s){if(t&&t.faces){for(;n.faces.length>t.faces.length;)n.faces.pop().destroy();for(;n.faces.length<t.faces.length;)n.faces.push(e.face3d().add(n));for(let e=0;e<t.faces.length;e++)n.faces[e].animate(t.faces[e],r,s);delete t.faces}return i.animate.apply(this,arguments)},n.attr(t)}function w(t,e){let i=new r.types[t];return i.init(this,"g"),i.initArgs(e),i}function C(t){return this.element3d("cuboid",t)}function T(t){let e,i=t.x||0,n=t.y||0,r=t.z||0,s=t.height||0,o=t.width||0,a=t.depth||0,l=c[this.chartIndex],h=l.options.chart.options3d,p=h.alpha,f=[],m=0,g=[{x:i,y:n,z:r},{x:i+o,y:n,z:r},{x:i+o,y:n+s,z:r},{x:i,y:n+s,z:r},{x:i,y:n+s,z:r+a},{x:i+o,y:n+s,z:r+a},{x:i+o,y:n,z:r+a},{x:i,y:n,z:r+a}];g=u(g,l,t.insidePlotArea);let y=t=>0===s&&t>1&&t<6?{x:g[t].x,y:g[t].y+10,z:g[t].z}:g[0].x===g[7].x&&t>=4?{x:g[t].x+10,y:g[t].y,z:g[t].z}:0===a&&t<2||t>5?{x:g[t].x,y:g[t].y,z:g[t].z+10}:g[t],x=t=>g[t],v=(t,e,i)=>{let n=t.map(x),r=e.map(x),s=t.map(y),o=e.map(y),a=[[],-1];return 0>d(n)?a=[n,0]:0>d(r)?a=[r,1]:i&&(f.push(i),a=0>d(s)?[n,0]:0>d(o)?[r,1]:[n,0]),a};e=v([3,2,1,0],[7,6,5,4],"front");let b=e[0],_=e[1];e=v([1,6,7,0],[4,5,2,3],"top");let w=e[0],S=e[1];e=v([1,2,5,6],[0,7,4,3],"side");let C=e[0],T=e[1];return 1===T?m+=1e6*(l.plotWidth-i):T||(m+=1e6*i),m+=10*(!S||p>=0&&p<=180||p<360&&p>357.5?l.plotHeight-n:10+n),1===_?m+=100*r:_||(m+=100*(1e3-r)),{front:this.toLinePath(b,!0),top:this.toLinePath(w,!0),side:this.toLinePath(C,!0),zIndexes:{group:Math.round(m)},forcedSides:f,isFront:_,isTop:S}}function k(t){let e=this.g(),n=this.Element.prototype,r=["x","y","r","innerR","start","end","depth"];function s(t){let e,i={},n=!1;for(e in t=m(t))-1!==r.indexOf(e)&&(i[e]=t[e],delete t[e],n=!0);return!!n&&[i,t]}for(let i of((t=m(t)).alpha=(t.alpha||0)*h,t.beta=(t.beta||0)*h,e.top=this.path(),e.side1=this.path(),e.side2=this.path(),e.inn=this.path(),e.out=this.path(),e.onAdd=function(){let t=e.parentGroup,i=e.attr("class");for(let n of(e.top.add(e),["out","inn","side1","side2"]))e[n].attr({class:i+" highcharts-3d-side"}).add(t)},["addClass","removeClass"]))e[i]=function(){let t=arguments;for(let n of["top","out","inn","side1","side2"])e[n][i].apply(e[n],t)};for(let i of(e.setPaths=function(t){let i=e.renderer.arc3dPath(t),n=100*i.zTop;e.attribs=t,e.top.attr({d:i.top,zIndex:i.zTop}),e.inn.attr({d:i.inn,zIndex:i.zInn}),e.out.attr({d:i.out,zIndex:i.zOut}),e.side1.attr({d:i.side1,zIndex:i.zSide1}),e.side2.attr({d:i.side2,zIndex:i.zSide2}),e.zIndex=n,e.attr({zIndex:n}),t.center&&(e.top.setRadialReference(t.center),delete t.center)},e.setPaths(t),e.fillSetter=function(t){let e=l(t).brighten(-.1).get();return this.fill=t,this.side1.attr({fill:e}),this.side2.attr({fill:e}),this.inn.attr({fill:e}),this.out.attr({fill:e}),this.top.attr({fill:t}),this},["opacity","translateX","translateY","visibility"]))e[i+"Setter"]=function(t,i){for(let n of(e[i]=t,["out","inn","side1","side2","top"]))e[n].attr(i,t)};return e.attr=function(t){let i,r;return"object"==typeof t&&(r=s(t))&&(i=r[0],arguments[0]=r[1],f(e.attribs,i),e.setPaths(e.attribs)),n.attr.apply(e,arguments)},e.animate=function(t,r,o){let l,c,h=this.attribs,u="data-"+Math.random().toString(26).substring(2,9);delete t.center,delete t.z,delete t.alpha,delete t.beta;let d=a(g(r,this.renderer.globalAnimation));return d.duration&&(l=s(t),e[u]=0,t[u]=1,e[u+"Setter"]=i.noop,l&&(c=l[0],d.step=function(t,e){let i=t=>h[t]+(g(c[t],h[t])-h[t])*e.pos;e.prop===u&&e.elem.setPaths(m(h,{x:i("x"),y:i("y"),r:i("r"),innerR:i("innerR"),start:i("start"),end:i("end"),depth:i("depth")}))}),r=d),n.animate.call(this,t,r,o)},e.destroy=function(){return this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),n.destroy.call(this)},e.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},e.show=function(t){this.top.show(t),this.out.show(t),this.inn.show(t),this.side1.show(t),this.side2.show(t)},e}function A(t){let e=t.x||0,i=t.y||0,n=t.start||0,r=(t.end||0)-1e-5,s=t.r||0,o=t.innerR||0,a=t.depth||0,l=t.alpha||0,c=t.beta||0,h=Math.cos(n),u=Math.sin(n),d=Math.cos(r),p=Math.sin(r),f=s*Math.cos(c),m=s*Math.cos(l),g=o*Math.cos(c),y=o*Math.cos(l),x=a*Math.sin(c),w=a*Math.sin(l),C=[["M",e+f*h,i+m*u]];(C=C.concat(S(e,i,f,m,n,r,0,0))).push(["L",e+g*d,i+y*p]),(C=C.concat(S(e,i,g,y,r,n,0,0))).push(["Z"]);let T=c>0?Math.PI/2:0,k=l>0?0:Math.PI/2,A=n>-T?n:r>-T?-T:n,I=r<_-k?r:n<_-k?_-k:r,M=2*_-k,P=[["M",e+f*v(A),i+m*b(A)]];P=P.concat(S(e,i,f,m,A,I,0,0)),r>M&&n<M?(P.push(["L",e+f*v(I)+x,i+m*b(I)+w]),(P=P.concat(S(e,i,f,m,I,M,x,w))).push(["L",e+f*v(M),i+m*b(M)]),(P=P.concat(S(e,i,f,m,M,r,0,0))).push(["L",e+f*v(r)+x,i+m*b(r)+w]),(P=P.concat(S(e,i,f,m,r,M,x,w))).push(["L",e+f*v(M),i+m*b(M)]),P=P.concat(S(e,i,f,m,M,I,0,0))):r>_-k&&n<_-k&&(P.push(["L",e+f*Math.cos(I)+x,i+m*Math.sin(I)+w]),(P=P.concat(S(e,i,f,m,I,r,x,w))).push(["L",e+f*Math.cos(r),i+m*Math.sin(r)]),P=P.concat(S(e,i,f,m,r,I,0,0))),P.push(["L",e+f*Math.cos(I)+x,i+m*Math.sin(I)+w]),(P=P.concat(S(e,i,f,m,I,A,x,w))).push(["Z"]);let E=[["M",e+g*h,i+y*u]];(E=E.concat(S(e,i,g,y,n,r,0,0))).push(["L",e+g*Math.cos(r)+x,i+y*Math.sin(r)+w]),(E=E.concat(S(e,i,g,y,r,n,x,w))).push(["Z"]);let D=[["M",e+f*h,i+m*u],["L",e+f*h+x,i+m*u+w],["L",e+g*h+x,i+y*u+w],["L",e+g*h,i+y*u],["Z"]],L=[["M",e+f*d,i+m*p],["L",e+f*d+x,i+m*p+w],["L",e+g*d+x,i+y*p+w],["L",e+g*d,i+y*p],["Z"]],z=Math.atan2(w,-x),O=Math.abs(r+z),F=Math.abs(n+z),R=Math.abs((n+r)/2+z);function B(t){return(t%=2*Math.PI)>Math.PI&&(t=2*Math.PI-t),t}O=B(O),F=B(F),R=B(R);let N=1e5*R,j=1e5*F,U=1e5*O;return{top:C,zTop:1e5*Math.PI+1,out:P,zOut:Math.max(N,j,U),inn:E,zInn:Math.max(N,j,U),side1:D,zSide1:.99*U,side2:L,zSide2:.99*j}}t.compose=function(t){y(x,t)&&f(t.prototype,{Element3D:r,arc3d:k,arc3dPath:A,cuboid:C,cuboidPath:T,element3d:w,face3d:s,polyhedron:o,toLinePath:e,toLineSegments:n})}}(o||(o={})),o})),i(e,"Core/Axis/ZAxis.js",[e["Core/Axis/Axis.js"],e["Core/Utilities.js"]],(function(t,e){let{addEvent:i,merge:n,pick:r,splat:s}=e,o=[];function a(t){return new c(this,t)}function l(){let t=this.options.zAxis=s(this.options.zAxis||{});this.is3d()&&(this.zAxis=[],t.forEach(((t,e)=>{this.addZAxis(t).setScale()})))}class c extends t{constructor(){super(...arguments),this.isZAxis=!0}static compose(t){if(e.pushUnique(o,t)){i(t,"afterGetAxes",l);let e=t.prototype;e.addZAxis=a,e.collectionsWithInit.zAxis=[e.addZAxis],e.collectionsWithUpdate.push("zAxis")}}init(t,e){this.isZAxis=!0,super.init(t,e,"zAxis")}getSeriesExtremes(){this.chart,this.hasVisibleSeries=!1,this.dataMin=this.dataMax=this.ignoreMinPadding=this.ignoreMaxPadding=void 0,this.stacking&&this.stacking.buildStacks(),this.series.forEach((t=>{if(t.reserveSpace()){let e=t.options.threshold;this.hasVisibleSeries=!0,this.positiveValuesOnly&&e<=0&&(e=void 0);let i=t.zData;i.length&&(this.dataMin=Math.min(r(this.dataMin,i[0]),Math.min.apply(null,i)),this.dataMax=Math.max(r(this.dataMax,i[0]),Math.max.apply(null,i)))}}))}setAxisSize(){let t=this.chart;super.setAxisSize(),this.width=this.len=t.options.chart.options3d&&t.options.chart.options3d.depth||0,this.right=t.chartWidth-this.width-this.left}setOptions(t){t=n({offset:0,lineWidth:0},t),super.setOptions(t)}}return c})),i(e,"Series/Column3D/Column3DComposition.js",[e["Core/Math3D.js"],e["Core/Utilities.js"]],(function(t,e){let{perspective:i}=t,{addEvent:n,extend:r,pick:s,pushUnique:o,wrap:a}=e,l=[];function c(){let t,e=this.chart,n=this.options,s=n.depth,o=n.stacking?n.stack||0:this.index,a=o*(s+(n.groupZPadding||1)),l=this.borderWidth%2?.5:0;for(let c of(e.inverted&&!this.yAxis.reversed&&(l*=-1),!1!==n.grouping&&(a=0),a+=n.groupZPadding||1,this.data))if(c.outside3dPlot=null,null!==c.y){let n,o=r({x:0,y:0,width:0,height:0},c.shapeArgs||{}),h=[["x","width"],["y","height"]],u=c.tooltipPos;for(let t of h)if((n=o[t[0]]-l)<0&&(o[t[1]]+=o[t[0]]+l,o[t[0]]=-l,n=0),n+o[t[1]]>this[t[0]+"Axis"].len&&0!==o[t[1]]&&(o[t[1]]=this[t[0]+"Axis"].len-o[t[0]]),0!==o[t[1]]&&(o[t[0]]>=this[t[0]+"Axis"].len||o[t[0]]+o[t[1]]<=l)){for(let t in o)o[t]="y"===t?-9999:0;c.outside3dPlot=!0}if("roundedRect"===c.shapeType&&(c.shapeType="cuboid"),c.shapeArgs=r(o,{z:a,depth:s,insidePlotArea:!0}),t={x:o.x+o.width/2,y:o.y,z:a+s/2},e.inverted&&(t.x=o.height,t.y=c.clientX||0),c.plot3d=i([t],e,!0,!1)[0],u){let t=i([{x:u[0],y:u[1],z:a+s/2}],e,!0,!1)[0];c.tooltipPos=[t.x,t.y]}}this.z=a}function h(){if(this.chart.is3d()){let t=this.options,e=t.grouping,i=t.stacking,n=this.yAxis.options.reversedStacks,r=0;if(void 0===e||e){let e,o=function(t,e){let i,n=t.series,r={totalStacks:0},o=1;return n.forEach((function(t){r[i=s(t.options.stack,e?0:n.length-1-t.index)]?r[i].series.push(t):(r[i]={series:[t],position:o},o++)})),r.totalStacks=o+1,r}(this.chart,i),a=t.stack||0;for(e=0;e<o[a].series.length&&o[a].series[e]!==this;e++);r=10*(o.totalStacks-o[a].position)+(n?e:-e),this.xAxis.reversed||(r=10*o.totalStacks-r)}t.depth=t.depth||25,this.z=this.z||0,t.zIndex=r}}function u(t,...e){return this.series.chart.is3d()?this.graphic&&"g"!==this.graphic.element.nodeName:t.apply(this,e)}function d(t){if(this.chart.is3d()){let t=arguments,e=t[1],i=this.yAxis,n=this.yAxis.reversed;if(e)for(let r of this.data)null===r.y||(r.height=r.shapeArgs.height,r.shapey=r.shapeArgs.y,r.shapeArgs.height=1,n||(r.stackY?r.shapeArgs.y=r.plotY+i.translate(r.stackY):r.shapeArgs.y=r.plotY+(r.negative?-r.height:r.height)));else{for(let t of this.data)null!==t.y&&(t.shapeArgs.height=t.height,t.shapeArgs.y=t.shapey,t.graphic&&t.graphic[t.outside3dPlot?"attr":"animate"](t.shapeArgs,this.options.animation));this.drawDataLabels()}}else t.apply(this,[].slice.call(arguments,1))}function p(t,e,i,n,r,s){return"dataLabelsGroup"!==e&&"markerGroup"!==e&&this.chart.is3d()&&(this[e]&&delete this[e],s&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(s)),this[e]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[e].survive=!0,"group"===e&&(arguments[3]="visible"))),t.apply(this,Array.prototype.slice.call(arguments,1))}function f(t){let e=t.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(e.stroke=this.options.edgeColor||e.fill,e["stroke-width"]=s(this.options.edgeWidth,1)),e}function m(t,e,i){let n=this.chart.is3d&&this.chart.is3d();n&&(this.options.inactiveOtherPoints=!0),t.call(this,e,i),n&&(this.options.inactiveOtherPoints=!1)}function g(t,e){if(this.chart.is3d())for(let i of this.data)i.visible=i.options.visible=e=void 0===e?!s(this.visible,i.visible):e,this.options.data[this.data.indexOf(i)]=i.options,i.graphic&&i.graphic.attr({visibility:e?"visible":"hidden"});t.apply(this,Array.prototype.slice.call(arguments,1))}function y(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()}function x(t,e,n,r,o){let a=this.chart;if(r.outside3dPlot=e.outside3dPlot,a.is3d()&&this.is("column")){let t=this.options,n=s(r.inside,!!this.options.stacking),l=a.options.chart.options3d,c=e.pointWidth/2||0,h={x:o.x+c,y:o.y,z:this.z+t.depth/2};a.inverted&&(n&&(o.width=0,h.x+=e.shapeArgs.height/2),l.alpha>=90&&l.alpha<=270&&(h.y+=e.shapeArgs.width)),h=i([h],a,!0,!1)[0],o.x=h.x-c,o.y=e.outside3dPlot?-9e9:h.y}t.apply(this,[].slice.call(arguments,1))}function v(t){return!arguments[2].outside3dPlot&&t.apply(this,[].slice.call(arguments,1))}function b(t,e){let n=t.apply(this,[].slice.call(arguments,1)),r=this.axis.chart,{width:s}=e;if(r.is3d()&&this.base){let t=+this.base.split(",")[0],e=r.series[t],o=r.options.chart.options3d;if(e&&"column"===e.type){let t={x:n.x+(r.inverted?n.height:s/2),y:n.y,z:e.options.depth/2};r.inverted&&(n.width=0,o.alpha>=90&&o.alpha<=270&&(t.y+=s)),t=i([t],r,!0,!1)[0],n.x=t.x-s/2,n.y=t.y}}return n}return{compose:function(t,e){if(o(l,t)){let e=t.prototype;a(e,"alignDataLabel",x),a(e,"justifyDataLabel",v)}if(o(l,e)){let t=e.prototype;a(t,"getStackBox",b)}let{column:i,columnRange:r}=t.types;if(i&&o(l,i)){let t=i.prototype,e=t.pointClass.prototype;t.translate3dPoints=()=>{},t.translate3dShapes=c,n(t,"afterInit",h),a(e,"hasNewShapeType",u),a(t,"animate",d),a(t,"plotGroup",p),a(t,"pointAttribs",f),a(t,"setState",m),a(t,"setVisible",g),a(t,"translate",y)}if(r&&o(l,r)){let t=r.prototype,e=t.pointClass.prototype;a(e,"hasNewShapeType",u),a(t,"plotGroup",p),a(t,"pointAttribs",f),a(t,"setState",m),a(t,"setVisible",g)}}}})),i(e,"Series/Pie3D/Pie3DPoint.js",[e["Core/Series/SeriesRegistry.js"]],(function(t){let{pie:{prototype:{pointClass:e}}}=t.seriesTypes;return class extends e{constructor(){super(...arguments),this.series=void 0}haloPath(){return this.series?.chart.is3d()?[]:super.haloPath.apply(this,arguments)}}})),i(e,"Series/Pie3D/Pie3DSeries.js",[e["Core/Globals.js"],e["Series/Pie3D/Pie3DPoint.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,n){let{deg2rad:r}=t,{pie:s}=i.seriesTypes,{extend:o,pick:a,pushUnique:l}=n,c=[];class h extends s{static compose(t){l(c,t)&&(t.types.pie=h)}addPoint(){super.addPoint.apply(this,arguments),this.chart.is3d()&&this.update(this.userOptions,!0)}animate(t){if(this.chart.is3d()){let e,i=this.center,n=this.group,r=this.markerGroup,s=this.options.animation;!0===s&&(s={}),t?(n.oldtranslateX=a(n.oldtranslateX,n.translateX),n.oldtranslateY=a(n.oldtranslateY,n.translateY),e={translateX:i[0],translateY:i[1],scaleX:.001,scaleY:.001},n.attr(e),r&&(r.attrSetters=n.attrSetters,r.attr(e))):(e={translateX:n.oldtranslateX,translateY:n.oldtranslateY,scaleX:1,scaleY:1},n.animate(e,s),r&&r.animate(e,s))}else super.animate.apply(this,arguments)}getDataLabelPosition(t,e){let i=super.getDataLabelPosition(t,e);if(this.chart.is3d()){let e=this.chart.options.chart.options3d,n=t.shapeArgs,s=n.r,o=(n.alpha||e?.alpha)*r,a=(n.beta||e?.beta)*r,l=(n.start+n.end)/2,c=i.connectorPosition,h=-s*(1-Math.cos(o))*Math.sin(l),u=s*(Math.cos(a)-1)*Math.cos(l);for(let t of[i?.natural,c.breakAt,c.touchingSliceAt])t.x+=u,t.y+=h}return i}pointAttribs(t){let e=super.pointAttribs.apply(this,arguments),i=this.options;return this.chart.is3d()&&!this.chart.styledMode&&(e.stroke=i.edgeColor||t.color||this.color,e["stroke-width"]=a(i.edgeWidth,1)),e}translate(){if(super.translate.apply(this,arguments),!this.chart.is3d())return;let t=this.options,e=t.depth||0,i=this.chart.options.chart.options3d,n=i.alpha,s=i.beta,o=t.stacking?(t.stack||0)*e:this._i*e;for(let a of(o+=e/2,!1!==t.grouping&&(o=0),this.data)){let i=a.shapeArgs;a.shapeType="arc3d",i.z=o,i.depth=.75*e,i.alpha=n,i.beta=s,i.center=this.center;let l=(i.end+i.start)/2;a.slicedTranslation={translateX:Math.round(Math.cos(l)*t.slicedOffset*Math.cos(n*r)),translateY:Math.round(Math.sin(l)*t.slicedOffset*Math.cos(n*r))}}}drawTracker(){if(super.drawTracker.apply(this,arguments),this.chart.is3d())for(let t of this.points)if(t.graphic)for(let e of["out","inn","side1","side2"])t.graphic&&(t.graphic[e].element.point=t)}}return o(h.prototype,{pointClass:e}),h})),i(e,"Series/Scatter3D/Scatter3DPoint.js",[e["Series/Scatter/ScatterSeries.js"],e["Core/Utilities.js"]],(function(t,e){let{pointClass:i}=t.prototype,{defined:n}=e;return class extends i{constructor(){super(...arguments),this.options=void 0,this.series=void 0}applyOptions(){return super.applyOptions.apply(this,arguments),n(this.z)||(this.z=0),this}}})),i(e,"Series/Scatter3D/Scatter3DSeriesDefaults.js",[],(function(){return{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}}})),i(e,"Series/Scatter3D/Scatter3DSeries.js",[e["Core/Math3D.js"],e["Series/Scatter3D/Scatter3DPoint.js"],e["Series/Scatter3D/Scatter3DSeriesDefaults.js"],e["Series/Scatter/ScatterSeries.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r,s){let{pointCameraDistance:o}=t,{extend:a,merge:l}=s;class c extends n{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}pointAttribs(t){let e=super.pointAttribs.apply(this,arguments);return this.chart.is3d()&&t&&(e.zIndex=o(t,this.chart)),e}}return c.defaultOptions=l(n.defaultOptions,i),a(c.prototype,{axisTypes:["xAxis","yAxis","zAxis"],directTouch:!0,parallelArrays:["x","y","z"],pointArrayMap:["x","y","z"],pointClass:e}),r.registerSeriesType("scatter3d",c),c})),i(e,"masters/highcharts-3d.src.js",[e["Core/Globals.js"],e["Core/Chart/Chart3D.js"],e["Series/Area3D/Area3DSeries.js"],e["Core/Axis/Axis3DComposition.js"],e["Core/Renderer/RendererRegistry.js"],e["Core/Series/Series3D.js"],e["Core/Axis/Stacking/StackItem.js"],e["Core/Renderer/SVG/SVGRenderer3D.js"],e["Core/Axis/ZAxis.js"],e["Series/Column3D/Column3DComposition.js"],e["Series/Pie3D/Pie3DSeries.js"]],(function(t,e,i,n,r,s,o,a,l,c,h){i.compose(t.seriesTypes.area),n.compose(t.Axis,t.Tick),e.compose(t.Chart,t.Fx),c.compose(t.Series,o),h.compose(t.Series),s.compose(t.Series),a.compose(r.getRendererType()),l.compose(t.Chart)}))}))},4814:function(t,e,i){var n,r;!function(s){t.exports?(s.default=s,t.exports=s):(n=[i(8840)],r=function(t){return s(t),s.Highcharts=t,s}.apply(e,n),void 0===r||(t.exports=r))}((function(t){"use strict";var e=t?t._modules:{};function i(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}i(e,"Extensions/Pane.js",[e["Core/Chart/Chart.js"],e["Series/CenteredUtilities.js"],e["Core/Globals.js"],e["Core/Pointer.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r){let{addEvent:s,correctFloat:o,defined:a,extend:l,merge:c,pick:h,splat:u}=r;t.prototype.collectionsWithUpdate.push("pane");class d{constructor(t,e){this.background=void 0,this.center=void 0,this.chart=void 0,this.options=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(t,e)}init(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)}setOptions(t){this.options=t=c(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)}render(){let t,e,i=this.options,n=this.options.background,r=this.chart.renderer;if(this.group||(this.group=r.g("pane-group").attr({zIndex:i.zIndex||0}).add()),this.updateCenter(),n)for(e=0,t=Math.max((n=u(n)).length,this.background.length||0);e<t;e++)n[e]&&this.axis?this.renderBackground(c(this.defaultBackgroundOptions,n[e]),e):this.background[e]&&(this.background[e]=this.background[e].destroy(),this.background.splice(e,1))}renderBackground(t,e){let i="animate",n={class:"highcharts-pane "+(t.className||"")};this.chart.styledMode||l(n,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth}),this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),i="attr"),this.background[e][i]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr(n)}updateCenter(t){this.center=(t||this.axis||{}).center=e.getCenter.call(this)}update(t,e){c(!0,this.options,t),this.setOptions(this.options),this.render(),this.chart.axes.forEach((function(t){t.pane===this&&(t.pane=null,t.update({},e))}),this)}}function p(t,e,i,n,r){let s=!0,l=i[0],c=i[1],h=Math.sqrt(Math.pow(t-l,2)+Math.pow(e-c,2));if(a(n)&&a(r)){let i=Math.atan2(o(e-c,8),o(t-l,8));r!==n&&(s=n>r?i>=n&&i<=Math.PI||i<=r&&i>=-Math.PI:i>=n&&i<=o(r,8))}return h<=Math.ceil(i[2]/2)&&s}return t.prototype.getHoverPane=function(t){let e,i=this;return t&&i.pane.forEach((n=>{let r=t.chartX-i.plotLeft,s=t.chartY-i.plotTop;p(r,s,n.center)&&(e=n)})),e},s(t,"afterIsInsidePlot",(function(t){this.polar&&(t.options.inverted&&([t.x,t.y]=[t.y,t.x]),t.isInsidePlot=this.pane.some((e=>p(t.x,t.y,e.center,e.axis&&e.axis.normalizedStartAngleRad,e.axis&&e.axis.normalizedEndAngleRad))))})),s(n,"beforeGetHoverData",(function(t){let e=this.chart;e.polar?(e.hoverPane=e.getHoverPane(t),t.filter=function(i){return i.visible&&!(!t.shared&&i.directTouch)&&h(i.options.enableMouseTracking,!0)&&(!e.hoverPane||i.xAxis.pane===e.hoverPane)}):e.hoverPane=void 0})),s(n,"afterGetHoverData",(function(t){let e=this.chart;t.hoverPoint&&t.hoverPoint.plotX&&t.hoverPoint.plotY&&e.hoverPane&&!p(t.hoverPoint.plotX,t.hoverPoint.plotY,e.hoverPane.center)&&(t.hoverPoint=void 0)})),i.Pane=d,d})),i(e,"Series/AreaRange/AreaRangePoint.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e){let{area:{prototype:{pointClass:i,pointClass:{prototype:n}}}}=t.seriesTypes,{defined:r,isNumber:s,merge:o}=e;return class extends i{constructor(){super(...arguments),this.high=void 0,this.low=void 0,this.options=void 0,this.plotX=void 0,this.series=void 0}setState(){let t=this.state,e=this.series,i=e.chart.polar;e.options.marker,e.symbol,r(this.plotHigh)||(this.plotHigh=e.yAxis.toPixels(this.high,!0)),r(this.plotLow)||(this.plotLow=this.plotY=e.yAxis.toPixels(this.low,!0)),e.lowerStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.upperStateMarkerGraphic,this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,i&&s(this.plotHighX)&&(this.plotX=this.plotHighX),n.setState.apply(this,arguments),this.state=t,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],i&&s(this.plotLowX)&&(this.plotX=this.plotLowX),e.upperStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.lowerStateMarkerGraphic,e.lowerStateMarkerGraphic=void 0;let o=e.modifyMarkerSettings();n.setState.apply(this,arguments),e.restoreMarkerSettings(o)}haloPath(){let t=this.series.chart.polar,e=[];return this.plotY=this.plotLow,t&&s(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(e=n.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,t&&s(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(e=e.concat(n.haloPath.apply(this,arguments))),e}isValid(){return s(this.low)&&s(this.high)}}})),i(e,"Series/AreaRange/AreaRangeSeries.js",[e["Series/AreaRange/AreaRangePoint.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,n){let{noop:r}=e,{area:s,area:{prototype:o},column:{prototype:a}}=i.seriesTypes,{addEvent:l,defined:c,extend:h,isArray:u,isNumber:d,pick:p,merge:f}=n;class m extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.lowerStateMarkerGraphic=void 0,this.xAxis=void 0}toYData(t){return[t.low,t.high]}highToXY(t){let e=this.chart,i=this.xAxis.postTranslate(t.rectPlotX||0,this.yAxis.len-(t.plotHigh||0));t.plotHighX=i.x-e.plotLeft,t.plotHigh=i.y-e.plotTop,t.plotLowX=t.plotX}getGraphPath(t){let e,i,n,r=[],s=[],a=o.getGraphPath,l=this.options,c=this.chart.polar,h=c&&!1!==l.connectEnds,u=l.connectNulls,d=l.step;for(e=(t=t||this.points).length;e--;){i=t[e];let o=c?{plotX:i.rectPlotX,plotY:i.yBottom,doCurve:!1}:{plotX:i.plotX,plotY:i.plotY,doCurve:!1};i.isNull||h||u||t[e+1]&&!t[e+1].isNull||s.push(o),n={polarPlotY:i.polarPlotY,rectPlotX:i.rectPlotX,yBottom:i.yBottom,plotX:p(i.plotHighX,i.plotX),plotY:i.plotHigh,isNull:i.isNull},s.push(n),r.push(n),i.isNull||h||u||t[e-1]&&!t[e-1].isNull||s.push(o)}let f=a.call(this,t);d&&(!0===d&&(d="left"),l.step={left:"right",center:"center",right:"left"}[d]);let m=a.call(this,r),g=a.call(this,s);l.step=d;let y=[].concat(f,m);return!this.chart.polar&&g[0]&&"M"===g[0][0]&&(g[0]=["L",g[0][1],g[0][2]]),this.graphPath=y,this.areaPath=f.concat(g),y.isArea=!0,y.xMap=f.xMap,this.areaPath.xMap=f.xMap,y}drawDataLabels(){let t,e,i,n,r,s=this.points,a=s.length,l=[],c=this.options.dataLabels,d=this.chart.inverted;if(c){if(u(c)?(n=c[0]||{enabled:!1},r=c[1]||{enabled:!1}):((n=h({},c)).x=c.xHigh,n.y=c.yHigh,(r=h({},c)).x=c.xLow,r.y=c.yLow),n.enabled||this.hasDataLabels?.()){for(t=a;t--;)if(e=s[t]){let{plotHigh:r=0,plotLow:s=0}=e;i=n.inside?r<s:r>s,e.y=e.high,e._plotY=e.plotY,e.plotY=r,l[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=i,d?n.align||(n.align=i?"right":"left"):n.verticalAlign||(n.verticalAlign=i?"top":"bottom")}for(this.options.dataLabels=n,o.drawDataLabels&&o.drawDataLabels.apply(this,arguments),t=a;t--;)(e=s[t])&&(e.dataLabelUpper=e.dataLabel,e.dataLabel=l[t],delete e.dataLabels,e.y=e.low,e.plotY=e._plotY)}if(r.enabled||this.hasDataLabels?.()){for(t=a;t--;)if(e=s[t]){let{plotHigh:t=0,plotLow:n=0}=e;i=r.inside?t<n:t>n,e.below=!i,d?r.align||(r.align=i?"left":"right"):r.verticalAlign||(r.verticalAlign=i?"bottom":"top")}this.options.dataLabels=r,o.drawDataLabels&&o.drawDataLabels.apply(this,arguments)}if(n.enabled)for(t=a;t--;)(e=s[t])&&(e.dataLabels=[e.dataLabelUpper,e.dataLabel].filter((function(t){return!!t})));this.options.dataLabels=c}}alignDataLabel(){a.alignDataLabel.apply(this,arguments)}modifyMarkerSettings(){let t={marker:this.options.marker,symbol:this.symbol};if(this.options.lowMarker){let{options:{marker:t,lowMarker:e}}=this;this.options.marker=f(t,e),e.symbol&&(this.symbol=e.symbol)}return t}restoreMarkerSettings(t){this.options.marker=t.marker,this.symbol=t.symbol}drawPoints(){let t,e,i=this.points.length,n=this.modifyMarkerSettings();for(o.drawPoints.apply(this,arguments),this.restoreMarkerSettings(n),t=0;t<i;)(e=this.points[t]).graphics=e.graphics||[],e.origProps={plotY:e.plotY,plotX:e.plotX,isInside:e.isInside,negative:e.negative,zone:e.zone,y:e.y},(e.graphic||e.graphics[0])&&(e.graphics[0]=e.graphic),e.graphic=e.graphics[1],e.plotY=e.plotHigh,c(e.plotHighX)&&(e.plotX=e.plotHighX),e.y=p(e.high,e.origProps.y),e.negative=e.y<(this.options.threshold||0),this.zones.length&&(e.zone=e.getZone()),this.chart.polar||(e.isInside=e.isTopInside=void 0!==e.plotY&&e.plotY>=0&&e.plotY<=this.yAxis.len&&e.plotX>=0&&e.plotX<=this.xAxis.len),t++;for(o.drawPoints.apply(this,arguments),t=0;t<i;)(e=this.points[t]).graphics=e.graphics||[],(e.graphic||e.graphics[1])&&(e.graphics[1]=e.graphic),e.graphic=e.graphics[0],e.origProps&&(h(e,e.origProps),delete e.origProps),t++}hasMarkerChanged(t,e){let i=t.lowMarker,n=e.lowMarker||{};return i&&(!1===i.enabled||n.symbol!==i.symbol||n.height!==i.height||n.width!==i.width)||super.hasMarkerChanged(t,e)}}return m.defaultOptions=f(s.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),l(m,"afterTranslate",(function(){"low,high"===this.pointArrayMap.join(",")&&this.points.forEach((t=>{let e=t.high,i=t.plotY;t.isNull?t.plotY=void 0:(t.plotLow=i,t.plotHigh=d(e)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(e):e,!1,!0,void 0,!0):void 0,this.dataModify&&(t.yBottom=t.plotHigh))}))}),{order:0}),l(m,"afterTranslate",(function(){this.chart.inverted,this.points.forEach((t=>{if(this.chart.polar)this.highToXY(t),t.plotLow=t.plotY,t.tooltipPos=[((t.plotHighX||0)+(t.plotLowX||0))/2,((t.plotHigh||0)+(t.plotLow||0))/2];else{let e=t.pos(!1,t.plotLow),i=t.pos(!1,t.plotHigh);e&&i&&(e[0]=(e[0]+i[0])/2,e[1]=(e[1]+i[1])/2),t.tooltipPos=e}}))}),{order:3}),h(m.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:t,pointValKey:"low",setStackedPoints:r}),i.registerSeriesType("arearange",m),m})),i(e,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[e["Series/AreaRange/AreaRangeSeries.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{spline:{prototype:n}}=e.seriesTypes,{merge:r,extend:s}=i;class o extends t{constructor(){super(...arguments),this.options=void 0,this.data=void 0,this.points=void 0}}return o.defaultOptions=r(t.defaultOptions),s(o.prototype,{getPointSpline:n.getPointSpline}),e.registerSeriesType("areasplinerange",o),o})),i(e,"Series/BoxPlot/BoxPlotSeriesDefaults.js",[],(function(){return{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}})),i(e,"Series/BoxPlot/BoxPlotSeries.js",[e["Series/BoxPlot/BoxPlotSeriesDefaults.js"],e["Series/Column/ColumnSeries.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r){let{noop:s}=i,{extend:o,merge:a,pick:l}=r;class c extends e{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}pointAttribs(){return{}}translate(){let t=this.yAxis,e=this.pointArrayMap;super.translate.apply(this),this.points.forEach((function(i){e.forEach((function(e){null!==i[e]&&(i[e+"Plot"]=t.translate(i[e],0,1,0,1))})),i.plotHigh=i.highPlot}))}drawPoints(){let t,e,i,n,r,s,o,a,c,h,u,d,p,f,m=this.points,g=this.options,y=this.chart,x=y.renderer,v=!1!==this.doQuartiles,b=this.options.whiskerLength,_=0;for(let w of m){c=w.graphic;let m=c?"animate":"attr",S=w.shapeArgs,C={},T={},k={},A={},I=w.color||this.color;if(void 0!==w.plotY){let M;h=Math.round(S.width),d=(u=Math.floor(S.x))+h,p=Math.round(h/2),t=Math.floor(v?w.q1Plot:w.lowPlot),e=Math.floor(v?w.q3Plot:w.lowPlot),i=Math.floor(w.highPlot),n=Math.floor(w.lowPlot),c||(w.graphic=c=x.g("point").add(this.group),w.stem=x.path().addClass("highcharts-boxplot-stem").add(c),b&&(w.whiskers=x.path().addClass("highcharts-boxplot-whisker").add(c)),v&&(w.box=x.path(a).addClass("highcharts-boxplot-box").add(c)),w.medianShape=x.path(s).addClass("highcharts-boxplot-median").add(c)),y.styledMode||(T.stroke=w.stemColor||g.stemColor||I,T["stroke-width"]=l(w.stemWidth,g.stemWidth,g.lineWidth),T.dashstyle=w.stemDashStyle||g.stemDashStyle||g.dashStyle,w.stem.attr(T),b&&(k.stroke=w.whiskerColor||g.whiskerColor||I,k["stroke-width"]=l(w.whiskerWidth,g.whiskerWidth,g.lineWidth),k.dashstyle=w.whiskerDashStyle||g.whiskerDashStyle||g.dashStyle,w.whiskers.attr(k)),v&&(C.fill=w.fillColor||g.fillColor||I,C.stroke=g.lineColor||I,C["stroke-width"]=g.lineWidth||0,C.dashstyle=w.boxDashStyle||g.boxDashStyle||g.dashStyle,w.box.attr(C)),A.stroke=w.medianColor||g.medianColor||I,A["stroke-width"]=l(w.medianWidth,g.medianWidth,g.lineWidth),A.dashstyle=w.medianDashStyle||g.medianDashStyle||g.dashStyle,w.medianShape.attr(A)),M=[["M",_=u+p+(o=w.stem.strokeWidth()%2/2),e],["L",_,i],["M",_,t],["L",_,n]],w.stem[m]({d:M}),v&&(t=Math.floor(t)+(o=w.box.strokeWidth()%2/2),e=Math.floor(e)+o,u+=o,d+=o,M=[["M",u,e],["L",u,t],["L",d,t],["L",d,e],["L",u,e],["Z"]],w.box[m]({d:M})),b&&(i+=o=w.whiskers.strokeWidth()%2/2,n+=o,M=[["M",_-(f=/%$/.test(b)?p*parseFloat(b)/100:b/2),i],["L",_+f,i],["M",_-f,n],["L",_+f,n]],w.whiskers[m]({d:M})),M=[["M",u,r=Math.round(w.medianPlot)+(o=w.medianShape.strokeWidth()%2/2)],["L",d,r]],w.medianShape[m]({d:M})}}}toYData(t){return[t.low,t.q1,t.median,t.q3,t.high]}}return c.defaultOptions=a(e.defaultOptions,t),o(c.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:s,setStackedPoints:s}),n.registerSeriesType("boxplot",c),c})),i(e,"Series/Bubble/BubbleLegendDefaults.js",[],(function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}})),i(e,"Series/Bubble/BubbleLegendItem.js",[e["Core/Color/Color.js"],e["Core/Templating.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,i,n){let{parse:r}=t,{noop:s}=i,{arrayMax:o,arrayMin:a,isNumber:l,merge:c,pick:h,stableSort:u}=n;return class{constructor(t,e){this.chart=void 0,this.legend=void 0,this.maxLabel=void 0,this.movementX=void 0,this.ranges=void 0,this.selected=void 0,this.visible=void 0,this.symbols=void 0,this.options=void 0,this.setState=s,this.init(t,e)}init(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e}addToLegend(t){t.splice(this.options.legendIndex,0,this)}drawLegendSymbol(t){let e;this.chart;let i=h(t.options.itemDistance,20),n=this.legendItem||{},r=this.options,s=r.ranges,o=r.connectorDistance;if(!s||!s.length||!l(s[0].value))return void(t.options.bubbleLegend.autoRanges=!0);u(s,(function(t,e){return e.value-t.value})),this.ranges=s,this.setOptions(),this.render();let a=this.getMaxLabelSize(),c=this.ranges[0].radius,d=2*c;e=(e=o-c+a.width)>0?e:0,this.maxLabel=a,this.movementX="left"===r.labels.align?e:0,n.labelWidth=d+e+i,n.labelHeight=d+a.height/2}setOptions(){let t=this.ranges,e=this.options,i=this.chart.series[e.seriesIndex],n=this.legend.baseline,s={zIndex:e.zIndex,"stroke-width":e.borderWidth},o={zIndex:e.zIndex,"stroke-width":e.connectorWidth},a={align:this.legend.options.rtl||"left"===e.labels.align?"right":"left",zIndex:e.zIndex},l=i.options.marker.fillOpacity,u=this.chart.styledMode;t.forEach((function(d,p){u||(s.stroke=h(d.borderColor,e.borderColor,i.color),s.fill=h(d.color,e.color,1!==l?r(i.color).setOpacity(l).get("rgba"):i.color),o.stroke=h(d.connectorColor,e.connectorColor,i.color)),t[p].radius=this.getRangeRadius(d.value),t[p]=c(t[p],{center:t[0].radius-t[p].radius+n}),u||c(!0,t[p],{bubbleAttribs:c(s),connectorAttribs:c(o),labelAttribs:a})}),this)}getRangeRadius(t){let e=this.options,i=this.options.seriesIndex,n=this.chart.series[i],r=e.ranges[0].value,s=e.ranges[e.ranges.length-1].value,o=e.minSize,a=e.maxSize;return n.getRadius.call(this,s,r,o,a,t)}render(){let t=this.legendItem||{},e=this.chart.renderer,i=this.options.zThreshold;for(let n of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),t.symbol=e.g("bubble-legend"),t.label=e.g("bubble-legend-item").css(this.legend.itemStyle||{}),t.symbol.translateX=0,t.symbol.translateY=0,t.symbol.add(t.label),t.label.add(t.group),this.ranges))n.value>=i&&this.renderRange(n);this.hideOverlappingLabels()}renderRange(t){let e=this.ranges[0],i=this.legend,n=this.options,r=n.labels,s=this.chart,o=s.series[n.seriesIndex],a=s.renderer,l=this.symbols,c=l.labels,h=t.center,u=Math.abs(t.radius),d=n.connectorDistance||0,p=r.align,f=i.options.rtl,m=n.borderWidth,g=n.connectorWidth,y=e.radius||0,x=h-u-m/2+g/2,v=(x%1?1:.5)-(g%2?0:.5),b=a.styledMode,_=f||"left"===p?-d:d;"center"===p&&(_=0,n.connectorDistance=0,t.labelAttribs.align="center"),l.bubbleItems.push(a.circle(y,h+v,u).attr(b?{}:t.bubbleAttribs).addClass((b?"highcharts-color-"+o.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(n.className||"")).add(this.legendItem.symbol)),l.connectors.push(a.path(a.crispLine([["M",y,x],["L",y+_,x]],n.connectorWidth)).attr(b?{}:t.connectorAttribs).addClass((b?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(n.connectorClassName||"")).add(this.legendItem.symbol));let w=a.text(this.formatLabel(t)).attr(b?{}:t.labelAttribs).css(b?{}:r.style).addClass("highcharts-bubble-legend-labels "+(n.labels.className||"")).add(this.legendItem.symbol),S={x:y+_+n.labels.x,y:x+n.labels.y+.4*w.getBBox().height};w.attr(S),c.push(w),w.placed=!0,w.alignAttr=S}getMaxLabelSize(){let t,e,i=this.symbols.labels;return i.forEach((function(i){e=i.getBBox(!0),t=t?e.width>t.width?e:t:e})),t||{}}formatLabel(t){let i=this.options,n=i.labels.formatter,r=i.labels.format,{numberFormatter:s}=this.chart;return r?e.format(r,t):n?n.call(t):s(t.value,1)}hideOverlappingLabels(){let t=this.chart,e=this.options.labels.allowOverlap,i=this.symbols;!e&&i&&(t.hideOverlappingLabels(i.labels),i.labels.forEach((function(t,e){t.newOpacity?t.newOpacity!==t.oldOpacity&&i.connectors[e].show():i.connectors[e].hide()})))}getRanges(){let t,e,i=this.legend.bubbleLegend,n=i.chart.series,r=i.options.ranges,s=Number.MAX_VALUE,u=-Number.MAX_VALUE;return n.forEach((function(t){t.isBubble&&!t.ignoreSeries&&(e=t.zData.filter(l)).length&&(s=h(t.options.zMin,Math.min(s,Math.max(a(e),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),u=h(t.options.zMax,Math.max(u,o(e))))})),t=s===u?[{value:u}]:[{value:s},{value:(s+u)/2},{value:u,autoRanges:!0}],r.length&&r[0].radius&&t.reverse(),t.forEach((function(e,i){r&&r[i]&&(t[i]=c(r[i],e))})),t}predictBubbleSizes(){let t,e=this.chart,i=e.legend.options,n=i.floating,r="horizontal"===i.layout,s=r?e.legend.lastLineHeight:0,o=e.plotSizeX,a=e.plotSizeY,l=e.series[this.options.seriesIndex],c=l.getPxExtremes(),h=Math.ceil(c.minPxSize),u=Math.ceil(c.maxPxSize),d=l.options.maxSize;return n||!/%$/.test(d)?t=u:(t=(Math.min(a,o)+s)*(d=parseFloat(d))/100/(d/100+1),(r&&a-t>=o||!r&&o-t>=a)&&(t=u)),[h,Math.ceil(t)]}updateRanges(t,e){let i=this.legend.options.bubbleLegend;i.minSize=t,i.maxSize=e,i.ranges=this.getRanges()}correctSizes(){let t=this.legend,e=this.chart,i=e.series[this.options.seriesIndex],n=i.getPxExtremes(),r=n.maxPxSize,s=this.options.maxSize;Math.abs(Math.ceil(r)-s)>1&&(this.updateRanges(this.options.minSize,n.maxPxSize),t.render())}}})),i(e,"Series/Bubble/BubbleLegendComposition.js",[e["Series/Bubble/BubbleLegendDefaults.js"],e["Series/Bubble/BubbleLegendItem.js"],e["Core/Defaults.js"],e["Core/Utilities.js"]],(function(t,e,i,n){let{setOptions:r}=i,{addEvent:s,objectEach:o,wrap:a}=n,l=[];function c(t,e,i){let n,r,s,a=this.legend,l=h(this)>=0;a&&a.options.enabled&&a.bubbleLegend&&a.options.bubbleLegend.autoRanges&&l?(n=a.bubbleLegend.options,r=a.bubbleLegend.predictBubbleSizes(),a.bubbleLegend.updateRanges(r[0],r[1]),n.placed||(a.group.placed=!1,a.allItems.forEach((t=>{(s=t.legendItem||{}).group&&(s.group.translateY=void 0)}))),a.render(),this.getMargins(),this.axes.forEach((function(t){t.visible&&t.render(),n.placed||(t.setScale(),t.updateNames(),o(t.ticks,(function(t){t.isNew=!0,t.isNewLabel=!0})))})),n.placed=!0,this.getMargins(),t.call(this,e,i),a.bubbleLegend.correctSizes(),f(a,u(a))):(t.call(this,e,i),a&&a.options.enabled&&a.bubbleLegend&&(a.render(),f(a,u(a))))}function h(t){let e=t.series,i=0;for(;i<e.length;){if(e[i]&&e[i].isBubble&&e[i].visible&&e[i].zData.length)return i;i++}return-1}function u(t){let e,i,n,r=t.allItems,s=[],o=r.length,a=0,l=0;for(a=0;a<o;a++)if(i=r[a].legendItem||{},n=(r[a+1]||{}).legendItem||{},i.labelHeight&&(r[a].itemHeight=i.labelHeight),r[a]===r[o-1]||i.y!==n.y){for(s.push({height:0}),e=s[s.length-1];l<=a;l++)r[l].itemHeight>e.height&&(e.height=r[l].itemHeight);e.step=a}return s}function d(t){let i=this.bubbleLegend,n=this.options,r=n.bubbleLegend,s=h(this.chart);i&&i.ranges&&i.ranges.length&&(r.ranges.length&&(r.autoRanges=!!r.ranges[0].autoRanges),this.destroyItem(i)),s>=0&&n.enabled&&r.enabled&&(r.seriesIndex=s,this.bubbleLegend=new e(r,this),this.bubbleLegend.addToLegend(t.allItems))}function p(t){let e;if(t.defaultPrevented)return!1;let i=this.chart,n=this.visible,r=this.chart.legend;r&&r.bubbleLegend&&(this.visible=!n,this.ignoreSeries=n,e=h(i)>=0,r.bubbleLegend.visible!==e&&(r.update({bubbleLegend:{enabled:e}}),r.bubbleLegend.visible=e),this.visible=n)}function f(t,e){let i,n,r,s,o=t.allItems,a=t.options.rtl,l=0;o.forEach(((t,o)=>{(s=t.legendItem||{}).group&&(i=s.group.translateX||0,n=s.y||0,((r=t.movementX)||a&&t.ranges)&&(r=a?i-t.options.maxSize/2:i+r,s.group.attr({translateX:r})),o>e[l].step&&l++,s.group.attr({translateY:Math.round(n+e[l].height/2)}),s.y=n+e[l].height/2)}))}return{compose:function(e,i,o){n.pushUnique(l,e)&&(r({legend:{bubbleLegend:t}}),a(e.prototype,"drawChartBox",c)),n.pushUnique(l,i)&&s(i,"afterGetAllItems",d),n.pushUnique(l,o)&&s(o,"legendItemClick",p)}}})),i(e,"Series/Bubble/BubblePoint.js",[e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{seriesTypes:{scatter:{prototype:{pointClass:n}}}}=e,{extend:r}=i;class s extends n{constructor(){super(...arguments),this.options=void 0,this.series=void 0}haloPath(e){return t.prototype.haloPath.call(this,0===e?0:(this.marker&&this.marker.radius||0)+e)}}return r(s.prototype,{ttBelow:!1}),s})),i(e,"Series/Bubble/BubbleSeries.js",[e["Series/Bubble/BubbleLegendComposition.js"],e["Series/Bubble/BubblePoint.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r,s){let{parse:o}=i,{noop:a}=n,{series:l,seriesTypes:{column:{prototype:c},scatter:h}}=r,{addEvent:u,arrayMax:d,arrayMin:p,clamp:f,extend:m,isNumber:g,merge:y,pick:x}=s,v=[];function b(){let t,e=this.len,i=(this.chart,this.isXAxis),n=i?"xData":"yData",r=this.min,s=this.max-r,o=0,a=e,l=e/s;this.series.forEach((e=>{if(e.bubblePadding&&e.reserveSpace()){this.allowZoomOutside=!0,t=!0;let c=e[n];if(i&&((e.onPoint||e).getRadii(0,0,e),e.onPoint&&(e.radii=e.onPoint.radii)),s>0){let t=c.length;for(;t--;)if(g(c[t])&&this.dataMin<=c[t]&&c[t]<=this.max){let i=e.radii&&e.radii[t]||0;o=Math.min((c[t]-r)*l-i,o),a=Math.max((c[t]-r)*l+i,a)}}}})),t&&s>0&&!this.logarithmic&&(a-=e,l*=(e+Math.max(0,o)-Math.min(a,e))/e,[["min","userMin",o],["max","userMax",a]].forEach((t=>{void 0===x(this.options[t[0]],this[t[1]])&&(this[t[0]]+=t[2]/l)})))}class _ extends h{constructor(){super(...arguments),this.data=void 0,this.maxPxSize=void 0,this.minPxSize=void 0,this.options=void 0,this.points=void 0,this.radii=void 0,this.yData=void 0,this.zData=void 0}static compose(e,i,n,r){t.compose(i,n,r),s.pushUnique(v,e)&&(e.prototype.beforePadding=b)}animate(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach((function(t){let{graphic:e}=t;e&&e.width&&(this.hasRendered||e.attr({x:t.plotX,y:t.plotY,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))}),this)}getRadii(){let t,e,i,n=this.zData,r=this.yData,s=[],o=this.chart.bubbleZExtremes,{minPxSize:a,maxPxSize:l}=this.getPxExtremes();if(!o){let t,e=Number.MAX_VALUE,i=-Number.MAX_VALUE;this.chart.series.forEach((n=>{if(n.bubblePadding&&n.reserveSpace()){let r=(n.onPoint||n).getZExtremes();r&&(e=Math.min(x(e,r.zMin),r.zMin),i=Math.max(x(i,r.zMax),r.zMax),t=!0)}})),t?(o={zMin:e,zMax:i},this.chart.bubbleZExtremes=o):o={zMin:0,zMax:0}}for(e=0,t=n.length;e<t;e++)i=n[e],s.push(this.getRadius(o.zMin,o.zMax,a,l,i,r&&r[e]));this.radii=s}getRadius(t,e,i,n,r,s){let o=this.options,a="width"!==o.sizeBy,l=o.zThreshold,c=e-t,h=.5;if(null===s||null===r)return null;if(g(r)){if(o.sizeByAbsoluteValue&&(r=Math.abs(r-l),e=c=Math.max(e-l,Math.abs(t-l)),t=0),r<t)return i/2-1;c>0&&(h=(r-t)/c)}return a&&h>=0&&(h=Math.sqrt(h)),Math.ceil(i+h*(n-i))/2}hasData(){return!!this.processedXData.length}pointAttribs(t,e){let i=this.options.marker,n=i.fillOpacity,r=l.prototype.pointAttribs.call(this,t,e);return 1!==n&&(r.fill=o(r.fill).setOpacity(n).get("rgba")),r}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:t,options:e,radii:i}=this,{minPxSize:n}=this.getPxExtremes(),r=t.length;for(;r--;){let s=t[r],o=i?i[r]:0;"z"===this.zoneAxis&&(s.negative=(s.z||0)<(e.zThreshold||0)),g(o)&&o>=n/2?(s.marker=m(s.marker,{radius:o,width:2*o,height:2*o}),s.dlBox={x:s.plotX-o,y:s.plotY-o,width:2*o,height:2*o}):(s.shapeArgs=s.plotY=s.dlBox=void 0,s.isInside=!1)}}getPxExtremes(){let t=Math.min(this.chart.plotWidth,this.chart.plotHeight),e=e=>{let i;return"string"==typeof e&&(i=/%$/.test(e),e=parseInt(e,10)),i?t*e/100:e},i=e(x(this.options.minSize,8)),n=Math.max(e(x(this.options.maxSize,"20%")),i);return{minPxSize:i,maxPxSize:n}}getZExtremes(){let t=this.options,e=(this.zData||[]).filter(g);if(e.length){let i=x(t.zMin,f(p(e),!1===t.displayNegative?t.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),n=x(t.zMax,d(e));if(g(i)&&g(n))return{zMin:i,zMax:n}}}}return _.defaultOptions=y(h.defaultOptions,{dataLabels:{formatter:function(){let{numberFormatter:t}=this.series.chart,{z:e}=this.point;return g(e)?t(e,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),m(_.prototype,{alignDataLabel:c.alignDataLabel,applyZones:a,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:e,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),u(_,"updatedData",(t=>{delete t.target.chart.bubbleZExtremes})),u(_,"remove",(t=>{delete t.target.chart.bubbleZExtremes})),r.registerSeriesType("bubble",_),_})),i(e,"Series/ColumnRange/ColumnRangePoint.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e){let{seriesTypes:{column:{prototype:{pointClass:{prototype:i}}},arearange:{prototype:{pointClass:n}}}}=t,{extend:r,isNumber:s}=e;class o extends n{constructor(){super(...arguments),this.options=void 0,this.series=void 0}isValid(){return s(this.low)}}return r(o.prototype,{setState:i.setState}),o})),i(e,"Series/ColumnRange/ColumnRangeSeries.js",[e["Series/ColumnRange/ColumnRangePoint.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,n){let{noop:r}=e,{seriesTypes:{arearange:s,column:o,column:{prototype:a}}}=i,{addEvent:l,clamp:c,extend:h,isNumber:u,merge:d,pick:p}=n;class f extends s{setOptions(){return d(!0,arguments[0],{stacking:void 0}),s.prototype.setOptions.apply(this,arguments)}translate(){return a.translate.apply(this)}pointAttribs(){return a.pointAttribs.apply(this,arguments)}translate3dPoints(){return a.translate3dPoints.apply(this,arguments)}translate3dShapes(){return a.translate3dShapes.apply(this,arguments)}afterColumnTranslate(){let t,e,i,n,r=this.yAxis,s=this.xAxis,o=s.startAngleRad,a=this.chart,l=this.xAxis.isRadial,h=Math.max(a.chartWidth,a.chartHeight)+999;this.points.forEach((f=>{let m=f.shapeArgs||{},g=this.options.minPointLength,y=f.plotY,x=r.translate(f.high,0,1,0,1);if(u(x)&&u(y))if(f.plotHigh=c(x,-h,h),f.plotLow=c(y,-h,h),n=f.plotHigh,Math.abs(t=p(f.rectPlotY,f.plotY)-f.plotHigh)<g?(e=g-t,t+=e,n-=e/2):t<0&&(t*=-1,n-=t),l&&this.polar)i=f.barX+o,f.shapeType="arc",f.shapeArgs=this.polar.arc(n+t,n,i,i+f.pointWidth);else{m.height=t,m.y=n;let{x:e=0,width:i=0}=m;f.shapeArgs=d(f.shapeArgs,this.crispCol(e,n,i,t)),f.tooltipPos=a.inverted?[r.len+r.pos-a.plotLeft-n-t/2,s.len+s.pos-a.plotTop-e-i/2,t]:[s.left-a.plotLeft+e+i/2,r.pos-a.plotTop+n+t/2,t]}}))}}return f.defaultOptions=d(o.defaultOptions,s.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),l(f,"afterColumnTranslate",(function(){f.prototype.afterColumnTranslate.apply(this)}),{order:5}),h(f.prototype,{directTouch:!0,pointClass:t,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:a.adjustForMissingColumns,animate:a.animate,crispCol:a.crispCol,drawGraph:r,drawPoints:a.drawPoints,getSymbol:r,drawTracker:a.drawTracker,getColumnMetrics:a.getColumnMetrics}),i.registerSeriesType("columnrange",f),f})),i(e,"Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js",[],(function(){return{}})),i(e,"Series/ColumnPyramid/ColumnPyramidSeries.js",[e["Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{column:n}=e.seriesTypes,{clamp:r,merge:s,pick:o}=i;class a extends n{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}translate(){let t=this.chart,e=this.options,i=this.dense=this.closestPointRange*this.xAxis.transA<2,n=this.borderWidth=o(e.borderWidth,i?0:1),s=this.yAxis,a=e.threshold,l=o(e.minPointLength,5),c=this.getColumnMetrics(),h=c.width,u=this.pointXOffset=c.offset,d=this.translatedThreshold=s.getThreshold(a),p=this.barW=Math.max(h,1+2*n);for(let f of(t.inverted&&(d-=.5),e.pointPadding&&(p=Math.ceil(p)),super.translate(),this.points)){let i,n,m,g,y,x,v,b,_,w,S,C,T=o(f.yBottom,d),k=999+Math.abs(T),A=r(f.plotY,-k,s.len+k),I=p/2,M=Math.min(A,T),P=Math.max(A,T)-M,E=f.plotX+u;e.centerInCategory&&(E=this.adjustForMissingColumns(E,h,f,c)),f.barX=E,f.pointWidth=h,f.tooltipPos=t.inverted?[s.len+s.pos-t.plotLeft-A,this.xAxis.len-E-I,P]:[E+I,A+s.pos-t.plotTop,P],i=a+(f.total||f.y),"percent"===e.stacking&&(i=a+(f.y<0)?-100:100),m=s.toPixels(i,!0),g=(n=t.plotHeight-m-(t.plotHeight-d))?I*(M-m)/n:0,y=n?I*(M+P-m)/n:0,v=E-g+I,b=E+g+I,_=E+y+I,w=E-y+I,S=M-l,C=M+P,f.y<0&&(S=M,C=M+P+l),t.inverted&&(x=s.width-M,n=m-(s.width-d),g=I*(m-x)/n,y=I*(m-(x-P))/n,b=(v=E+I+g)-2*g,_=E-y+I,w=E+y+I,S=M,C=M+P-l,f.y<0&&(C=M+P+l)),f.shapeType="path",f.shapeArgs={x:v,y:S,width:b-v,height:P,d:[["M",v,S],["L",b,S],["L",_,C],["L",w,C],["Z"]]}}}}return a.defaultOptions=s(n.defaultOptions,t),e.registerSeriesType("columnpyramid",a),a})),i(e,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],(function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}})),i(e,"Series/ErrorBar/ErrorBarSeries.js",[e["Series/BoxPlot/BoxPlotSeries.js"],e["Series/Column/ColumnSeries.js"],e["Series/ErrorBar/ErrorBarSeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r){let{arearange:s}=n.seriesTypes,{addEvent:o,merge:a,extend:l}=r;class c extends t{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||e.prototype.getColumnMetrics.call(this)}drawDataLabels(){let t=this.pointValKey;if(s)for(let e of(s.prototype.drawDataLabels.call(this),this.data))e.y=e[t]}toYData(t){return[t.low,t.high]}}return c.defaultOptions=a(t.defaultOptions,i),o(c,"afterTranslate",(function(){for(let t of this.points)t.plotLow=t.plotY}),{order:0}),l(c.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),n.registerSeriesType("errorbar",c),c})),i(e,"Series/Gauge/GaugePoint.js",[e["Core/Series/SeriesRegistry.js"]],(function(t){let{series:{prototype:{pointClass:e}}}=t;return class extends e{constructor(){super(...arguments),this.options=void 0,this.series=void 0,this.shapeArgs=void 0}setState(t){this.state=t}}})),i(e,"Series/Gauge/GaugeSeries.js",[e["Series/Gauge/GaugePoint.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,n){let{noop:r}=e,{series:s,seriesTypes:{column:o}}=i,{clamp:a,isNumber:l,extend:c,merge:h,pick:u,pInt:d,defined:p}=n;class f extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0,this.yAxis=void 0}translate(){let t=this.yAxis,e=this.options,i=t.center;this.generatePoints(),this.points.forEach((n=>{let r=h(e.dial,n.dial),s=d(r.radius)*i[2]/200,o=d(r.baseLength)*s/100,c=d(r.rearLength)*s/100,u=r.baseWidth,f=r.topWidth,m=e.overshoot,g=t.startAngleRad+t.translate(n.y,void 0,void 0,void 0,!0);(l(m)||!1===e.wrap)&&(m=l(m)?m/180*Math.PI:0,g=a(g,t.startAngleRad-m,t.endAngleRad+m)),g=180*g/Math.PI,n.shapeType="path";let y=r.path||[["M",-c,-u/2],["L",o,-u/2],["L",s,-f/2],["L",s,f/2],["L",o,u/2],["L",-c,u/2],["Z"]];n.shapeArgs={d:y,translateX:i[0],translateY:i[1],rotation:g},n.plotX=i[0],n.plotY=i[1],p(n.y)&&t.max-t.min&&(n.percentage=(n.y-t.min)/(t.max-t.min)*100)}))}drawPoints(){let t=this,e=t.chart,i=t.yAxis.center,n=t.pivot,r=t.options,s=r.pivot,o=e.renderer;t.points.forEach((i=>{let n=i.graphic,s=i.shapeArgs,a=s.d,l=h(r.dial,i.dial);n?(n.animate(s),s.d=a):i.graphic=o[i.shapeType](s).addClass("highcharts-dial").add(t.group),e.styledMode||i.graphic[n?"animate":"attr"]({stroke:l.borderColor,"stroke-width":l.borderWidth,fill:l.backgroundColor})})),n?n.animate({translateX:i[0],translateY:i[1]}):s&&(t.pivot=o.circle(0,0,s.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(i[0],i[1]).add(t.group),e.styledMode||t.pivot.attr({fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":s.borderWidth}))}animate(t){let e=this;t||e.points.forEach((t=>{let i=t.graphic;i&&(i.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),i.animate({rotation:t.shapeArgs.rotation},e.options.animation))}))}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),s.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(t,e){s.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),u(e,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return f.defaultOptions=h(s.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),c(f.prototype,{angular:!0,directTouch:!0,drawGraph:r,drawTracker:o.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:t,trackerGroups:["group","dataLabelsGroup"]}),i.registerSeriesType("gauge",f),f})),i(e,"Series/DragNodesComposition.js",[e["Core/Utilities.js"]],(function(t){let{addEvent:e}=t,i=[];function n(){let t,i,n,r=this;r.container&&(t=e(r.container,"mousedown",(t=>{let s=r.hoverPoint;s&&s.series&&s.series.hasDraggableNodes&&s.series.options.draggable&&(s.series.onMouseDown(s,t),i=e(r.container,"mousemove",(t=>s&&s.series&&s.series.onMouseMove(s,t))),n=e(r.container.ownerDocument,"mouseup",(t=>(i(),n(),s&&s.series&&s.series.onMouseUp(s,t)))))}))),e(r,"destroy",(function(){t()}))}return{compose:function(r){t.pushUnique(i,r)&&e(r,"load",n)},onMouseDown:function(t,e){let i=this.chart.pointer.normalize(e);t.fixedPosition={chartX:i.chartX,chartY:i.chartY,plotX:t.plotX,plotY:t.plotY},t.inDragMode=!0},onMouseMove:function(t,e){if(t.fixedPosition&&t.inDragMode){let i,n,r=this.chart,s=r.pointer.normalize(e),o=t.fixedPosition.chartX-s.chartX,a=t.fixedPosition.chartY-s.chartY,l=r.graphLayoutsLookup;(Math.abs(o)>5||Math.abs(a)>5)&&(i=t.fixedPosition.plotX-o,n=t.fixedPosition.plotY-a,r.isInsidePlot(i,n)&&(t.plotX=i,t.plotY=n,t.hasDragged=!0,this.redrawHalo(t),l.forEach((t=>{t.restartSimulation()}))))}},onMouseUp:function(t,e){t.fixedPosition&&(t.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),t.inDragMode=t.hasDragged=!1,this.options.fixedDraggable||delete t.fixedPosition)},redrawHalo:function(t){t&&this.halo&&this.halo.attr({d:t.haloPath(this.options.states.hover.halo.size)})}}})),i(e,"Series/GraphLayoutComposition.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Utilities.js"]],(function(t,e){let{setAnimation:i}=t,{addEvent:n}=e,r=[];function s(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach((t=>{t.updateSimulation()})),this.redraw())}function o(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach((t=>{t.updateSimulation(!1)})),this.redraw())}function a(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach((t=>{t.stop()}))}function l(){let t,e=!1,n=i=>{i.maxIterations--&&isFinite(i.temperature)&&!i.isStable()&&!i.enableSimulation&&(i.beforeStep&&i.beforeStep(),i.step(),t=!1,e=!0)};if(this.graphLayoutsLookup){for(i(!1,this),this.graphLayoutsLookup.forEach((t=>t.start()));!t;)t=!0,this.graphLayoutsLookup.forEach(n);e&&this.series.forEach((t=>{t&&t.layout&&t.render()}))}}return{compose:function(t){e.pushUnique(r,t)&&(n(t,"afterPrint",s),n(t,"beforePrint",o),n(t,"predraw",a),n(t,"render",l))},integrations:{},layouts:{}}})),i(e,"Series/PackedBubble/PackedBubblePoint.js",[e["Core/Chart/Chart.js"],e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"]],(function(t,e,i){let{seriesTypes:{bubble:{prototype:{pointClass:n}}}}=i;return class extends n{constructor(){super(...arguments),this.degree=NaN,this.mass=NaN,this.radius=NaN,this.options=void 0,this.series=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),e.prototype.destroy.apply(this,arguments)}firePointEvent(){let t=this.series,i=t.options;if(this.isParentNode&&i.parentNode){let t=i.allowPointSelect;i.allowPointSelect=i.parentNode.allowPointSelect,e.prototype.firePointEvent.apply(this,arguments),i.allowPointSelect=t}else e.prototype.firePointEvent.apply(this,arguments)}select(){let i=this.series,n=i.chart;this.isParentNode?(n.getSelectedPoints=n.getSelectedParentNodes,e.prototype.select.apply(this,arguments),n.getSelectedPoints=t.prototype.getSelectedPoints):e.prototype.select.apply(this,arguments)}}})),i(e,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[e["Core/Utilities.js"]],(function(t){let{isNumber:e}=t;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){let{numberFormatter:t}=this.series.chart,{value:i}=this.point;return e(i)?t(i,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}})),i(e,"Series/Networkgraph/VerletIntegration.js",[],(function(){return{attractive:function(t,e,i){let n=t.getMass(),r=-i.x*e*this.diffTemperature,s=-i.y*e*this.diffTemperature;t.fromNode.fixedPosition||(t.fromNode.plotX-=r*n.fromNode/t.fromNode.degree,t.fromNode.plotY-=s*n.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.plotX+=r*n.toNode/t.toNode.degree,t.toNode.plotY+=s*n.toNode/t.toNode.degree)},attractiveForceFunction:function(t,e){return(e-t)/t},barycenter:function(){let t=this.options.gravitationalConstant,e=this.barycenter.xFactor,i=this.barycenter.yFactor;e=(e-(this.box.left+this.box.width)/2)*t,i=(i-(this.box.top+this.box.height)/2)*t,this.nodes.forEach((function(t){t.fixedPosition||(t.plotX-=e/t.mass/t.degree,t.plotY-=i/t.mass/t.degree)}))},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.5)},integrate:function(t,e){let i=-t.options.friction,n=t.options.maxSpeed,r=e.prevX,s=e.prevY,o=(e.plotX+e.dispX-r)*i,a=(e.plotY+e.dispY-s)*i,l=Math.abs,c=l(o)/(o||1),h=l(a)/(a||1);o=c*Math.min(n,Math.abs(o)),a=h*Math.min(n,Math.abs(a)),e.prevX=e.plotX+e.dispX,e.prevY=e.plotY+e.dispY,e.plotX+=o,e.plotY+=a,e.temperature=t.vectorLength({x:o,y:a})},repulsive:function(t,e,i){let n=e*this.diffTemperature/t.mass/t.degree;t.fixedPosition||(t.plotX+=i.x*n,t.plotY+=i.y*n)},repulsiveForceFunction:function(t,e){return(e-t)/t*(e>t?1:0)}}})),i(e,"Series/PackedBubble/PackedBubbleIntegration.js",[e["Core/Globals.js"],e["Series/Networkgraph/VerletIntegration.js"]],(function(t,e){let{noop:i}=t,n={barycenter:function(){let t,e,i=this.options.gravitationalConstant,n=this.box,r=this.nodes;for(let s of r)this.options.splitSeries&&!s.isParentNode?(t=s.series.parentNode.plotX,e=s.series.parentNode.plotY):(t=n.width/2,e=n.height/2),s.fixedPosition||(s.plotX-=(s.plotX-t)*i/(s.mass*Math.sqrt(r.length)),s.plotY-=(s.plotY-e)*i/(s.mass*Math.sqrt(r.length)))},getK:i,integrate:e.integrate,repulsive:function(t,e,i,n){let r=e*this.diffTemperature/t.mass/t.degree,s=i.x*r,o=i.y*r;t.fixedPosition||(t.plotX+=s,t.plotY+=o),n.fixedPosition||(n.plotX-=s,n.plotY-=o)},repulsiveForceFunction:function(t,e,i,n){return Math.min(t,(i.marker.radius+n.marker.radius)/2)}};return n})),i(e,"Series/Networkgraph/EulerIntegration.js",[],(function(){return{attractive:function(t,e,i,n){let r=t.getMass(),s=i.x/n*e,o=i.y/n*e;t.fromNode.fixedPosition||(t.fromNode.dispX-=s*r.fromNode/t.fromNode.degree,t.fromNode.dispY-=o*r.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.dispX+=s*r.toNode/t.toNode.degree,t.toNode.dispY+=o*r.toNode/t.toNode.degree)},attractiveForceFunction:function(t,e){return t*t/e},barycenter:function(){let t=this.options.gravitationalConstant,e=this.barycenter.xFactor,i=this.barycenter.yFactor;this.nodes.forEach((function(n){if(!n.fixedPosition){let r=n.getDegree(),s=r*(1+r/2);n.dispX+=(e-n.plotX)*t*s/n.degree,n.dispY+=(i-n.plotY)*t*s/n.degree}}))},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.3)},integrate:function(t,e){let i;e.dispX+=e.dispX*t.options.friction,e.dispY+=e.dispY*t.options.friction,0!==(i=e.temperature=t.vectorLength({x:e.dispX,y:e.dispY}))&&(e.plotX+=e.dispX/i*Math.min(Math.abs(e.dispX),t.temperature),e.plotY+=e.dispY/i*Math.min(Math.abs(e.dispY),t.temperature))},repulsive:function(t,e,i,n){t.dispX+=i.x/n*e/t.degree,t.dispY+=i.y/n*e/t.degree},repulsiveForceFunction:function(t,e){return e*e/t}}})),i(e,"Series/Networkgraph/QuadTreeNode.js",[],(function(){class t{constructor(t){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=t,this.boxSize=Math.min(t.width,t.height)}divideBox(){let e=this.box.width/2,i=this.box.height/2;this.nodes[0]=new t({left:this.box.left,top:this.box.top,width:e,height:i}),this.nodes[1]=new t({left:this.box.left+e,top:this.box.top,width:e,height:i}),this.nodes[2]=new t({left:this.box.left+e,top:this.box.top+i,width:e,height:i}),this.nodes[3]=new t({left:this.box.left,top:this.box.top+i,width:e,height:i})}getBoxPosition(t){let e=t.plotX<this.box.left+this.box.width/2,i=t.plotY<this.box.top+this.box.height/2;return e?i?0:3:i?1:2}insert(e,i){let n;this.isInternal?this.nodes[this.getBoxPosition(e)].insert(e,i-1):(this.isEmpty=!1,this.body?i?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,i-1),this.body=!0),this.nodes[this.getBoxPosition(e)].insert(e,i-1)):((n=new t({top:e.plotX||NaN,left:e.plotY||NaN,width:.1,height:.1})).body=e,n.isInternal=!1,this.nodes.push(n)):(this.isInternal=!1,this.body=e))}updateMassAndCenter(){let t=0,e=0,i=0;if(this.isInternal){for(let n of this.nodes)n.isEmpty||(t+=n.mass,e+=n.plotX*n.mass,i+=n.plotY*n.mass);e/=t,i/=t}else this.body&&(t=this.body.mass,e=this.body.plotX,i=this.body.plotY);this.mass=t,this.plotX=e,this.plotY=i}}return t})),i(e,"Series/Networkgraph/QuadTree.js",[e["Series/Networkgraph/QuadTreeNode.js"]],(function(t){return class{constructor(e,i,n,r){this.box={left:e,top:i,width:n,height:r},this.maxDepth=25,this.root=new t(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,(function(t){t.updateMassAndCenter()}))}insertNodes(t){for(let e of t)this.root.insert(e,this.maxDepth)}visitNodeRecursive(t,e,i){let n;if(t||(t=this.root),t===this.root&&e&&(n=e(t)),!1!==n){for(let r of t.nodes){if(r.isInternal){if(e&&(n=e(r)),!1===n)continue;this.visitNodeRecursive(r,e,i)}else r.body&&e&&e(r.body);i&&i(r)}t===this.root&&i&&i(t)}}}})),i(e,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[e["Series/Networkgraph/EulerIntegration.js"],e["Core/Globals.js"],e["Series/GraphLayoutComposition.js"],e["Series/Networkgraph/QuadTree.js"],e["Core/Utilities.js"],e["Series/Networkgraph/VerletIntegration.js"]],(function(t,e,i,n,r,s){let{win:o}=e,{clamp:a,defined:l,isFunction:c,fireEvent:h,pick:u}=r;class d{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.options=void 0,this.quadTree=void 0,this.repulsiveForce=void 0,this.series=[],this.simulation=!1}static compose(e){i.compose(e),i.integrations.euler=t,i.integrations.verlet=s,i.layouts["reingold-fruchterman"]=d}init(t){this.options=t,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=i.integrations[t.integration],this.enableSimulation=t.enableSimulation,this.attractiveForce=u(t.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=u(t.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=t.approximation}updateSimulation(t){this.enableSimulation=u(t,this.options.enableSimulation)}start(){let t=this.series,e=this.options;this.currentStep=0,this.forces=t[0]&&t[0].forces||[],this.chart=t[0]&&t[0].chart,this.initialRendering&&(this.initPositions(),t.forEach((function(t){t.finishedAnimating=!0,t.render()}))),this.setK(),this.resetSimulation(e),this.enableSimulation&&this.step()}step(){let t=this.series;for(let e of(this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter()),this.forces||[]))this[e+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(let e of t)e.chart&&e.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&o.cancelAnimationFrame(this.simulation),this.simulation=o.requestAnimationFrame((()=>this.step()))):(this.simulation=!1,this.series.forEach((t=>{h(t,"afterSimulation")})))}}stop(){this.simulation&&o.cancelAnimationFrame(this.simulation)}setArea(t,e,i,n){this.box={left:t,top:e,width:i,height:n}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(t,e){for(let i of t)-1===e.indexOf(i)&&e.push(i)}removeElementFromCollection(t,e){let i=e.indexOf(t);-1!==i&&e.splice(i,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(t){this.maxIterations=u(t,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(t){this.initialRendering=t}createQuadTree(){this.quadTree=new n(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){let t=this.options.initialPositions;if(c(t))for(let e of(t.call(this),this.nodes))l(e.prevX)||(e.prevX=e.plotX),l(e.prevY)||(e.prevY=e.plotY),e.dispX=0,e.dispY=0;else"circle"===t?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){let t,e=this.box,i=this.nodes,n=i.length+1,r=2*Math.PI/n,s=i.filter((function(t){return 0===t.linksTo.length})),o={},a=this.options.initialPositionRadius,l=t=>{for(let e of t.linksFrom||[])o[e.toNode.id]||(o[e.toNode.id]=!0,c.push(e.toNode),l(e.toNode))},c=[];for(let h of s)c.push(h),l(h);if(c.length)for(let h of i)-1===c.indexOf(h)&&c.push(h);else c=i;for(let h=0,d=c.length;h<d;++h)(t=c[h]).plotX=t.prevX=u(t.plotX,e.width/2+a*Math.cos(h*r)),t.plotY=t.prevY=u(t.plotY,e.height/2+a*Math.sin(h*r)),t.dispX=0,t.dispY=0}setRandomPositions(){let t,e=this.box,i=this.nodes,n=i.length+1,r=t=>{let e=t*t/Math.PI;return e-Math.floor(e)};for(let s=0,o=i.length;s<o;++s)(t=i[s]).plotX=t.prevX=u(t.plotX,e.width*r(s)),t.plotY=t.prevY=u(t.plotY,e.height*r(n+s)),t.dispX=0,t.dispY=0}force(t,...e){this.integration[t].apply(this,e)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let t=0,e=0,i=0;for(let n of this.nodes)e+=n.plotX*n.mass,i+=n.plotY*n.mass,t+=n.mass;return this.barycenter={x:e,y:i,xFactor:e/t,yFactor:i/t},this.barycenter}barnesHutApproximation(t,e){let i,n,r=this.getDistXY(t,e),s=this.vectorLength(r);return t!==e&&0!==s&&(e.isInternal?e.boxSize/s<this.options.theta&&0!==s?(n=this.repulsiveForce(s,this.k),this.force("repulsive",t,n*e.mass,r,s),i=!1):i=!0:(n=this.repulsiveForce(s,this.k),this.force("repulsive",t,n*e.mass,r,s))),i}repulsiveForces(){if("barnes-hut"===this.approximation)for(let t of this.nodes)this.quadTree.visitNodeRecursive(null,(e=>this.barnesHutApproximation(t,e)));else{let t,e,i;for(let n of this.nodes)for(let r of this.nodes)n===r||n.fixedPosition||(i=this.getDistXY(n,r),0!==(e=this.vectorLength(i))&&(t=this.repulsiveForce(e,this.k),this.force("repulsive",n,t*r.mass,i,e)))}}attractiveForces(){let t,e,i;for(let n of this.links)n.fromNode&&n.toNode&&(t=this.getDistXY(n.fromNode,n.toNode),0!==(e=this.vectorLength(t))&&(i=this.attractiveForce(e,this.k),this.force("attractive",n,i,t,e)))}applyLimits(){let t=this.nodes;for(let e of t){if(e.fixedPosition)return;this.integration.integrate(this,e),this.applyLimitBox(e,this.box),e.dispX=0,e.dispY=0}}applyLimitBox(t,e){let i=t.radius;t.plotX=a(t.plotX,e.left+i,e.width-i),t.plotY=a(t.plotY,e.top+i,e.height-i)}coolDown(t,e,i){return t-e*i}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||this.temperature<=0}getSystemTemperature(){let t=0;for(let e of this.nodes)t+=e.temperature;return t}vectorLength(t){return Math.sqrt(t.x*t.x+t.y*t.y)}getDistR(t,e){let i=this.getDistXY(t,e);return this.vectorLength(i)}getDistXY(t,e){let i=t.plotX-e.plotX,n=t.plotY-e.plotY;return{x:i,y:n,absX:Math.abs(i),absY:Math.abs(n)}}}return d})),i(e,"Series/PackedBubble/PackedBubbleLayout.js",[e["Series/GraphLayoutComposition.js"],e["Series/PackedBubble/PackedBubbleIntegration.js"],e["Series/Networkgraph/ReingoldFruchtermanLayout.js"],e["Core/Utilities.js"]],(function(t,e,i,n){let{addEvent:r,pick:s}=n,o=[];function a(){let t=this.series,e=[];return t.forEach((t=>{t.parentNode&&t.parentNode.selected&&e.push(t.parentNode)})),e}function l(){this.allDataPoints&&delete this.allDataPoints}class c extends i{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(s){if(i.compose(s),t.integrations.packedbubble=e,t.layouts.packedbubble=c,n.pushUnique(o,s)){r(s,"beforeRedraw",l);let t=s.prototype;t.getSelectedParentNodes=a}}beforeStep(){this.options.marker&&this.series.forEach((t=>{t&&t.calculateParentRadius()}))}isStable(){let t=Math.abs(this.prevSystemTemperature-this.systemTemperature),e=10*this.systemTemperature/Math.sqrt(this.nodes.length);return 1>Math.abs(e)&&t<1e-5||this.temperature<=0}setCircularPositions(){let t,e,i=this.box,n=this.nodes,r=n.length+1,o=2*Math.PI/r,a=this.options.initialPositionRadius,l=0;for(let c of n)this.options.splitSeries&&!c.isParentNode?(t=c.series.parentNode.plotX,e=c.series.parentNode.plotY):(t=i.width/2,e=i.height/2),c.plotX=c.prevX=s(c.plotX,t+a*Math.cos(c.index||l*o)),c.plotY=c.prevY=s(c.plotY,e+a*Math.sin(c.index||l*o)),c.dispX=0,c.dispY=0,l++}repulsiveForces(){let t,e,i,n=this,r=n.options.bubblePadding;n.nodes.forEach((s=>{s.degree=s.mass,s.neighbours=0,n.nodes.forEach((o=>{t=0,s!==o&&!s.fixedPosition&&(n.options.seriesInteraction||s.series===o.series)&&(i=n.getDistXY(s,o),(e=n.vectorLength(i)-(s.marker.radius+o.marker.radius+r))<0&&(s.degree+=.01,s.neighbours++,t=n.repulsiveForce(-e/Math.sqrt(s.neighbours),n.k,s,o)),n.force("repulsive",s,t*o.mass,i,o,e))}))}))}applyLimitBox(t,e){let i,n;this.options.splitSeries&&!t.isParentNode&&this.options.parentNodeLimit&&(i=this.getDistXY(t,t.series.parentNode),(n=t.series.parentNodeRadius-t.marker.radius-this.vectorLength(i))<0&&n>-2*t.marker.radius&&(t.plotX-=.01*i.x,t.plotY-=.01*i.y)),super.applyLimitBox(t,e)}}return t.layouts.packedbubble=c,c})),i(e,"Series/SimulationSeriesUtilities.js",[e["Core/Utilities.js"],e["Core/Animation/AnimationUtilities.js"]],(function(t,e){let{syncTimeout:i}=t,{animObject:n}=e;return{initDataLabels:function(){let t=this.options.dataLabels;if(!this.dataLabelsGroup){let e=this.initDataLabelsGroup();return!this.chart.styledMode&&t?.style&&e.css(t.style),e.attr({opacity:0}),this.visible&&e.show(),e}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){let t=this.options.dataLabels;t?.defer&&this.options.layoutAlgorithm?.enableSimulation?i((()=>{this.deferDataLabels=!1}),t?n(t.animation).defer:0):this.deferDataLabels=!1}}})),i(e,"Series/PackedBubble/PackedBubbleSeries.js",[e["Core/Color/Color.js"],e["Series/DragNodesComposition.js"],e["Series/GraphLayoutComposition.js"],e["Core/Globals.js"],e["Series/PackedBubble/PackedBubblePoint.js"],e["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],e["Series/PackedBubble/PackedBubbleLayout.js"],e["Core/Series/SeriesRegistry.js"],e["Series/SimulationSeriesUtilities.js"],e["Core/Utilities.js"],e["Core/Animation/AnimationUtilities.js"]],(function(t,e,i,n,r,s,o,a,l,c,h){let{parse:u}=t,{noop:d}=n,{series:{prototype:p},seriesTypes:{bubble:f}}=a,{initDataLabels:m,initDataLabelsDefer:g}=l,{addEvent:y,clamp:x,defined:v,extend:b,fireEvent:_,isArray:w,isNumber:S,merge:C,pick:T,syncTimeout:k}=c,{animObject:A}=h;class I extends f{constructor(){super(...arguments),this.chart=void 0,this.data=void 0,this.layout=void 0,this.options=void 0,this.parentNodeMass=0,this.points=void 0,this.xData=void 0,this.deferDataLabels=!0}static compose(t,i,n,r){f.compose(t,i,n,r),e.compose(i),o.compose(i)}accumulateAllPoints(){let t,e=this.chart,i=[];for(let n of e.series)if(n.is("packedbubble")&&n.reserveSpace()){t=n.yData||[];for(let e=0;e<t.length;e++)i.push([null,null,t[e],n.index,e,{id:e,marker:{radius:0}}])}return i}addLayout(){let t,e=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},n=e.type||"packedbubble",r=this.chart.options.chart,s=this.chart.graphLayoutsStorage,o=this.chart.graphLayoutsLookup;s||(this.chart.graphLayoutsStorage=s={},this.chart.graphLayoutsLookup=o=[]),(t=s[n])||(e.enableSimulation=v(r.forExport)?!r.forExport:e.enableSimulation,s[n]=t=new i.layouts[n],t.init(e),o.splice(t.index,0,t)),this.layout=t,this.points.forEach((t=>{t.mass=2,t.degree=1,t.collisionNmb=1})),t.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),t.addElementsToCollection([this],t.series),t.addElementsToCollection(this.points,t.nodes)}addSeriesLayout(){let t=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},e=t.type||"packedbubble",n=this.chart.graphLayoutsStorage,r=this.chart.graphLayoutsLookup,s=C(t,t.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation}),o=n[e+"-series"];o||(n[e+"-series"]=o=new i.layouts[e],o.init(s),r.splice(o.index,0,o)),this.parentNodeLayout=o,this.createParentNodes()}calculateParentRadius(){let t=this.seriesBox();this.parentNodeRadius=x(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,t?Math.max(Math.sqrt(Math.pow(t.width,2)+Math.pow(t.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let t=this.chart,e=t.series,i=this.options.zMin,n=this.options.zMax,r=1/0,s=-1/0;return i&&n?[i,n]:(e.forEach((t=>{t.yData.forEach((t=>{v(t)&&(t>s&&(s=t),t<r&&(r=t))}))})),[i=T(i,r),n=T(n,s)])}checkOverlap(t,e){let i=t[0]-e[0],n=t[1]-e[1],r=t[2]+e[2];return Math.sqrt(i*i+n*n)-Math.abs(r)<-.001}createParentNodes(){let t,e=this.pointClass,i=this.chart,n=this.parentNodeLayout,r=this.layout.options,s=this.parentNode,o={radius:this.parentNodeRadius,lineColor:this.color,fillColor:u(this.color).brighten(.4).get()};r.parentNodeOptions&&(o=C(r.parentNodeOptions.marker||{},o)),this.parentNodeMass=0,this.points.forEach((t=>{this.parentNodeMass+=Math.PI*Math.pow(t.marker.radius,2)})),this.calculateParentRadius(),n.nodes.forEach((e=>{e.seriesIndex===this.index&&(t=!0)})),n.setArea(0,0,i.plotWidth,i.plotHeight),t||(s||(s=(new e).init(this,{mass:this.parentNodeRadius/2,marker:o,dataLabels:{inside:!1},states:{normal:{marker:o},hover:{marker:o}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(s.plotX=this.parentNode.plotX,s.plotY=this.parentNode.plotY),this.parentNode=s,n.addElementsToCollection([this],n.series),n.addElementsToCollection([s],n.nodes))}deferLayout(){let t=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),t.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach((t=>{t.removeElementFromCollection(this,t.series)}),this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),p.destroy.apply(this,arguments)}drawDataLabels(){!this.deferDataLabels&&(p.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",p.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(!this.layout||!this.layout.options.splitSeries)return;let t=this.chart,e=this.layout.options.parentNodeOptions.marker,i={fill:e.fillColor||u(this.color).brighten(.4).get(),opacity:e.fillOpacity,stroke:e.lineColor||this.color,"stroke-width":T(e.lineWidth,this.options.lineWidth)},n={};this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,t.seriesGroup),this.group?.attr({zIndex:2}),this.calculateParentRadius(),this.parentNode&&v(this.parentNode.plotX)&&v(this.parentNode.plotY)&&v(this.parentNodeRadius)&&(n=C({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},i),this.parentNode.graphic||(this.graph=this.parentNode.graphic=t.renderer.symbol(i.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(n))}drawTracker(){let t,e=this.parentNode;super.drawTracker(),e&&(t=w(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[],e.graphic&&(e.graphic.element.point=e),t.forEach((t=>{t.div?t.div.point=e:t.element.point=e})))}getPointRadius(){let t,e,i,n,r=this.chart,s=r.plotWidth,o=r.plotHeight,a=this.options,l=a.useSimulation,c=Math.min(s,o),h={},u=[],d=r.allDataPoints||[],p=d.length;["minSize","maxSize"].forEach((t=>{let e=parseInt(a[t],10),i=/%$/.test(a[t]);h[t]=i?c*e/100:e*Math.sqrt(p)})),r.minRadius=t=h.minSize/Math.sqrt(p),r.maxRadius=e=h.maxSize/Math.sqrt(p);let f=l?this.calculateZExtremes():[t,e];d.forEach(((r,s)=>{i=l?x(r[2],f[0],f[1]):r[2],0===(n=this.getRadius(f[0],f[1],t,e,i))&&(n=null),d[s][2]=n,u.push(n)})),this.radii=u}init(){return p.init.apply(this,arguments),g.call(this),this.eventsToUnbind.push(y(this,"updatedData",(function(){this.chart.series.forEach((t=>{t.type===this.type&&(t.isDirty=!0)}),this)}))),this}onMouseUp(t){if(t.fixedPosition&&!t.removed){let i,n=this.layout,r=this.parentNodeLayout;r&&n.options.dragBetweenSeries&&r.nodes.forEach((e=>{t&&t.marker&&e!==t.series.parentNode&&(i=n.getDistXY(t,e),n.vectorLength(i)-e.marker.radius-t.marker.radius<0&&(e.series.addPoint(C(t.options,{plotX:t.plotX,plotY:t.plotY}),!1),n.removeElementFromCollection(t,n.nodes),t.remove()))})),e.onMouseUp.apply(this,arguments)}}placeBubbles(t){let e,i,n=this.checkOverlap,r=this.positionBubble,s=[],o=1,a=0,l=0,c=[],h=t.sort(((t,e)=>e[2]-t[2]));if(h.length){if(s.push([[0,0,h[0][2],h[0][3],h[0][4]]]),h.length>1)for(s.push([[0,0-h[1][2]-h[0][2],h[1][2],h[1][3],h[1][4]]]),i=2;i<h.length;i++)h[i][2]=h[i][2]||1,n(e=r(s[o][a],s[o-1][l],h[i]),s[o][0])?(s.push([]),l=0,s[o+1].push(r(s[o][a],s[o][0],h[i])),o++,a=0):o>1&&s[o-1][l+1]&&n(e,s[o-1][l+1])?(l++,s[o].push(r(s[o][a],s[o-1][l],h[i])),a++):(a++,s[o].push(e));this.chart.stages=s,this.chart.rawPositions=[].concat.apply([],s),this.resizeRadius(),c=this.chart.rawPositions}return c}pointAttribs(t,e){let i=this.options,n=t&&t.isParentNode,r=i.marker;n&&i.layoutAlgorithm&&i.layoutAlgorithm.parentNodeOptions&&(r=i.layoutAlgorithm.parentNodeOptions.marker);let s=r.fillOpacity,o=p.pointAttribs.call(this,t,e);return 1!==s&&(o["fill-opacity"]=s),o}positionBubble(t,e,i){let n=Math.pow,r=(0,Math.sqrt)(n(t[0]-e[0],2)+n(t[1]-e[1],2)),s=(0,Math.acos)((n(r,2)+n(i[2]+e[2],2)-n(i[2]+t[2],2))/(2*(i[2]+e[2])*r)),o=(0,Math.asin)((0,Math.abs)(t[0]-e[0])/r),a=t[1]-e[1]<0?0:Math.PI,l=(t[0]-e[0])*(t[1]-e[1])<0?1:-1,c=a+s+o*l,h=e[0]+(e[2]+i[2])*Math.sin(c),u=e[1]-(e[2]+i[2])*Math.cos(c);return[h,u,i[2],i[3],i[4]]}render(){let t=[];p.render.apply(this,arguments),!this.options.dataLabels.allowOverlap&&(this.data.forEach((e=>{w(e.dataLabels)&&e.dataLabels.forEach((e=>{t.push(e)}))})),this.options.useSimulation&&this.chart.hideOverlappingLabels(t))}resizeRadius(){let t,e,i,n,r,s=this.chart,o=s.rawPositions,a=Math.min,l=Math.max,c=s.plotLeft,h=s.plotTop,u=s.plotHeight,d=s.plotWidth;for(let g of(t=i=Number.POSITIVE_INFINITY,e=n=Number.NEGATIVE_INFINITY,o))r=g[2],t=a(t,g[0]-r),e=l(e,g[0]+r),i=a(i,g[1]-r),n=l(n,g[1]+r);let p=[e-t,n-i],f=[(d-c)/p[0],(u-h)/p[1]],m=a.apply([],f);if(Math.abs(m-1)>1e-10){for(let t of o)t[2]*=m;this.placeBubbles(o)}else s.diffY=u/2+h-i-(n-i)/2,s.diffX=d/2+c-t-(e-t)/2}seriesBox(){let t,e=this.chart,i=this.data,n=Math.max,r=Math.min,s=[e.plotLeft,e.plotLeft+e.plotWidth,e.plotTop,e.plotTop+e.plotHeight];return i.forEach((e=>{v(e.plotX)&&v(e.plotY)&&e.marker.radius&&(t=e.marker.radius,s[0]=r(s[0],e.plotX-t),s[1]=n(s[1],e.plotX+t),s[2]=r(s[2],e.plotY-t),s[3]=n(s[3],e.plotY+t))})),S(s.width/s.height)?s:null}setVisible(){let t=this;p.setVisible.apply(t,arguments),t.parentNodeLayout&&t.graph?t.visible?(t.graph.show(),t.parentNode.dataLabel&&t.parentNode.dataLabel.show()):(t.graph.hide(),t.parentNodeLayout.removeElementFromCollection(t.parentNode,t.parentNodeLayout.nodes),t.parentNode.dataLabel&&t.parentNode.dataLabel.hide()):t.layout&&(t.visible?t.layout.addElementsToCollection(t.points,t.layout.nodes):t.points.forEach((e=>{t.layout.removeElementFromCollection(e,t.layout.nodes)})))}translate(){let t,e,i,n=this.chart,r=this.data,s=this.index,o=this.options.useSimulation;for(let a of(this.processedXData=this.xData,this.generatePoints(),v(n.allDataPoints)||(n.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),o?i=n.allDataPoints:(i=this.placeBubbles(n.allDataPoints),this.options.draggable=!1),i))a[3]===s&&(t=r[a[4]],e=T(a[2],void 0),o||(t.plotX=a[0]-n.plotLeft+n.diffX,t.plotY=a[1]-n.plotTop+n.diffY),S(e)&&(t.marker=b(t.marker,{radius:e,width:2*e,height:2*e}),t.radius=e));o&&this.deferLayout(),_(this,"afterTranslate")}}return I.defaultOptions=C(f.defaultOptions,s),b(I.prototype,{pointClass:r,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:m,alignDataLabel:p.alignDataLabel,indexateNodes:d,onMouseDown:e.onMouseDown,onMouseMove:e.onMouseMove,redrawHalo:e.redrawHalo,searchPoint:d}),a.registerSeriesType("packedbubble",I),I})),i(e,"Series/Polygon/PolygonSeriesDefaults.js",[],(function(){return{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}})),i(e,"Series/Polygon/PolygonSeries.js",[e["Core/Globals.js"],e["Series/Polygon/PolygonSeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,n){let{noop:r}=t,{area:s,line:o,scatter:a}=i.seriesTypes,{extend:l,merge:c}=n;class h extends a{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getGraphPath(){let t=o.prototype.getGraphPath.call(this),e=t.length+1;for(;e--;)(e===t.length||"M"===t[e][0])&&e>0&&t.splice(e,0,["Z"]);return this.areaPath=t,t}drawGraph(){this.options.fillColor=this.color,s.prototype.drawGraph.call(this)}}return h.defaultOptions=c(a.defaultOptions,e),l(h.prototype,{type:"polygon",drawTracker:o.prototype.drawTracker,setStackedPoints:r}),i.registerSeriesType("polygon",h),h})),i(e,"Core/Axis/RadialAxis.js",[e["Core/Axis/AxisDefaults.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,i,n){var r;let{defaultOptions:s}=e,{noop:o}=i,{addEvent:a,correctFloat:l,defined:c,extend:h,fireEvent:u,merge:d,pick:p,relativeLength:f,wrap:m}=n;return function(e){let i=[],r={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},g={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},y={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};function x(){this.autoConnect=this.isCircular&&void 0===p(this.userMax,this.options.max)&&l(this.endAngleRad-this.startAngleRad)===l(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)}function v(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&!0!==this.options.labels.allowOverlap)return this.tickPositions.map((t=>this.ticks[t]&&this.ticks[t].label)).filter((t=>!!t))}}function b(){return o}function _(t,e,i){let n,r,s,o=this.pane.center,a=t.value;return this.isCircular?(c(a)?t.point&&(t.point.shapeArgs||{}).start&&(a=this.chart.inverted?this.translate(t.point.rectPlotY,!0):t.point.x):(r=t.chartX||0,s=t.chartY||0,a=this.translate(Math.atan2(s-i,r-e)-this.startAngleRad,!0)),r=(n=this.getPosition(a)).x,s=n.y):(c(a)||(r=t.chartX,s=t.chartY),c(r)&&c(s)&&(i=o[1]+this.chart.plotTop,a=this.translate(Math.min(Math.sqrt(Math.pow(r-e,2)+Math.pow(s-i,2)),o[2]/2)-o[3]/2,!0))),[a,r||0,s||0]}function w(t,e,i){let n,r,s=this.pane.center,o=this.chart,a=this.left||0,l=this.top||0,c=p(e,s[2]/2-this.offset);return void 0===i&&(i=this.horiz?0:this.center&&-this.center[3]/2),i&&(c+=i),this.isCircular||void 0!==e?((r=this.chart.renderer.symbols.arc(a+s[0],l+s[1],c,c,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[a+s[0]],r.yBounds=[l+s[1]-c]):(n=this.postTranslate(this.angleRad,c),r=[["M",this.center[0]+o.plotLeft,this.center[1]+o.plotTop],["L",n.x,n.y]]),r}function S(){let t=this.constructor.prototype;t.getOffset.call(this),this.chart.axisOffset[this.side]=0}function C(t,e,i){let n,r,s,o,a,l,c=this.chart,h=t=>{if("string"==typeof t){let e=parseInt(t,10);return x.test(t)&&(e=e*f/100),e}return t},u=this.center,d=this.startAngleRad,f=u[2]/2,m=Math.min(this.offset,0),g=this.left||0,y=this.top||0,x=/%$/,v=this.isCircular,b=p(h(i.outerRadius),f),_=h(i.innerRadius),w=p(h(i.thickness),10);if("polygon"===this.options.gridLineInterpolation)l=this.getPlotLinePath({value:t}).concat(this.getPlotLinePath({value:e,reverse:!0}));else{t=Math.max(t,this.min),e=Math.min(e,this.max);let h=this.translate(t),f=this.translate(e);v||(b=h||0,_=f||0),"circle"!==i.shape&&v?(n=d+(h||0),r=d+(f||0)):(n=-Math.PI/2,r=1.5*Math.PI,a=!0),b-=m,w-=m,l=c.renderer.symbols.arc(g+u[0],y+u[1],b,b,{start:Math.min(n,r),end:Math.max(n,r),innerR:p(_,b-w),open:a}),v&&(s=(r+n)/2,o=g+u[0]+u[2]/2*Math.cos(s),l.xBounds=s>-Math.PI/2&&s<Math.PI/2?[o,c.plotWidth]:[0,o],l.yBounds=[y+u[1]+u[2]/2*Math.sin(s)],l.yBounds[0]+=s>-Math.PI&&s<0||s>Math.PI?-10:10)}return l}function T(t){let e,i,n,r,s,o,a,l,c,h=this.pane.center,u=this.chart,d=u.inverted,p=t.reverse,m=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},g=m.innerRadius||"0%",y=m.outerRadius||"100%",x=h[0]+u.plotLeft,v=h[1]+u.plotTop,b=this.height,_=t.isCrosshair,w=h[3]/2,S=t.value,C=this.getPosition(S),T=C.x,k=C.y;if(_&&(S=(l=this.getCrosshairPosition(t,x,v))[0],T=l[1],k=l[2]),this.isCircular)i=Math.sqrt(Math.pow(T-x,2)+Math.pow(k-v,2)),n="string"==typeof g?f(g,1):g/i,r="string"==typeof y?f(y,1):y/i,h&&w&&(n<(e=w/i)&&(n=e),r<e&&(r=e)),c=[["M",x+n*(T-x),v-n*(v-k)],["L",T-(1-r)*(T-x),k+(1-r)*(v-k)]];else if((S=this.translate(S))&&(S<0||S>b)&&(S=0),"circle"===this.options.gridLineInterpolation)c=this.getLinePath(0,S,w);else if(c=[],u[d?"yAxis":"xAxis"].forEach((t=>{t.pane===this.pane&&(s=t)})),s){a=s.tickPositions,s.autoConnect&&(a=a.concat([a[0]])),p&&(a=a.slice().reverse()),S&&(S+=w);for(let t=0;t<a.length;t++)o=s.getPosition(a[t],S),c.push(t?["L",o.x,o.y]:["M",o.x,o.y])}return c}function k(t,e){let i=this.translate(t);return this.postTranslate(this.isCircular?i:this.angleRad,p(this.isCircular?e:i<0?0:i,this.center[2]/2)-this.offset)}function A(){let t=this.center,e=this.chart,i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}}function I(t){t.beforeSetTickPositions=x,t.createLabelCollector=v,t.getCrosshairPosition=_,t.getLinePath=w,t.getOffset=S,t.getPlotBandPath=C,t.getPlotLinePath=T,t.getPosition=k,t.getTitlePosition=A,t.postTranslate=F,t.setAxisSize=B,t.setAxisTranslation=N,t.setOptions=j}function M(){let t=this.chart,e=this.options,i=t.angular&&this.isXAxis,n=this.pane,r=n&&n.options;if(!i&&n&&(t.angular||t.polar)){let t=2*Math.PI,i=(p(r.startAngle,0)-90)*Math.PI/180,n=(p(r.endAngle,p(r.startAngle,0)+360)-90)*Math.PI/180;this.angleRad=(e.angle||0)*Math.PI/180,this.startAngleRad=i,this.endAngleRad=n,this.offset=e.offset||0;let s=(i%t+t)%t,o=(n%t+t)%t;s>Math.PI&&(s-=t),o>Math.PI&&(o-=t),this.normalizedStartAngleRad=s,this.normalizedEndAngleRad=o}}function P(t){this.isRadial&&(t.align=void 0,t.preventDefault())}function E(){if(this.chart&&this.chart.labelCollectors){let t=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;t>=0&&this.chart.labelCollectors.splice(t,1)}}function D(e){let i,n=this.chart,s=n.inverted,a=n.angular,l=n.polar,c=this.isXAxis,h=this.coll,u=e.userOptions.pane||0,p=this.pane=n.pane&&n.pane[u];"colorAxis"!==h?(a?(a&&c?(this.isHidden=!0,this.createLabelCollector=b,this.getOffset=o,this.redraw=R,this.render=R,this.setScale=o,this.setCategories=o,this.setTitle=o):I(this),(i=!c)&&(this.defaultPolarOptions=g)):l&&(I(this),i=this.horiz,this.defaultPolarOptions=i?r:d("xAxis"===h?t.defaultXAxisOptions:t.defaultYAxisOptions,y),s&&"yAxis"===h&&(this.defaultPolarOptions.stackLabels=t.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),a||l?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&n.labelCollectors.push(this.labelCollector)):this.isRadial=!1,p&&i&&(p.axis=this),this.isCircular=i):this.isRadial=!1}function L(){this.isRadial&&this.beforeSetTickPositions()}function z(t){let e=this.label;if(!e)return;let i,n=this.axis,r=e.getBBox(),s=n.options.labels,o=(n.translate(this.pos)+n.startAngleRad+Math.PI/2)/Math.PI*180%360,a=Math.round(o),l=c(s.y)?0:-.3*r.height,h=s.y,u=20,d=s.align,m="end",g=a<0?a+360:a,y=g,x=0,v=0;n.isRadial&&(i=n.getPosition(this.pos,n.center[2]/2+f(p(s.distance,-25),n.center[2]/2,-n.center[2]/2)),"auto"===s.rotation?e.attr({rotation:o}):c(h)||(h=n.chart.renderer.fontMetrics(e).b-r.height/2),c(d)||(n.isCircular?(r.width>n.len*n.tickInterval/(n.max-n.min)&&(u=0),d=o>u&&o<180-u?"left":o>180+u&&o<360-u?"right":"center"):d="center",e.attr({align:d})),"auto"===d&&2===n.tickPositions.length&&n.isCircular&&(g>90&&g<180?g=180-g:g>270&&g<=360&&(g=540-g),y>180&&y<=360&&(y=360-y),(n.pane.options.startAngle===a||n.pane.options.startAngle===a+360||n.pane.options.startAngle===a-360)&&(m="start"),d=a>=-90&&a<=90||a>=-360&&a<=-270||a>=270&&a<=360?"start"===m?"right":"left":"start"===m?"left":"right",y>70&&y<110&&(d="center"),g<15||g>=180&&g<195?x=.3*r.height:g>=15&&g<=35?x="start"===m?0:.75*r.height:g>=195&&g<=215?x="start"===m?.75*r.height:0:g>35&&g<=90?x="start"===m?-.25*r.height:r.height:g>215&&g<=270&&(x="start"===m?r.height:-.25*r.height),y<15?v="start"===m?-.15*r.height:.15*r.height:y>165&&y<=180&&(v="start"===m?.15*r.height:-.15*r.height),e.attr({align:d}),e.translate(v,x+l)),t.pos.x=i.x+(s.x||0),t.pos.y=i.y+(h||0))}function O(t){this.axis.getPosition&&h(t.pos,this.axis.getPosition(this.pos))}function F(t,e){let i=this.chart,n=this.center;return t=this.startAngleRad+t,{x:i.plotLeft+n[0]+Math.cos(t)*e,y:i.plotTop+n[1]+Math.sin(t)*e}}function R(){this.isDirty=!1}function B(){let t,e,i=this.constructor.prototype;i.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),t=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(e=this.postTranslate(this.angleRad,t[3]/2),t[0]=e.x-this.chart.plotLeft,t[1]=e.y-this.chart.plotTop),this.len=this.width=this.height=(t[2]-t[3])*p(this.sector,1)/2)}function N(){let t=this.constructor.prototype;t.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)}function j(t){let e=this.options=d(this.constructor.defaultOptions,this.defaultPolarOptions,s[this.coll],t);e.plotBands||(e.plotBands=[]),u(this,"afterSetOptions")}function U(t,e,i,n,r,s,o){let a,l=this.axis;return l.isRadial?["M",e,i,"L",(a=l.getPosition(this.pos,l.center[2]/2+n)).x,a.y]:t.call(this,e,i,n,r,s,o)}e.compose=function(t,e){return n.pushUnique(i,t)&&(a(t,"afterInit",M),a(t,"autoLabelAlign",P),a(t,"destroy",E),a(t,"init",D),a(t,"initialAxisTranslation",L)),n.pushUnique(i,e)&&(a(e,"afterGetLabelPosition",z),a(e,"afterGetPosition",O),m(e.prototype,"getMarkPath",U)),t}}(r||(r={})),r})),i(e,"Series/PolarComposition.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Globals.js"],e["Core/Series/Series.js"],e["Extensions/Pane.js"],e["Core/Axis/RadialAxis.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r,s){let{animObject:o}=t,{addEvent:a,defined:l,find:c,isNumber:h,merge:u,pick:d,relativeLength:p,splat:f,uniqueKey:m,wrap:g}=s,y=[];function x(){(this.pane||[]).forEach((t=>{t.render()}))}function v(t){let e=t.args[0].xAxis,i=t.args[0].yAxis,n=t.args[0].chart;e&&i&&("polygon"===i.gridLineInterpolation?(e.startOnTick=!0,e.endOnTick=!0):"polygon"===e.gridLineInterpolation&&n.inverted&&(i.startOnTick=!0,i.endOnTick=!0))}function b(){this.pane||(this.pane=[]),this.options.pane=f(this.options.pane),this.options.pane.forEach((t=>{new n(t,this)}),this)}function _(t){let e=t.args.marker,i=this.chart.xAxis[0],n=this.chart.yAxis[0],r=this.chart.inverted,s=r?n:i,o=r?i:n;if(this.chart.polar){t.preventDefault();let i=(e.attr?e.attr("start"):e.start)-s.startAngleRad,n=e.attr?e.attr("r"):e.r,r=(e.attr?e.attr("end"):e.end)-s.startAngleRad,a=e.attr?e.attr("innerR"):e.innerR;t.result.x=i+s.pos,t.result.width=r-i,t.result.y=o.len+o.pos-a,t.result.height=a-n}}function w(t){let e=this.chart;if(e.polar&&e.hoverPane&&e.hoverPane.axis){t.preventDefault();let i=e.hoverPane.center,n=this.mouseDownX||0,r=this.mouseDownY||0,s=t.args.chartY,o=t.args.chartX,a=2*Math.PI,l=e.hoverPane.axis.startAngleRad,c=e.hoverPane.axis.endAngleRad,h=e.inverted?e.xAxis[0]:e.yAxis[0],u={},d="arc";if(u.x=i[0]+e.plotLeft,u.y=i[1]+e.plotTop,this.zoomHor){let t=l>0?c-l:Math.abs(l)+Math.abs(c),p=Math.atan2(r-e.plotTop-i[1],n-e.plotLeft-i[0])-l,f=Math.atan2(s-e.plotTop-i[1],o-e.plotLeft-i[0])-l;if(u.r=i[2]/2,u.innerR=i[3]/2,p<=0&&(p+=a),f<=0&&(f+=a),f<p&&(f=[p,p=f][0]),t<a){let e=c+(a-t)/2;l+f>e&&(f=p,p=l<=0?l:0)}let m=u.start=Math.max(p+l,l),g=u.end=Math.min(f+l,c);if("polygon"===h.options.gridLineInterpolation){let t=e.hoverPane.axis,n=(t.tickInterval,m-t.startAngleRad+t.pos),r=h.getPlotLinePath({value:h.max}),s=t.toValue(n),o=t.toValue(n+(g-m));if(s<t.getExtremes().min){let{min:e,max:i}=t.getExtremes();s=i-(e-s)}if(o<t.getExtremes().min){let{min:e,max:i}=t.getExtremes();o=i-(e-o)}o<s&&(o=[s,s=o][0]),(r=k(r,s,o,t)).push(["L",i[0]+e.plotLeft,e.plotTop+i[1]]),u.d=r,d="path"}}if(this.zoomVert){let t=e.inverted?e.xAxis[0]:e.yAxis[0],a=Math.sqrt(Math.pow(n-e.plotLeft-i[0],2)+Math.pow(r-e.plotTop-i[1],2)),h=Math.sqrt(Math.pow(o-e.plotLeft-i[0],2)+Math.pow(s-e.plotTop-i[1],2));if(h<a&&(a=[h,h=a][0]),h>i[2]/2&&(h=i[2]/2),a<i[3]/2&&(a=i[3]/2),this.zoomHor||(u.start=l,u.end=c),u.r=h,u.innerR=a,"polygon"===t.options.gridLineInterpolation){let e=t.toValue(t.len+t.pos-a),i=t.toValue(t.len+t.pos-h),n=t.getPlotLinePath({value:i}).concat(t.getPlotLinePath({value:e,reverse:!0}));u.d=n,d="path"}}if(this.zoomHor&&this.zoomVert&&"polygon"===h.options.gridLineInterpolation){let t=e.hoverPane.axis,i=u.start||0,n=u.end||0,r=i-t.startAngleRad+t.pos,s=t.toValue(r),o=t.toValue(r+(n-i));if(u.d instanceof Array){let t=u.d.slice(0,u.d.length/2),i=u.d.slice(u.d.length/2,u.d.length);i=[...i].reverse();let n=e.hoverPane.axis;t=k(t,s,o,n),(i=k(i,s,o,n))&&(i[0][0]="L"),i=[...i].reverse(),u.d=t.concat(i),d="path"}}t.attrs=u,t.shapeType=d}}function S(){let t=this.chart;t.polar&&(this.polar=new O(this),t.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function C(){if(this.chart.polar&&this.xAxis){let{xAxis:t,yAxis:i}=this,n=this.chart;this.kdByAngle=n.tooltip&&n.tooltip.shared,this.kdByAngle?this.searchPoint=T:this.options.findNearestPointBy="xy";let r=this.points,s=r.length;for(;s--;)this.is("column")||this.is("columnrange")||this.polar.toXY(r[s]),n.hasParallelCoordinates||this.yAxis.reversed||(d(r[s].y,Number.MIN_VALUE)<i.min||r[s].x<t.min||r[s].x>t.max?(r[s].isNull=!0,r[s].plotY=NaN):r[s].isNull=r[s].isValid&&!r[s].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(a(this,"afterRender",(function(){let t;n.polar&&!1!==this.options.clip&&(t=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2}):this.clipCircle=function(t,e,i,n,r){let s=m(),o=t.createElement("clipPath").attr({id:s}).add(t.defs),a=r?t.arc(e,i,n,r,0,2*Math.PI).add(o):t.circle(e,i,n).add(o);return a.id=s,a.clipPath=o,a}(n.renderer,t[0],t[1],t[2]/2,t[3]/2),this.group.clip(this.clipCircle),this.setClip=e.noop)}))))}}function T(t){let e=this.chart,i=this.xAxis,n=i.pane&&i.pane.center,r=t.chartX-(n&&n[0]||0)-e.plotLeft,s=t.chartY-(n&&n[1]||0)-e.plotTop;return this.searchKDTree({clientX:180+Math.atan2(r,s)*(-180/Math.PI)})}function k(t,e,i,n){let r=n.tickInterval,s=n.tickPositions,o=c(s,(t=>t>=i)),a=c([...s].reverse(),(t=>t<=e));return l(o)||(o=s[s.length-1]),l(a)||(a=s[0],o+=r,t[0][0]="L",t.unshift(t[t.length-3])),(t=t.slice(s.indexOf(a),s.indexOf(o)+1))[0][0]="M",t}function A(t,e){return c(this.pane||[],(function(t){return t.options.id===e}))||t.call(this,e)}function I(t,e,n,r,s,o){let a,l,c,h=this.chart,p=d(r.inside,!!this.options.stacking);if(h.polar){var f;if(a=e.rectPlotX/Math.PI*180,h.inverted)this.forceDL=h.isInsidePlot(e.plotX,e.plotY),p&&e.shapeArgs?(l=e.shapeArgs,s=u(s,{x:(c=this.yAxis.postTranslate(((l.start||0)+(l.end||0))/2-this.xAxis.startAngleRad,e.barX+e.pointWidth/2)).x-h.plotLeft,y:c.y-h.plotTop})):e.tooltipPos&&(s=u(s,{x:e.tooltipPos[0],y:e.tooltipPos[1]})),r.align=d(r.align,"center"),r.verticalAlign=d(r.verticalAlign,"middle");else null===(f=r).align&&(f.align=a>20&&a<160?"left":a>200&&a<340?"right":"center"),null===f.verticalAlign&&(f.verticalAlign=a<45||a>315?"bottom":a>135&&a<225?"top":"middle"),r=f;i.prototype.alignDataLabel.call(this,e,n,r,s,o),this.isRadialBar&&e.shapeArgs&&e.shapeArgs.start===e.shapeArgs.end?n.hide():n.show()}else t.call(this,e,n,r,s,o)}function M(){let t,e,i,n,r,o,a,c,u,d,f,m,g,y=this.options,x=y.stacking,v=this.chart,b=this.xAxis,_=this.yAxis,w=_.reversed,S=_.center,C=b.startAngleRad,T=b.endAngleRad,k=T-C,A=y.threshold,I=0,M=0,P=0;if(b.isRadial)for(i=(t=this.points).length,n=_.translate(_.min),r=_.translate(_.max),A=y.threshold||0,v.inverted&&h(A)&&l(I=_.translate(A))&&(I<0?I=0:I>k&&(I=k),this.translatedThreshold=I+C);i--;){if(f=(e=t[i]).barX,a=e.x,c=e.y,e.shapeType="arc",v.inverted){e.plotY=_.translate(c),x&&_.stacking?(d=_.stacking.stacks[(c<0?"-":"")+this.stackKey],this.visible&&d&&d[a]&&!e.isNull&&(u=d[a].points[this.getStackIndicator(void 0,a,this.index).key],M=_.translate(u[0]),P=_.translate(u[1]),l(M)&&(M=s.clamp(M,0,k)))):(M=I,P=e.plotY),M>P&&(P=[M,M=P][0]),w?P>n?P=n:M<r?M=r:(M>n||P<r)&&(M=P=k):M<n?M=n:P>r?P=r:(P<n||M>r)&&(M=P=0),_.min>_.max&&(M=P=w?k:0),M+=C,P+=C,S&&(e.barX=f+=S[3]/2),m=Math.max(f,0),g=Math.max(f+e.pointWidth,0);let t=y.borderRadius,i="object"==typeof t?t.radius:t,o=p(i||0,g-m);e.shapeArgs={x:S[0],y:S[1],r:g,innerR:m,start:M,end:P,borderRadius:o},e.opacity=M===P?0:void 0,e.plotY=(l(this.translatedThreshold)&&(M<this.translatedThreshold?M:P))-C}else M=f+C,e.shapeArgs=this.polar.arc(e.yBottom,e.plotY,M,M+e.pointWidth),e.shapeArgs.borderRadius=0;this.polar.toXY(e),v.inverted?(o=_.postTranslate(e.rectPlotY,f+e.pointWidth/2),e.tooltipPos=[o.x-v.plotLeft,o.y-v.plotTop]):e.tooltipPos=[e.plotX,e.plotY],S&&(e.ttBelow=e.plotY>S[1])}}function P(t,e){let i,n,r=this;if(this.chart.polar){e=e||this.points;for(let t=0;t<e.length;t++)if(!e[t].isNull){i=t;break}!1!==this.options.connectEnds&&void 0!==i&&(this.connectEnds=!0,e.splice(e.length,0,e[i]),n=!0),e.forEach((t=>{void 0===t.polarPlotY&&r.polar.toXY(t)}))}let s=t.apply(this,[].slice.call(arguments,1));return n&&e.pop(),s}function E(t,e){let i=this.chart,n={xAxis:[],yAxis:[]};return i.polar?i.axes.forEach((t=>{if("colorAxis"===t.coll)return;let r=t.isXAxis,s=t.center,o=e.chartX-s[0]-i.plotLeft,a=e.chartY-s[1]-i.plotTop;n[r?"xAxis":"yAxis"].push({axis:t,value:t.translate(r?Math.PI-Math.atan2(o,a):Math.sqrt(Math.pow(o,2)+Math.pow(a,2)),!0)})})):n=t.call(this,e),n}function D(t,e){this.chart.polar||t.call(this,e)}function L(t,i){let n,r,s,a,l,c,h=this,u=this.chart,p=this.group,f=this.markerGroup,m=this.xAxis&&this.xAxis.center,g=u.plotLeft,y=u.plotTop,x=this.options.animation;u.polar?h.isRadialBar?i||(h.startAngleRad=d(h.translatedThreshold,h.xAxis.startAngleRad),e.seriesTypes.pie.prototype.animate.call(h,i)):(x=o(x),h.is("column")?i||(r=m[3]/2,h.points.forEach((t=>{s=t.graphic,l=(a=t.shapeArgs)&&a.r,c=a&&a.innerR,s&&a&&(s.attr({r:r,innerR:r}),s.animate({r:l,innerR:c},h.options.animation))}))):i?(n={translateX:m[0]+g,translateY:m[1]+y,scaleX:.001,scaleY:.001},p.attr(n),f&&f.attr(n)):(n={translateX:g,translateY:y,scaleX:1,scaleY:1},p.animate(n,x),f&&f.animate(n,x))):t.call(this,i)}function z(t,e,i,n){let r,s;if(this.chart.polar)if(n){s=function t(e,i,n,r){let s,o,a,l,c,h,u=r?1:0;s=i>=0&&i<=e.length-1?i:i<0?e.length-1+i:0;let d=s-1<0?e.length-(1+u):s-1,p=s+1>e.length-1?u:s+1,f=e[d],m=e[p],g=f.plotX,y=f.plotY,x=m.plotX,v=m.plotY,b=e[s].plotX,_=e[s].plotY;o=(1.5*b+g)/2.5,a=(1.5*_+y)/2.5,l=(1.5*b+x)/2.5,c=(1.5*_+v)/2.5;let w=Math.sqrt(Math.pow(o-b,2)+Math.pow(a-_,2)),S=Math.sqrt(Math.pow(l-b,2)+Math.pow(c-_,2)),C=Math.atan2(a-_,o-b),T=Math.atan2(c-_,l-b);h=Math.PI/2+(C+T)/2,Math.abs(C-h)>Math.PI/2&&(h-=Math.PI),o=b+Math.cos(h)*w,a=_+Math.sin(h)*w,l=b+Math.cos(Math.PI+h)*S,c=_+Math.sin(Math.PI+h)*S;let k={rightContX:l,rightContY:c,leftContX:o,leftContY:a,plotX:b,plotY:_};return n&&(k.prevPointCont=t(e,d,!1,r)),k}(e,n,!0,this.connectEnds);let t=s.prevPointCont&&s.prevPointCont.rightContX,i=s.prevPointCont&&s.prevPointCont.rightContY;r=["C",h(t)?t:s.plotX,h(i)?i:s.plotY,h(s.leftContX)?s.leftContX:s.plotX,h(s.leftContY)?s.leftContY:s.plotY,s.plotX,s.plotY]}else r=["M",i.plotX,i.plotY];else r=t.call(this,e,i,n);return r}class O{static compose(t,e,i,n,o,l,c,h,u){if(r.compose(t,o),s.pushUnique(y,e)){a(e,"afterDrawChartBox",x),a(e,"getAxes",b),a(e,"init",v);let t=e.prototype;g(t,"get",A)}if(s.pushUnique(y,i)){let t=i.prototype;g(t,"getCoordinates",E),g(t,"pinch",D),a(i,"getSelectionMarkerAttrs",w),a(i,"getSelectionBox",_)}if(s.pushUnique(y,n)){a(n,"afterInit",S),a(n,"afterTranslate",C,{order:2}),a(n,"afterColumnTranslate",M,{order:4});let t=n.prototype;g(t,"animate",L)}if(c&&s.pushUnique(y,c)){let t=c.prototype;g(t,"alignDataLabel",I),g(t,"animate",L)}if(h&&s.pushUnique(y,h)){let t=h.prototype;g(t,"getGraphPath",P)}if(u&&s.pushUnique(y,u)){let t=u.prototype;if(g(t,"getPointSpline",z),l&&s.pushUnique(y,l)){let e=l.prototype;e.getPointSpline=t.getPointSpline}}}constructor(t){this.series=t}arc(t,e,i,n){let r=this.series,s=r.xAxis.center,o=r.yAxis.len,a=s[3]/2,l=o-e+a,c=o-d(t,o)+a;return r.yAxis.reversed&&(l<0&&(l=a),c<0&&(c=a)),{x:s[0],y:s[1],r:l,innerR:c,start:i,end:n}}toXY(t){let e,i=this.series,n=i.chart,r=i.xAxis,s=i.yAxis,o=t.plotX,a=n.inverted,l=t.y,c=t.plotY,u=a?o:s.len-c;if(a&&i&&!i.isRadialBar&&(t.plotY=c=h(l)?s.translate(l):0),t.rectPlotX=o,t.rectPlotY=c,s.center&&(u+=s.center[3]/2),h(c)){let e=a?s.postTranslate(c,u):r.postTranslate(o,u);t.plotX=t.polarPlotX=e.x-n.plotLeft,t.plotY=t.polarPlotY=e.y-n.plotTop}i.kdByAngle?((e=(o/Math.PI*180+r.pane.options.startAngle)%360)<0&&(e+=360),t.clientX=e):t.clientX=t.plotX}}return O})),i(e,"Core/Axis/WaterfallAxis.js",[e["Core/Axis/Stacking/StackItem.js"],e["Core/Utilities.js"]],(function(t,e){var i;let{addEvent:n,objectEach:r,pushUnique:s}=e;return function(e){let i=[];function o(){let t=this.waterfall.stacks;t&&(t.changed=!1,delete t.alreadyChanged)}function a(){let t=this.options.stackLabels;t&&t.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function l(){this.waterfall||(this.waterfall=new h(this))}function c(){let t=this.axes,e=this.series;for(let i of e)if(i.options.stacking){for(let e of t)e.isXAxis||(e.waterfall.stacks.changed=!0);break}}e.compose=function(t,e){s(i,t)&&(n(t,"init",l),n(t,"afterBuildStacks",o),n(t,"afterRender",a)),s(i,e)&&n(e,"beforeRedraw",c)};class h{constructor(t){this.axis=t,this.stacks={changed:!1}}renderStackTotals(){let e=this.axis,i=e.waterfall.stacks,n=e.stacking&&e.stacking.stackTotalGroup,s=new t(e,e.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=s,n&&r(i,(e=>{r(e,((e,i)=>{s.total=e.stackTotal,s.x=+i,e.label&&(s.label=e.label),t.prototype.render.call(s,n),e.label=s.label,delete s.label}))})),s.total=null}}e.Composition=h}(i||(i={})),i})),i(e,"Series/Waterfall/WaterfallPoint.js",[e["Series/Column/ColumnSeries.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],(function(t,e,i){let{isNumber:n}=i;class r extends t.prototype.pointClass{constructor(){super(...arguments),this.options=void 0,this.series=void 0}getClassName(){let t=e.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t}isValid(){return n(this.y)||this.isSum||!!this.isIntermediateSum}}return r})),i(e,"Series/Waterfall/WaterfallSeriesDefaults.js",[],(function(){return{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}})),i(e,"Series/Waterfall/WaterfallSeries.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Core/Axis/WaterfallAxis.js"],e["Series/Waterfall/WaterfallPoint.js"],e["Series/Waterfall/WaterfallSeriesDefaults.js"]],(function(t,e,i,n,r){let{column:s,line:o}=t.seriesTypes,{addEvent:a,arrayMax:l,arrayMin:c,correctFloat:h,extend:u,isNumber:d,merge:p,objectEach:f,pick:m}=e;function g(t,e){return Object.hasOwnProperty.call(t,e)}class y extends s{constructor(){super(...arguments),this.chart=void 0,this.data=void 0,this.options=void 0,this.points=void 0,this.stackedYNeg=void 0,this.stackedYPos=void 0,this.stackKey=void 0,this.xData=void 0,this.yAxis=void 0,this.yData=void 0}generatePoints(){s.prototype.generatePoints.apply(this);for(let t=0,e=this.points.length;t<e;t++){let e=this.points[t],i=this.processedYData[t];d(i)&&(e.isIntermediateSum||e.isSum)&&(e.y=h(i))}}processData(t){let e,i,n,r,s,o,a=this.options,l=this.yData,c=a.data,u=l.length,d=a.threshold||0;n=i=r=s=0;for(let p=0;p<u;p++)o=l[p],e=c&&c[p]?c[p]:{},"sum"===o||e.isSum?l[p]=h(n):"intermediateSum"===o||e.isIntermediateSum?(l[p]=h(i),i=0):(n+=o,i+=o),r=Math.min(n,r),s=Math.max(n,s);super.processData.call(this,t),a.stacking||(this.dataMin=r+d,this.dataMax=s)}toYData(t){return t.isSum?"sum":t.isIntermediateSum?"intermediateSum":t.y}updateParallelArrays(t,e){super.updateParallelArrays.call(this,t,e),("sum"===this.yData[0]||"intermediateSum"===this.yData[0])&&(this.yData[0]=null)}pointAttribs(t,e){let i=this.options.upColor;i&&!t.options.color&&d(t.y)&&(t.color=t.y>0?i:void 0);let n=s.prototype.pointAttribs.call(this,t,e);return delete n.dashstyle,n}getGraphPath(){return[["M",0,0]]}getCrispPath(){let t=this.data.filter((t=>d(t.y))),e=this.yAxis,i=t.length,n=Math.round(this.graph.strokeWidth())%2/2,r=Math.round(this.borderWidth)%2/2,s=this.xAxis.reversed,o=this.yAxis.reversed,a=this.options.stacking,l=[];for(let c=1;c<i;c++){if(!this.options.connectNulls&&!d(this.data[t[c].index-1].y))continue;let i=t[c].box,h=t[c-1],u=h.y||0,p=t[c-1].box;if(!i||!p)continue;let f=e.waterfall.stacks[this.stackKey],m=u>0?-p.height:0;if(f&&p&&i){let t,u=f[c-1];if(a){let i=u.connectorThreshold;t=Math.round(e.translate(i,!1,!0,!1,!0)+(o?m:0))-n}else t=p.y+h.minPointLengthOffset+r-n;l.push(["M",(p.x||0)+(s?0:p.width||0),t],["L",(i.x||0)+(s&&i.width||0),t])}if(p&&l.length&&(!a&&u<0&&!o||u>0&&o)){let t=l[l.length-2];t&&"number"==typeof t[2]&&(t[2]+=p.height||0);let e=l[l.length-1];e&&"number"==typeof e[2]&&(e[2]+=p.height||0)}}return l}drawGraph(){o.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(t){let e,i,n,r,s,o,a,l,c,h=this.options,u=t.waterfall?.stacks,d=h.threshold||0,p=this.stackKey,f=this.xData,m=f.length,g=d,y=g,x=0,v=0,b=0,_=(t,n,r,s)=>{if(e){if(i)for(;r<i;r++)e.stackState[r]+=s;else e.stackState[0]=t,i=e.stackState.length;e.stackState.push(e.stackState[i-1]+n)}};if(t.stacking&&u&&this.reserveSpace()){c=u.changed,(l=u.alreadyChanged)&&0>l.indexOf(p)&&(c=!0),u[p]||(u[p]={});let t=u[p];if(t)for(let l=0;l<m;l++)(!t[a=f[l]]||c)&&(t[a]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:c&&t[a]?t[a].label:void 0}),e=t[a],(o=this.yData[l])>=0?e.posTotal+=o:e.negTotal+=o,s=h.data[l],n=e.absolutePos=e.posTotal,r=e.absoluteNeg=e.negTotal,e.stackTotal=n+r,i=e.stackState.length,s&&s.isIntermediateSum?(_(b,v,0,b),b=v,v=d,g^=y,y^=g,g^=y):s&&s.isSum?(_(d,x,i,0),g=d):(_(g,o,0,x),s&&(x+=o,v+=o)),e.stateIndex++,e.threshold=g,g+=e.stackTotal;u.changed=!1,u.alreadyChanged||(u.alreadyChanged=[]),u.alreadyChanged.push(p)}}getExtremes(){let t,e,i,n=this.options.stacking;return n?(t=this.yAxis.waterfall.stacks,e=this.stackedYNeg=[],i=this.stackedYPos=[],f(t[this.stackKey],"overlap"===n?function(t){e.push(c(t.stackState)),i.push(l(t.stackState))}:function(t){e.push(t.negTotal+t.threshold),i.push(t.posTotal+t.threshold)}),{dataMin:c(e),dataMax:l(i)}):{dataMin:this.dataMin,dataMax:this.dataMax}}}return y.defaultOptions=p(s.defaultOptions,r),y.compose=i.compose,u(y.prototype,{getZonesGraphs:o.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:n}),a(y,"afterColumnTranslate",(function(){let t,e,i,n,{options:r,points:s,yAxis:o}=this,a=m(r.minPointLength,5),l=a/2,c=r.threshold||0,h=r.stacking,f=o.waterfall.stacks[this.stackKey],y=c,x=c;for(let m=0;m<s.length;m++){let r=s[m],v=this.processedYData[m],b=r.shapeArgs,_=u({x:0,y:0,width:0,height:0},b||{});r.box=_;let w=[0,v],S=r.y||0;if(h){if(f){let s=f[m];"overlap"===h?(e=s.stackState[s.stateIndex--],t=S>=0?e:e-S,g(s,"absolutePos")&&delete s.absolutePos,g(s,"absoluteNeg")&&delete s.absoluteNeg):(S>=0?(e=s.threshold+s.posTotal,s.posTotal-=S,t=e):(e=s.threshold+s.negTotal,s.negTotal-=S,t=e-S),!s.posTotal&&d(s.absolutePos)&&g(s,"absolutePos")&&(s.posTotal=s.absolutePos,delete s.absolutePos),!s.negTotal&&d(s.absoluteNeg)&&g(s,"absoluteNeg")&&(s.negTotal=s.absoluteNeg,delete s.absoluteNeg)),r.isSum||(s.connectorThreshold=s.threshold+s.stackTotal),o.reversed?(i=S>=0?t-S:t+S,n=t):(i=t,n=t-S),r.below=i<=c,_.y=o.translate(i,!1,!0,!1,!0),_.height=Math.abs(_.y-o.translate(n,!1,!0,!1,!0));let a=o.waterfall.dummyStackItem;a&&(a.x=m,a.label=f[m].label,a.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[m],this.stackedYPos[m],void 0,this.xAxis))}}else t=Math.max(x,x+S)+w[0],_.y=o.translate(t,!1,!0,!1,!0),r.isSum?(_.y=o.translate(w[1],!1,!0,!1,!0),_.height=Math.min(o.translate(w[0],!1,!0,!1,!0),o.len)-_.y,r.below=w[1]<=c):r.isIntermediateSum?(S>=0?(i=w[1]+y,n=y):(i=y,n=w[1]+y),o.reversed&&(i^=n,n^=i,i^=n),_.y=o.translate(i,!1,!0,!1,!0),_.height=Math.abs(_.y-Math.min(o.translate(n,!1,!0,!1,!0),o.len)),y+=w[1],r.below=i<=c):(_.height=v>0?o.translate(x,!1,!0,!1,!0)-_.y:o.translate(x,!1,!0,!1,!0)-o.translate(x-v,!1,!0,!1,!0),x+=v,r.below=x<c),_.height<0&&(_.y+=_.height,_.height*=-1);r.plotY=_.y=Math.round(_.y||0)-this.borderWidth%2/2,_.height=Math.max(Math.round(_.height||0),.001),r.yBottom=_.y+_.height,_.height<=a&&!r.isNull?(_.height=a,_.y-=l,r.plotY=_.y,r.minPointLengthOffset=S<0?-l:l):(r.isNull&&(_.width=0),r.minPointLengthOffset=0);let C=r.plotY+(r.negative?_.height:0);r.below&&(r.plotY+=_.height),r.tooltipPos&&(this.chart.inverted?r.tooltipPos[0]=o.len-C:r.tooltipPos[1]=C),r.isInside=this.isPointInside(r),p(!0,r.shapeArgs,_)}}),{order:2}),t.registerSeriesType("waterfall",y),y})),i(e,"masters/highcharts-more.src.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Series/Bubble/BubbleSeries.js"],e["Series/PackedBubble/PackedBubbleSeries.js"],e["Series/PolarComposition.js"],e["Series/Waterfall/WaterfallSeries.js"]],(function(t,e,i,n,r,s){i.compose(t.Axis,t.Chart,t.Legend,t.Series),n.compose(t.Axis,t.Chart,t.Legend,t.Series),r.compose(t.Axis,t.Chart,t.Pointer,t.Series,t.Tick,e.seriesTypes.areasplinerange,e.seriesTypes.column,e.seriesTypes.line,e.seriesTypes.spline),s.compose(t.Axis,t.Chart)}))}))},8840:function(t,e,i){var n;!function(r,s){t.exports?(s.default=s,t.exports=r.document?s(r):s):(n=function(){return s(r)}.call(e,i,e,t),void 0===n||(t.exports=n))}("undefined"!=typeof window?window:this,(function(t){"use strict";var e={};function i(e,i,n,r){e.hasOwnProperty(i)||(e[i]=r.apply(null,n),"function"==typeof CustomEvent&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:e[i]}})))}return i(e,"Core/Globals.js",[],(function(){var e,i;return(i=e||(e={})).SVG_NS="http://www.w3.org/2000/svg",i.product="Highcharts",i.version="11.2.0",i.win=void 0!==t?t:{},i.doc=i.win.document,i.svg=i.doc&&i.doc.createElementNS&&!!i.doc.createElementNS(i.SVG_NS,"svg").createSVGRect,i.userAgent=i.win.navigator&&i.win.navigator.userAgent||"",i.isChrome=-1!==i.userAgent.indexOf("Chrome"),i.isFirefox=-1!==i.userAgent.indexOf("Firefox"),i.isMS=/(edge|msie|trident)/i.test(i.userAgent)&&!i.win.opera,i.isSafari=!i.isChrome&&-1!==i.userAgent.indexOf("Safari"),i.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(i.userAgent),i.isWebKit=-1!==i.userAgent.indexOf("AppleWebKit"),i.deg2rad=2*Math.PI/360,i.hasBidiBug=i.isFirefox&&4>parseInt(i.userAgent.split("Firefox/")[1],10),i.hasTouch=!!i.win.TouchEvent,i.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],i.noop=function(){},i.supportsPassiveEvents=function(){let t=!1;if(!i.isMS){let e=Object.defineProperty({},"passive",{get:function(){t=!0}});i.win.addEventListener&&i.win.removeEventListener&&(i.win.addEventListener("testPassive",i.noop,e),i.win.removeEventListener("testPassive",i.noop,e))}return t}(),i.charts=[],i.dateFormats={},i.seriesTypes={},i.symbolSizes={},i.chartCount=0,e})),i(e,"Core/Utilities.js",[e["Core/Globals.js"]],(function(t){let e,{charts:i,doc:n,win:r}=t;function s(e,i,n,o){let a=i?"Highcharts error":"Highcharts warning";32===e&&(e=`${a}: Deprecated member`);let l=d(e),c=l?`${a} #${e}: www.highcharts.com/errors/${e}/`:e.toString();if(void 0!==o){let t="";l&&(c+="?"),w(o,(function(e,i){t+=`\n - ${i}: ${e}`,l&&(c+=encodeURI(i)+"="+encodeURI(e))})),c+=t}C(t,"displayError",{chart:n,code:e,message:c,params:o},(function(){if(i)throw Error(c);r.console&&-1===s.messages.indexOf(c)&&console.warn(c)})),s.messages.push(c)}function o(t,e){return parseInt(t,e||10)}function a(t){return"string"==typeof t}function l(t){let e=Object.prototype.toString.call(t);return"[object Array]"===e||"[object Array Iterator]"===e}function c(t,e){return!!t&&"object"==typeof t&&(!e||!l(t))}function h(t){return c(t)&&"number"==typeof t.nodeType}function u(t){let e=t&&t.constructor;return!(!c(t,!0)||h(t)||!e||!e.name||"Object"===e.name)}function d(t){return"number"==typeof t&&!isNaN(t)&&t<1/0&&t>-1/0}function p(t){return null!=t}function f(t,e,i){let n,r=a(e)&&!p(i),s=(e,i)=>{p(e)?t.setAttribute(i,e):r?(n=t.getAttribute(i))||"class"!==i||(n=t.getAttribute(i+"Name")):t.removeAttribute(i)};return a(e)?s(i,e):w(e,s),n}function m(t){return l(t)?t:[t]}function g(t,e){let i;for(i in t||(t={}),e)t[i]=e[i];return t}function y(){let t=arguments,e=t.length;for(let i=0;i<e;i++){let e=t[i];if(null!=e)return e}}function x(e,i){t.isMS&&!t.svg&&i&&p(i.opacity)&&(i.filter=`alpha(opacity=${100*i.opacity})`),g(e.style,i)}function v(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))}function b(t,e){return t>1e14?t:parseFloat(t.toPrecision(e||14))}(s||(s={})).messages=[],Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)};let _=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){let i,n=t.length;for(i=0;i<n;i++)if(e(t[i],i))return t[i]};function w(t,e,i){for(let n in t)Object.hasOwnProperty.call(t,n)&&e.call(i||t[n],t[n],n,t)}function S(t,e,i){function n(e,i){let n=t.removeEventListener;n&&n.call(t,e,i,!1)}function r(i){let r,s;t.nodeName&&(e?(r={})[e]=!0:r=i,w(r,(function(t,e){if(i[e])for(s=i[e].length;s--;)n(e,i[e][s].fn)})))}let s="function"==typeof t&&t.prototype||t;if(Object.hasOwnProperty.call(s,"hcEvents")){let t=s.hcEvents;if(e){let s=t[e]||[];i?(t[e]=s.filter((function(t){return i!==t.fn})),n(e,i)):(r(t),t[e]=[])}else r(t),delete s.hcEvents}}function C(e,i,r,s){let o;if(r=r||{},n.createEvent&&(e.dispatchEvent||e.fireEvent&&e!==t))(o=n.createEvent("Events")).initEvent(i,!0,!0),r=g(o,r),e.dispatchEvent?e.dispatchEvent(r):e.fireEvent(i,r);else if(e.hcEvents){r.target||g(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:i});let t=[],n=e,s=!1;for(;n.hcEvents;)Object.hasOwnProperty.call(n,"hcEvents")&&n.hcEvents[i]&&(t.length&&(s=!0),t.unshift.apply(t,n.hcEvents[i])),n=Object.getPrototypeOf(n);s&&t.sort(((t,e)=>t.order-e.order)),t.forEach((t=>{!1===t.fn.call(e,r)&&r.preventDefault()}))}s&&!r.defaultPrevented&&s.call(e,r)}w({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},(function(e,i){t[i]=function(t){return s(32,!1,void 0,{[`Highcharts.${i}`]:`use Array.${e}`}),Array.prototype[e].apply(t,[].slice.call(arguments,1))}}));let T=function(){let t=Math.random().toString(36).substring(2,9)+"-",i=0;return function(){return"highcharts-"+(e?"":t)+i++}}();r.jQuery&&(r.jQuery.fn.highcharts=function(){let e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[a(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):i[f(this[0],"data-highcharts-chart")]});let k={addEvent:function(e,i,n,r={}){let s="function"==typeof e&&e.prototype||e;Object.hasOwnProperty.call(s,"hcEvents")||(s.hcEvents={});let o=s.hcEvents;t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0);let a=e.addEventListener;a&&a.call(e,i,n,!!t.supportsPassiveEvents&&{passive:void 0===r.passive?-1!==i.indexOf("touch"):r.passive,capture:!1}),o[i]||(o[i]=[]);let l={fn:n,order:"number"==typeof r.order?r.order:1/0};return o[i].push(l),o[i].sort(((t,e)=>t.order-e.order)),function(){S(e,i,n)}},arrayMax:function(t){let e=t.length,i=t[0];for(;e--;)t[e]>i&&(i=t[e]);return i},arrayMin:function(t){let e=t.length,i=t[0];for(;e--;)t[e]<i&&(i=t[e]);return i},attr:f,clamp:function(t,e,i){return t>e?t<i?t:i:e},clearTimeout:function(t){p(t)&&clearTimeout(t)},correctFloat:b,createElement:function(t,e,i,r,s){let o=n.createElement(t);return e&&g(o,e),s&&x(o,{padding:"0",border:"none",margin:"0"}),i&&x(o,i),r&&r.appendChild(o),o},css:x,defined:p,destroyObjectProperties:function(t,e){w(t,(function(i,n){i&&i!==e&&i.destroy&&i.destroy(),delete t[n]}))},diffObjects:function(t,e,i,n){let r={};return function t(e,r,s,o){let a=i?r:e;w(e,(function(i,h){if(!o&&n&&n.indexOf(h)>-1&&r[h]){i=m(i),s[h]=[];for(let e=0;e<Math.max(i.length,r[h].length);e++)r[h][e]&&(void 0===i[e]?s[h][e]=r[h][e]:(s[h][e]={},t(i[e],r[h][e],s[h][e],o+1)))}else c(i,!0)&&!i.nodeType?(s[h]=l(i)?[]:{},t(i,r[h]||{},s[h],o+1),0!==Object.keys(s[h]).length||"colorAxis"===h&&0===o||delete s[h]):(e[h]!==r[h]||h in e&&!(h in r))&&(s[h]=a[h])}))}(t,e,r,0),r},discardElement:function(t){t&&t.parentElement&&t.parentElement.removeChild(t)},erase:function(t,e){let i=t.length;for(;i--;)if(t[i]===e){t.splice(i,1);break}},error:s,extend:g,extendClass:function(t,e){let i=function(){};return i.prototype=new t,g(i.prototype,e),i},find:_,fireEvent:C,getClosestDistance:function(t,e){let i,n,r,s=!e;return t.forEach((t=>{if(t.length>1)for(r=t.length-1;r>0;r--)(n=t[r]-t[r-1])<0&&!s?(e?.(),e=void 0):n&&(void 0===i||n<i)&&(i=n)})),i},getMagnitude:v,getNestedProperty:function(t,e){let i=t.split(".");for(;i.length&&p(e);){let t=i.shift();if(void 0===t||"__proto__"===t)return;if("this"===t){let t;return c(e)&&(t=e["@this"]),t??e}let n=e[t];if(!p(n)||"function"==typeof n||"number"==typeof n.nodeType||n===r)return;e=n}return e},getStyle:function t(e,i,n){let s;if("width"===i){let i=Math.min(e.offsetWidth,e.scrollWidth),n=e.getBoundingClientRect&&e.getBoundingClientRect().width;return n<i&&n>=i-1&&(i=Math.floor(n)),Math.max(0,i-(t(e,"padding-left",!0)||0)-(t(e,"padding-right",!0)||0))}if("height"===i)return Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-(t(e,"padding-top",!0)||0)-(t(e,"padding-bottom",!0)||0));let a=r.getComputedStyle(e,void 0);return a&&(s=a.getPropertyValue(i),y(n,"opacity"!==i)&&(s=o(s))),s},inArray:function(t,e,i){return s(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),e.indexOf(t,i)},insertItem:function(t,e){let i,n=t.options.index,r=e.length;for(i=t.options.isInternal?r:0;i<r+1;i++)if(!e[i]||d(n)&&n<y(e[i].options.index,e[i]._i)||e[i].options.isInternal){e.splice(i,0,t);break}return i},isArray:l,isClass:u,isDOMElement:h,isFunction:function(t){return"function"==typeof t},isNumber:d,isObject:c,isString:a,keys:function(t){return s(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(t)},merge:function(){let t,e=arguments,i={},n=function(t,e){return"object"!=typeof t&&(t={}),w(e,(function(i,r){"__proto__"!==r&&"constructor"!==r&&(!c(i,!0)||u(i)||h(i)?t[r]=e[r]:t[r]=n(t[r]||{},i))})),t};!0===e[0]&&(i=e[1],e=Array.prototype.slice.call(e,2));let r=e.length;for(t=0;t<r;t++)i=n(i,e[t]);return i},normalizeTickInterval:function(t,e,i,n,r){let s,o=t;i=y(i,v(t));let a=t/i;for(!e&&(e=r?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===n&&(1===i?e=e.filter((function(t){return t%1==0})):i<=.1&&(e=[1/i]))),s=0;s<e.length&&(o=e[s],(!r||!(o*i>=t))&&(r||!(a<=(e[s]+(e[s+1]||e[s]))/2)));s++);return b(o*i,-Math.round(Math.log(.001)/Math.LN10))},objectEach:w,offset:function(t){let e=n.documentElement,i=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:i.top+(r.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(r.pageXOffset||e.scrollLeft)-(e.clientLeft||0),width:i.width,height:i.height}},pad:function(t,e,i){return Array((e||2)+1-String(t).replace("-","").length).join(i||"0")+t},pick:y,pInt:o,pushUnique:function(t,e){return 0>t.indexOf(e)&&!!t.push(e)},relativeLength:function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},removeEvent:S,splat:m,stableSort:function(t,e){let i,n,r=t.length;for(n=0;n<r;n++)t[n].safeI=n;for(t.sort((function(t,n){return 0===(i=e(t,n))?t.safeI-n.safeI:i})),n=0;n<r;n++)delete t[n].safeI},syncTimeout:function(t,e,i){return e>0?setTimeout(t,e,i):(t.call(0,i),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:T,useSerialIds:function(t){return e=y(t,e)},wrap:function(t,e,i){let n=t[e];t[e]=function(){let t=arguments,e=this;return i.apply(this,[function(){return n.apply(e,arguments.length?arguments:t)}].concat([].slice.call(arguments)))}}};return k})),i(e,"Core/Chart/ChartDefaults.js",[],(function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}})),i(e,"Core/Color/Palettes.js",[],(function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}})),i(e,"Core/Time.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e){let{win:i}=t,{defined:n,error:r,extend:s,isObject:o,merge:a,objectEach:l,pad:c,pick:h,splat:u,timeUnits:d}=e,p=t.isSafari&&i.Intl&&i.Intl.DateTimeFormat.prototype.formatRange,f=t.isSafari&&i.Intl&&!i.Intl.DateTimeFormat.prototype.formatRange;return class{constructor(t){this.options={},this.useUTC=!1,this.variableTimezone=!1,this.Date=i.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(t)}get(t,e){if(this.variableTimezone||this.timezoneOffset){let i=e.getTime(),n=i-this.getTimezoneOffset(e);e.setTime(n);let r=e["getUTC"+t]();return e.setTime(i),r}return this.useUTC?e["getUTC"+t]():e["get"+t]()}set(t,e,i){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===t||"Seconds"===t||"Minutes"===t&&this.getTimezoneOffset(e)%36e5==0)return e["setUTC"+t](i);let n=this.getTimezoneOffset(e),r=e.getTime()-n;e.setTime(r),e["setUTC"+t](i);let s=this.getTimezoneOffset(e);return r=e.getTime()+s,e.setTime(r)}return this.useUTC||p&&"FullYear"===t?e["setUTC"+t](i):e["set"+t](i)}update(t={}){let e=h(t.useUTC,!0);this.options=t=a(!0,this.options,t),this.Date=t.Date||i.Date||Date,this.useUTC=e,this.timezoneOffset=e&&t.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=e&&!(!t.getTimezoneOffset&&!t.timezone)}makeTime(t,e,i,n,r,s){let o,a,l;return this.useUTC?(o=this.Date.UTC.apply(0,arguments),a=this.getTimezoneOffset(o),o+=a,a!==(l=this.getTimezoneOffset(o))?o+=l-a:a-36e5!==this.getTimezoneOffset(o-36e5)||f||(o-=36e5)):o=new this.Date(t,e,h(i,1),h(n,0),h(r,0),h(s,0)).getTime(),o}timezoneOffsetFunction(){let t=this,e=this.options,n=e.getTimezoneOffset,s=e.moment||i.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t.toString()).getTimezoneOffset()};if(e.timezone){if(s)return function(t){return-6e4*s.tz(t,e.timezone).utcOffset()};r(25)}return this.useUTC&&n?function(t){return 6e4*n(t.valueOf())}:function(){return 6e4*(t.timezoneOffset||0)}}dateFormat(e,i,r){if(!n(i)||isNaN(i))return t.defaultOptions.lang&&t.defaultOptions.lang.invalidDate||"";e=h(e,"%Y-%m-%d %H:%M:%S");let o=this,a=new this.Date(i),u=this.get("Hours",a),d=this.get("Day",a),p=this.get("Date",a),f=this.get("Month",a),m=this.get("FullYear",a),g=t.defaultOptions.lang,y=g&&g.weekdays,x=g&&g.shortWeekdays,v=s({a:x?x[d]:y[d].substr(0,3),A:y[d],d:c(p),e:c(p,2," "),w:d,b:g.shortMonths[f],B:g.months[f],m:c(f+1),o:f+1,y:m.toString().substr(2,2),Y:m,H:c(u),k:u,I:c(u%12||12),l:u%12||12,M:c(this.get("Minutes",a)),p:u<12?"AM":"PM",P:u<12?"am":"pm",S:c(this.get("Seconds",a)),L:c(Math.floor(i%1e3),3)},t.dateFormats);return l(v,(function(t,n){for(;-1!==e.indexOf("%"+n);)e=e.replace("%"+n,"function"==typeof t?t.call(o,i):t)})),r?e.substr(0,1).toUpperCase()+e.substr(1):e}resolveDTLFormat(t){return o(t,!0)?t:{main:(t=u(t))[0],from:t[1],to:t[2]}}getTimeTicks(t,e,i,r){let o,a,l,c,u=this,p=u.Date,f=[],m={},g=new p(e),y=t.unitRange,x=t.count||1;if(r=h(r,1),n(e)){u.set("Milliseconds",g,y>=d.second?0:x*Math.floor(u.get("Milliseconds",g)/x)),y>=d.second&&u.set("Seconds",g,y>=d.minute?0:x*Math.floor(u.get("Seconds",g)/x)),y>=d.minute&&u.set("Minutes",g,y>=d.hour?0:x*Math.floor(u.get("Minutes",g)/x)),y>=d.hour&&u.set("Hours",g,y>=d.day?0:x*Math.floor(u.get("Hours",g)/x)),y>=d.day&&u.set("Date",g,y>=d.month?1:Math.max(1,x*Math.floor(u.get("Date",g)/x))),y>=d.month&&(u.set("Month",g,y>=d.year?0:x*Math.floor(u.get("Month",g)/x)),a=u.get("FullYear",g)),y>=d.year&&(a-=a%x,u.set("FullYear",g,a)),y===d.week&&(c=u.get("Day",g),u.set("Date",g,u.get("Date",g)-c+r+(c<r?-7:0))),a=u.get("FullYear",g);let t=u.get("Month",g),s=u.get("Date",g),h=u.get("Hours",g);e=g.getTime(),(u.variableTimezone||!u.useUTC)&&n(i)&&(l=i-e>4*d.month||u.getTimezoneOffset(e)!==u.getTimezoneOffset(i));let p=g.getTime();for(o=1;p<i;)f.push(p),y===d.year?p=u.makeTime(a+o*x,0):y===d.month?p=u.makeTime(a,t+o*x):!l||y!==d.day&&y!==d.week?l&&y===d.hour&&x>1?p=u.makeTime(a,t,s,h+o*x):p+=y*x:p=u.makeTime(a,t,s+o*x*(y===d.day?1:7)),o++;f.push(p),y<=d.hour&&f.length<1e4&&f.forEach((function(t){t%18e5==0&&"000000000"===u.dateFormat("%H%M%S%L",t)&&(m[t]="day")}))}return f.info=s(t,{higherRanks:m,totalRange:y*x}),f}getDateFormat(t,e,i,n){let r=this.dateFormat("%m-%d %H:%M:%S.%L",e),s="01-01 00:00:00.000",o={millisecond:15,second:12,minute:9,hour:6,day:3},a="millisecond",l=a;for(a in d){if(t===d.week&&+this.dateFormat("%w",e)===i&&r.substr(6)===s.substr(6)){a="week";break}if(d[a]>t){a=l;break}if(o[a]&&r.substr(o[a])!==s.substr(o[a]))break;"week"!==a&&(l=a)}return this.resolveDTLFormat(n[a]).main}}})),i(e,"Core/Defaults.js",[e["Core/Chart/ChartDefaults.js"],e["Core/Globals.js"],e["Core/Color/Palettes.js"],e["Core/Time.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r){let{isTouchDevice:s,svg:o}=e,{merge:a}=r,l={colors:i.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:t,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:"",align:"center",widthAdjust:-44},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:o,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:s?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};l.chart.styledMode=!1;let c=new n(l.time);return{defaultOptions:l,defaultTime:c,getOptions:function(){return l},setOptions:function(t){return a(!0,l,t),(t.time||t.global)&&(e.time?e.time.update(a(l.global,l.time,t.global,t.time)):e.time=c),l}}})),i(e,"Core/Color/Color.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e){let{isNumber:i,merge:n,pInt:r}=e;class s{static parse(t){return t?new s(t):s.None}constructor(e){this.rgba=[NaN,NaN,NaN,NaN],this.input=e;let i=t.Color;if(i&&i!==s)return new i(e);this.init(e)}init(t){let e,i,n,r;if("object"==typeof t&&void 0!==t.stops)this.stops=t.stops.map((t=>new s(t[1])));else if("string"==typeof t){if(this.input=t=s.names[t.toLowerCase()]||t,"#"===t.charAt(0)){let e=t.length,n=parseInt(t.substr(1),16);7===e?i=[(16711680&n)>>16,(65280&n)>>8,255&n,1]:4===e&&(i=[(3840&n)>>4|(3840&n)>>8,(240&n)>>4|240&n,(15&n)<<4|15&n,1])}if(!i)for(n=s.parsers.length;n--&&!i;)(e=(r=s.parsers[n]).regex.exec(t))&&(i=r.parse(e))}i&&(this.rgba=i)}get(t){let e=this.input,r=this.rgba;if("object"==typeof e&&void 0!==this.stops){let i=n(e);return i.stops=[].slice.call(i.stops),this.stops.forEach(((e,n)=>{i.stops[n]=[i.stops[n][0],e.get(t)]})),i}return r&&i(r[0])?"rgb"===t||!t&&1===r[3]?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===t?`${r[3]}`:"rgba("+r.join(",")+")":e}brighten(t){let e=this.rgba;if(this.stops)this.stops.forEach((function(e){e.brighten(t)}));else if(i(t)&&0!==t)for(let i=0;i<3;i++)e[i]+=r(255*t),e[i]<0&&(e[i]=0),e[i]>255&&(e[i]=255);return this}setOpacity(t){return this.rgba[3]=t,this}tweenTo(t,e){let n=this.rgba,r=t.rgba;if(!i(n[0])||!i(r[0]))return t.input||"none";let s=1!==r[3]||1!==n[3];return(s?"rgba(":"rgb(")+Math.round(r[0]+(n[0]-r[0])*(1-e))+","+Math.round(r[1]+(n[1]-r[1])*(1-e))+","+Math.round(r[2]+(n[2]-r[2])*(1-e))+(s?","+(r[3]+(n[3]-r[3])*(1-e)):"")+")"}}return s.names={white:"#ffffff",black:"#000000"},s.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),1]}}],s.None=new s(""),s})),i(e,"Core/Animation/Fx.js",[e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,i){let{parse:n}=t,{win:r}=e,{isNumber:s,objectEach:o}=i;class a{constructor(t,e,i){this.pos=NaN,this.options=e,this.elem=t,this.prop=i}dSetter(){let t=this.paths,e=t&&t[0],i=t&&t[1],n=this.now||0,r=[];if(1!==n&&e&&i)if(e.length===i.length&&n<1)for(let o=0;o<i.length;o++){let t=e[o],a=i[o],l=[];for(let e=0;e<a.length;e++){let i=t[e],r=a[e];s(i)&&s(r)&&("A"!==a[0]||4!==e&&5!==e)?l[e]=i+n*(r-i):l[e]=r}r.push(l)}else r=i;else r=this.toD||[];this.elem.attr("d",r,void 0,!0)}update(){let t=this.elem,e=this.prop,i=this.now,n=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,n&&n.call(t,i,this)}run(t,e,i){let n=this,s=n.options,o=function(t){return!o.stopped&&n.step(t)},l=r.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){for(let t=0;t<a.timers.length;t++)a.timers[t]()||a.timers.splice(t--,1);a.timers.length&&l(c)};t!==e||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=e,this.unit=i,this.now=this.start,this.pos=0,o.elem=this.elem,o.prop=this.prop,o()&&1===a.timers.push(o)&&l(c)):(delete s.curAnim[this.prop],s.complete&&0===Object.keys(s.curAnim).length&&s.complete.call(this.elem))}step(t){let e,i,n=+new Date,r=this.options,s=this.elem,a=r.complete,l=r.duration,c=r.curAnim;return s.attr&&!s.element?e=!1:t||n>=l+this.startTime?(this.now=this.end,this.pos=1,this.update(),c[this.prop]=!0,i=!0,o(c,(function(t){!0!==t&&(i=!1)})),i&&a&&a.call(s),e=!1):(this.pos=r.easing((n-this.startTime)/l),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e}initPath(t,e,i){let n,r,o,a,l=t.startX,c=t.endX,h=i.slice(),u=t.isArea,d=u?2:1,p=e&&e.slice();if(!p)return[h,h];function f(t,e){for(;t.length<r;){let i=t[0],n=e[r-t.length];if(n&&"M"===i[0]&&("C"===n[0]?t[0]=["C",i[1],i[2],i[1],i[2],i[1],i[2]]:t[0]=["L",i[1],i[2]]),t.unshift(i),u){let e=t.pop();t.push(t[t.length-1],e)}}}function m(t,e){for(;t.length<r;){let e=t[Math.floor(t.length/d)-1].slice();if("C"===e[0]&&(e[1]=e[5],e[2]=e[6]),u){let i=t[Math.floor(t.length/d)].slice();t.splice(t.length/2,0,e,i)}else t.push(e)}}if(l&&c&&c.length){for(o=0;o<l.length;o++){if(l[o]===c[0]){n=o;break}if(l[0]===c[c.length-l.length+o]){n=o,a=!0;break}if(l[l.length-1]===c[c.length-l.length+o]){n=l.length-o;break}}void 0===n&&(p=[])}return p.length&&s(n)&&(r=h.length+n*d,a?(f(p,h),m(h,p)):(f(h,p),m(p,h))),[p,h]}fillSetter(){a.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,n(this.start).tweenTo(n(this.end),this.pos),void 0,!0)}}return a.timers=[],a})),i(e,"Core/Animation/AnimationUtilities.js",[e["Core/Animation/Fx.js"],e["Core/Utilities.js"]],(function(t,e){let{defined:i,getStyle:n,isArray:r,isNumber:s,isObject:o,merge:a,objectEach:l,pick:c}=e;function h(t){return o(t)?a({duration:500,defer:0},t):{duration:t?500:0,defer:0}}function u(e,i){let n=t.timers.length;for(;n--;)t.timers[n].elem!==e||i&&i!==t.timers[n].prop||(t.timers[n].stopped=!0)}return{animate:function(e,i,c){let h,d,p,f,m="";o(c)||(f=arguments,c={duration:f[2],easing:f[3],complete:f[4]}),s(c.duration)||(c.duration=400),c.easing="function"==typeof c.easing?c.easing:Math[c.easing]||Math.easeInOutSine,c.curAnim=a(i),l(i,(function(s,o){u(e,o),p=new t(e,c,o),d=void 0,"d"===o&&r(i.d)?(p.paths=p.initPath(e,e.pathArray,i.d),p.toD=i.d,h=0,d=1):e.attr?h=e.attr(o):(h=parseFloat(n(e,o))||0,"opacity"!==o&&(m="px")),d||(d=s),"string"==typeof d&&d.match("px")&&(d=d.replace(/px/g,"")),p.run(h,d,m)}))},animObject:h,getDeferredAnimation:function(t,e,n){let r=h(e),s=n?[n]:t.series,o=0,a=0;s.forEach((t=>{let n=h(t.options.animation);o=e&&i(e.defer)?r.defer:Math.max(o,n.duration+n.defer),a=Math.min(r.duration,n.duration)})),t.renderer.forExport&&(o=0);let l={defer:Math.max(0,o-a),duration:Math.min(o,a)};return l},setAnimation:function(t,e){e.renderer.globalAnimation=c(t,e.options.chart.animation,!0)},stop:u}})),i(e,"Core/Renderer/HTML/AST.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e){let{SVG_NS:i,win:n}=t,{attr:r,createElement:s,css:o,error:a,isFunction:l,isString:c,objectEach:h,splat:u}=e,{trustedTypes:d}=n,p=d&&l(d.createPolicy)&&d.createPolicy("highcharts",{createHTML:t=>t}),f=p?p.createHTML(""):"",m=function(){try{return!!(new DOMParser).parseFromString(f,"text/html")}catch(t){return!1}}();class g{static filterUserAttributes(t){return h(t,((e,i)=>{let n=!0;-1===g.allowedAttributes.indexOf(i)&&(n=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(i)&&(n=c(e)&&g.allowedReferences.some((t=>0===e.indexOf(t)))),n||(a(33,!1,void 0,{"Invalid attribute in config":`${i}`}),delete t[i]),c(e)&&t[i]&&(t[i]=e.replace(/</g,"&lt;"))})),t}static parseStyle(t){return t.split(";").reduce(((t,e)=>{let i=e.split(":").map((t=>t.trim())),n=i.shift();return n&&i.length&&(t[n.replace(/-([a-z])/g,(t=>t[1].toUpperCase()))]=i.join(":")),t}),{})}static setElementHTML(t,e){if(t.innerHTML=g.emptyHTML,e){let i=new g(e);i.addToDOM(t)}}constructor(t){this.nodes="string"==typeof t?this.parseMarkup(t):t}addToDOM(e){return function e(n,s){let l;return u(n).forEach((function(n){let c,u=n.tagName,d=n.textContent?t.doc.createTextNode(n.textContent):void 0,p=g.bypassHTMLFiltering;if(u)if("#text"===u)c=d;else if(-1!==g.allowedTags.indexOf(u)||p){let a="svg"===u?i:s.namespaceURI||i,l=t.doc.createElementNS(a,u),f=n.attributes||{};h(n,(function(t,e){"tagName"!==e&&"attributes"!==e&&"children"!==e&&"style"!==e&&"textContent"!==e&&(f[e]=t)})),r(l,p?f:g.filterUserAttributes(f)),n.style&&o(l,n.style),d&&l.appendChild(d),e(n.children||[],l),c=l}else a(33,!1,void 0,{"Invalid tagName in config":u});c&&s.appendChild(c),l=c})),l}(this.nodes,e)}parseMarkup(t){let e,i=[];if(t=t.trim().replace(/ style=(["'])/g," data-style=$1"),m)e=(new DOMParser).parseFromString(p?p.createHTML(t):t,"text/html");else{let i=s("div");i.innerHTML=t,e={body:i}}let n=(t,e)=>{let i=t.nodeName.toLowerCase(),r={tagName:i};"#text"===i&&(r.textContent=t.textContent||"");let s=t.attributes;if(s){let t={};[].forEach.call(s,(e=>{"data-style"===e.name?r.style=g.parseStyle(e.value):t[e.name]=e.value})),r.attributes=t}if(t.childNodes.length){let e=[];[].forEach.call(t.childNodes,(t=>{n(t,e)})),e.length&&(r.children=e)}e.push(r)};return[].forEach.call(e.body.childNodes,(t=>n(t,i))),i}}return g.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","markerHeight","markerWidth","offset","opacity","orient","padding","paddingLeft","paddingRight","patternUnits","r","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],g.allowedReferences=["https://","http://","mailto:","/","../","./","#"],g.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feDropShadow","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],g.emptyHTML=f,g.bypassHTMLFiltering=!1,g})),i(e,"Core/Templating.js",[e["Core/Defaults.js"],e["Core/Utilities.js"]],(function(t,e){let{defaultOptions:i,defaultTime:n}=t,{extend:r,getNestedProperty:s,isArray:o,isNumber:a,isObject:l,isString:c,pick:h,pInt:u}=e,d={add:(t,e)=>t+e,divide:(t,e)=>0!==e?t/e:"",eq:(t,e)=>t==e,each:function(t){let e=arguments[arguments.length-1];return!!o(t)&&t.map(((i,n)=>p(e.body,r(l(i)?i:{"@this":i},{"@index":n,"@first":0===n,"@last":n===t.length-1})))).join("")},ge:(t,e)=>t>=e,gt:(t,e)=>t>e,if:t=>!!t,le:(t,e)=>t<=e,lt:(t,e)=>t<e,multiply:(t,e)=>t*e,ne:(t,e)=>t!=e,subtract:(t,e)=>t-e,unless:t=>!t};function p(t="",e,r){let o,a,l,c=/\{([a-zA-Z0-9\:\.\,;\-\/<>%_@"'= #\(\)]+)\}/g,u=/\(([a-zA-Z0-9\:\.\,;\-\/<>%_@"'= ]+)\)/g,m=[],g=/f$/,y=/\.([0-9])/,x=i.lang,v=r&&r.time||n,b=r&&r.numberFormatter||f,_=(t="")=>{let i;return"true"===t||"false"!==t&&((i=Number(t)).toString()===t?i:s(t,e))},w=0;for(;null!==(o=c.exec(t));){let i=u.exec(o[1]);i&&(o=i,l=!0),a&&a.isBlock||(a={ctx:e,expression:o[1],find:o[0],isBlock:"#"===o[1].charAt(0),start:o.index,startInner:o.index+o[0].length,length:o[0].length});let n=o[1].split(" ")[0].replace("#","");d[n]&&(a.isBlock&&n===a.fn&&w++,a.fn||(a.fn=n));let r="else"===o[1];if(a.isBlock&&a.fn&&(o[1]===`/${a.fn}`||r))if(w)!r&&w--;else{let e=a.startInner,i=t.substr(e,o.index-e);void 0===a.body?(a.body=i,a.startInner=o.index+o[0].length):a.elseBody=i,a.find+=i+o[0],r||(m.push(a),a=void 0)}else a.isBlock||m.push(a);if(i&&!a?.isBlock)break}return m.forEach((i=>{let n,r,{body:s,elseBody:o,expression:a,fn:l}=i;if(l){let t=[i],c=a.split(" ");for(r=d[l].length;r--;)t.unshift(_(c[r+1]));n=d[l].apply(e,t),i.isBlock&&"boolean"==typeof n&&(n=p(n?s:o,e))}else{let t=a.split(":");if(n=_(t.shift()||""),t.length&&"number"==typeof n){let e=t.join(":");if(g.test(e)){let t=parseInt((e.match(y)||["","-1"])[1],10);null!==n&&(n=b(n,t,x.decimalPoint,e.indexOf(",")>-1?x.thousandsSep:""))}else n=v.dateFormat(e,n)}}t=t.replace(i.find,h(n,""))})),l?p(t,e,r):t}function f(t,e,n,r){let s,o;t=+t||0,e=+e;let l=i.lang,c=(t.toString().split(".")[1]||"").split("e")[0].length,d=t.toString().split("e"),p=e;-1===e?e=Math.min(c,20):a(e)?e&&d[1]&&d[1]<0&&((o=e+ +d[1])>=0?(d[0]=(+d[0]).toExponential(o).split("e")[0],e=o):(d[0]=d[0].split(".")[0]||0,t=e<20?(d[0]*Math.pow(10,d[1])).toFixed(e):0,d[1]=0)):e=2;let f=(Math.abs(d[1]?d[0]:t)+Math.pow(10,-Math.max(e,c)-1)).toFixed(e),m=String(u(f)),g=m.length>3?m.length%3:0;return n=h(n,l.decimalPoint),r=h(r,l.thousandsSep),s=(t<0?"-":"")+(g?m.substr(0,g)+r:""),0>+d[1]&&!p?s="0":s+=m.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+r),e&&(s+=n+f.slice(-e)),d[1]&&0!=+s&&(s+="e"+d[1]),s}return{dateFormat:function(t,e,i){return n.dateFormat(t,e,i)},format:p,helpers:d,numberFormat:f}})),i(e,"Core/Renderer/RendererUtilities.js",[e["Core/Utilities.js"]],(function(t){var e;let{clamp:i,pick:n,pushUnique:r,stableSort:s}=t;return(e||(e={})).distribute=function t(e,o,a){let l,c,h,u,d,p,f=e,m=f.reducedLen||o,g=(t,e)=>t.target-e.target,y=[],x=e.length,v=[],b=y.push,_=!0,w=0;for(l=x;l--;)w+=e[l].size;if(w>m){for(s(e,((t,e)=>(e.rank||0)-(t.rank||0))),h=(p=e[0].rank===e[e.length-1].rank)?x/2:-1,c=p?h:x-1;h&&w>m;)u=e[l=Math.floor(c)],r(v,l)&&(w-=u.size),c+=h,p&&c>=e.length&&(h/=2,c=h);v.sort(((t,e)=>e-t)).forEach((t=>b.apply(y,e.splice(t,1))))}for(s(e,g),e=e.map((t=>({size:t.size,targets:[t.target],align:n(t.align,.5)})));_;){for(l=e.length;l--;)u=e[l],d=(Math.min.apply(0,u.targets)+Math.max.apply(0,u.targets))/2,u.pos=i(d-u.size*u.align,0,o-u.size);for(l=e.length,_=!1;l--;)l>0&&e[l-1].pos+e[l-1].size>e[l].pos&&(e[l-1].size+=e[l].size,e[l-1].targets=e[l-1].targets.concat(e[l].targets),e[l-1].align=.5,e[l-1].pos+e[l-1].size>o&&(e[l-1].pos=o-e[l-1].size),e.splice(l,1),_=!0)}return b.apply(f,y),l=0,e.some((e=>{let i=0;return(e.targets||[]).some((()=>(f[l].pos=e.pos+i,void 0!==a&&Math.abs(f[l].pos-f[l].target)>a?(f.slice(0,l+1).forEach((t=>delete t.pos)),f.reducedLen=(f.reducedLen||o)-.1*o,f.reducedLen>.1*o&&t(f,o,a),!0):(i+=f[l].size,l++,!1))))})),s(f,g),f},e})),i(e,"Core/Renderer/SVG/SVGElement.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,i,n){let{animate:r,animObject:s,stop:o}=t,{deg2rad:a,doc:l,noop:c,svg:h,SVG_NS:u,win:d}=i,{addEvent:p,attr:f,createElement:m,css:g,defined:y,erase:x,extend:v,fireEvent:b,isArray:_,isFunction:w,isObject:S,isString:C,merge:T,objectEach:k,pick:A,pInt:I,syncTimeout:M,uniqueKey:P}=n;class E{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=u}_defaultGetter(t){let e=A(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0);return/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e}_defaultSetter(t,e,i){i.setAttribute(e,t)}add(t){let e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),void 0!==this.textStr&&"text"===this.element.nodeName&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this}addClass(t,e){let i=e?"":this.attr("class")||"";return(t=(t||"").split(/ /g).reduce((function(t,e){return-1===i.indexOf(e)&&t.push(e),t}),i?[i]:[]).join(" "))!==i&&this.attr("class",t),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(t,e,i){let n,r,s,o,a,l={},c=this.renderer,h=c.alignedObjects;t?(this.alignOptions=t,this.alignByTranslate=e,(!i||C(i))&&(this.alignTo=s=i||"renderer",x(h,this),h.push(this),i=void 0)):(t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo),i=A(i,c[s],"scrollablePlotBox"===s?c.plotBox:void 0,c);let u=t.align,d=t.verticalAlign;return n=(i.x||0)+(t.x||0),r=(i.y||0)+(t.y||0),"right"===u?o=1:"center"===u&&(o=2),o&&(n+=(i.width-(t.width||0))/o),l[e?"translateX":"x"]=Math.round(n),"bottom"===d?a=1:"middle"===d&&(a=2),a&&(r+=(i.height-(t.height||0))/a),l[e?"translateY":"y"]=Math.round(r),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this}alignSetter(t){let e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))}animate(t,e,i){let n=s(A(e,this.renderer.globalAnimation,!0)),o=n.defer;return l.hidden&&(n.duration=0),0!==n.duration?(i&&(n.complete=i),M((()=>{this.element&&r(this,t,n)}),o)):(this.attr(t,void 0,i||n.complete),k(t,(function(t,e){n.step&&n.step.call(this,t,{prop:e,pos:1,elem:this})}),this)),this}applyTextOutline(t){let e=this.element,n=-1!==t.indexOf("contrast");n&&(t=t.replace(/contrast/g,this.renderer.getContrast(e.style.fill)));let r=t.split(" "),s=r[r.length-1],o=r[0];if(o&&"none"!==o&&i.svg){this.fakeTS=!0,o=o.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,i){return 2*Number(e)+i})),this.removeTextOutline();let t=l.createElementNS(u,"tspan");f(t,{class:"highcharts-text-outline",fill:s,stroke:s,"stroke-width":o,"stroke-linejoin":"round"});let i=e.querySelector("textPath")||e;[].forEach.call(i.childNodes,(e=>{let i=e.cloneNode(!0);i.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach((t=>i.removeAttribute(t))),t.appendChild(i)}));let n=0;[].forEach.call(i.querySelectorAll("text tspan"),(t=>{n+=Number(t.getAttribute("dy"))}));let r=l.createElementNS(u,"tspan");r.textContent="​",f(r,{x:Number(e.getAttribute("x")),dy:-n}),t.appendChild(r),i.insertBefore(t,i.firstChild)}}attr(t,e,i,n){let r,s,a,l=this.element,c=E.symbolCustomAttribs,h=this;return"string"==typeof t&&void 0!==e&&(r=t,(t={})[r]=e),"string"==typeof t?h=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(k(t,(function(e,i){a=!1,n||o(this,i),this.symbolName&&-1!==c.indexOf(i)&&(s||(this.symbolAttr(t),s=!0),a=!0),this.rotation&&("x"===i||"y"===i)&&(this.doTransform=!0),a||(this[i+"Setter"]||this._defaultSetter).call(this,e,i,l)}),this),this.afterSetters()),i&&i.call(this),h}clip(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")}crisp(t,e){e=e||t.strokeWidth||0;let i=Math.round(e)%2/2;return t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),y(t.strokeWidth)&&(t.strokeWidth=e),t}complexColor(t,i,n){let r,s,o,a,l,c,h,u,d,p,f,m=this.renderer,g=[];b(this.renderer,"complexColor",{args:arguments},(function(){if(t.radialGradient?s="radialGradient":t.linearGradient&&(s="linearGradient"),s){if(o=t[s],l=m.gradients,c=t.stops,d=n.radialReference,_(o)&&(t[s]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&d&&!y(o.gradientUnits)&&(a=o,o=T(o,m.getRadialAttr(d,a),{gradientUnits:"userSpaceOnUse"})),k(o,(function(t,e){"id"!==e&&g.push(e,t)})),k(c,(function(t){g.push(t)})),l[g=g.join(",")])p=l[g].attr("id");else{o.id=p=P();let t=l[g]=m.createElement(s).attr(o).add(m.defs);t.radAttr=a,t.stops=[],c.forEach((function(i){0===i[1].indexOf("rgba")?(h=(r=e.parse(i[1])).get("rgb"),u=r.get("a")):(h=i[1],u=1);let n=m.createElement("stop").attr({offset:i[0],"stop-color":h,"stop-opacity":u}).add(t);t.stops.push(n)}))}f="url("+m.url+"#"+p+")",n.setAttribute(i,f),n.gradient=g,t.toString=function(){return f}}}))}css(t){let e,i=this.styles,n={},r=this.element,s=!i;if(i&&k(t,(function(t,e){i&&i[e]!==t&&(n[e]=t,s=!0)})),s){i&&(t=v(i,n)),null===t.width||"auto"===t.width?delete this.textWidth:"text"===r.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=I(t.width)),this.styles=t,e&&!h&&this.renderer.forExport&&delete t.width;let s=T(t);r.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","width"].forEach((t=>s&&delete s[t])),s.color&&(s.fill=s.color)),g(r,s)}return this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t.textOutline&&this.applyTextOutline(t.textOutline)),this}dashstyleSetter(t){let e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){let n=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(e=n.length;e--;)n[e]=""+I(n[e])*A(i,NaN);t=n.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}}destroy(){let t,e,i=this,n=i.element||{},r=i.renderer,s=n.ownerSVGElement,a="SPAN"===n.nodeName&&i.parentGroup||void 0;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,o(i),i.clipPath&&s){let t=i.clipPath;[].forEach.call(s.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(e){e.getAttribute("clip-path").indexOf(t.element.id)>-1&&e.removeAttribute("clip-path")})),i.clipPath=t.destroy()}if(i.connector=i.connector?.destroy(),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e].destroy();i.stops.length=0,i.stops=void 0}for(i.safeRemoveChild(n);a&&a.div&&0===a.div.childNodes.length;)t=a.parentGroup,i.safeRemoveChild(a.div),delete a.div,a=t;i.alignTo&&x(r.alignedObjects,i),k(i,(function(t,e){i[e]&&i[e].parentGroup===i&&i[e].destroy&&i[e].destroy(),delete i[e]}))}dSetter(t,e,i){_(t)&&("string"==typeof t[0]&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce(((t,e,i)=>e&&e.join?(i?t+" ":"")+e.join(" "):(e||"").toString()),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)}fillSetter(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)}hrefSetter(t,e,i){i.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}getBBox(t,e){let i,n,r,s,o,{alignValue:l,element:c,renderer:h,styles:u,textStr:d}=this,{cache:p,cacheKeys:f}=h,m=c.namespaceURI===this.SVG_NS,x=A(e,this.rotation,0),b=h.styledMode?c&&E.prototype.getStyle.call(c,"font-size"):u&&u.fontSize;if(y(d)&&(-1===(o=d.toString()).indexOf("<")&&(o=o.replace(/[0-9]/g,"0")),o+=["",h.rootFontSize,b,x,this.textWidth,l,u&&u.textOverflow,u&&u.fontWeight].join(",")),o&&!t&&(i=p[o]),!i){if(m||h.forExport){try{s=this.fakeTS&&function(t){let e=c.querySelector(".highcharts-text-outline");e&&g(e,{display:t})},w(s)&&s("none"),i=c.getBBox?v({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight,x:0,y:0},w(s)&&s("")}catch(t){}(!i||i.width<0)&&(i={x:0,y:0,width:0,height:0})}else i=this.htmlGetBBox();if(n=i.width,r=i.height,m&&(i.height=r={"11px,17":14,"13px,20":16}[`${b||""},${Math.round(r)}`]||r),x){let t=Number(c.getAttribute("y")||0)-i.y,e={right:1,center:.5}[l||0]||0,s=x*a,o=(x-90)*a,h=n*Math.cos(s),u=n*Math.sin(s),d=Math.cos(o),p=Math.sin(o),f=i.x+e*(n-h),m=i.y+t-e*u,g=f+t*d,y=g+h,v=y-r*d,b=v-h,_=m+t*p,w=_+u,S=w-r*p,C=S-u;i.x=Math.min(g,y,v,b),i.y=Math.min(_,w,S,C),i.width=Math.max(g,y,v,b)-i.x,i.height=Math.max(_,w,S,C)-i.y}}if(o&&(""===d||i.height>0)){for(;f.length>250;)delete p[f.shift()];p[o]||f.push(o),p[o]=i}return i}getStyle(t){return d.getComputedStyle(this.element||this,"").getPropertyValue(t)}hasClass(t){return-1!==(""+this.attr("class")).split(" ").indexOf(t)}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(t,e){this.element="span"===e?m(e):l.createElementNS(this.SVG_NS,e),this.renderer=t,b(this,"afterInit")}on(t,e){let{onEvents:i}=this;return i[t]&&i[t](),i[t]=p(this.element,t,e),this}opacitySetter(t,e,i){let n=Number(Number(t).toFixed(3));this.opacity=n,i.setAttribute(e,n)}removeClass(t){return this.attr("class",(""+this.attr("class")).replace(C(t)?RegExp(`(^| )${t}( |$)`):t," ").replace(/ +/g," ").trim())}removeTextOutline(){let t=this.element.querySelector("tspan.highcharts-text-outline");t&&this.safeRemoveChild(t)}safeRemoveChild(t){let e=t.parentNode;e&&e.removeChild(t)}setRadialReference(t){let e=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this}setTextPath(t,e){e=T(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},e);let i=this.renderer.url,n=this.text||this,r=n.textPath,{attributes:s,enabled:o}=e;if(t=t||r&&r.path,r&&r.undo(),t&&o){let e=p(n,"afterModifyTree",(e=>{if(t&&o){let r=t.attr("id");r||t.attr("id",r=P());let o={x:0,y:0};y(s.dx)&&(o.dx=s.dx,delete s.dx),y(s.dy)&&(o.dy=s.dy,delete s.dy),n.attr(o),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());let a=e.nodes.slice(0);e.nodes.length=0,e.nodes[0]={tagName:"textPath",attributes:v(s,{"text-anchor":s.textAnchor,href:`${i}#${r}`}),children:a}}}));n.textPath={path:t,undo:e}}else n.attr({dx:0,dy:0}),delete n.textPath;return this.added&&(n.textCache="",this.renderer.buildText(n)),this}shadow(t){let{renderer:e}=this,i=T(90===this.parentGroup?.rotation?{offsetX:-1,offsetY:-1}:{},S(t)?t:{}),n=e.shadowDefinition(i);return this.attr({filter:t?`url(${e.url}#${n})`:"none"})}show(t=!0){return this.attr({visibility:t?"inherit":"visible"})}"stroke-widthSetter"(t,e,i){this[e]=t,i.setAttribute(e,t)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let t,e=this.getStyle("stroke-width"),i=0;return e.indexOf("px")===e.length-2?i=I(e):""!==e&&(f(t=l.createElementNS(u,"rect"),{width:e,"stroke-width":0}),this.element.parentNode.appendChild(t),i=t.getBBox().width,t.parentNode.removeChild(t)),i}symbolAttr(t){let e=this;E.symbolCustomAttribs.forEach((function(i){e[i]=A(t[i],e[i])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})}textSetter(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this))}titleSetter(t){let e=this.element,i=e.getElementsByTagName("title")[0]||l.createElementNS(this.SVG_NS,"title");e.insertBefore?e.insertBefore(i,e.firstChild):e.appendChild(i),i.textContent=String(A(t,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let t=this.element;return t.parentNode.appendChild(t),this}translate(t,e){return this.attr({translateX:t,translateY:e})}updateTransform(){let{element:t,matrix:e,rotation:i=0,scaleX:n,scaleY:r,translateX:s=0,translateY:o=0}=this,a=["translate("+s+","+o+")"];y(e)&&a.push("matrix("+e.join(",")+")"),i&&a.push("rotate("+i+" "+A(this.rotationOriginX,t.getAttribute("x"),0)+" "+A(this.rotationOriginY,t.getAttribute("y")||0)+")"),(y(n)||y(r))&&a.push("scale("+A(n,1)+" "+A(r,1)+")"),a.length&&!(this.text||this).textPath&&t.setAttribute("transform",a.join(" "))}visibilitySetter(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t}xGetter(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)}zIndexSetter(t,e){let i,n,r,s,o,a=this.renderer,l=this.parentGroup,c=l||a,h=c.element||a.box,u=this.element,d=h===a.box,p=!1,f=this.added;if(y(t)?(u.setAttribute("data-z-index",t),t=+t,this[e]===t&&(f=!1)):y(this[e])&&u.removeAttribute("data-z-index"),this[e]=t,f){for((t=this.zIndex)&&l&&(l.handleZ=!0),o=(i=h.childNodes).length-1;o>=0&&!p;o--)s=!y(r=(n=i[o]).getAttribute("data-z-index")),n!==u&&(t<0&&s&&!d&&!o?(h.insertBefore(u,i[o]),p=!0):(I(r)<=t||s&&(!y(t)||t>=0))&&(h.insertBefore(u,i[o+1]),p=!0));p||(h.insertBefore(u,i[d?3:0]),p=!0)}return p}}return E.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],E.prototype.strokeSetter=E.prototype.fillSetter,E.prototype.yGetter=E.prototype.xGetter,E.prototype.matrixSetter=E.prototype.rotationOriginXSetter=E.prototype.rotationOriginYSetter=E.prototype.rotationSetter=E.prototype.scaleXSetter=E.prototype.scaleYSetter=E.prototype.translateXSetter=E.prototype.translateYSetter=E.prototype.verticalAlignSetter=function(t,e){this[e]=t,this.doTransform=!0},E})),i(e,"Core/Renderer/RendererRegistry.js",[e["Core/Globals.js"]],(function(t){var e,i;let n;return(i=e||(e={})).rendererTypes={},i.getRendererType=function(t=n){return i.rendererTypes[t]||i.rendererTypes[n]},i.registerRendererType=function(e,r,s){i.rendererTypes[e]=r,(!n||s)&&(n=e,t.Renderer=r)},e})),i(e,"Core/Renderer/SVG/SVGLabel.js",[e["Core/Renderer/SVG/SVGElement.js"],e["Core/Utilities.js"]],(function(t,e){let{defined:i,extend:n,isNumber:r,merge:s,pick:o,removeEvent:a}=e;class l extends t{constructor(t,e,i,n,r,s,o,a,c,h){let u;super(),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.init(t,"g"),this.textStr=e,this.x=i,this.y=n,this.anchorX=s,this.anchorY=o,this.baseline=c,this.className=h,this.addClass("button"===h?"highcharts-no-tooltip":"highcharts-label"),h&&this.addClass("highcharts-"+h),this.text=t.text(void 0,0,0,a).attr({zIndex:1}),"string"==typeof r&&((u=/^url\((.*?)\)$/.test(r))||this.renderer.symbols[r])&&(this.symbolKey=r),this.bBox=l.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=t.styledMode||u,this.deferredAttr={},this.alignFactor=0}alignSetter(t){let e={left:0,center:.5,right:1}[t];e!==this.alignFactor&&(this.alignFactor=e,this.bBox&&r(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)}boxAttr(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e}css(e){if(e){let t={};e=s(e),l.textProps.forEach((i=>{void 0!==e[i]&&(t[i]=e[i],delete e[i])})),this.text.css(t),"fontSize"in t||"fontWeight"in t?this.updateTextPadding():("width"in t||"textOverflow"in t)&&this.updateBoxSize()}return t.prototype.css.call(this,e)}destroy(){a(this.element,"mouseenter"),a(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),t.prototype.destroy.call(this)}fillSetter(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)}getBBox(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();let t=this.padding,e=o(this.paddingLeft,t);return{width:this.width||0,height:this.height||0,x:this.bBox.x-e,y:this.bBox.y-t}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(t){this.heightSetting=t}onAdd(){this.text.add(this),this.attr({text:o(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&i(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(t,e){r(t)?t!==this[e]&&(this[e]=t,this.updateTextPadding()):this[e]=void 0}rSetter(t,e){this.boxAttr(e,t)}strokeSetter(t,e){this.stroke=t,this.boxAttr(e,t)}"stroke-widthSetter"(t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)}"text-alignSetter"(t){this.textAlign=t}textSetter(t){void 0!==t&&this.text.attr({text:t}),this.updateTextPadding()}updateBoxSize(){let t,e=this.text,s={},o=this.padding,a=this.bBox=r(this.widthSetting)&&r(this.heightSetting)&&!this.textAlign||!i(e.textStr)?l.emptyBBox:e.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||a.height||0)+2*o;let c=this.renderer.fontMetrics(e);if(this.baselineOffset=o+Math.min((this.text.firstLineMetrics||c).b,a.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-c.h)/2),this.needsBox&&!e.textPath){if(!this.box){let t=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();t.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),t.add(this)}t=this.getCrispAdjust(),s.x=t,s.y=(this.baseline?-this.baselineOffset:0)+t,s.width=Math.round(this.width),s.height=Math.round(this.height),this.box.attr(n(s,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let t=this.text;if(!t.textPath){this.updateBoxSize();let e=this.baseline?0:this.baselineOffset,n=o(this.paddingLeft,this.padding);i(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(n+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(n!==t.x||e!==t.y)&&(t.attr("x",n),t.hasBoxWidthChanged&&(this.bBox=t.getBBox(!0)),void 0!==e&&t.attr("y",e)),t.x=n,t.y=e}}widthSetter(t){this.widthSetting=r(t)?t:void 0}getPaddedWidth(){let t=this.padding,e=o(this.paddingLeft,t),i=o(this.paddingRight,t);return(this.widthSetting||this.bBox.width||0)+e+i}xSetter(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)}ySetter(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)}}return l.emptyBBox={width:0,height:0,x:0,y:0},l.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],l})),i(e,"Core/Renderer/SVG/Symbols.js",[e["Core/Utilities.js"]],(function(t){let{defined:e,isNumber:i,pick:n}=t;function r(t,i,r,s,o){let a=[];if(o){let l=o.start||0,c=n(o.r,r),h=n(o.r,s||r),u=.001>Math.abs((o.end||0)-l-2*Math.PI),d=(o.end||0)-.001,p=o.innerR,f=n(o.open,u),m=Math.cos(l),g=Math.sin(l),y=Math.cos(d),x=Math.sin(d),v=n(o.longArc,d-l-Math.PI<.001?0:1),b=["A",c,h,0,v,n(o.clockwise,1),t+c*y,i+h*x];b.params={start:l,end:d,cx:t,cy:i},a.push(["M",t+c*m,i+h*g],b),e(p)&&((b=["A",p,p,0,v,e(o.clockwise)?1-o.clockwise:0,t+p*m,i+p*g]).params={start:d,end:l,cx:t,cy:i},a.push(f?["M",t+p*y,i+p*x]:["L",t+p*y,i+p*x],b)),f||a.push(["Z"])}return a}function s(t,e,i,n,r){return r&&r.r?o(t,e,i,n,r):[["M",t,e],["L",t+i,e],["L",t+i,e+n],["L",t,e+n],["Z"]]}function o(t,e,i,n,r){let s=r?.r||0;return[["M",t+s,e],["L",t+i-s,e],["A",s,s,0,0,1,t+i,e+s],["L",t+i,e+n-s],["A",s,s,0,0,1,t+i-s,e+n],["L",t+s,e+n],["A",s,s,0,0,1,t,e+n-s],["L",t,e+s],["A",s,s,0,0,1,t+s,e],["Z"]]}return{arc:r,callout:function(t,e,n,r,s){let a=Math.min(s&&s.r||0,n,r),l=a+6,c=s&&s.anchorX,h=s&&s.anchorY||0,u=o(t,e,n,r,{r:a});if(!i(c)||c<n&&c>0&&h<r&&h>0)return u;if(t+c>n-l)if(h>e+l&&h<e+r-l)u.splice(3,1,["L",t+n,h-6],["L",t+n+6,h],["L",t+n,h+6],["L",t+n,e+r-a]);else if(c<n){let i=h<e+l,s=i?e:e+r;u.splice(i?2:5,0,["L",c,h],["L",t+n-a,s])}else u.splice(3,1,["L",t+n,r/2],["L",c,h],["L",t+n,r/2],["L",t+n,e+r-a]);else if(t+c<l)if(h>e+l&&h<e+r-l)u.splice(7,1,["L",t,h+6],["L",t-6,h],["L",t,h-6],["L",t,e+a]);else if(c>0){let i=h<e+l,n=i?e:e+r;u.splice(i?1:6,0,["L",c,h],["L",t+a,n])}else u.splice(7,1,["L",t,r/2],["L",c,h],["L",t,r/2],["L",t,e+a]);else h>r&&c<n-l?u.splice(5,1,["L",c+6,e+r],["L",c,e+r+6],["L",c-6,e+r],["L",t+a,e+r]):h<0&&c>l&&u.splice(1,1,["L",c-6,e],["L",c,e-6],["L",c+6,e],["L",n-a,e]);return u},circle:function(t,e,i,n){return r(t+i/2,e+n/2,i/2,n/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(t,e,i,n){return[["M",t+i/2,e],["L",t+i,e+n/2],["L",t+i/2,e+n],["L",t,e+n/2],["Z"]]},rect:s,roundedRect:o,square:s,triangle:function(t,e,i,n){return[["M",t+i/2,e],["L",t+i,e+n],["L",t,e+n],["Z"]]},"triangle-down":function(t,e,i,n){return[["M",t,e],["L",t+i,e],["L",t+i/2,e+n],["Z"]]}}})),i(e,"Core/Renderer/SVG/TextBuilder.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,i){let{doc:n,SVG_NS:r,win:s}=e,{attr:o,extend:a,fireEvent:l,isString:c,objectEach:h,pick:u}=i;return class{constructor(t){let e=t.styles;this.renderer=t.renderer,this.svgElement=t,this.width=t.textWidth,this.textLineHeight=e&&e.lineHeight,this.textOutline=e&&e.textOutline,this.ellipsis=!(!e||"ellipsis"!==e.textOverflow),this.noWrap=!(!e||"nowrap"!==e.whiteSpace)}buildSVG(){let e=this.svgElement,i=e.element,r=e.renderer,s=u(e.textStr,"").toString(),o=-1!==s.indexOf("<"),a=i.childNodes,l=!e.added&&r.box,h=[s,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,e.getStyle("font-size"),this.width].join(",");if(h!==e.textCache){e.textCache=h,delete e.actualWidth;for(let t=a.length;t--;)i.removeChild(a[t]);if(o||this.ellipsis||this.width||e.textPath||-1!==s.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(s))){if(""!==s){l&&l.appendChild(i);let n=new t(s);this.modifyTree(n.nodes),n.addToDOM(i),this.modifyDOM(),this.ellipsis&&-1!==(i.textContent||"").indexOf("…")&&e.attr("title",this.unescapeEntities(e.textStr||"",["&lt;","&gt;"])),l&&l.removeChild(i)}}else i.appendChild(n.createTextNode(this.unescapeEntities(s)));c(this.textOutline)&&e.applyTextOutline&&e.applyTextOutline(this.textOutline)}}modifyDOM(){let t,e=this.svgElement,i=o(e.element,"x");for(e.firstLineMetrics=void 0;t=e.element.firstChild;){if(!/^[\s\u200B]*$/.test(t.textContent||" "))break;e.element.removeChild(t)}[].forEach.call(e.element.querySelectorAll("tspan.highcharts-br"),((t,n)=>{t.nextSibling&&t.previousSibling&&(0===n&&1===t.previousSibling.nodeType&&(e.firstLineMetrics=e.renderer.fontMetrics(t.previousSibling)),o(t,{dy:this.getLineHeight(t.nextSibling),x:i}))}));let a=this.width||0;if(!a)return;let l=(t,s)=>{let l=t.textContent||"",c=l.replace(/([^\^])-/g,"$1- ").split(" "),h=!this.noWrap&&(c.length>1||e.element.childNodes.length>1),u=this.getLineHeight(s),d=0,p=e.actualWidth;if(this.ellipsis)l&&this.truncate(t,l,void 0,0,Math.max(0,a-.8*u),((t,e)=>t.substring(0,e)+"…"));else if(h){let l=[],h=[];for(;s.firstChild&&s.firstChild!==t;)h.push(s.firstChild),s.removeChild(s.firstChild);for(;c.length;)c.length&&!this.noWrap&&d>0&&(l.push(t.textContent||""),t.textContent=c.join(" ").replace(/- /g,"-")),this.truncate(t,void 0,c,0===d&&p||0,a,((t,e)=>c.slice(0,e).join(" ").replace(/- /g,"-"))),p=e.actualWidth,d++;h.forEach((e=>{s.insertBefore(e,t)})),l.forEach((e=>{s.insertBefore(n.createTextNode(e),t);let a=n.createElementNS(r,"tspan");a.textContent="​",o(a,{dy:u,x:i}),s.insertBefore(a,t)}))}},c=t=>{let i=[].slice.call(t.childNodes);i.forEach((i=>{i.nodeType===s.Node.TEXT_NODE?l(i,t):(-1!==i.className.baseVal.indexOf("highcharts-br")&&(e.actualWidth=0),c(i))}))};c(e.element)}getLineHeight(t){let e=t.nodeType===s.Node.TEXT_NODE?t.parentElement:t;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(e||this.svgElement.element).h}modifyTree(t){let e=(i,n)=>{let{attributes:r={},children:s,style:o={},tagName:l}=i,c=this.renderer.styledMode;if("b"===l||"strong"===l?c?r.class="highcharts-strong":o.fontWeight="bold":("i"===l||"em"===l)&&(c?r.class="highcharts-emphasized":o.fontStyle="italic"),o&&o.color&&(o.fill=o.color),"br"===l){r.class="highcharts-br",i.textContent="​";let e=t[n+1];e&&e.textContent&&(e.textContent=e.textContent.replace(/^ +/gm,""))}else"a"===l&&s&&s.some((t=>"#text"===t.tagName))&&(i.children=[{children:s,tagName:"tspan"}]);"#text"!==l&&"a"!==l&&(i.tagName="tspan"),a(i,{attributes:r,style:o}),s&&s.filter((t=>"#text"!==t.tagName)).forEach(e)};t.forEach(e),l(this.svgElement,"afterModifyTree",{nodes:t})}truncate(t,e,i,n,r,s){let o,a,l=this.svgElement,{renderer:c,rotation:h}=l,u=[],d=i?1:0,p=(e||i||"").length,f=p,m=function(e,r){let s=r||e,o=t.parentNode;if(o&&void 0===u[s]&&o.getSubStringLength)try{u[s]=n+o.getSubStringLength(0,i?s+1:s)}catch(t){}return u[s]};if(l.rotation=0,n+(a=m(t.textContent.length))>r){for(;d<=p;)f=Math.ceil((d+p)/2),i&&(o=s(i,f)),a=m(f,o&&o.length-1),d===p?d=p+1:a>r?p=f-1:d=f;0===p?t.textContent="":e&&p===e.length-1||(t.textContent=o||s(e||i,f))}i&&i.splice(0,f),l.actualWidth=a,l.rotation=h}unescapeEntities(t,e){return h(this.renderer.escapes,(function(i,n){e&&-1!==e.indexOf(i)||(t=t.toString().replace(RegExp(i,"g"),n))})),t}}})),i(e,"Core/Renderer/SVG/SVGRenderer.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Renderer/RendererRegistry.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Core/Renderer/SVG/SVGLabel.js"],e["Core/Renderer/SVG/Symbols.js"],e["Core/Renderer/SVG/TextBuilder.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r,s,o,a,l){let c,{charts:h,deg2rad:u,doc:d,isFirefox:p,isMS:f,isWebKit:m,noop:g,SVG_NS:y,symbolSizes:x,win:v}=i,{addEvent:b,attr:_,createElement:w,css:S,defined:C,destroyObjectProperties:T,extend:k,isArray:A,isNumber:I,isObject:M,isString:P,merge:E,pick:D,pInt:L,uniqueKey:z}=l;class O{constructor(t,e,i,n,r,s,o){this.alignedObjects=void 0,this.box=void 0,this.boxWrapper=void 0,this.cache=void 0,this.cacheKeys=void 0,this.chartIndex=void 0,this.defs=void 0,this.globalAnimation=void 0,this.gradients=void 0,this.height=void 0,this.imgCount=void 0,this.style=void 0,this.url=void 0,this.width=void 0,this.init(t,e,i,n,r,s,o)}init(t,e,i,n,r,s,o){let a,l,c=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),h=c.element;o||c.css(this.getStyle(n)),t.appendChild(h),_(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&_(h,"xmlns",this.SVG_NS),this.box=h,this.boxWrapper=c,this.alignedObjects=[],this.url=this.getReferenceURL();let u=this.createElement("desc").add();u.element.appendChild(d.createTextNode("Created with Highcharts 11.2.0")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=r,this.styledMode=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=c.getStyle("font-size"),this.setSize(e,i,!1),p&&t.getBoundingClientRect&&((a=function(){S(t,{left:0,top:0}),l=t.getBoundingClientRect(),S(t,{left:Math.ceil(l.left)-l.left+"px",top:Math.ceil(l.top)-l.top+"px"})})(),this.unSubPixelFix=b(v,"resize",a))}definition(e){let i=new t([e]);return i.addToDOM(this.defs.element)}getReferenceURL(){if((p||m)&&d.getElementsByTagName("base").length){if(!C(c)){let e=z(),i=new t([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:e},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${e})`,fill:"rgba(0,0,0,0.001)"}}]}]),n=i.addToDOM(d.body);S(n,{position:"fixed",top:0,left:0,zIndex:9e5});let r=d.elementFromPoint(6,6);c="hitme"===(r&&r.id),d.body.removeChild(n)}if(c)return v.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(t){return this.style=k({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},t),this.style}setStyle(t){this.boxWrapper.css(this.getStyle(t))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),T(this.gradients||{}),this.gradients=null,this.defs=t.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(t){let e=new this.Element;return e.init(this,t),e}getRadialAttr(t,e){return{cx:t[0]-t[2]/2+(e.cx||0)*t[2],cy:t[1]-t[2]/2+(e.cy||0)*t[2],r:(e.r||0)*t[2]}}shadowDefinition(t){let e=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(t).map((e=>`${e}-${t[e]}`))].join("-").toLowerCase().replace(/[^a-z0-9\-]/g,""),i=E({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},t);return this.defs.element.querySelector(`#${e}`)||this.definition({tagName:"filter",attributes:{id:e,filterUnits:i.filterUnits},children:[{tagName:"feDropShadow",attributes:{dx:i.offsetX,dy:i.offsetY,"flood-color":i.color,"flood-opacity":Math.min(5*i.opacity,1),stdDeviation:i.width/2}}]}),e}buildText(t){new a(t).buildSVG()}getContrast(t){let i=e.parse(t).rgba.map((t=>{let e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),n=.2126*i[0]+.7152*i[1]+.0722*i[2];return 1.05/(n+.05)>(n+.05)/.05?"#FFFFFF":"#000000"}button(e,i,n,r,s={},o,a,l,c,h){let u,d,p,m=this.label(e,i,n,c,void 0,void 0,h,void 0,"button"),g=this.styledMode,y=s.states||{},x=0;s=E(s),delete s.states;let v=E({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},s.style);delete s.style;let _=t.filterUserAttributes(s);return m.attr(E({padding:8,r:2},_)),g||(_=E({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},_),u=(o=E(_,{fill:"#e6e6e6"},t.filterUserAttributes(o||y.hover||{}))).style,delete o.style,d=(a=E(_,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},t.filterUserAttributes(a||y.select||{}))).style,delete a.style,p=(l=E(_,{style:{color:"#cccccc"}},t.filterUserAttributes(l||y.disabled||{}))).style,delete l.style),b(m.element,f?"mouseover":"mouseenter",(function(){3!==x&&m.setState(1)})),b(m.element,f?"mouseout":"mouseleave",(function(){3!==x&&m.setState(x)})),m.setState=function(t){if(1!==t&&(m.state=x=t),m.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),!g){m.attr([_,o,a,l][t||0]);let e=[v,u,d,p][t||0];M(e)&&m.css(e)}},!g&&(m.attr(_).css(k({cursor:"default"},v)),h&&m.text.css({pointerEvents:"none"})),m.on("touchstart",(t=>t.stopPropagation())).on("click",(function(t){3!==x&&r.call(m,t)}))}crispLine(t,e,i="round"){let n=t[0],r=t[1];return C(n[1])&&n[1]===r[1]&&(n[1]=r[1]=Math[i](n[1])-e%2/2),C(n[2])&&n[2]===r[2]&&(n[2]=r[2]=Math[i](n[2])+e%2/2),t}path(t){let e=this.styledMode?{}:{fill:"none"};return A(t)?e.d=t:M(t)&&k(e,t),this.createElement("path").attr(e)}circle(t,e,i){let n=M(t)?t:void 0===t?{}:{x:t,y:e,r:i},r=this.createElement("circle");return r.xSetter=r.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},r.attr(n)}arc(t,e,i,n,r,s){let o;M(t)?(e=(o=t).y,i=o.r,n=o.innerR,r=o.start,s=o.end,t=o.x):o={innerR:n,start:r,end:s};let a=this.symbol("arc",t,e,i,i,o);return a.r=i,a}rect(t,e,i,n,r,s){let o=M(t)?t:void 0===t?{}:{x:t,y:e,r:r,width:Math.max(i||0,0),height:Math.max(n||0,0)},a=this.createElement("rect");return this.styledMode||(void 0!==s&&(o["stroke-width"]=s,k(o,a.crisp(o))),o.fill="none"),a.rSetter=function(t,e,i){a.r=t,_(i,{rx:t,ry:t})},a.rGetter=function(){return a.r||0},a.attr(o)}roundedRect(t){return this.symbol("roundedRect").attr(t)}setSize(t,e,i){this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:D(i,!0)?void 0:0}),this.alignElements()}g(t){let e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e}image(t,e,i,n,r,s){let o={preserveAspectRatio:"none"};I(e)&&(o.x=e),I(i)&&(o.y=i),I(n)&&(o.width=n),I(r)&&(o.height=r);let a=this.createElement("image").attr(o),l=function(e){a.attr({href:t}),s.call(a,e)};if(s){a.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let e=new v.Image;b(e,"load",l),e.src=t,e.complete&&l({})}else a.attr({href:t});return a}symbol(t,e,i,n,r,s){let o,a,l,c,u=this,p=/^url\((.*?)\)$/,f=p.test(t),m=!f&&(this.symbols[t]?t:"circle"),g=m&&this.symbols[m];if(g)"number"==typeof e&&(a=g.call(this.symbols,Math.round(e||0),Math.round(i||0),n||0,r||0,s)),o=this.path(a),u.styledMode||o.attr("fill","none"),k(o,{symbolName:m||void 0,x:e,y:i,width:n,height:r}),s&&k(o,s);else if(f){l=t.match(p)[1];let n=o=this.image(l);n.imgwidth=D(s&&s.width,x[l]&&x[l].width),n.imgheight=D(s&&s.height,x[l]&&x[l].height),c=t=>t.attr({width:t.width,height:t.height}),["width","height"].forEach((t=>{n[`${t}Setter`]=function(t,e){this[e]=t;let{alignByTranslate:i,element:n,width:r,height:o,imgwidth:a,imgheight:l}=this,c="width"===e?a:l,h=1;s&&"within"===s.backgroundSize&&r&&o&&a&&l?(h=Math.min(r/a,o/l),_(n,{width:Math.round(a*h),height:Math.round(l*h)})):n&&c&&n.setAttribute(e,c),!i&&a&&l&&this.translate(((r||0)-a*h)/2,((o||0)-l*h)/2)}})),C(e)&&n.attr({x:e,y:i}),n.isImg=!0,C(n.imgwidth)&&C(n.imgheight)?c(n):(n.attr({width:0,height:0}),w("img",{onload:function(){let t=h[u.chartIndex];0===this.width&&(S(this,{position:"absolute",top:"-999em"}),d.body.appendChild(this)),x[l]={width:this.width,height:this.height},n.imgwidth=this.width,n.imgheight=this.height,n.element&&c(n),this.parentNode&&this.parentNode.removeChild(this),u.imgCount--,u.imgCount||!t||t.hasLoaded||t.onload()},src:l}),this.imgCount++)}return o}clipRect(t,e,i,n){let r=z()+"-",s=this.createElement("clipPath").attr({id:r}).add(this.defs),o=this.rect(t,e,i,n,0).add(s);return o.id=r,o.clipPath=s,o.count=0,o}text(t,e,i,n){let r={};if(n&&(this.allowHTML||!this.forExport))return this.html(t,e,i);r.x=Math.round(e||0),i&&(r.y=Math.round(i)),C(t)&&(r.text=t);let s=this.createElement("text").attr(r);return n&&(!this.forExport||this.allowHTML)||(s.xSetter=function(t,e,i){let n=i.getElementsByTagName("tspan"),r=i.getAttribute(e);for(let s,o=0;o<n.length;o++)(s=n[o]).getAttribute(e)===r&&s.setAttribute(e,t);i.setAttribute(e,t)}),s}fontMetrics(t){let e=L(r.prototype.getStyle.call(t,"font-size")||0),i=e<24?e+3:Math.round(1.2*e),n=Math.round(.8*i);return{h:i,b:n,f:e}}rotCorr(t,e,i){let n=t;return e&&i&&(n=Math.max(n*Math.cos(e*u),4)),{x:-t/3*Math.sin(e*u),y:n}}pathToSegments(t){let e=[],i=[],n={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let r=0;r<t.length;r++)P(i[0])&&I(t[r])&&i.length===n[i[0].toUpperCase()]&&t.splice(r,0,i[0].replace("M","L").replace("m","l")),"string"==typeof t[r]&&(i.length&&e.push(i.slice(0)),i.length=0),i.push(t[r]);return e.push(i.slice(0)),e}label(t,e,i,n,r,o,a,l,c){return new s(this,t,e,i,n,r,o,a,l,c)}alignElements(){this.alignedObjects.forEach((t=>t.align()))}}return k(O.prototype,{Element:r,SVG_NS:y,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:o,draw:g}),n.registerRendererType("svg",O,!0),O})),i(e,"Core/Renderer/HTML/HTMLElement.js",[e["Core/Globals.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Core/Utilities.js"]],(function(t,e,i){let{isFirefox:n,isMS:r,isWebKit:s,win:o}=t,{css:a,defined:l,extend:c,pick:h,pInt:u}=i,d=[];class p extends e{static compose(t){if(i.pushUnique(d,t)){let e=p.prototype,i=t.prototype;i.getSpanCorrection=e.getSpanCorrection,i.htmlCss=e.htmlCss,i.htmlGetBBox=e.htmlGetBBox,i.htmlUpdateTransform=e.htmlUpdateTransform,i.setSpanRotation=e.setSpanRotation}return t}getSpanCorrection(t,e,i){this.xCorr=-t*i,this.yCorr=-e}htmlCss(t){let e,i=this.element,n="SPAN"===i.tagName&&t&&"width"in t,r=h(n&&t.width,void 0);return n&&(delete t.width,this.textWidth=r,e=!0),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=c(this.styles,t),a(this.element,t),e&&this.htmlUpdateTransform(),this}htmlGetBBox(){let t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}htmlUpdateTransform(){if(!this.added)return void(this.alignOnAdd=!0);let t=this.renderer,e=this.element,i=this.translateX||0,n=this.translateY||0,r=this.x||0,s=this.y||0,o=this.textAlign||"left",c={left:0,center:.5,right:1}[o],h=this.styles,d=h&&h.whiteSpace;if(a(e,{marginLeft:i,marginTop:n}),"SPAN"===e.tagName){let i,n=this.rotation,h=this.textWidth&&u(this.textWidth),p=[n,o,e.innerHTML,this.textWidth,this.textAlign].join(","),f=!1;if(h!==this.oldTextWidth){let t=this.textPxLength?this.textPxLength:(a(e,{width:"",whiteSpace:d||"nowrap"}),e.offsetWidth);(h>this.oldTextWidth||t>h)&&(/[ \-]/.test(e.textContent||e.innerText)||"ellipsis"===e.style.textOverflow)&&(a(e,{width:t>h||n?h+"px":"auto",display:"block",whiteSpace:d||"normal"}),this.oldTextWidth=h,f=!0)}this.hasBoxWidthChanged=f,p!==this.cTT&&(i=t.fontMetrics(e).b,l(n)&&(n!==(this.oldRotation||0)||o!==this.oldAlign)&&this.setSpanRotation(n,c,i),this.getSpanCorrection(!l(n)&&this.textPxLength||e.offsetWidth,i,c,n,o)),a(e,{left:r+(this.xCorr||0)+"px",top:s+(this.yCorr||0)+"px"}),this.cTT=p,this.oldRotation=n,this.oldAlign=o}}setSpanRotation(t,e,i){let l={},c=r&&!/Edge/.test(o.navigator.userAgent)?"-ms-transform":s?"-webkit-transform":n?"MozTransform":o.opera?"-o-transform":void 0;c&&(l[c]=l.transform="rotate("+t+"deg)",l[c+(n?"Origin":"-origin")]=l.transformOrigin=100*e+"% "+i+"px",a(this.element,l))}}return p})),i(e,"Core/Renderer/HTML/HTMLRenderer.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],(function(t,e,i,n){let{attr:r,createElement:s,extend:o,pick:a}=n,l=[];class c extends i{static compose(t){if(n.pushUnique(l,t)){let e=c.prototype,i=t.prototype;i.html=e.html}return t}html(i,n,l){let c=this.createElement("span"),h=c.element,u=c.renderer,d=function(t,i){["opacity","visibility"].forEach((function(n){t[n+"Setter"]=function(r,s,o){let a=t.div?t.div.style:i;e.prototype[n+"Setter"].call(this,r,s,o),a&&(a[s]=r)}})),t.addedSetters=!0};return c.textSetter=function(e){e!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,t.setElementHTML(this.element,a(e,"")),this.textStr=e,c.doTransform=!0)},d(c,c.element.style),c.xSetter=c.ySetter=c.alignSetter=c.rotationSetter=function(t,e){"align"===e?c.alignValue=c.textAlign=t:c[e]=t,c.doTransform=!0},c.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},c.attr({text:i,x:Math.round(n),y:Math.round(l)}).css({position:"absolute"}),u.styledMode||c.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),h.style.whiteSpace="nowrap",c.css=c.htmlCss,c.add=function(t){let e,i,n=u.box.parentNode,a=[];if(this.parentGroup=t,t){if(!(e=t.div)){for(i=t;i;)a.push(i),i=i.parentGroup;a.reverse().forEach((function(t){var i;let l=r(t.element,"class"),h=t.css;function u(e,i){t[i]=e,"translateX"===i?f.left=e+"px":f.top=e+"px",t.doTransform=!0}let p=t.styles||{};e=t.div=t.div||s("div",l?{className:l}:void 0,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,visibility:t.visibility},e||n);let f=e.style;o(t,{classSetter:(i=e,function(t){this.element.setAttribute("class",t),i.className=t}),css:function(e){return h.call(t,e),["cursor","pointerEvents"].forEach((t=>{e[t]&&(f[t]=e[t])})),t},on:function(){return a[0].div&&c.on.apply({element:a[0].div,onEvents:t.onEvents},arguments),t},translateXSetter:u,translateYSetter:u}),t.addedSetters||d(t),t.css(p)}))}}else e=n;return e.appendChild(h),c.added=!0,c.alignOnAdd&&c.htmlUpdateTransform(),c},c}}return c})),i(e,"Core/Axis/AxisDefaults.js",[],(function(){var t,e;return(e=t||(t={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},e.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:t}=this.axis.chart;return t(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},e.defaultLeftAxisOptions={title:{rotation:270}},e.defaultRightAxisOptions={title:{rotation:90}},e.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},e.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},t})),i(e,"Core/Foundation.js",[e["Core/Utilities.js"]],(function(t){var e;let{addEvent:i,isFunction:n,objectEach:r,removeEvent:s}=t;return(e||(e={})).registerEventOptions=function(t,e){t.eventOptions=t.eventOptions||{},r(e.events,(function(e,r){t.eventOptions[r]!==e&&(t.eventOptions[r]&&(s(t,r,t.eventOptions[r]),delete t.eventOptions[r]),n(e)&&(t.eventOptions[r]=e,i(t,r,e,{order:0})))}))},e})),i(e,"Core/Axis/Tick.js",[e["Core/Templating.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,i){let{deg2rad:n}=e,{clamp:r,correctFloat:s,defined:o,destroyObjectProperties:a,extend:l,fireEvent:c,isNumber:h,merge:u,objectEach:d,pick:p}=i;return class{constructor(t,e,i,n,r){this.isNew=!0,this.isNewLabel=!0,this.axis=t,this.pos=e,this.type=i||"",this.parameters=r||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,c(this,"init"),i||n||this.addLabel()}addLabel(){let e,i,n,r=this,a=r.axis,u=a.options,d=a.chart,f=a.categories,m=a.logarithmic,g=a.names,y=r.pos,x=p(r.options&&r.options.labels,u.labels),v=a.tickPositions,b=y===v[0],_=y===v[v.length-1],w=(!x.step||1===x.step)&&1===a.tickInterval,S=v.info,C=r.label,T=this.parameters.category||(f?p(f[y],g[y],y):y);m&&h(T)&&(T=s(m.lin2log(T))),a.dateTime&&(S?e=(i=d.time.resolveDTLFormat(u.dateTimeLabelFormats[!u.grid&&S.higherRanks[y]||S.unitName])).main:h(T)&&(e=a.dateTime.getXDateFormat(T,u.dateTimeLabelFormats||{}))),r.isFirst=b,r.isLast=_;let k={axis:a,chart:d,dateTimeLabelFormat:e,isFirst:b,isLast:_,pos:y,tick:r,tickPositionInfo:S,value:T};c(this,"labelFormat",k);let A=e=>x.formatter?x.formatter.call(e,e):x.format?(e.text=a.defaultLabelFormatter.call(e,e),t.format(x.format,e,d)):a.defaultLabelFormatter.call(e,e),I=A.call(k,k),M=i&&i.list;r.shortenLabel=M?function(){for(n=0;n<M.length;n++)if(l(k,{dateTimeLabelFormat:M[n]}),C.attr({text:A.call(k,k)}),C.getBBox().width<a.getSlotWidth(r)-2*x.padding)return;C.attr({text:""})}:void 0,w&&a._addedPlotLB&&r.moveLabel(I,x),o(C)||r.movedLabel?C&&C.textStr!==I&&!w&&(!C.textWidth||x.style.width||C.styles.width||C.css({width:null}),C.attr({text:I}),C.textPxLength=C.getBBox().width):(r.label=C=r.createLabel({x:0,y:0},I,x),r.rotation=0)}createLabel(t,e,i){let n=this.axis,r=n.chart,s=o(e)&&i.enabled?r.renderer.text(e,t.x,t.y,i.useHTML).add(n.labelGroup):null;return s&&(r.styledMode||s.css(u(i.style)),s.textPxLength=s.getBBox().width),s}destroy(){a(this,this.axis)}getPosition(t,e,i,n){let o=this.axis,a=o.chart,l=n&&a.oldChartHeight||a.chartHeight,h={x:t?s(o.translate(e+i,void 0,void 0,n)+o.transB):o.left+o.offset+(o.opposite?(n&&a.oldChartWidth||a.chartWidth)-o.right-o.left:0),y:t?l-o.bottom+o.offset-(o.opposite?o.height:0):s(l-o.translate(e+i,void 0,void 0,n)-o.transB)};return h.y=r(h.y,-1e5,1e5),c(this,"afterGetPosition",{pos:h}),h}getLabelPosition(t,e,i,r,s,a,l,h){let u,d,f=this.axis,m=f.transA,g=f.isLinked&&f.linkedParent?f.linkedParent.reversed:f.reversed,y=f.staggerLines,x=f.tickRotCorr||{x:0,y:0},v=r||f.reserveSpaceDefault?0:-f.labelOffset*("center"===f.labelAlign?.5:1),b=s.distance,_={};return u=0===f.side?i.rotation?-b:-i.getBBox().height:2===f.side?x.y+b:Math.cos(i.rotation*n)*(x.y-i.getBBox(!1,0).height/2),o(s.y)&&(u=0===f.side&&f.horiz?s.y+u:s.y),t=t+p(s.x,[0,1,0,-1][f.side]*b)+v+x.x-(a&&r?a*m*(g?-1:1):0),e=e+u-(a&&!r?a*m*(g?1:-1):0),y&&(d=l/(h||1)%y,f.opposite&&(d=y-d-1),e+=d*(f.labelOffset/y)),_.x=t,_.y=Math.round(e),c(this,"afterGetLabelPosition",{pos:_,tickmarkOffset:a,index:l}),_}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(t,e,i,n,r,s){return s.crispLine([["M",t,e],["L",t+(r?0:-i),e+(r?i:0)]],n)}handleOverflow(t){let e,i=this.axis,r=i.options.labels,s=t.x,o=i.chart.chartWidth,a=i.chart.spacing,l=p(i.labelLeft,Math.min(i.pos,a[3])),c=p(i.labelRight,Math.max(i.isRadial?0:i.pos+i.len,o-a[1])),h=this.label,u=this.rotation,d={left:0,center:.5,right:1}[i.labelAlign||h.attr("align")],f=h.getBBox().width,m=i.getSlotWidth(this),g={},y=m,x=1;u||"justify"!==r.overflow?u<0&&s-d*f<l?e=Math.round(s/Math.cos(u*n)-l):u>0&&s+d*f>c&&(e=Math.round((o-s)/Math.cos(u*n))):(s-d*f<l?y=t.x+y*(1-d)-l:s+(1-d)*f>c&&(y=c-t.x+y*d,x=-1),(y=Math.min(m,y))<m&&"center"===i.labelAlign&&(t.x+=x*(m-y-d*(m-Math.min(f,y)))),(f>y||i.autoRotation&&(h.styles||{}).width)&&(e=y)),e&&(this.shortenLabel?this.shortenLabel():(g.width=Math.floor(e)+"px",(r.style||{}).textOverflow||(g.textOverflow="ellipsis"),h.css(g)))}moveLabel(t,e){let i,n=this,r=n.label,s=n.axis,o=!1;r&&r.textStr===t?(n.movedLabel=r,o=!0,delete n.label):d(s.ticks,(function(e){o||e.isNew||e===n||!e.label||e.label.textStr!==t||(n.movedLabel=e.label,o=!0,e.labelPos=n.movedLabel.xy,delete e.label)})),!o&&(n.labelPos||r)&&(i=n.labelPos||r.xy,n.movedLabel=n.createLabel(i,t,e),n.movedLabel&&n.movedLabel.attr({opacity:0}))}render(t,e,i){let n=this.axis,r=n.horiz,s=this.pos,o=p(this.tickmarkOffset,n.tickmarkOffset),a=this.getPosition(r,s,o,e),l=a.x,h=a.y,u=r&&l===n.pos+n.len||!r&&h===n.pos?-1:1,d=p(i,this.label&&this.label.newOpacity,1);i=p(i,1),this.isActive=!0,this.renderGridLine(e,i,u),this.renderMark(a,i,u),this.renderLabel(a,e,d,t),this.isNew=!1,c(this,"afterRender")}renderGridLine(t,e,i){let n,r=this.axis,s=r.options,o={},a=this.pos,l=this.type,c=p(this.tickmarkOffset,r.tickmarkOffset),h=r.chart.renderer,u=this.gridLine,d=s.gridLineWidth,f=s.gridLineColor,m=s.gridLineDashStyle;"minor"===this.type&&(d=s.minorGridLineWidth,f=s.minorGridLineColor,m=s.minorGridLineDashStyle),u||(r.chart.styledMode||(o.stroke=f,o["stroke-width"]=d||0,o.dashstyle=m),l||(o.zIndex=1),t&&(e=0),this.gridLine=u=h.path().attr(o).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(r.gridGroup)),u&&(n=r.getPlotLinePath({value:a+c,lineWidth:u.strokeWidth()*i,force:"pass",old:t,acrossPanes:!1}))&&u[t||this.isNew?"attr":"animate"]({d:n,opacity:e})}renderMark(t,e,i){let n=this.axis,r=n.options,s=n.chart.renderer,o=this.type,a=n.tickSize(o?o+"Tick":"tick"),l=t.x,c=t.y,h=p(r["minor"!==o?"tickWidth":"minorTickWidth"],!o&&n.isXAxis?1:0),u=r["minor"!==o?"tickColor":"minorTickColor"],d=this.mark,f=!d;a&&(n.opposite&&(a[0]=-a[0]),d||(this.mark=d=s.path().addClass("highcharts-"+(o?o+"-":"")+"tick").add(n.axisGroup),n.chart.styledMode||d.attr({stroke:u,"stroke-width":h})),d[f?"attr":"animate"]({d:this.getMarkPath(l,c,a[0],d.strokeWidth()*i,n.horiz,s),opacity:e}))}renderLabel(t,e,i,n){let r=this.axis,s=r.horiz,o=r.options,a=this.label,l=o.labels,c=l.step,u=p(this.tickmarkOffset,r.tickmarkOffset),d=t.x,f=t.y,m=!0;a&&h(d)&&(a.xy=t=this.getLabelPosition(d,f,a,s,l,u,n,c),this.isFirst&&!this.isLast&&!o.showFirstLabel||this.isLast&&!this.isFirst&&!o.showLastLabel?m=!1:!s||l.step||l.rotation||e||0===i||this.handleOverflow(t),c&&n%c&&(m=!1),m&&h(t.y)?(t.opacity=i,a[this.isNewLabel?"attr":"animate"](t).show(!0),this.isNewLabel=!1):(a.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let t=this.label,e=this.axis;t&&!this.isNew&&(t.animate({opacity:0},void 0,t.destroy),delete this.label),e.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}})),i(e,"Core/Axis/Axis.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Axis/AxisDefaults.js"],e["Core/Color/Color.js"],e["Core/Defaults.js"],e["Core/Foundation.js"],e["Core/Globals.js"],e["Core/Axis/Tick.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r,s,o,a){let{animObject:l}=t,{defaultOptions:c}=n,{registerEventOptions:h}=r,{deg2rad:u}=s,{arrayMax:d,arrayMin:p,clamp:f,correctFloat:m,defined:g,destroyObjectProperties:y,erase:x,error:v,extend:b,fireEvent:_,getClosestDistance:w,insertItem:S,isArray:C,isNumber:T,isString:k,merge:A,normalizeTickInterval:I,objectEach:M,pick:P,relativeLength:E,removeEvent:D,splat:L,syncTimeout:z}=a,O=(t,e)=>I(e,void 0,void 0,P(t.options.allowDecimals,e<.5||void 0!==t.tickAmount),!!t.tickAmount);class F{constructor(t,e,i){this.alternateBands=void 0,this.bottom=void 0,this.chart=void 0,this.closestPointRange=void 0,this.coll=void 0,this.eventOptions=void 0,this.hasNames=void 0,this.hasVisibleSeries=void 0,this.height=void 0,this.index=void 0,this.isLinked=void 0,this.labelEdge=void 0,this.labelFormatter=void 0,this.left=void 0,this.len=void 0,this.max=void 0,this.maxLabelLength=void 0,this.min=void 0,this.minorTickInterval=void 0,this.minorTicks=void 0,this.minPixelPadding=void 0,this.names=void 0,this.offset=void 0,this.options=void 0,this.overlap=void 0,this.paddedTicks=void 0,this.plotLinesAndBands=void 0,this.plotLinesAndBandsGroups=void 0,this.pointRange=void 0,this.pointRangePadding=void 0,this.pos=void 0,this.positiveValuesOnly=void 0,this.right=void 0,this.series=void 0,this.side=void 0,this.tickAmount=void 0,this.tickInterval=void 0,this.tickmarkOffset=void 0,this.tickPositions=void 0,this.tickRotCorr=void 0,this.ticks=void 0,this.top=void 0,this.transA=void 0,this.transB=void 0,this.translationSlope=void 0,this.userOptions=void 0,this.visible=void 0,this.width=void 0,this.zoomEnabled=void 0,this.init(t,e,i)}init(t,e,i=this.coll){let n="xAxis"===i;this.chart=t,this.horiz=this.isZAxis||(t.inverted?!n:n),this.isXAxis=n,this.coll=i,_(this,"init",{userOptions:e}),this.opposite=P(e.opposite,this.opposite),this.side=P(e.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);let r=this.options,s=r.labels,o=r.type;this.userOptions=e,this.minPixelPadding=0,this.reversed=P(r.reversed,this.reversed),this.visible=r.visible,this.zoomEnabled=r.zoomEnabled,this.hasNames="category"===o||!0===r.categories,this.categories=r.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=g(r.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=r.minRange||r.maxZoom,this.range=r.range,this.offset=r.offset||0,this.max=null,this.min=null;let a=P(r.crosshair,L(t.options.tooltip.crosshairs)[n?0:1]);this.crosshair=!0===a?{}:a,-1===t.axes.indexOf(this)&&(n?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),S(this,t[this.coll])),t.orderItems(this.coll),this.series=this.series||[],t.inverted&&!this.isZAxis&&n&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=T(s.rotation)?s.rotation:void 0,h(this,r),_(this,"afterInit")}setOptions(t){this.options=A(e.defaultXAxisOptions,"yAxis"===this.coll&&e.defaultYAxisOptions,[e.defaultTopAxisOptions,e.defaultRightAxisOptions,e.defaultBottomAxisOptions,e.defaultLeftAxisOptions][this.side],A(c[this.coll],t)),_(this,"afterSetOptions",{userOptions:t})}defaultLabelFormatter(t){let e,i,n=this.axis,r=this.chart,{numberFormatter:s}=r,o=T(this.value)?this.value:NaN,a=n.chart.time,l=n.categories,h=this.dateTimeLabelFormat,u=c.lang,d=u.numericSymbols,p=u.numericSymbolMagnitude||1e3,f=n.logarithmic?Math.abs(o):n.tickInterval,m=d&&d.length;if(l)i=`${this.value}`;else if(h)i=a.dateFormat(h,o);else if(m&&f>=1e3)for(;m--&&void 0===i;)f>=(e=Math.pow(p,m+1))&&10*o%e==0&&null!==d[m]&&0!==o&&(i=s(o/e,-1)+d[m]);return void 0===i&&(i=Math.abs(o)>=1e4?s(o,-1):s(o,-1,void 0,"")),i}getSeriesExtremes(){let t,e=this;e.chart,_(this,"getSeriesExtremes",null,(function(){e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.series.forEach((function(i){if(i.reserveSpace()){let n,r,s,o=i.options,a=o.threshold;if(e.hasVisibleSeries=!0,e.positiveValuesOnly&&a<=0&&(a=null),e.isXAxis)(n=i.xData)&&n.length&&(n=e.logarithmic?n.filter((t=>t>0)):n,r=(t=i.getXExtremes(n)).min,s=t.max,T(r)||r instanceof Date||(n=n.filter(T),r=(t=i.getXExtremes(n)).min,s=t.max),n.length&&(e.dataMin=Math.min(P(e.dataMin,r),r),e.dataMax=Math.max(P(e.dataMax,s),s)));else{let t=i.applyExtremes();T(t.dataMin)&&(r=t.dataMin,e.dataMin=Math.min(P(e.dataMin,r),r)),T(t.dataMax)&&(s=t.dataMax,e.dataMax=Math.max(P(e.dataMax,s),s)),g(a)&&(e.threshold=a),(!o.softThreshold||e.positiveValuesOnly)&&(e.softThreshold=!1)}}}))})),_(this,"afterGetSeriesExtremes")}translate(t,e,i,n,r,s){let o=this.linkedParent||this,a=n&&o.old?o.old.min:o.min;if(!T(a))return NaN;let l=o.minPixelPadding,c=(o.isOrdinal||o.brokenAxis&&o.brokenAxis.hasBreaks||o.logarithmic&&r)&&o.lin2val,h=1,u=0,d=n&&o.old?o.old.transA:o.transA,p=0;if(d||(d=o.transA),i&&(h*=-1,u=o.len),o.reversed&&(h*=-1,u-=h*(o.sector||o.len)),e)p=(t=t*h+u-l)/d+a,c&&(p=o.lin2val(p));else{c&&(t=o.val2lin(t));let e=h*(t-a)*d;p=(o.isRadial?e:m(e))+u+h*l+(T(s)?d*s:0)}return p}toPixels(t,e){return this.translate(t,!1,!this.horiz,void 0,!0)+(e?0:this.pos)}toValue(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(t){let e,i,n,r,s,o=this,a=o.chart,l=o.left,c=o.top,h=t.old,u=t.value,d=t.lineWidth,p=h&&a.oldChartHeight||a.chartHeight,m=h&&a.oldChartWidth||a.chartWidth,g=o.transB,y=t.translatedValue,x=t.force;function v(t,e,i){return"pass"!==x&&(t<e||t>i)&&(x?t=f(t,e,i):s=!0),t}let b={value:u,lineWidth:d,old:h,force:x,acrossPanes:t.acrossPanes,translatedValue:y};return _(this,"getPlotLinePath",b,(function(t){e=n=Math.round((y=f(y=P(y,o.translate(u,void 0,void 0,h)),-1e5,1e5))+g),i=r=Math.round(p-y-g),T(y)?o.horiz?(i=c,r=p-o.bottom,e=n=v(e,l,l+o.width)):(e=l,n=m-o.right,i=r=v(i,c,c+o.height)):(s=!0,x=!1),t.path=s&&!x?void 0:a.renderer.crispLine([["M",e,i],["L",n,r]],d||1)})),b.path||null}getLinearTickPositions(t,e,i){let n,r,s,o=m(Math.floor(e/t)*t),a=m(Math.ceil(i/t)*t),l=[];if(m(o+t)===o&&(s=20),this.single)return[e];for(n=o;n<=a&&(l.push(n),(n=m(n+t,s))!==r);)r=n;return l}getMinorTickInterval(){let t=this.options;return!0===t.minorTicks?P(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval}getMinorTickPositions(){let t,e=this.options,i=this.tickPositions,n=this.minorTickInterval,r=this.pointRangePadding||0,s=this.min-r,o=this.max+r,a=o-s,l=[];if(a&&a/n<this.len/3){let r=this.logarithmic;if(r)this.paddedTicks.forEach((function(t,e,i){e&&l.push.apply(l,r.getLogTickPositions(n,i[e-1],i[e],!0))}));else if(this.dateTime&&"auto"===this.getMinorTickInterval())l=l.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(n),s,o,e.startOfWeek));else for(t=s+(i[0]-s)%n;t<=o&&t!==l[0];t+=n)l.push(t)}return 0!==l.length&&this.trimTicks(l),l}adjustForMinRange(){let t,e,i,n,r,s,o=this.options,a=this.logarithmic,l=this.min,c=this.max;this.isXAxis&&void 0===this.minRange&&!a&&(g(o.min)||g(o.max)||g(o.floor)||g(o.ceiling)?this.minRange=null:(i=w(this.series.map((t=>(t.xIncrement?t.xData?.slice(0,2):t.xData)||[])))||0,this.minRange=Math.min(5*i,this.dataMax-this.dataMin))),c-l<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,t=((s=this.minRange)-c+l)/2,n=[l-t,P(o.min,l-t)],e&&(n[2]=a?a.log2lin(this.dataMin):this.dataMin),r=[(l=d(n))+s,P(o.max,l+s)],e&&(r[2]=a?a.log2lin(this.dataMax):this.dataMax),(c=p(r))-l<s&&(n[0]=c-s,n[1]=P(o.min,c-s),l=d(n))),this.min=l,this.max=c}getClosest(){let t,e;if(this.categories)e=1;else{let i=[];this.series.forEach((function(t){let n=t.closestPointRange;1===t.xData?.length?i.push(t.xData[0]):!t.noSharedTooltip&&g(n)&&t.reserveSpace()&&(e=g(e)?Math.min(e,n):n)})),i.length&&(i.sort(((t,e)=>t-e)),t=w([i]))}return t&&e?Math.min(t,e):t||e}nameToX(t){let e,i=C(this.options.categories),n=i?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,g(r)||(r=this.options.uniqueNames&&n?i?n.indexOf(t.name):P(n.keys[t.name],-1):t.series.autoIncrement()),-1===r?!i&&n&&(e=n.length):e=r,void 0!==e?(this.names[e]=t.name,this.names.keys[t.name]=e):t.x&&(e=t.x),e}updateNames(){let t=this,e=this.names,i=e.length;i>0&&(Object.keys(e.keys).forEach((function(t){delete e.keys[t]})),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach((function(e){e.xIncrement=null,(!e.points||e.isDirtyData)&&(t.max=Math.max(t.max,e.xData.length-1),e.processData(),e.generatePoints()),e.data.forEach((function(i,n){let r;i&&i.options&&void 0!==i.name&&void 0!==(r=t.nameToX(i))&&r!==i.x&&(i.x=r,e.xData[n]=r)}))})))}setAxisTranslation(){let t,e,i=this,n=i.max-i.min,r=i.linkedParent,s=!!i.categories,o=i.isXAxis,a=i.axisPointRange||0,l=0,c=0,h=i.transA;(o||s||a)&&(t=i.getClosest(),r?(l=r.minPointOffset,c=r.pointRangePadding):i.series.forEach((function(e){let n=s?1:o?P(e.options.pointRange,t,0):i.axisPointRange||0,r=e.options.pointPlacement;if(a=Math.max(a,n),!i.single||s){let t=e.is("xrange")?!o:o;l=Math.max(l,t&&k(r)?0:n/2),c=Math.max(c,t&&"on"===r?0:n)}})),e=i.ordinal&&i.ordinal.slope&&t?i.ordinal.slope/t:1,i.minPointOffset=l*=e,i.pointRangePadding=c*=e,i.pointRange=Math.min(a,i.single&&s?1:n),o&&t&&(i.closestPointRange=t)),i.translationSlope=i.transA=h=i.staticScale||i.len/(n+c||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=h*l,_(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(t){let e,i,n,r,s,o,a=this.chart,l=this.logarithmic,c=this.options,h=this.isXAxis,u=this.isLinked,d=c.tickPixelInterval,p=this.categories,f=this.softThreshold,y=c.maxPadding,x=c.minPadding,b=T(c.tickInterval)&&c.tickInterval>=0?c.tickInterval:void 0,w=T(this.threshold)?this.threshold:null;if(this.dateTime||p||u||this.getTickAmount(),s=P(this.userMin,c.min),o=P(this.userMax,c.max),u?(this.linkedParent=a[this.coll][c.linkedTo],i=this.linkedParent.getExtremes(),this.min=P(i.min,i.dataMin),this.max=P(i.max,i.dataMax),c.type!==this.linkedParent.options.type&&v(11,1,a)):(f&&g(w)&&(this.dataMin>=w?(n=w,x=0):this.dataMax<=w&&(r=w,y=0)),this.min=P(s,n,this.dataMin),this.max=P(o,r,this.dataMax)),l&&(this.positiveValuesOnly&&!t&&0>=Math.min(this.min,P(this.dataMin,this.min))&&v(10,1,a),this.min=m(l.log2lin(this.min),16),this.max=m(l.log2lin(this.max),16)),this.range&&g(this.max)&&(this.userMin=this.min=s=Math.max(this.dataMin,this.minFromRange()),this.userMax=o=this.max,this.range=null),_(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!T(this.userMin)&&T(c.softMin)&&c.softMin<this.min&&(this.min=s=c.softMin),!T(this.userMax)&&T(c.softMax)&&c.softMax>this.max&&(this.max=o=c.softMax),!p&&!this.axisPointRange&&!(this.stacking&&this.stacking.usePercentage)&&!u&&g(this.min)&&g(this.max)&&(e=this.max-this.min)&&(!g(s)&&x&&(this.min-=e*x),!g(o)&&y&&(this.max+=e*y)),!T(this.userMin)&&T(c.floor)&&(this.min=Math.max(this.min,c.floor)),!T(this.userMax)&&T(c.ceiling)&&(this.max=Math.min(this.max,c.ceiling)),f&&g(this.dataMin)&&(w=w||0,!g(s)&&this.min<w&&this.dataMin>=w?this.min=this.options.minRange?Math.min(w,this.max-this.minRange):w:!g(o)&&this.max>w&&this.dataMax<=w&&(this.max=this.options.minRange?Math.max(w,this.min+this.minRange):w)),T(this.min)&&T(this.max)&&!this.chart.polar&&this.min>this.max&&(g(this.options.min)?this.max=this.min:g(this.options.max)&&(this.min=this.max)),this.min===this.max||void 0===this.min||void 0===this.max?this.tickInterval=1:u&&this.linkedParent&&!b&&d===this.linkedParent.options.tickPixelInterval?this.tickInterval=b=this.linkedParent.tickInterval:this.tickInterval=P(b,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,p?1:(this.max-this.min)*d/Math.max(this.len,d)),h&&!t){let t=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach((function(e){e.forceCrop=e.forceCropping&&e.forceCropping(),e.processData(t)})),_(this,"postProcessData",{hasExtremesChanged:t})}this.setAxisTranslation(),_(this,"initialAxisTranslation"),this.pointRange&&!b&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let S=P(c.minTickInterval,this.dateTime&&!this.series.some((t=>t.noSharedTooltip))?this.closestPointRange:0);!b&&this.tickInterval<S&&(this.tickInterval=S),this.dateTime||this.logarithmic||b||(this.tickInterval=O(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let t,e=this.options,i=e.tickPositions,n=e.tickPositioner,r=this.getMinorTickInterval(),s=this.hasVerticalPanning(),o="colorAxis"===this.coll,a=(o||!s)&&e.startOnTick,l=(o||!s)&&e.endOnTick,c=[];if(this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===r&&this.tickInterval?this.tickInterval/e.minorTicksPerMajor:r,this.single=this.min===this.max&&g(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),i)c=i.slice();else if(T(this.min)&&T(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)c=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)c=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let t=this.tickInterval,e=t;for(;e<=2*t;){if(c=this.getLinearTickPositions(this.tickInterval,this.min,this.max),!(this.tickAmount&&c.length>this.tickAmount))break;this.tickInterval=O(this,e*=1.1)}}else c=[this.min,this.max],v(19,!1,this.chart);c.length>this.len&&(c=[c[0],c[c.length-1]])[0]===c[1]&&(c.length=1),n&&(this.tickPositions=c,(t=n.apply(this,[this.min,this.max]))&&(c=t))}this.tickPositions=c,this.paddedTicks=c.slice(0),this.trimTicks(c,a,l),!this.isLinked&&T(this.min)&&T(this.max)&&(this.single&&c.length<2&&!this.categories&&!this.series.some((t=>t.is("heatmap")&&"between"===t.options.pointPlacement))&&(this.min-=.5,this.max+=.5),i||t||this.adjustTickAmount()),_(this,"afterSetTickPositions")}trimTicks(t,e,i){let n=t[0],r=t[t.length-1],s=!this.isOrdinal&&this.minPointOffset||0;if(_(this,"trimTicks"),!this.isLinked){if(e&&n!==-1/0)this.min=n;else for(;this.min-s>t[0];)t.shift();if(i)this.max=r;else for(;this.max+s<t[t.length-1];)t.pop();0===t.length&&g(n)&&!this.options.tickPositions&&t.push((r+n)/2)}}alignToOthers(){let t,e=this,i=[this],n=e.options,r="yAxis"===this.coll&&this.chart.options.chart.alignThresholds,s=[];if(e.thresholdAlignment=void 0,(!1!==this.chart.options.chart.alignTicks&&n.alignTicks||r)&&!1!==n.startOnTick&&!1!==n.endOnTick&&!e.logarithmic){let n=t=>{let{horiz:e,options:i}=t;return[e?i.left:i.top,i.width,i.height,i.pane].join(",")},r=n(this);this.chart[this.coll].forEach((function(s){let{series:o}=s;o.length&&o.some((t=>t.visible))&&s!==e&&n(s)===r&&(t=!0,i.push(s))}))}if(t&&r){i.forEach((t=>{let i=t.getThresholdAlignment(e);T(i)&&s.push(i)}));let t=s.length>1?s.reduce(((t,e)=>t+e),0)/s.length:void 0;i.forEach((e=>{e.thresholdAlignment=t}))}return t}getThresholdAlignment(t){if((!T(this.dataMin)||this!==t&&this.series.some((t=>t.isDirty||t.isDirtyData)))&&this.getSeriesExtremes(),T(this.threshold)){let t=f((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(t=1-t),t}}getTickAmount(){let t=this.options,e=t.tickPixelInterval,i=t.tickAmount;g(t.tickInterval)||i||!(this.len<e)||this.isRadial||this.logarithmic||!t.startOnTick||!t.endOnTick||(i=2),!i&&this.alignToOthers()&&(i=Math.ceil(this.len/e)+1),i<4&&(this.finalTickAmt=i,i=5),this.tickAmount=i}adjustTickAmount(){let t,e,i,n=this,{finalTickAmt:r,max:s,min:o,options:a,tickPositions:l,tickAmount:c,thresholdAlignment:h}=n,u=l&&l.length,d=P(n.threshold,n.softThreshold?0:null),p=n.tickInterval,f=()=>l.push(m(l[l.length-1]+p)),y=()=>l.unshift(m(l[0]-p));if(T(h)&&(i=h<.5?Math.ceil(h*(c-1)):Math.floor(h*(c-1)),a.reversed&&(i=c-1-i)),n.hasData()&&T(o)&&T(s)){let h=()=>{n.transA*=(u-1)/(c-1),n.min=a.startOnTick?l[0]:Math.min(o,l[0]),n.max=a.endOnTick?l[l.length-1]:Math.max(s,l[l.length-1])};if(T(i)&&T(n.threshold)){for(;l[i]!==d||l.length!==c||l[0]>o||l[l.length-1]<s;){for(l.length=0,l.push(n.threshold);l.length<c;)void 0===l[i]||l[i]>n.threshold?y():f();if(p>8*n.tickInterval)break;p*=2}h()}else if(u<c){for(;l.length<c;)l.length%2||o===d?f():y();h()}if(g(r)){for(e=t=l.length;e--;)(3===r&&e%2==1||r<=2&&e>0&&e<t-1)&&l.splice(e,1);n.finalTickAmt=void 0}}}setScale(){let{coll:t,stacking:e}=this,i=!1,n=!1;this.series.forEach((t=>{i=i||t.isDirtyData||t.isDirty,n=n||t.xAxis&&t.xAxis.isDirty||!1})),this.setAxisSize();let r=this.len!==(this.old&&this.old.len);r||i||n||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(e&&"yAxis"===t&&e.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),e&&"xAxis"===t&&e.buildStacks(),this.isDirty||(this.isDirty=r||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):e&&e.cleanStacks(),i&&this.panningState&&(this.panningState.isDirty=!0),_(this,"afterSetScale")}setExtremes(t,e,i,n,r){let s=this,o=s.chart;i=P(i,!0),s.series.forEach((function(t){delete t.kdTree})),_(s,"setExtremes",r=b(r,{min:t,max:e}),(function(){s.userMin=t,s.userMax=e,s.eventArgs=r,i&&o.redraw(n)}))}zoom(t,e){let i=this,n=this.dataMin,r=this.dataMax,s=this.options,o=Math.min(n,P(s.min,n)),a=Math.max(r,P(s.max,r)),l={newMin:t,newMax:e};return _(this,"zoom",l,(function(t){let e=t.newMin,s=t.newMax;(e!==i.min||s!==i.max)&&(!i.allowZoomOutside&&(g(n)&&(e<o&&(e=o),e>a&&(e=a)),g(r)&&(s<o&&(s=o),s>a&&(s=a))),i.displayBtn=void 0!==e||void 0!==s,i.setExtremes(e,s,!1,void 0,{trigger:"zoom"})),t.zoomed=!0})),l.zoomed}setAxisSize(){let t=this.chart,e=this.options,i=e.offsets||[0,0,0,0],n=this.horiz,r=this.width=Math.round(E(P(e.width,t.plotWidth-i[3]+i[1]),t.plotWidth)),s=this.height=Math.round(E(P(e.height,t.plotHeight-i[0]+i[2]),t.plotHeight)),o=this.top=Math.round(E(P(e.top,t.plotTop+i[0]),t.plotHeight,t.plotTop)),a=this.left=Math.round(E(P(e.left,t.plotLeft+i[3]),t.plotWidth,t.plotLeft));this.bottom=t.chartHeight-s-o,this.right=t.chartWidth-r-a,this.len=Math.max(n?r:s,0),this.pos=n?a:o}getExtremes(){let t=this.logarithmic;return{min:t?m(t.lin2log(this.min)):this.min,max:t?m(t.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(t){let e=this.logarithmic,i=e?e.lin2log(this.min):this.min,n=e?e.lin2log(this.max):this.max;return null===t||t===-1/0?t=i:t===1/0?t=n:i>t?t=i:n<t&&(t=n),this.translate(t,0,1,0,1)}autoLabelAlign(t){let e=(P(t,0)-90*this.side+720)%360,i={align:"center"};return _(this,"autoLabelAlign",i,(function(t){e>15&&e<165?t.align="right":e>195&&e<345&&(t.align="left")})),i.align}tickSize(t){let e,i=this.options,n=P(i["tick"===t?"tickWidth":"minorTickWidth"],"tick"===t&&this.isXAxis&&!this.categories?1:0),r=i["tick"===t?"tickLength":"minorTickLength"];n&&r&&("inside"===i[t+"Position"]&&(r=-r),e=[r,n]);let s={tickSize:e};return _(this,"afterTickSize",s),s.tickSize}labelMetrics(){let t=this.chart.renderer,e=this.ticks,i=e[Object.keys(e)[0]]||{};return this.chart.renderer.fontMetrics(i.label||i.movedLabel||t.box)}unsquish(){let t,e,i=this.options.labels,n=this.horiz,r=this.tickInterval,s=this.len/(((this.categories?1:0)+this.max-this.min)/r),o=i.rotation,a=.75*this.labelMetrics().h,l=Math.max(this.max-this.min,0),c=function(t){let e=t/(s||1);return(e=e>1?Math.ceil(e):1)*r>l&&t!==1/0&&s!==1/0&&l&&(e=Math.ceil(l/r)),m(e*r)},h=r,d=Number.MAX_VALUE;if(n){if(!i.staggerLines&&(T(o)?e=[o]:s<i.autoRotationLimit&&(e=i.autoRotation)),e){let i,n;for(let r of e)(r===o||r&&r>=-90&&r<=90)&&(n=(i=c(Math.abs(a/Math.sin(u*r))))+Math.abs(r/360))<d&&(d=n,t=r,h=i)}}else h=c(a);return this.autoRotation=e,this.labelRotation=P(t,T(o)?o:0),i.step?r:h}getSlotWidth(t){let e=this.chart,i=this.horiz,n=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),s=e.margin[3];if(t&&T(t.slotWidth))return t.slotWidth;if(i&&n.step<2)return n.rotation?0:(this.staggerLines||1)*this.len/r;if(!i){let t=n.style.width;if(void 0!==t)return parseInt(String(t),10);if(s)return s-e.spacing[3]}return.33*e.chartWidth}renderUnsquish(){let t,e,i,n,r=this.chart,s=r.renderer,o=this.tickPositions,a=this.ticks,l=this.options.labels,c=l.style,h=this.horiz,u=this.getSlotWidth(),d=Math.max(1,Math.round(u-2*l.padding)),p={},f=this.labelMetrics(),m=c.textOverflow,g=0;if(k(l.rotation)||(p.rotation=l.rotation||0),o.forEach((function(t){let e=a[t];e.movedLabel&&e.replaceMovedLabel(),e&&e.label&&e.label.textPxLength>g&&(g=e.label.textPxLength)})),this.maxLabelLength=g,this.autoRotation)g>d&&g>f.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(t=d,!m))for(e="clip",n=o.length;!h&&n--;)(i=a[o[n]].label)&&(i.styles&&"ellipsis"===i.styles.textOverflow?i.css({textOverflow:"clip"}):i.textPxLength>u&&i.css({width:u+"px"}),i.getBBox().height>this.len/o.length-(f.h-f.f)&&(i.specificTextOverflow="ellipsis"));p.rotation&&(t=g>.5*r.chartHeight?.33*r.chartHeight:g,m||(e="ellipsis")),this.labelAlign=l.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(p.align=this.labelAlign),o.forEach((function(i){let n=a[i],r=n&&n.label,s=c.width,o={};r&&(r.attr(p),n.shortenLabel?n.shortenLabel():t&&!s&&"nowrap"!==c.whiteSpace&&(t<r.textPxLength||"SPAN"===r.element.tagName)?(o.width=t+"px",m||(o.textOverflow=r.specificTextOverflow||e),r.css(o)):r.styles&&r.styles.width&&!o.width&&!s&&r.css({width:null}),delete r.specificTextOverflow,n.rotation=p.rotation)}),this),this.tickRotCorr=s.rotCorr(f.b,this.labelRotation||0,0!==this.side)}hasData(){return this.series.some((function(t){return t.hasData()}))||this.options.showEmpty&&g(this.min)&&g(this.max)}addTitle(t){let e,i=this.chart.renderer,n=this.horiz,r=this.opposite,s=this.options,o=s.title,a=this.chart.styledMode;this.axisTitle||((e=o.textAlign)||(e=(n?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[o.align]),this.axisTitle=i.text(o.text||"",0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation,align:e}).addClass("highcharts-axis-title"),a||this.axisTitle.css(A(o.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),a||o.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[t?"show":"hide"](t)}generateTick(t){let e=this.ticks;e[t]?e[t].addLabel():e[t]=new o(this,t)}getOffset(){let t,e,i,n,r=this,{chart:s,horiz:o,options:a,side:l,ticks:c,tickPositions:h,coll:u,axisParent:d}=r,p=s.renderer,f=s.inverted&&!r.isZAxis?[1,0,3,2][l]:l,m=r.hasData(),y=a.title,x=a.labels,v=T(a.crossing),b=s.axisOffset,w=s.clipOffset,S=[-1,1,1,-1][l],C=a.className,k=0,A=0,I=0;if(r.showAxis=t=m||a.showEmpty,r.staggerLines=r.horiz&&x.staggerLines||void 0,!r.axisGroup){let t=(t,e,i)=>p.g(t).attr({zIndex:i}).addClass(`highcharts-${u.toLowerCase()}${e} `+(this.isRadial?`highcharts-radial-axis${e} `:"")+(C||"")).add(d);r.gridGroup=t("grid","-grid",a.gridZIndex),r.axisGroup=t("axis","",a.zIndex),r.labelGroup=t("axis-labels","-labels",x.zIndex)}if(m||r.isLinked?(h.forEach((function(t){r.generateTick(t)})),r.renderUnsquish(),r.reserveSpaceDefault=0===l||2===l||{1:"left",3:"right"}[l]===r.labelAlign,P(x.reserveSpace,!v&&null,"center"===r.labelAlign||null,r.reserveSpaceDefault)&&h.forEach((function(t){I=Math.max(c[t].getLabelSize(),I)})),r.staggerLines&&(I*=r.staggerLines),r.labelOffset=I*(r.opposite?-1:1)):M(c,(function(t,e){t.destroy(),delete c[e]})),y&&y.text&&!1!==y.enabled&&(r.addTitle(t),t&&!v&&!1!==y.reserveSpace&&(r.titleOffset=k=r.axisTitle.getBBox()[o?"height":"width"],A=g(e=y.offset)?0:P(y.margin,o?5:10))),r.renderLine(),r.offset=S*P(a.offset,b[l]?b[l]+(a.margin||0):0),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},n=0===l?-r.labelMetrics().h:2===l?r.tickRotCorr.y:0,i=Math.abs(I)+A,I&&(i-=n,i+=S*(o?P(x.y,r.tickRotCorr.y+S*x.distance):P(x.x,S*x.distance))),r.axisTitleMargin=P(e,i),r.getMaxLabelDimensions&&(r.maxLabelDimensions=r.getMaxLabelDimensions(c,h)),"colorAxis"!==u){let t=this.tickSize("tick");b[l]=Math.max(b[l],(r.axisTitleMargin||0)+k+S*r.offset,i,h&&h.length&&t?t[0]+S*r.offset:0);let e=!r.axisLine||a.offset?0:2*Math.floor(r.axisLine.strokeWidth()/2);w[f]=Math.max(w[f],e)}_(this,"afterGetOffset")}getLinePath(t){let e=this.chart,i=this.opposite,n=this.offset,r=this.horiz,s=this.left+(i?this.width:0)+n,o=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine([["M",r?this.left:s,r?o:this.top],["L",r?e.chartWidth-this.right:s,r?o:e.chartHeight-this.bottom]],t)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(t){let e=this.horiz,i=this.left,n=this.top,r=this.len,s=this.options.title,o=e?i:n,a=this.opposite,l=this.offset,c=s.x,h=s.y,u=this.chart.renderer.fontMetrics(t),d=t?Math.max(t.getBBox(!1,0).height-u.h-1,0):0,p={low:o+(e?0:r),middle:o+r/2,high:o+(e?r:0)}[s.align],f=(e?n+this.height:i)+(e?1:-1)*(a?-1:1)*(this.axisTitleMargin||0)+[-d,d,u.f,-d][this.side],m={x:e?p+c:f+(a?this.width:0)+l+c,y:e?f+h-(a?this.height:0)+l:p+h};return _(this,"afterGetTitlePosition",{titlePosition:m}),m}renderMinorTick(t,e){let i=this.minorTicks;i[t]||(i[t]=new o(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)}renderTick(t,e,i){let n=this.isLinked,r=this.ticks;(!n||t>=this.min&&t<=this.max||this.grid&&this.grid.isColumn)&&(r[t]||(r[t]=new o(this,t)),i&&r[t].isNew&&r[t].render(e,!0,-1),r[t].render(e))}render(){let t,e,i=this,n=i.chart,r=i.logarithmic,a=n.renderer,c=i.options,h=i.isLinked,u=i.tickPositions,d=i.axisTitle,p=i.ticks,f=i.minorTicks,m=i.alternateBands,g=c.stackLabels,y=c.alternateGridColor,x=c.crossing,v=i.tickmarkOffset,b=i.axisLine,w=i.showAxis,S=l(a.globalAnimation);if(i.labelEdge.length=0,i.overlap=!1,[p,f,m].forEach((function(t){M(t,(function(t){t.isActive=!1}))})),T(x)){let t=this.isXAxis?n.yAxis[0]:n.xAxis[0],e=[1,-1,-1,1][this.side];if(t){let n=t.toPixels(x,!0);i.horiz&&(n=t.len-n),i.offset=e*n}}if(i.hasData()||h){let a=i.chart.hasRendered&&i.old&&T(i.old.min);i.minorTickInterval&&!i.categories&&i.getMinorTickPositions().forEach((function(t){i.renderMinorTick(t,a)})),u.length&&(u.forEach((function(t,e){i.renderTick(t,e,a)})),v&&(0===i.min||i.single)&&(p[-1]||(p[-1]=new o(i,-1,null,!0)),p[-1].render(-1))),y&&u.forEach((function(o,a){e=void 0!==u[a+1]?u[a+1]+v:i.max-v,a%2==0&&o<i.max&&e<=i.max+(n.polar?-v:v)&&(m[o]||(m[o]=new s.PlotLineOrBand(i)),t=o+v,m[o].options={from:r?r.lin2log(t):t,to:r?r.lin2log(e):e,color:y,className:"highcharts-alternate-grid"},m[o].render(),m[o].isActive=!0)})),i._addedPlotLB||(i._addedPlotLB=!0,(c.plotLines||[]).concat(c.plotBands||[]).forEach((function(t){i.addPlotBandOrLine(t)})))}[p,f,m].forEach((function(t){let e=[],i=S.duration;M(t,(function(t,i){t.isActive||(t.render(i,!1,0),t.isActive=!1,e.push(i))})),z((function(){let i=e.length;for(;i--;)t[e[i]]&&!t[e[i]].isActive&&(t[e[i]].destroy(),delete t[e[i]])}),t!==m&&n.hasRendered&&i?i:0)})),b&&(b[b.isPlaced?"animate":"attr"]({d:this.getLinePath(b.strokeWidth())}),b.isPlaced=!0,b[w?"show":"hide"](w)),d&&w&&(d[d.isNew?"attr":"animate"](i.getTitlePosition(d)),d.isNew=!1),g&&g.enabled&&i.stacking&&i.stacking.renderStackTotals(),i.old={len:i.len,max:i.max,min:i.min,transA:i.transA,userMax:i.userMax,userMin:i.userMin},i.isDirty=!1,_(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach((function(t){t.render()}))),this.series.forEach((function(t){t.isDirty=!0}))}getKeepProps(){return this.keepProps||F.keepProps}destroy(t){let e=this,i=e.plotLinesAndBands,n=this.eventOptions;if(_(this,"destroy",{keepEvents:t}),t||D(e),[e.ticks,e.minorTicks,e.alternateBands].forEach((function(t){y(t)})),i){let t=i.length;for(;t--;)i[t].destroy()}for(let r in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach((function(t){e[t]&&(e[t]=e[t].destroy())})),e.plotLinesAndBandsGroups)e.plotLinesAndBandsGroups[r]=e.plotLinesAndBandsGroups[r].destroy();M(e,(function(t,i){-1===e.getKeepProps().indexOf(i)&&delete e[i]})),this.eventOptions=n}drawCrosshair(t,e){let n,r,s,o,a=this.crosshair,l=P(a&&a.snap,!0),c=this.chart,h=this.cross;if(_(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),a&&!1!==(g(e)||!l)){if(l?g(e)&&(r=P("colorAxis"!==this.coll?e.crosshairPos:null,this.isXAxis?e.plotX:this.len-e.plotY)):r=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),g(r)&&(o={value:e&&(this.isXAxis?e.x:P(e.stackY,e.y)),translatedValue:r},c.polar&&b(o,{isCrosshair:!0,chartX:t&&t.chartX,chartY:t&&t.chartY,point:e}),n=this.getPlotLinePath(o)||null),!g(n))return void this.hideCrosshair();s=this.categories&&!this.isRadial,h||(this.cross=h=c.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(s?"category ":"thin ")+(a.className||"")).attr({zIndex:P(a.zIndex,2)}).add(),!c.styledMode&&(h.attr({stroke:a.color||(s?i.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":P(a.width,1)}).css({"pointer-events":"none"}),a.dashStyle&&h.attr({dashstyle:a.dashStyle}))),h.show().attr({d:n}),s&&!a.width&&h.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();_(this,"afterDrawCrosshair",{e:t,point:e})}hideCrosshair(){this.cross&&this.cross.hide(),_(this,"afterHideCrosshair")}hasVerticalPanning(){let t=this.chart.options.chart.panning;return!!(t&&t.enabled&&/y/.test(t.type))}update(t,e){let i=this.chart;t=A(this.userOptions,t),this.destroy(!0),this.init(i,t),i.isDirtyBox=!0,P(e,!0)&&i.redraw()}remove(t){let e=this.chart,i=this.coll,n=this.series,r=n.length;for(;r--;)n[r]&&n[r].remove(!1);x(e.axes,this),x(e[i]||[],this),e.orderItems(i),this.destroy(),e.isDirtyBox=!0,P(t,!0)&&e.redraw()}setTitle(t,e){this.update({title:t},e)}setCategories(t,e){this.update({categories:t},e)}}return F.defaultOptions=e.defaultXAxisOptions,F.keepProps=["coll","extKey","hcEvents","names","series","userMax","userMin"],F})),i(e,"Core/Axis/DateTimeAxis.js",[e["Core/Utilities.js"]],(function(t){var e;let{addEvent:i,getMagnitude:n,normalizeTickInterval:r,timeUnits:s}=t;return function(e){let o=[];function a(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function l(t){let e=t.userOptions;"datetime"===e.type?this.dateTime||(this.dateTime=new c(this)):this.dateTime=void 0}e.compose=function(e){if(t.pushUnique(o,e)){e.keepProps.push("dateTime");let t=e.prototype;t.getTimeTicks=a,i(e,"init",l)}return e};class c{constructor(t){this.axis=t}normalizeTimeTickInterval(t,e){let i,o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],a=o[o.length-1],l=s[a[0]],c=a[1];for(i=0;i<o.length;i++)if(l=s[(a=o[i])[0]],c=a[1],o[i+1]){let e=(l*c[c.length-1]+s[o[i+1][0]])/2;if(t<=e)break}l===s.year&&t<5*l&&(c=[1,2,5]);let h=r(t/l,c,"year"===a[0]?Math.max(n(t/l),1):1);return{unitRange:l,count:h,unitName:a[0]}}getXDateFormat(t,e){let{axis:i}=this,n=i.chart.time;return i.closestPointRange?n.getDateFormat(i.closestPointRange,t,i.options.startOfWeek,e)||n.resolveDTLFormat(e.year).main:n.resolveDTLFormat(e.day).main}}e.Additions=c}(e||(e={})),e})),i(e,"Core/Axis/LogarithmicAxis.js",[e["Core/Utilities.js"]],(function(t){var e;let{addEvent:i,normalizeTickInterval:n,pick:r}=t;return function(e){let s=[];function o(t){let e=t.userOptions,i=this.logarithmic;"logarithmic"!==e.type?this.logarithmic=void 0:i||(i=this.logarithmic=new l(this))}function a(){let t=this.logarithmic;t&&(this.lin2val=function(e){return t.lin2log(e)},this.val2lin=function(e){return t.log2lin(e)})}e.compose=function(e){return t.pushUnique(s,e)&&(e.keepProps.push("logarithmic"),i(e,"init",o),i(e,"afterInit",a)),e};class l{constructor(t){this.axis=t}getLogTickPositions(t,e,i,s){let o=this.axis,a=o.len,l=o.options,c=[];if(s||(this.minorAutoInterval=void 0),t>=.5)t=Math.round(t),c=o.getLinearTickPositions(t,e,i);else if(t>=.08){let n,r,o,a,l,h,u,d=Math.floor(e);for(n=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],r=d;r<i+1&&!u;r++)for(o=0,a=n.length;o<a&&!u;o++)(l=this.log2lin(this.lin2log(r)*n[o]))>e&&(!s||h<=i)&&void 0!==h&&c.push(h),h>i&&(u=!0),h=l}else{let h=this.lin2log(e),u=this.lin2log(i),d=s?o.getMinorTickInterval():l.tickInterval,p="auto"===d?null:d,f=l.tickPixelInterval/(s?5:1),m=s?a/o.tickPositions.length:a;t=n(t=r(p,this.minorAutoInterval,(u-h)*f/(m||1))),c=o.getLinearTickPositions(t,h,u).map(this.log2lin),s||(this.minorAutoInterval=t/5)}return s||(o.tickInterval=t),c}lin2log(t){return Math.pow(10,t)}log2lin(t){return Math.log(t)/Math.LN10}}e.Additions=l}(e||(e={})),e})),i(e,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[e["Core/Utilities.js"]],(function(t){var e;let{erase:i,extend:n,isNumber:r}=t;return function(e){let s,o=[];function a(t){return this.addPlotBandOrLine(t,"plotBands")}function l(t,e){let i=this.userOptions,n=new s(this,t);if(this.visible&&(n=n.render()),n){if(this._addedPlotLB||(this._addedPlotLB=!0,(i.plotLines||[]).concat(i.plotBands||[]).forEach((t=>{this.addPlotBandOrLine(t)}))),e){let n=i[e]||[];n.push(t),i[e]=n}this.plotLinesAndBands.push(n)}return n}function c(t){return this.addPlotBandOrLine(t,"plotLines")}function h(t,e,i){i=i||this.options;let n,s,o=this.getPlotLinePath({value:e,force:!0,acrossPanes:i.acrossPanes}),a=[],l=this.horiz,c=!r(this.min)||!r(this.max)||t<this.min&&e<this.min||t>this.max&&e>this.max,h=this.getPlotLinePath({value:t,force:!0,acrossPanes:i.acrossPanes}),u=1;if(h&&o)for(c&&(s=h.toString()===o.toString(),u=0),n=0;n<h.length;n+=2){let t=h[n],e=h[n+1],i=o[n],r=o[n+1];("M"===t[0]||"L"===t[0])&&("M"===e[0]||"L"===e[0])&&("M"===i[0]||"L"===i[0])&&("M"===r[0]||"L"===r[0])&&(l&&i[1]===t[1]?(i[1]+=u,r[1]+=u):l||i[2]!==t[2]||(i[2]+=u,r[2]+=u),a.push(["M",t[1],t[2]],["L",e[1],e[2]],["L",r[1],r[2]],["L",i[1],i[2]],["Z"])),a.isFlat=s}else h=null;return a}function u(t){this.removePlotBandOrLine(t)}function d(t){let e=this.plotLinesAndBands,n=this.options,r=this.userOptions;if(e){let s=e.length;for(;s--;)e[s].id===t&&e[s].destroy();[n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]].forEach((function(e){for(s=e.length;s--;)(e[s]||{}).id===t&&i(e,e[s])}))}}function p(t){this.removePlotBandOrLine(t)}e.compose=function(e,i){return s||(s=e),t.pushUnique(o,i)&&n(i.prototype,{addPlotBand:a,addPlotLine:c,addPlotBandOrLine:l,getPlotBandPath:h,removePlotBand:u,removePlotLine:p,removePlotBandOrLine:d}),i}}(e||(e={})),e})),i(e,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[e["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],e["Core/Utilities.js"]],(function(t,e){let{arrayMax:i,arrayMin:n,defined:r,destroyObjectProperties:s,erase:o,fireEvent:a,merge:l,objectEach:c,pick:h}=e;class u{static compose(e){return t.compose(u,e)}constructor(t,e){this.id=void 0,this.axis=t,e&&(this.options=e,this.id=e.id)}render(){a(this,"render");let t,e=this,i=e.axis,n=i.horiz,s=i.logarithmic,o=e.options,u=o.color,d=h(o.zIndex,0),p=o.events,f={},m=i.chart.renderer,g=o.label,y=e.label,x=o.to,v=o.from,b=o.value,_=e.svgElem,w=[],S=r(v)&&r(x),C=r(b),T=!_,k={class:"highcharts-plot-"+(S?"band ":"line ")+(o.className||"")},A=S?"bands":"lines";if(s&&(v=s.log2lin(v),x=s.log2lin(x),b=s.log2lin(b)),!i.chart.styledMode&&(C?(k.stroke=u||"#999999",k["stroke-width"]=h(o.width,1),o.dashStyle&&(k.dashstyle=o.dashStyle)):S&&(k.fill=u||"#e6e9ff",o.borderWidth&&(k.stroke=o.borderColor,k["stroke-width"]=o.borderWidth))),f.zIndex=d,A+="-"+d,(t=i.plotLinesAndBandsGroups[A])||(i.plotLinesAndBandsGroups[A]=t=m.g("plot-"+A).attr(f).add()),T&&(e.svgElem=_=m.path().attr(k).add(t)),C)w=i.getPlotLinePath({value:b,lineWidth:_.strokeWidth(),acrossPanes:o.acrossPanes});else{if(!S)return;w=i.getPlotBandPath(v,x,o)}return!e.eventsAdded&&p&&(c(p,(function(t,i){_.on(i,(function(t){p[i].apply(e,[t])}))})),e.eventsAdded=!0),(T||!_.d)&&w&&w.length?_.attr({d:w}):_&&(w?(_.show(),_.animate({d:w})):_.d&&(_.hide(),y&&(e.label=y=y.destroy()))),g&&(r(g.text)||r(g.formatter))&&w&&w.length&&i.width>0&&i.height>0&&!w.isFlat?(g=l({align:n&&S&&"center",x:n?!S&&4:10,verticalAlign:!n&&S&&"middle",y:n?S?16:10:S?6:-4,rotation:n&&!S&&90},g),this.renderLabel(g,w,S,d)):y&&y.hide(),e}renderLabel(t,e,r,s){let o=this.axis,a=o.chart.renderer,c=this.label;c||(this.label=c=a.text(this.getLabelText(t),0,0,t.useHTML).attr({align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||""),zIndex:s}),o.chart.styledMode||c.css(l({fontSize:"0.8em",textOverflow:"ellipsis"},t.style)),c.add());let h=e.xBounds||[e[0][1],e[1][1],r?e[2][1]:e[0][1]],u=e.yBounds||[e[0][2],e[1][2],r?e[2][2]:e[0][2]],d=n(h),p=n(u);if(c.align(t,!1,{x:d,y:p,width:i(h)-d,height:i(u)-p}),!c.alignValue||"left"===c.alignValue){let e=t.clip?o.width:o.chart.chartWidth;c.css({width:(90===c.rotation?o.height-(c.alignAttr.y-o.top):e-(c.alignAttr.x-o.left))+"px"})}c.show(!0)}getLabelText(t){return r(t.formatter)?t.formatter.call(this):t.text}destroy(){o(this.axis.plotLinesAndBands,this),delete this.axis,s(this)}}return u})),i(e,"Core/Tooltip.js",[e["Core/Templating.js"],e["Core/Globals.js"],e["Core/Renderer/RendererUtilities.js"],e["Core/Renderer/RendererRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r){let{format:s}=t,{doc:o,isSafari:a}=e,{distribute:l}=i,{addEvent:c,clamp:h,css:u,discardElement:d,extend:p,fireEvent:f,isArray:m,isNumber:g,isString:y,merge:x,pick:v,splat:b,syncTimeout:_}=r;class w{constructor(t,e){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=t,this.init(t,e)}bodyFormatter(t){return t.map((function(t){let e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"]||"")}))}cleanSplit(t){this.chart.series.forEach((function(e){let i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)}))}defaultFormatter(t){let e,i=this.points||b(this);return(e=(e=[t.tooltipFooterHeaderFormatter(i[0])]).concat(t.bodyFormatter(i))).push(t.tooltipFooterHeaderFormatter(i[0],!0)),e}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),d(this.container)),r.clearTimeout(this.hideTimer),r.clearTimeout(this.tooltipTimeout)}getAnchor(t,e){let i,n=this.chart,r=n.pointer,s=n.inverted,o=n.plotTop,a=n.plotLeft;if((t=b(t))[0].series&&t[0].series.yAxis&&!t[0].series.yAxis.options.reversedStacks&&(t=t.slice().reverse()),this.followPointer&&e)void 0===e.chartX&&(e=r.normalize(e)),i=[e.chartX-a,e.chartY-o];else if(t[0].tooltipPos)i=t[0].tooltipPos;else{let n=0,r=0;t.forEach((function(t){let e=t.pos(!0);e&&(n+=e[0],r+=e[1])})),n/=t.length,r/=t.length,this.shared&&t.length>1&&e&&(s?n=e.chartX:r=e.chartY),i=[n-a,r-o]}return i.map(Math.round)}getClassName(t,e,i){let n=this.options,r=t.series,s=r.options;return[n.className,"highcharts-label",i&&"highcharts-tooltip-header",e?"highcharts-tooltip-box":"highcharts-tooltip",!i&&"highcharts-color-"+v(t.colorIndex,r.colorIndex),s&&s.className].filter(y).join(" ")}getLabel(){let t=this,i=this.chart.styledMode,r=this.options,s=this.split&&this.allowShared,o=this.container,a=this.chart.renderer;if(this.label){let t=!this.label.hasClass("highcharts-label");(!s&&t||s&&!t)&&this.destroy()}if(!this.label){if(this.outside){let t=this.chart.options.chart.style,i=n.getRendererType();this.container=o=e.doc.createElement("div"),o.className="highcharts-tooltip-container",u(o,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(t&&t.zIndex||0)+3)}),this.renderer=a=new i(o,0,0,t,void 0,void 0,a.styledMode)}if(s?this.label=a.g("tooltip"):(this.label=a.label("",0,0,r.shape,void 0,void 0,r.useHTML,void 0,"tooltip").attr({padding:r.padding,r:r.borderRadius}),i||this.label.attr({fill:r.backgroundColor,"stroke-width":r.borderWidth||0}).css(r.style).css({pointerEvents:r.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),t.outside){let e=this.label,{xSetter:i,ySetter:n}=e;e.xSetter=function(n){i.call(e,t.distance),o&&(o.style.left=n+"px")},e.ySetter=function(i){n.call(e,t.distance),o&&(o.style.top=i+"px")}}this.label.attr({zIndex:8}).shadow(r.shadow).add()}return o&&!o.parentElement&&e.doc.body.appendChild(o),this.label}getPlayingField(){let{body:t,documentElement:e}=o,{chart:i,distance:n,outside:r}=this;return{width:r?Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,e.clientWidth)-2*n:i.chartWidth,height:r?Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,e.clientHeight):i.chartHeight}}getPosition(t,e,i){let n,r=this.chart,s=this.distance,o={},a=r.inverted&&i.h||0,l=this.outside,c=this.getPlayingField(),h=c.width,u=c.height,d=r.pointer.getChartPosition(),p=t=>t*d.scaleX,f=t=>t*d.scaleY,m=n=>{let o="x"===n;return[n,o?h:u,o?t:e].concat(l?[o?p(t):f(e),o?d.left-s+p(i.plotX+r.plotLeft):d.top-s+f(i.plotY+r.plotTop),0,o?h:u]:[o?t:e,o?i.plotX+r.plotLeft:i.plotY+r.plotTop,o?r.plotLeft:r.plotTop,o?r.plotLeft+r.plotWidth:r.plotTop+r.plotHeight])},g=m("y"),y=m("x"),x=!!i.negative;!r.polar&&r.hoverSeries&&r.hoverSeries.yAxis&&r.hoverSeries.yAxis.reversed&&(x=!x);let b=!this.followPointer&&v(i.ttBelow,!r.inverted===x),_=function(t,e,i,n,r,c,h){let u=l?"y"===t?f(s):p(s):s,d=(i-n)/2,m=n<r-s,g=r+s+n<e,y=r-u-i+d,x=r+u-d;if(b&&g)o[t]=x;else if(!b&&m)o[t]=y;else if(m)o[t]=Math.min(h-n,y-a<0?y:y-a);else{if(!g)return!1;o[t]=Math.max(c,x+a+i>e?x:x+a)}},w=function(t,e,i,n,r){let a;return r<s||r>e-s?a=!1:o[t]=r<i/2?1:r>e-n/2?e-n-2:r-i/2,a},S=function(t){let e=g;g=y,y=e,n=t},C=function(){!1!==_.apply(0,g)?!1!==w.apply(0,y)||n||(S(!0),C()):n?o.x=o.y=0:(S(!0),C())};return(r.inverted||this.len>1)&&S(),C(),o}hide(t){let e=this;r.clearTimeout(this.hideTimer),t=v(t,this.options.hideDelay),this.isHidden||(this.hideTimer=_((function(){let i=e.getLabel();e.getLabel().animate({opacity:0},{duration:t?150:t,complete:()=>{i.hide(),e.container&&e.container.remove()}}),e.isHidden=!0}),t))}init(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted&&!t.polar,this.shared=e.shared||this.split,this.outside=v(e.outside,!(!t.scrollablePixelsX&&!t.scrollablePixelsY))}shouldStickOnContact(t){return!(this.followPointer||!this.options.stickOnContact||t&&!this.chart.pointer.inClass(t.target,"highcharts-tooltip"))}move(t,e,i,n){let s=this,o=s.now,a=!1!==s.options.animation&&!s.isHidden&&(Math.abs(t-o.x)>1||Math.abs(e-o.y)>1),l=s.followPointer||s.len>1;p(o,{x:a?(2*o.x+t)/3:t,y:a?(o.y+e)/2:e,anchorX:l?void 0:a?(2*o.anchorX+i)/3:i,anchorY:l?void 0:a?(o.anchorY+n)/2:n}),s.getLabel().attr(o),s.drawTracker(),a&&(r.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){s&&s.move(t,e,i,n)}),32))}refresh(t,e){let i=this.chart,n=this.options,o=i.pointer,a=b(t),l=a[0],c=[],h=n.format,u=n.formatter||this.defaultFormatter,d=this.shared,p=i.styledMode,g={};if(!n.enabled||!l.series)return;r.clearTimeout(this.hideTimer),this.allowShared=!(!m(t)&&t.series&&t.series.noSharedTooltip),this.followPointer=!this.split&&l.series.tooltipOptions.followPointer;let x=this.getAnchor(t,e),_=x[0],w=x[1];d&&this.allowShared?(o.applyInactiveState(a),a.forEach((function(t){t.setState("hover"),c.push(t.getLabelConfig())})),(g=l.getLabelConfig()).points=c):g=l.getLabelConfig(),this.len=c.length;let S=y(h)?s(h,g,i):u.call(g,this),C=l.series;if(this.distance=v(C.tooltipOptions.distance,16),!1===S)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(S,a);else{let t=_,r=w;if(e&&o.isDirectTouch&&(t=e.chartX-i.plotLeft,r=e.chartY-i.plotTop),!i.polar&&!1!==C.options.clip&&!a.some((e=>o.isDirectTouch||e.series.shouldShowTooltip(t,r))))return void this.hide();{let t=this.getLabel();(!n.style.width||p)&&t.css({width:(this.outside?this.getPlayingField():i.spacingBox).width+"px"}),t.attr({text:S&&S.join?S.join(""):S}),t.addClass(this.getClassName(l),!0),p||t.attr({stroke:n.borderColor||l.color||C.color||"#666666"}),this.updatePosition({plotX:_,plotY:w,negative:l.negative,ttBelow:l.ttBelow,h:x[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}f(this,"refresh")}renderSplit(t,e){let i=this,{chart:n,chart:{chartWidth:r,chartHeight:s,plotHeight:c,plotLeft:u,plotTop:d,pointer:f,scrollablePixelsY:m=0,scrollablePixelsX:g,scrollingContainer:{scrollLeft:x,scrollTop:b}={scrollLeft:0,scrollTop:0},styledMode:_},distance:w,options:S,options:{positioner:C}}=i,T=i.outside&&"number"!=typeof g?o.documentElement.getBoundingClientRect():{left:x,right:x+r,top:b,bottom:b+s},k=i.getLabel(),A=this.renderer||n.renderer,I=!(!n.xAxis[0]||!n.xAxis[0].opposite),{left:M,top:P}=f.getChartPosition(),E=d+b,D=0,L=c-m;function z(t,e,n,r,s=!0){let o,a;return n?(o=I?0:L,a=h(t-r/2,T.left,T.right-r-(i.outside?M:0))):(o=e-E,a=h(a=s?t-r-w:t+w,s?a:T.left,T.right)),{x:a,y:o}}y(t)&&(t=[!1,t]);let O=t.slice(0,e.length+1).reduce((function(t,n,r){if(!1!==n&&""!==n){let s=e[r-1]||{isHeader:!0,plotX:e[0].plotX,plotY:c,series:{}},o=s.isHeader,a=o?i:s.series,l=a.tt=function(t,e,n){let r=t,{isHeader:s,series:o}=e;if(!r){let t={padding:S.padding,r:S.borderRadius};_||(t.fill=S.backgroundColor,t["stroke-width"]=S.borderWidth??1),r=A.label("",0,0,S[s?"headerShape":"shape"],void 0,void 0,S.useHTML).addClass(i.getClassName(e,!0,s)).attr(t).add(k)}return r.isActive=!0,r.attr({text:n}),_||r.css(S.style).attr({stroke:S.borderColor||e.color||o.color||"#333333"}),r}(a.tt,s,n.toString()),p=l.getBBox(),f=p.width+l.strokeWidth();o&&(D=p.height,L+=D,I&&(E-=D));let{anchorX:m,anchorY:g}=function(t){let e,i,{isHeader:n,plotX:r=0,plotY:s=0,series:o}=t;if(n)e=Math.max(u+r,u),i=d+c/2;else{let{xAxis:t,yAxis:n}=o;e=t.pos+h(r,-w,t.len+w),o.shouldShowTooltip(0,n.pos-d+s,{ignoreX:!0})&&(i=n.pos+s)}return{anchorX:e=h(e,T.left-w,T.right+w),anchorY:i}}(s);if("number"==typeof g){let e=p.height+1,n=C?C.call(i,f,e,s):z(m,g,o,f);t.push({align:C?0:void 0,anchorX:m,anchorY:g,boxWidth:f,point:s,rank:v(n.rank,o?1:0),size:e,target:n.y,tt:l,x:n.x})}else l.isActive=!1}return t}),[]);!C&&O.some((t=>{let{outside:e}=i,n=(e?M:0)+t.anchorX;return n<T.left&&n+t.boxWidth<T.right||n<M-T.left+t.boxWidth&&T.right-n>n}))&&(O=O.map((t=>{let{x:e,y:i}=z(t.anchorX,t.anchorY,t.point.isHeader,t.boxWidth,!1);return p(t,{target:i,x:e})}))),i.cleanSplit(),l(O,L);let F={left:M,right:M};O.forEach((function(t){let{x:e,boxWidth:n,isHeader:r}=t;!r&&(i.outside&&M+e<F.left&&(F.left=M+e),!r&&i.outside&&F.left+n>F.right&&(F.right=M+e))})),O.forEach((function(t){let{x:e,anchorX:n,anchorY:r,pos:s,point:{isHeader:o}}=t,a={visibility:void 0===s?"hidden":"inherit",x:e,y:(s||0)+E,anchorX:n,anchorY:r};if(i.outside&&e<n){let t=M-F.left;t>0&&(o||(a.x=e+t,a.anchorX=n+t),o&&(a.x=(F.right-F.left)/2,a.anchorX=n+t))}t.tt.attr(a)}));let{container:R,outside:B,renderer:N}=i;if(B&&R&&N){let{width:t,height:e,x:i,y:n}=k.getBBox();N.setSize(t+i,e+n,!1),R.style.left=F.left+"px",R.style.top=P+"px"}a&&k.attr({opacity:1===k.opacity?.999:1})}drawTracker(){if(!this.shouldStickOnContact())return void(this.tracker&&(this.tracker=this.tracker.destroy()));let t=this.chart,e=this.label,i=this.shared?t.hoverPoints:t.hoverPoint;if(!e||!i)return;let n={x:0,y:0,width:0,height:0},r=this.getAnchor(i),s=e.getBBox();r[0]+=t.plotLeft-(e.translateX||0),r[1]+=t.plotTop-(e.translateY||0),n.x=Math.min(0,r[0]),n.y=Math.min(0,r[1]),n.width=r[0]<0?Math.max(Math.abs(r[0]),s.width-r[0]):Math.max(Math.abs(r[0]),s.width),n.height=r[1]<0?Math.max(Math.abs(r[1]),s.height-Math.abs(r[1])):Math.max(Math.abs(r[1]),s.height),this.tracker?this.tracker.attr(n):(this.tracker=e.renderer.rect(n).addClass("highcharts-tracker").add(e),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(t){return t.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(t,e){let i=t.series,n=i.tooltipOptions,r=i.xAxis,o=r&&r.dateTime,a={isFooter:e,labelConfig:t},l=n.xDateFormat,c=n[e?"footerFormat":"headerFormat"];return f(this,"headerFormatter",a,(function(e){o&&!l&&g(t.key)&&(l=o.getXDateFormat(t.key,n.dateTimeLabelFormats)),o&&l&&(t.point&&t.point.tooltipDateKeys||["key"]).forEach((function(t){c=c.replace("{point."+t+"}","{point."+t+":"+l+"}")})),i.chart.styledMode&&(c=this.styledModeFormat(c)),e.text=s(c,{point:t,series:i},this.chart)})),a.text}update(t){this.destroy(),this.init(this.chart,x(!0,this.options,t))}updatePosition(t){let e,{chart:i,container:n,distance:r,options:s,renderer:o}=this,{height:a=0,width:l=0}=this.getLabel(),c=i.pointer,{left:h,top:d,scaleX:p,scaleY:f}=c.getChartPosition(),m=(s.positioner||this.getPosition).call(this,l,a,t),g=(t.plotX||0)+i.plotLeft,y=(t.plotY||0)+i.plotTop;o&&n&&(s.positioner&&(m.x+=h-r,m.y+=d-r),e=(s.borderWidth||0)+2*r+2,o.setSize(l+e,a+e,!1),(1!==p||1!==f)&&(u(n,{transform:`scale(${p}, ${f})`}),g*=p,y*=f),g+=h-m.x,y+=d-m.y),this.move(Math.round(m.x),Math.round(m.y||0),g,y)}}return function(t){let e=[];t.compose=function(i){r.pushUnique(e,i)&&c(i,"afterInit",(function(){let e=this.chart;e.options.tooltip&&(e.tooltip=new t(e,e.options.tooltip))}))}}(w||(w={})),w})),i(e,"Core/Series/Point.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Animation/AnimationUtilities.js"],e["Core/Defaults.js"],e["Core/Templating.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r){let{animObject:s}=e,{defaultOptions:o}=i,{format:a}=n,{addEvent:l,defined:c,erase:h,extend:u,fireEvent:d,getNestedProperty:p,isArray:f,isFunction:m,isNumber:g,isObject:y,merge:x,objectEach:v,pick:b,syncTimeout:_,removeEvent:w,uniqueKey:S}=r;class C{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.name=void 0,this.options=void 0,this.percentage=void 0,this.selected=!1,this.series=void 0,this.shapeArgs=void 0,this.total=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){let t=this,e={x:t.startXPos,opacity:0},i=t.getGraphicalProps();i.singular.forEach((function(i){t[i]=t[i].animate("dataLabel"===i?{x:t[i].startXPos,y:t[i].startYPos,opacity:0}:e)})),i.plural.forEach((function(e){t[e].forEach((function(e){e.element&&e.animate(u({x:t.startXPos},e.startYPos?{x:e.startXPos,y:e.startYPos}:{}))}))}))}applyOptions(t,e){let i=this.series,n=i.options.pointValKey||i.pointValKey;return u(this,t=C.prototype.optionsToObject.call(this,t)),this.options=this.options?u(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,n&&(this.y=C.prototype.getNestedProperty.call(this,n)),this.selected&&(this.state="select"),"name"in this&&void 0===e&&i.xAxis&&i.xAxis.hasNames&&(this.x=i.xAxis.nameToX(this)),void 0===this.x&&i?this.x=void 0===e?i.autoIncrement():e:g(t.x)&&i.options.relativeXValue&&(this.x=i.autoIncrement(t.x)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let t=this,e=t.series,i=e.chart,n=e.options.dataSorting,r=i.hoverPoints,o=t.series.chart.renderer.globalAnimation,a=s(o),l=()=>{for(let e in(t.graphic||t.graphics||t.dataLabel||t.dataLabels)&&(w(t),t.destroyElements()),t)delete t[e]};t.legendItem&&i.legend.destroyItem(t),r&&(t.setState(),h(r,t),r.length||(i.hoverPoints=null)),t===i.hoverPoint&&t.onMouseOut(),n&&n.enabled?(this.animateBeforeDestroy(),_(l,a.duration)):l(),i.pointCount--}this.destroyed=!0}destroyElements(t){let e=this,i=e.getGraphicalProps(t);i.singular.forEach((function(t){e[t]=e[t].destroy()})),i.plural.forEach((function(t){e[t].forEach((function(t){t&&t.element&&t.destroy()})),delete e[t]}))}firePointEvent(t,e,i){let n=this,r=this.series,s=r.options;(s.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&n.importEvents(),"click"===t&&s.allowPointSelect&&(i=function(t){!n.destroyed&&n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),d(n,t,e,i)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(t){let e,i,n=this,r=[],s={singular:[],plural:[]};for((t=t||{graphic:1,dataLabel:1}).graphic&&r.push("graphic","connector"),t.dataLabel&&r.push("dataLabel","dataLabelPath","dataLabelUpper"),i=r.length;i--;)n[e=r[i]]&&s.singular.push(e);return["graphic","dataLabel"].forEach((function(e){let i=e+"s";t[e]&&n[i]&&s.plural.push(i)})),s}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(t){return t?0===t.indexOf("custom.")?p(t,this.options):this[t]:void 0}getZone(){let t,e=this.series,i=e.zones,n=e.zoneAxis||"y",r=0;for(t=i[0];this[n]>=t.value;)t=i[++r];return this.nonZonedColor||(this.nonZonedColor=this.color),t&&t.color&&!this.options.color?this.color=t.color:this.color=this.nonZonedColor,t}hasNewShapeType(){let t=this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName);return t!==this.shapeType}init(t,e,i){return this.series=t,this.applyOptions(e,i),this.id=c(this.id)?this.id:S(),this.resolveColor(),t.chart.pointCount++,d(this,"afterInit"),this}isValid(){return(g(this.x)||this.x instanceof Date)&&g(this.y)}optionsToObject(t){let e,i=this.series,n=i.options.keys,r=n||i.pointArrayMap||["y"],s=r.length,o={},a=0,l=0;if(g(t)||null===t)o[r[0]]=t;else if(f(t))for(!n&&t.length>s&&("string"==(e=typeof t[0])?o.name=t[0]:"number"===e&&(o.x=t[0]),a++);l<s;)n&&void 0===t[a]||(r[l].indexOf(".")>0?C.prototype.setNestedProperty(o,t[a],r[l]):o[r[l]]=t[a]),a++,l++;else"object"==typeof t&&(o=t,t.dataLabels&&(i.hasDataLabels=()=>!0),t.marker&&(i._hasPointMarkers=!0));return o}pos(t,e=this.plotY){if(!this.destroyed){let{plotX:i,series:n}=this,{chart:r,xAxis:s,yAxis:o}=n,a=0,l=0;if(g(i)&&g(e))return t&&(a=s?s.pos:r.plotLeft,l=o?o.pos:r.plotTop),r.inverted&&s&&o?[o.len-e+l,s.len-i+a]:[i+a,e+l]}}resolveColor(){let t,e,i,n=this.series,r=n.chart.options.chart,s=n.chart.styledMode,o=r.colorCount;delete this.nonZonedColor,n.options.colorByPoint?(s||(t=(e=n.options.colors||n.chart.options.colors)[n.colorCounter],o=e.length),i=n.colorCounter,n.colorCounter++,n.colorCounter===o&&(n.colorCounter=0)):(s||(t=n.color),i=n.colorIndex),this.colorIndex=b(this.options.colorIndex,i),this.color=b(this.options.color,t)}setNestedProperty(t,e,i){let n=i.split(".");return n.reduce((function(t,i,n,r){let s=r.length-1===n;return t[i]=s?e:y(t[i],!0)?t[i]:{},t[i]}),t),t}shouldDraw(){return!this.isNull}tooltipFormatter(t){let e=this.series,i=e.tooltipOptions,n=b(i.valueDecimals,""),r=i.valuePrefix||"",s=i.valueSuffix||"";return e.chart.styledMode&&(t=e.chart.tooltip.styledModeFormat(t)),(e.pointArrayMap||["y"]).forEach((function(e){e="{point."+e,(r||s)&&(t=t.replace(RegExp(e+"}","g"),r+e+"}"+s)),t=t.replace(RegExp(e+"}","g"),e+":,."+n+"f}")})),a(t,{point:this,series:this.series},e.chart)}update(t,e,i,n){let r,s=this,o=s.series,a=s.graphic,l=o.chart,c=o.options;function h(){s.applyOptions(t);let n=a&&s.hasMockGraphic,h=null===s.y?!n:n;a&&h&&(s.graphic=a.destroy(),delete s.hasMockGraphic),y(t,!0)&&(a&&a.element&&t&&t.marker&&void 0!==t.marker.symbol&&(s.graphic=a.destroy()),t?.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy())),r=s.index,o.updateParallelArrays(s,r),c.data[r]=y(c.data[r],!0)||y(t,!0)?s.options:b(t,c.data[r]),o.isDirty=o.isDirtyData=!0,!o.fixedBox&&o.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===c.legendType&&(l.isDirtyLegend=!0),e&&l.redraw(i)}e=b(e,!0),!1===n?h():s.firePointEvent("update",{options:t},h)}remove(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}select(t,e){let i=this,n=i.series,r=n.chart;t=b(t,!i.selected),this.selectedStaging=t,i.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){i.selected=i.options.selected=t,n.options.data[n.data.indexOf(i)]=i.options,i.setState(t&&"select"),e||r.getSelectedPoints().forEach((function(t){let e=t.series;t.selected&&t!==i&&(t.selected=t.options.selected=!1,e.options.data[e.data.indexOf(t)]=t.options,t.setState(r.hoverPoints&&e.options.inactiveOtherPoints?"inactive":""),t.firePointEvent("unselect"))}))})),delete this.selectedStaging}onMouseOver(t){let e=this.series,i=e.chart,n=i.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(this,i.inverted),n.runPointActions(t,this)}onMouseOut(){let t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach((function(t){t.setState()})),t.hoverPoints=t.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){let t=this,e=x(t.series.options.point,t.options),i=e.events;t.events=i,v(i,(function(e,i){m(e)&&l(t,i,e)})),this.hasImportedEvents=!0}}setState(e,i){let n,r,s,a,l=this.series,c=this.state,h=l.options.states[e||"normal"]||{},p=o.plotOptions[l.type].marker&&l.options.marker,f=p&&!1===p.enabled,m=p&&p.states&&p.states[e||"normal"]||{},y=!1===m.enabled,x=this.marker||{},v=l.chart,_=p&&l.markerAttribs,w=l.halo,S=l.stateMarkerGraphic;if((e=e||"")===this.state&&!i||this.selected&&"select"!==e||!1===h.enabled||e&&(y||f&&!1===m.enabled)||e&&x.states&&x.states[e]&&!1===x.states[e].enabled)return;if(this.state=e,_&&(n=l.markerAttribs(this,e)),this.graphic&&!this.hasMockGraphic){if(c&&this.graphic.removeClass("highcharts-point-"+c),e&&this.graphic.addClass("highcharts-point-"+e),!v.styledMode){r=l.pointAttribs(this,e),s=b(v.options.chart.animation,h.animation);let t=r.opacity;l.options.inactiveOtherPoints&&g(t)&&(this.dataLabels||[]).forEach((function(e){e&&!e.hasClass("highcharts-data-label-hidden")&&(e.animate({opacity:t},s),e.connector&&e.connector.animate({opacity:t},s))})),this.graphic.animate(r,s)}n&&this.graphic.animate(n,b(v.options.chart.animation,m.animation,p.animation)),S&&S.hide()}else e&&m&&(a=x.symbol||l.symbol,S&&S.currentSymbol!==a&&(S=S.destroy()),n&&(S?S[i?"animate":"attr"]({x:n.x,y:n.y}):a&&(l.stateMarkerGraphic=S=v.renderer.symbol(a,n.x,n.y,n.width,n.height).add(l.markerGroup),S.currentSymbol=a)),!v.styledMode&&S&&"inactive"!==this.state&&S.attr(l.pointAttribs(this,e))),S&&(S[e&&this.isInside?"show":"hide"](),S.element.point=this,S.addClass(this.getClassName(),!0));let C=h.halo,T=this.graphic||S,k=T&&T.visibility||"inherit";C&&C.size&&T&&"hidden"!==k&&!this.isCluster?(w||(l.halo=w=v.renderer.path().add(T.parentGroup)),w.show()[i?"animate":"attr"]({d:this.haloPath(C.size)}),w.attr({class:"highcharts-halo highcharts-color-"+b(this.colorIndex,l.colorIndex)+(this.className?" "+this.className:""),visibility:k,zIndex:-1}),w.point=this,v.styledMode||w.attr(u({fill:this.color||l.color,"fill-opacity":C.opacity},t.filterUserAttributes(C.attributes||{})))):w&&w.point&&w.point.haloPath&&w.animate({d:w.point.haloPath(0)},null,w.hide),d(this,"afterSetState",{state:e})}haloPath(t){let e=this.pos();return e?this.series.chart.renderer.symbols.circle(Math.floor(e[0])-t,e[1]-t,2*t,2*t):[]}}return C})),i(e,"Core/Pointer.js",[e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,i){let{parse:n}=t,{charts:r,noop:s}=e,{addEvent:o,attr:a,css:l,defined:c,extend:h,find:u,fireEvent:d,isNumber:p,isObject:f,objectEach:m,offset:g,pick:y,splat:x}=i;class v{constructor(t,e){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=t,this.hasDragged=!1,this.options=e,this.init(t,e)}applyInactiveState(t){let e,i=[];(t||[]).forEach((function(t){e=t.series,i.push(e),e.linkedParent&&i.push(e.linkedParent),e.linkedSeries&&(i=i.concat(e.linkedSeries)),e.navigatorSeries&&i.push(e.navigatorSeries)})),this.chart.series.forEach((function(t){-1===i.indexOf(t)?t.setState("inactive",!0):t.options.inactiveOtherPoints&&t.setAllPointsToState("inactive")}))}destroy(){let t=this;this.eventsToUnbind.forEach((t=>t())),this.eventsToUnbind=[],!e.chartCount&&(v.unbindDocumentMouseUp&&(v.unbindDocumentMouseUp=v.unbindDocumentMouseUp()),v.unbindDocumentTouchEnd&&(v.unbindDocumentTouchEnd=v.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),m(t,(function(e,i){t[i]=void 0}))}getSelectionMarkerAttrs(t,e){let i={args:{chartX:t,chartY:e},attrs:{},shapeType:"rect"};return d(this,"getSelectionMarkerAttrs",i,(i=>{let n,{chart:r,mouseDownX:s=0,mouseDownY:o=0,zoomHor:a,zoomVert:l}=this,c=i.attrs;c.x=r.plotLeft,c.y=r.plotTop,c.width=a?1:r.plotWidth,c.height=l?1:r.plotHeight,a&&(n=t-s,c.width=Math.abs(n),c.x=(n>0?0:n)+s),l&&(n=e-o,c.height=Math.abs(n),c.y=(n>0?0:n)+o)})),i}drag(t){let e,i=this.chart,r=i.options.chart,s=i.plotLeft,o=i.plotTop,a=i.plotWidth,l=i.plotHeight,c=this.mouseDownX||0,h=this.mouseDownY||0,u=f(r.panning)?r.panning&&r.panning.enabled:r.panning,d=r.panKey&&t[r.panKey+"Key"],p=t.chartX,m=t.chartY,g=this.selectionMarker;if((!g||!g.touch)&&(p<s?p=s:p>s+a&&(p=s+a),m<o?m=o:m>o+l&&(m=o+l),this.hasDragged=Math.sqrt(Math.pow(c-p,2)+Math.pow(h-m,2)),this.hasDragged>10)){e=i.isInsidePlot(c-s,h-o,{visiblePlotOnly:!0});let{shapeType:a,attrs:l}=this.getSelectionMarkerAttrs(p,m);(i.hasCartesianSeries||i.mapView)&&(this.zoomX||this.zoomY)&&e&&!d&&!g&&(this.selectionMarker=g=i.renderer[a](),g.attr({class:"highcharts-selection-marker",zIndex:7}).add(),i.styledMode||g.attr({fill:r.selectionMarkerFill||n("#334eff").setOpacity(.25).get()})),g&&g.attr(l),e&&!g&&u&&i.pan(t,r.panning)}}dragStart(t){let e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY}getSelectionBox(t){let e={args:{marker:t},result:{}};return d(this,"getSelectionBox",e,(e=>{e.result={x:t.attr?+t.attr("x"):t.x,y:t.attr?+t.attr("y"):t.y,width:t.attr?t.attr("width"):t.width,height:t.attr?t.attr("height"):t.height}})),e.result}drop(t){let e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){let{x:r,y:s,width:o,height:a}=this.getSelectionBox(this.selectionMarker),l={originalEvent:t,xAxis:[],yAxis:[],x:r,y:s,width:o,height:a},u=!!i.mapView;(this.hasDragged||n)&&(i.axes.forEach((function(i){if(i.zoomEnabled&&c(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])&&p(r)&&p(s)&&p(o)&&p(a)){let e=i.horiz,n="touchend"===t.type?i.minPixelPadding:0,c=i.toValue((e?r:s)+n),h=i.toValue((e?r+o:s+a)-n);l[i.coll].push({axis:i,min:Math.min(c,h),max:Math.max(c,h)}),u=!0}})),u&&d(i,"selection",l,(function(t){i.zoom(h(t,n?{animation:!1}:null))}))),p(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),n&&this.scaleGroups()}i&&p(i.index)&&(l(i.container,{cursor:i._cursor}),i.cancelClick=+this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(t,e,i){let n;return t.forEach((function(t){let r=t.noSharedTooltip&&e,s=!r&&0>t.options.findNearestPointBy.indexOf("y"),o=t.searchPoint(i,s);f(o,!0)&&o.series&&(!f(n,!0)||function(t,i){let n=t.distX-i.distX,r=t.dist-i.dist,s=(i.series.group&&i.series.group.zIndex)-(t.series.group&&t.series.group.zIndex);return 0!==n&&e?n:0!==r?r:0!==s?s:t.series.index>i.series.index?-1:1}(n,o)>0)&&(n=o)})),n}getChartCoordinatesFromPoint(t,e){let i=t.series,n=i.xAxis,r=i.yAxis,s=t.shapeArgs;if(n&&r){let i=y(t.clientX,t.plotX),o=t.plotY||0;return t.isNode&&s&&p(s.x)&&p(s.y)&&(i=s.x,o=s.y),e?{chartX:r.len+r.pos-o,chartY:n.len+n.pos-i}:{chartX:i+n.pos,chartY:o+r.pos}}if(s&&s.x&&s.y)return{chartX:s.x,chartY:s.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:t}=this.chart,e=g(t);this.chartPosition={left:e.left,top:e.top,scaleX:1,scaleY:1};let i=t.offsetWidth,n=t.offsetHeight;return i>2&&n>2&&(this.chartPosition.scaleX=e.width/i,this.chartPosition.scaleY=e.height/n),this.chartPosition}getCoordinates(t){let e={xAxis:[],yAxis:[]};return this.chart.axes.forEach((function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})})),e}getHoverData(t,e,i,n,r,s){let o,a=[],l=function(t){return t.visible&&!(!r&&t.directTouch)&&y(t.options.enableMouseTracking,!0)},c=e,h={chartX:s?s.chartX:void 0,chartY:s?s.chartY:void 0,shared:r};d(this,"beforeGetHoverData",h);let p=c&&!c.stickyTracking;o=p?[c]:i.filter((t=>t.stickyTracking&&(h.filter||l)(t)));let m=n&&t||!s?t:this.findNearestKDPoint(o,r,s);return c=m&&m.series,m&&(r&&!c.noSharedTooltip?(o=i.filter((function(t){return h.filter?h.filter(t):l(t)&&!t.noSharedTooltip}))).forEach((function(t){let e=u(t.points,(function(t){return t.x===m.x&&!t.isNull}));f(e)&&(t.boosted&&t.boost&&(e=t.boost.getPoint(e)),a.push(e))})):a.push(m)),d(this,"afterGetHoverData",h={hoverPoint:m}),{hoverPoint:h.hoverPoint,hoverSeries:c,hoverPoints:a}}getPointFromEvent(t){let e,i=t.target;for(;i&&!e;)e=i.point,i=i.parentNode;return e}onTrackerMouseOut(t){let e=this.chart,i=t.relatedTarget,n=e.hoverSeries;this.isDirectTouch=!1,!n||!i||n.stickyTracking||this.inClass(i,"highcharts-tooltip")||this.inClass(i,"highcharts-series-"+n.index)&&this.inClass(i,"highcharts-tracker")||n.onMouseOut()}inClass(t,e){let i,n=t;for(;n;){if(i=a(n,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}n=n.parentElement}}init(t,e){this.options=e,this.chart=t,this.runChartClick=!(!e.chart.events||!e.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),d(this,"afterInit")}normalize(t,e){let i=t.touches,n=i?i.length?i.item(0):y(i.changedTouches,t.changedTouches)[0]:t;e||(e=this.getChartPosition());let r=n.pageX-e.left,s=n.pageY-e.top;return h(t,{chartX:Math.round(r/=e.scaleX),chartY:Math.round(s/=e.scaleY)})}onContainerClick(t){let e=this.chart,i=e.hoverPoint,n=this.normalize(t),r=e.plotLeft,s=e.plotTop;!e.cancelClick&&(i&&this.inClass(n.target,"highcharts-tracker")?(d(i.series,"click",h(n,{point:i})),e.hoverPoint&&i.firePointEvent("click",n)):(h(n,this.getCoordinates(n)),e.isInsidePlot(n.chartX-r,n.chartY-s,{visiblePlotOnly:!0})&&d(e,"click",n)))}onContainerMouseDown(t){let i=1==(1&(t.buttons||t.button));t=this.normalize(t),e.isFirefox&&0!==t.button&&this.onContainerMouseMove(t),(void 0===t.button||i)&&(this.zoomOption(t),i&&t.preventDefault&&t.preventDefault(),this.dragStart(t))}onContainerMouseLeave(t){let e=r[y(v.hoverChartIndex,-1)];t=this.normalize(t),this.onContainerMouseMove(t),e&&t.relatedTarget&&!this.inClass(t.relatedTarget,"highcharts-tooltip")&&(e.pointer.reset(),e.pointer.chartPosition=void 0)}onContainerMouseEnter(t){delete this.chartPosition}onContainerMouseMove(t){let e=this.chart,i=e.tooltip,n=this.normalize(t);this.setHoverChartIndex(t),("mousedown"===e.mouseIsDown||this.touchSelect(n))&&this.drag(n),!e.openMenu&&(this.inClass(n.target,"highcharts-tracker")||e.isInsidePlot(n.chartX-e.plotLeft,n.chartY-e.plotTop,{visiblePlotOnly:!0}))&&(!i||!i.shouldStickOnContact(n))&&(this.inClass(n.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(n))}onDocumentTouchEnd(t){let e=r[y(v.hoverChartIndex,-1)];e&&e.pointer.drop(t)}onContainerTouchMove(t){this.touchSelect(t)?this.onContainerMouseMove(t):this.touch(t)}onContainerTouchStart(t){this.touchSelect(t)?this.onContainerMouseDown(t):(this.zoomOption(t),this.touch(t,!0))}onDocumentMouseMove(t){let e=this.chart,i=e.tooltip,n=this.chartPosition,r=this.normalize(t,n);!n||e.isInsidePlot(r.chartX-e.plotLeft,r.chartY-e.plotTop,{visiblePlotOnly:!0})||i&&i.shouldStickOnContact(r)||this.inClass(r.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(t){let e=r[y(v.hoverChartIndex,-1)];e&&e.pointer.drop(t)}pinch(t){let e=this,i=e.chart,n=e.pinchDown,r=t.touches||[],o=r.length,a=e.lastValidTouch,l=e.hasZoom,c={},u=1===o&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),p={},f=e.chart.tooltip,m=1===o&&y(f&&f.options.followTouchMove,!0),g=e.selectionMarker;o>1?e.initiated=!0:m&&(e.initiated=!1),l&&e.initiated&&!u&&!1!==t.cancelable&&t.preventDefault(),[].map.call(r,(function(t){return e.normalize(t)})),"touchstart"===t.type?([].forEach.call(r,(function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}})),a.x=[n[0].chartX,n[1]&&n[1].chartX],a.y=[n[0].chartY,n[1]&&n[1].chartY],i.axes.forEach((function(t){if(t.zoomEnabled){let e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,r=t.toPixels(Math.min(y(t.options.min,t.dataMin),t.dataMin)),s=t.toPixels(Math.max(y(t.options.max,t.dataMax),t.dataMax)),o=Math.min(r,s),a=Math.max(r,s);e.min=Math.min(t.pos,o-n),e.max=Math.max(t.pos+t.len,a+n)}})),e.res=!0):m?this.runPointActions(e.normalize(t)):n.length&&(d(i,"touchpan",{originalEvent:t},(()=>{g||(e.selectionMarker=g=h({destroy:s,touch:!0},i.plotBox)),e.pinchTranslate(n,r,c,g,p,a),e.hasPinched=l,e.scaleGroups(c,p)})),e.res&&(e.res=!1,this.reset(!1,0)))}pinchTranslate(t,e,i,n,r,s){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,n,r,s),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,n,r,s)}pinchTranslateDirection(t,e,i,n,r,s,o,a){let l,c,h,u,d=this.chart,p=t?"x":"y",f=t?"X":"Y",m="chart"+f,g=t?"width":"height",y=d["plot"+(t?"Left":"Top")],x=d.inverted,v=d.bounds[t?"h":"v"],b=1===e.length,_=e[0][m],w=!b&&e[1][m],S=function(){"number"==typeof k&&Math.abs(_-w)>20&&(C=a||Math.abs(T-k)/Math.abs(_-w)),h=(y-T)/C+_,l=d["plot"+(t?"Width":"Height")]/C},C=a||1,T=i[0][m],k=!b&&i[1][m];S(),(c=h)<v.min?(c=v.min,u=!0):c+l>v.max&&(c=v.max-l,u=!0),u?(T-=.8*(T-o[p][0]),"number"==typeof k&&(k-=.8*(k-o[p][1])),S()):o[p]=[T,k],x||(s[p]=h-y,s[g]=l);let A=x?t?"scaleY":"scaleX":"scale"+f,I=x?1/C:C;r[g]=l,r[p]=c,n[A]=C*(x&&!t?-1:1),n["translate"+f]=I*y+(T-I*_)}reset(t,e){let i=this.chart,n=i.hoverSeries,r=i.hoverPoint,s=i.hoverPoints,o=i.tooltip,a=o&&o.shared?s:r;t&&a&&x(a).forEach((function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)})),t?o&&a&&x(a).length&&(o.refresh(a),o.shared&&s?s.forEach((function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))})):r&&(r.setState(r.state,!0),i.axes.forEach((function(t){t.crosshair&&r.series[t.coll]===t&&t.drawCrosshair(null,r)})))):(r&&r.onMouseOut(),s&&s.forEach((function(t){t.setState()})),n&&n.onMouseOut(),o&&o.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i.axes.forEach((function(t){t.hideCrosshair()})),this.hoverX=i.hoverPoints=i.hoverPoint=null)}runPointActions(t,e,i){let n=this.chart,s=n.series,a=n.tooltip&&n.tooltip.options.enabled?n.tooltip:void 0,l=!!a&&a.shared,c=e||n.hoverPoint,h=c&&c.series||n.hoverSeries,d=(!t||"touchmove"!==t.type)&&(!!e||h&&h.directTouch&&this.isDirectTouch),p=this.getHoverData(c,h,s,d,l,t);c=p.hoverPoint,h=p.hoverSeries;let f=p.hoverPoints,m=h&&h.tooltipOptions.followPointer&&!h.tooltipOptions.split,g=l&&h&&!h.noSharedTooltip;if(c&&(i||c!==n.hoverPoint||a&&a.isHidden)){if((n.hoverPoints||[]).forEach((function(t){-1===f.indexOf(t)&&t.setState()})),n.hoverSeries!==h&&h.onMouseOver(),this.applyInactiveState(f),(f||[]).forEach((function(t){t.setState("hover")})),n.hoverPoint&&n.hoverPoint.firePointEvent("mouseOut"),!c.series)return;n.hoverPoints=f,n.hoverPoint=c,c.firePointEvent("mouseOver",void 0,(()=>{a&&c&&a.refresh(g?f:c,t)}))}else if(m&&a&&!a.isHidden){let e=a.getAnchor([{}],t);n.isInsidePlot(e[0],e[1],{visiblePlotOnly:!0})&&a.updatePosition({plotX:e[0],plotY:e[1]})}this.unDocMouseMove||(this.unDocMouseMove=o(n.container.ownerDocument,"mousemove",(function(t){let e=r[v.hoverChartIndex];e&&e.pointer.onDocumentMouseMove(t)})),this.eventsToUnbind.push(this.unDocMouseMove)),n.axes.forEach((function(e){let i,r=y((e.crosshair||{}).snap,!0);!r||(i=n.hoverPoint)&&i.series[e.coll]===e||(i=u(f,(t=>t.series&&t.series[e.coll]===e))),i||!r?e.drawCrosshair(t,i):e.hideCrosshair()}))}scaleGroups(t,e){let i=this.chart;i.series.forEach((function(n){let r=t||n.getPlotBox("series");n.group&&(n.xAxis&&n.xAxis.zoomEnabled||i.mapView)&&(n.group.attr(r),n.markerGroup&&(n.markerGroup.attr(t||n.getPlotBox("marker")),n.markerGroup.clip(e?i.clipRect:null)),n.dataLabelsGroup&&n.dataLabelsGroup.attr(r))})),i.clipRect.attr(e||i.clipBox)}setDOMEvents(){let t=this.chart.container,i=t.ownerDocument;t.onmousedown=this.onContainerMouseDown.bind(this),t.onmousemove=this.onContainerMouseMove.bind(this),t.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(o(t,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(o(t,"mouseleave",this.onContainerMouseLeave.bind(this))),v.unbindDocumentMouseUp||(v.unbindDocumentMouseUp=o(i,"mouseup",this.onDocumentMouseUp.bind(this)));let n=this.chart.renderTo.parentElement;for(;n&&"BODY"!==n.tagName;)this.eventsToUnbind.push(o(n,"scroll",(()=>{delete this.chartPosition}))),n=n.parentElement;e.hasTouch&&(this.eventsToUnbind.push(o(t,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(o(t,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),v.unbindDocumentTouchEnd||(v.unbindDocumentTouchEnd=o(i,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(t){let i=this.chart,n=e.charts[y(v.hoverChartIndex,-1)];n&&n!==i&&n.pointer.onContainerMouseLeave(t||{relatedTarget:i.container}),n&&n.mouseIsDown||(v.hoverChartIndex=i.index)}touch(t,e){let i,n,r=this.chart;this.setHoverChartIndex(),1===t.touches.length?(t=this.normalize(t),r.isInsidePlot(t.chartX-r.plotLeft,t.chartY-r.plotTop,{visiblePlotOnly:!0})&&!r.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(i=!!(n=this.pinchDown)[0]&&Math.sqrt(Math.pow(n[0].chartX-t.chartX,2)+Math.pow(n[0].chartY-t.chartY,2))>=4),y(i,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)}touchSelect(t){return!(!this.chart.zooming.singleTouch||!t.touches||1!==t.touches.length)}zoomOption(t){let e,i,n=this.chart,r=(n.options.chart,n.inverted),s=n.zooming.type||"";/touch/.test(t.type)&&(s=y(n.zooming.pinchType,s)),this.zoomX=e=/x/.test(s),this.zoomY=i=/y/.test(s),this.zoomHor=e&&!r||i&&r,this.zoomVert=i&&!r||e&&r,this.hasZoom=e||i}}return function(t){let e=[],n=[];t.compose=function(e){i.pushUnique(n,e)&&o(e,"beforeRender",(function(){this.pointer=new t(this,this.options)}))},t.dissolve=function(){for(let t=0,i=e.length;t<i;++t)e[t]();e.length=0}}(v||(v={})),v})),i(e,"Core/Legend/Legend.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Templating.js"],e["Core/Globals.js"],e["Core/Series/Point.js"],e["Core/Renderer/RendererUtilities.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r,s){let{animObject:o,setAnimation:a}=t,{format:l}=e,{marginNames:c}=i,{distribute:h}=r,{addEvent:u,createElement:d,css:p,defined:f,discardElement:m,find:g,fireEvent:y,isNumber:x,merge:v,pick:b,relativeLength:_,stableSort:w,syncTimeout:S}=s;class C{constructor(t,e){this.allItems=[],this.box=void 0,this.contentGroup=void 0,this.display=!1,this.group=void 0,this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=t,this.init(t,e)}init(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),u(this.chart,"endResize",(function(){this.legend.positionCheckboxes()}))),u(this.chart,"render",(()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(t){let e=b(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=v(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop,this.itemMarginBottom=t.itemMarginBottom,this.padding=e,this.initialItemY=e-5,this.symbolWidth=b(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted,this.baseline=void 0}update(t,e){let i=this.chart;this.setOptions(v(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,b(e,!0)&&i.redraw(),y(this,"afterUpdate",{redraw:e})}colorizeItem(t,e){let{group:i,label:n,line:r,symbol:s}=t.legendItem||{};if(i&&i[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:i}=this,o=i.color,a=e&&t.color||o,l=t.options&&t.options.marker,c={fill:a};n?.css(v(e?this.itemStyle:i)),r?.attr({stroke:a}),s&&(l&&s.isMarker&&(c=t.pointAttribs(),e||(c.stroke=c.fill=o)),s.attr(c))}y(this,"afterColorizeItem",{item:t,visible:e})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(t){let{group:e,x:i=0,y:n=0}=t.legendItem||{},r=this.options,s=r.symbolPadding,o=!r.rtl,a=t.checkbox;if(e&&e.element){let r={translateX:o?i:this.legendWidth-i-2*s-4,translateY:n};e[f(e.translateY)?"animate":"attr"](r,void 0,(()=>{y(this,"afterPositionItem",{item:t})}))}a&&(a.x=i,a.y=n)}destroyItem(t){let e=t.checkbox,i=t.legendItem||{};for(let n of["group","label","line","symbol"])i[n]&&(i[n]=i[n].destroy());e&&m(e),t.legendItem=void 0}destroy(){for(let t of this.getAllItems())this.destroyItem(t);for(let t of["clipRect","up","down","pager","nav","box","title","group"])this[t]&&(this[t]=this[t].destroy());this.display=null}positionCheckboxes(){let t,e=this.group&&this.group.alignAttr,i=this.clipHeight||this.legendHeight,n=this.titleHeight;e&&(t=e.translateY,this.allItems.forEach((function(r){let s,o=r.checkbox;o&&(s=t+n+o.y+(this.scrollOffset||0)+3,p(o,{left:e.translateX+r.checkboxOffset+o.x-20+"px",top:s+"px",display:this.proximate||s>t-6&&s<t+i-6?"":"none"}))}),this))}renderTitle(){let t,e=this.options,i=this.padding,n=e.title,r=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,i-3,i-4,void 0,void 0,void 0,e.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(n.style),this.title.add(this.group)),n.width||this.title.css({width:this.maxLegendWidth+"px"}),r=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r}setText(t){let e=this.options;t.legendItem.label.attr({text:e.labelFormat?l(e.labelFormat,t,this.chart):e.labelFormatter.call(t)})}renderItem(t){let e=t.legendItem=t.legendItem||{},i=this.chart,n=i.renderer,r=this.options,s="horizontal"===r.layout,o=this.symbolWidth,a=r.symbolPadding||0,l=this.itemStyle,c=this.itemHiddenStyle,h=s?b(r.itemDistance,20):0,u=!r.rtl,d=!t.series,p=!d&&t.series.drawLegendSymbol?t.series:t,f=p.options,m=!!this.createCheckboxForItem&&f&&f.showCheckbox,g=r.useHTML,y=t.options.className,x=e.label,_=o+a+h+(m?20:0);!x&&(e.group=n.g("legend-item").addClass("highcharts-"+p.type+"-series highcharts-color-"+t.colorIndex+(y?" "+y:"")+(d?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.label=x=n.text("",u?o+a:-a,this.baseline||0,g),i.styledMode||x.css(v(t.visible?l:c)),x.attr({align:u?"left":"right",zIndex:2}).add(e.group),!this.baseline&&(this.fontMetrics=n.fontMetrics(x),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,x.attr("y",this.baseline),this.symbolHeight=b(r.symbolHeight,this.fontMetrics.f),r.squareSymbol&&(this.symbolWidth=b(r.symbolWidth,Math.max(this.symbolHeight,16)),_=this.symbolWidth+a+h+(m?20:0),u&&x.attr("x",this.symbolWidth+a))),p.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,x,g)),m&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),(i.styledMode||!l.width)&&x.css({width:(r.itemWidth||this.widthOption||i.spacingBox.width)-_+"px"}),this.setText(t);let w=x.getBBox(),S=this.fontMetrics&&this.fontMetrics.h||0;t.itemWidth=t.checkboxOffset=r.itemWidth||e.labelWidth||w.width+_,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(e.labelHeight||(w.height>1.5*S?w.height:S))}layoutItem(t){let e=this.options,i=this.padding,n="horizontal"===e.layout,r=t.itemHeight,s=this.itemMarginBottom,o=this.itemMarginTop,a=n?b(e.itemDistance,20):0,l=this.maxLegendWidth,c=e.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:t.itemWidth,h=t.legendItem||{};n&&this.itemX-i+c>l&&(this.itemX=i,this.lastLineHeight&&(this.itemY+=o+this.lastLineHeight+s),this.lastLineHeight=0),this.lastItemY=o+this.itemY+s,this.lastLineHeight=Math.max(r,this.lastLineHeight),h.x=this.itemX,h.y=this.itemY,n?this.itemX+=c:(this.itemY+=o+r+s,this.lastLineHeight=r),this.offsetWidth=this.widthOption||Math.max((n?this.itemX-i-(t.checkbox?0:a):c)+i,this.offsetWidth)}getAllItems(){let t=[];return this.chart.series.forEach((function(e){let i=e&&e.options;e&&b(i.showInLegend,!f(i.linkedTo)&&void 0,!0)&&(t=t.concat((e.legendItem||{}).labels||("point"===i.legendType?e.data:e)))})),y(this,"afterGetAllItems",{allItems:t}),t}getAlignment(){let t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)}adjustMargins(t,e){let i=this.chart,n=this.options,r=this.getAlignment();r&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((function(s,o){s.test(r)&&!f(t[o])&&(i[c[o]]=Math.max(i[c[o]],i.legend[(o+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][o]*n[o%2?"x":"y"]+b(n.margin,12)+e[o]+(i.titleOffset[o]||0)))}))}proximatePositions(){let t,e=this.chart,i=[],n="left"===this.options.align;for(let r of(this.allItems.forEach((function(t){let r,s,o,a,l=n;t.yAxis&&(t.xAxis.options.reversed&&(l=!l),t.points&&(r=g(l?t.points:t.points.slice(0).reverse(),(function(t){return x(t.plotY)}))),s=this.itemMarginTop+t.legendItem.label.getBBox().height+this.itemMarginBottom,a=t.yAxis.top-e.plotTop,o=t.visible?(r?r.plotY:t.yAxis.height)+(a-.3*s):a+t.yAxis.height,i.push({target:o,size:s,item:t}))}),this),h(i,e.plotHeight)))t=r.item.legendItem||{},x(r.pos)&&(t.y=e.plotTop-e.spacing[0]+r.pos)}render(){let t,e,i,n,r=this.chart,s=r.renderer,o=this.options,a=this.padding,l=this.getAllItems(),c=this.group,h=this.box;this.itemX=a,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=_(o.width,r.spacingBox.width-a),n=r.spacingBox.width-2*a-o.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(n/=2),this.maxLegendWidth=this.widthOption||n,c||(this.group=c=s.g("legend").addClass(o.className||"").attr({zIndex:7}).add(),this.contentGroup=s.g().attr({zIndex:1}).add(c),this.scrollGroup=s.g().add(this.contentGroup)),this.renderTitle(),w(l,((t,e)=>(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0))),o.reversed&&l.reverse(),this.allItems=l,this.display=t=!!l.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,l.forEach(this.renderItem,this),l.forEach(this.layoutItem,this),e=(this.widthOption||this.offsetWidth)+a,i=this.lastItemY+this.lastLineHeight+this.titleHeight,i=this.handleOverflow(i)+a,h||(this.box=h=s.rect().addClass("highcharts-legend-box").attr({r:o.borderRadius}).add(c)),r.styledMode||h.attr({stroke:o.borderColor,"stroke-width":o.borderWidth||0,fill:o.backgroundColor||"none"}).shadow(o.shadow),e>0&&i>0&&h[h.placed?"animate":"attr"](h.crisp.call({},{x:0,y:0,width:e,height:i},h.strokeWidth())),c[t?"show":"hide"](),r.styledMode&&"none"===c.getStyle("display")&&(e=i=0),this.legendWidth=e,this.legendHeight=i,t&&this.align(),this.proximate||this.positionItems(),y(this,"afterRender")}align(t=this.chart.spacingBox){let e=this.chart,i=this.options,n=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&e.titleOffset[0]>0?n+=e.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&e.titleOffset[2]>0&&(n-=e.titleOffset[2]),n!==t.y&&(t=v(t,{y:n})),e.hasRendered||(this.group.placed=!1),this.group.align(v(i,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":i.verticalAlign}),!0,t)}handleOverflow(t){let e,i,n,r=this,s=this.chart,o=s.renderer,a=this.options,l=a.y,c="top"===a.verticalAlign,h=this.padding,u=a.maxHeight,d=a.navigation,p=b(d.animation,!0),f=d.arrowSize||12,m=this.pages,g=this.allItems,y=function(t){"number"==typeof t?w.attr({height:t}):w&&(r.clipRect=w.destroy(),r.contentGroup.clip()),r.contentGroup.div&&(r.contentGroup.div.style.clip=t?"rect("+h+"px,9999px,"+(h+t)+"px,0)":"auto")},x=function(t){return r[t]=o.circle(0,0,1.3*f).translate(f/2,f/2).add(_),s.styledMode||r[t].attr("fill","rgba(0,0,0,0.0001)"),r[t]},v=s.spacingBox.height+(c?-l:l)-h,_=this.nav,w=this.clipRect;return"horizontal"!==a.layout||"middle"===a.verticalAlign||a.floating||(v/=2),u&&(v=Math.min(v,u)),m.length=0,t&&v>0&&t>v&&!1!==d.enabled?(this.clipHeight=e=Math.max(v-20-this.titleHeight-h,0),this.currentPage=b(this.currentPage,1),this.fullHeight=t,g.forEach(((t,r)=>{n=t.legendItem||{};let s=n.y||0,o=Math.round(n.label.getBBox().height),a=m.length;(!a||s-m[a-1]>e&&(i||s)!==m[a-1])&&(m.push(i||s),a++),n.pageIx=a-1,i&&((g[r-1].legendItem||{}).pageIx=a-1),r===g.length-1&&s+o-m[a-1]>e&&s>m[a-1]&&(m.push(s),n.pageIx=a),s!==i&&(i=s)})),w||(w=r.clipRect=o.clipRect(0,h-2,9999,0),r.contentGroup.clip(w)),y(e),_||(this.nav=_=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,f,f).add(_),x("upTracker").on("click",(function(){r.scroll(-1,p)})),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation"),!s.styledMode&&d.style&&this.pager.css(d.style),this.pager.add(_),this.down=o.symbol("triangle-down",0,0,f,f).add(_),x("downTracker").on("click",(function(){r.scroll(1,p)}))),r.scroll(0),t=v):_&&(y(),this.nav=_.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t}scroll(t,e){let i=this.chart,n=this.pages,r=n.length,s=this.clipHeight,l=this.options.navigation,c=this.pager,h=this.padding,u=this.currentPage+t;if(u>r&&(u=r),u>0){void 0!==e&&a(e,i),this.nav.attr({translateX:h,translateY:s+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach((function(t){t.attr({class:1===u?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})})),c.attr({text:u+"/"+r}),[this.down,this.downTracker].forEach((function(t){t.attr({x:18+this.pager.getBBox().width,class:u===r?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),this),i.styledMode||(this.up.attr({fill:1===u?l.inactiveColor:l.activeColor}),this.upTracker.css({cursor:1===u?"default":"pointer"}),this.down.attr({fill:u===r?l.inactiveColor:l.activeColor}),this.downTracker.css({cursor:u===r?"default":"pointer"})),this.scrollOffset=-n[u-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=u,this.positionCheckboxes();let t=o(b(e,i.renderer.globalAnimation,!0));S((()=>{y(this,"afterScroll",{currentPage:u})}),t.duration)}}setItemEvents(t,e,i){let r=this,s=t.legendItem||{},o=r.chart.renderer.boxWrapper,a=t instanceof n,l="highcharts-legend-"+(a?"point":"series")+"-active",c=r.chart.styledMode,h=i?[e,s.symbol]:[s.group],u=e=>{r.allItems.forEach((i=>{t!==i&&[i].concat(i.linkedSeries||[]).forEach((t=>{t.setState(e,!a)}))}))};for(let n of h)n&&n.on("mouseover",(function(){t.visible&&u("inactive"),t.setState("hover"),t.visible&&o.addClass(l),c||e.css(r.options.itemHoverStyle)})).on("mouseout",(function(){r.chart.styledMode||e.css(v(t.visible?r.itemStyle:r.itemHiddenStyle)),u(""),o.removeClass(l),t.setState()})).on("click",(function(e){let i="legendItemClick",n=function(){t.setVisible&&t.setVisible(),u(t.visible?"inactive":"")};o.removeClass(l),e={browserEvent:e},t.firePointEvent?t.firePointEvent(i,e,n):y(t,i,e,n)}))}createCheckboxForItem(t){t.checkbox=d("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),u(t.checkbox,"click",(function(e){let i=e.target;y(t.series||t,"checkboxClick",{checked:i.checked,item:t},(function(){t.select()}))}))}}return function(t){let e=[];t.compose=function(i){s.pushUnique(e,i)&&u(i,"beforeMargins",(function(){this.legend=new t(this,this.options.legend)}))}}(C||(C={})),C})),i(e,"Core/Legend/LegendSymbol.js",[e["Core/Utilities.js"]],(function(t){var e,i;let{extend:n,merge:r,pick:s}=t;return(i=e||(e={})).lineMarker=function(t,e){let i,o=this.legendItem=this.legendItem||{},a=this.options,l=t.symbolWidth,c=t.symbolHeight,h=this.symbol||"circle",u=c/2,d=this.chart.renderer,p=o.group,f=t.baseline-Math.round(.3*t.fontMetrics.b),m={},g=a.marker,y=0;if(this.chart.styledMode||(m={"stroke-width":Math.min(a.lineWidth||0,24)},a.dashStyle?m.dashstyle=a.dashStyle:"square"===a.linecap||(m["stroke-linecap"]="round")),o.line=d.path().addClass("highcharts-graph").attr(m).add(p),m["stroke-linecap"]&&(y=Math.min(o.line.strokeWidth(),l)/2),l&&o.line.attr({d:[["M",y,f],["L",l-y,f]]}),g&&!1!==g.enabled&&l){let t=Math.min(s(g.radius,u),u);0===h.indexOf("url")&&(g=r(g,{width:c,height:c}),t=0),o.symbol=i=d.symbol(h,l/2-t,f-t,2*t,2*t,n({context:"legend"},g)).addClass("highcharts-point").add(p),i.isMarker=!0}},i.rectangle=function(t,e){let i=e.legendItem||{},n=t.options,r=t.symbolHeight,o=n.squareSymbol,a=o?r:t.symbolWidth;i.symbol=this.chart.renderer.rect(o?(t.symbolWidth-r)/2:0,t.baseline-r+1,a,r,s(t.options.symbolRadius,r/2)).addClass("highcharts-point").attr({zIndex:3}).add(i.group)},e})),i(e,"Core/Series/SeriesDefaults.js",[],(function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:t}=this.series.chart;return"number"!=typeof this.y?"":t(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}})),i(e,"Core/Series/SeriesRegistry.js",[e["Core/Globals.js"],e["Core/Defaults.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],(function(t,e,i,n){var r;let{defaultOptions:s}=e,{extendClass:o,merge:a}=n;return function(e){function n(t,n){let r=s.plotOptions||{},o=n.defaultOptions,a=n.prototype;a.type=t,a.pointClass||(a.pointClass=i),o&&(r[t]=o),e.seriesTypes[t]=n}e.seriesTypes=t.seriesTypes,e.registerSeriesType=n,e.seriesType=function(t,r,l,c,h){let u=s.plotOptions||{};return r=r||"",u[t]=a(u[r],l),n(t,o(e.seriesTypes[r]||function(){},c)),e.seriesTypes[t].prototype.type=t,h&&(e.seriesTypes[t].prototype.pointClass=o(i,h)),e.seriesTypes[t]}}(r||(r={})),r})),i(e,"Core/Series/Series.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Defaults.js"],e["Core/Foundation.js"],e["Core/Globals.js"],e["Core/Legend/LegendSymbol.js"],e["Core/Series/Point.js"],e["Core/Series/SeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r,s,o,a,l,c){let{animObject:h,setAnimation:u}=t,{defaultOptions:d}=e,{registerEventOptions:p}=i,{hasTouch:f,svg:m,win:g}=n,{seriesTypes:y}=a,{addEvent:x,arrayMax:v,arrayMin:b,clamp:_,correctFloat:w,defined:S,diffObjects:C,erase:T,error:k,extend:A,find:I,fireEvent:M,getClosestDistance:P,getNestedProperty:E,insertItem:D,isArray:L,isNumber:z,isString:O,merge:F,objectEach:R,pick:B,removeEvent:N,splat:j,syncTimeout:U}=c;class V{constructor(){this._i=void 0,this.chart=void 0,this.data=void 0,this.eventOptions=void 0,this.eventsToUnbind=void 0,this.index=void 0,this.linkedSeries=void 0,this.options=void 0,this.points=void 0,this.processedXData=void 0,this.processedYData=void 0,this.tooltipOptions=void 0,this.userOptions=void 0,this.xAxis=void 0,this.yAxis=void 0,this.zones=void 0}init(t,e){let i;M(this,"init",{options:e});let n=this,r=t.series;this.eventsToUnbind=[],n.chart=t,n.options=n.setOptions(e);let s=n.options,o=!1!==s.visible;n.linkedSeries=[],n.bindAxes(),A(n,{name:s.name,state:"",visible:o,selected:!0===s.selected}),p(this,s);let a=s.events;(a&&a.click||s.point&&s.point.events&&s.point.events.click||s.allowPointSelect)&&(t.runTrackerClick=!0),n.getColor(),n.getSymbol(),n.parallelArrays.forEach((function(t){n[t+"Data"]||(n[t+"Data"]=[])})),n.isCartesian&&(t.hasCartesianSeries=!0),r.length&&(i=r[r.length-1]),n._i=B(i&&i._i,-1)+1,n.opacity=n.options.opacity,t.orderItems("series",D(this,r)),s.dataSorting&&s.dataSorting.enabled?n.setDataSortingOptions():n.points||n.data||n.setData(s.data,!1),M(this,"afterInit")}is(t){return y[t]&&this instanceof y[t]}bindAxes(){let t,e=this,i=e.options,n=e.chart;M(this,"bindAxes",null,(function(){(e.axisTypes||[]).forEach((function(r){n[r].forEach((function(n){t=n.options,(B(i[r],0)===n.index||void 0!==i[r]&&i[r]===t.id)&&(D(e,n.series),e[r]=n,n.isDirty=!0)})),e[r]||e.optionalAxis===r||k(18,!0,n)}))})),M(this,"afterBindAxes")}updateParallelArrays(t,e,i){let n=t.series,r=z(e)?function(i){let r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],i)};n.parallelArrays.forEach(r)}hasData(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&this.yData.length>0}hasMarkerChanged(t,e){let i=t.marker,n=e.marker||{};return i&&(n.enabled&&!i.enabled||n.symbol!==i.symbol||n.height!==i.height||n.width!==i.width)}autoIncrement(t){let e,i,n=this.options,r=n.pointIntervalUnit,s=n.relativeXValue,o=this.chart.time,a=this.xIncrement;return a=B(a,n.pointStart,0),this.pointInterval=i=B(this.pointInterval,n.pointInterval,1),s&&z(t)&&(i*=t),r&&(e=new o.Date(a),"day"===r?o.set("Date",e,o.get("Date",e)+i):"month"===r?o.set("Month",e,o.get("Month",e)+i):"year"===r&&o.set("FullYear",e,o.get("FullYear",e)+i),i=e.getTime()-a),s&&z(t)?a+i:(this.xIncrement=a+i,a)}setDataSortingOptions(){let t=this.options;A(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),S(t.pointRange)||(t.pointRange=1)}setOptions(t){let e,i=this.chart,n=i.options,r=n.plotOptions,s=i.userOptions||{},o=F(t),a=i.styledMode,l={plotOptions:r,userOptions:o};M(this,"setOptions",l);let c=l.plotOptions[this.type],h=s.plotOptions||{},u=h.series||{},p=d.plotOptions[this.type]||{},f=h[this.type]||{};this.userOptions=l.userOptions;let m=F(c,r.series,f,o);this.tooltipOptions=F(d.tooltip,d.plotOptions.series?.tooltip,p?.tooltip,i.userOptions.tooltip,h.series?.tooltip,f.tooltip,o.tooltip),this.stickyTracking=B(o.stickyTracking,f.stickyTracking,u.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||m.stickyTracking),null===c.marker&&delete m.marker,this.zoneAxis=m.zoneAxis;let g=this.zones=(m.zones||[]).slice();return(m.negativeColor||m.negativeFillColor)&&!m.zones&&(e={value:m[this.zoneAxis+"Threshold"]||m.threshold||0,className:"highcharts-negative"},a||(e.color=m.negativeColor,e.fillColor=m.negativeFillColor),g.push(e)),g.length&&S(g[g.length-1].value)&&g.push(a?{}:{color:this.color,fillColor:this.fillColor}),M(this,"afterSetOptions",{options:m}),m}getName(){return B(this.options.name,"Series "+(this.index+1))}getCyclic(t,e,i){let n,r,s=this.chart,o=`${t}Index`,a=`${t}Counter`,l=i?.length||s.options.chart.colorCount;!e&&(S(r=B("color"===t?this.options.colorIndex:void 0,this[o]))?n=r:(s.series.length||(s[a]=0),n=s[a]%l,s[a]+=1),i&&(e=i[n])),void 0!==n&&(this[o]=n),this[t]=e}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||d.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols)}findPointIndex(t,e){let i,n,r,o=t.id,a=t.x,l=this.points,c=this.options.dataSorting;if(o){let t=this.chart.get(o);t instanceof s&&(i=t)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let e=e=>!e.touched&&e.index===t.index;if(c&&c.matchByName?e=e=>!e.touched&&e.name===t.name:this.options.relativeXValue&&(e=e=>!e.touched&&e.options.x===t.x),!(i=I(l,e)))return}return i&&void 0!==(r=i&&i.index)&&(n=!0),void 0===r&&z(a)&&(r=this.xData.indexOf(a,e)),-1!==r&&void 0!==r&&this.cropped&&(r=r>=this.cropStart?r-this.cropStart:r),!n&&z(r)&&l[r]&&l[r].touched&&(r=void 0),r}updateData(t,e){let i,n,r,s,o=this.options,a=o.dataSorting,l=this.points,c=[],h=this.requireSorting,u=t.length===l.length,d=!0;if(this.xIncrement=null,t.forEach((function(t,e){let n,r=S(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t)||{},d=r.x,p=r.id;p||z(d)?(-1===(n=this.findPointIndex(r,s))||void 0===n?c.push(t):l[n]&&t!==o.data[n]?(l[n].update(t,!1,null,!1),l[n].touched=!0,h&&(s=n+1)):l[n]&&(l[n].touched=!0),(!u||e!==n||a&&a.enabled||this.hasDerivedData)&&(i=!0)):c.push(t)}),this),i)for(n=l.length;n--;)(r=l[n])&&!r.touched&&r.remove&&r.remove(!1,e);else!u||a&&a.enabled?d=!1:(t.forEach((function(t,e){t===l[e].y||l[e].destroyed||l[e].update(t,!1,null,!1)})),c.length=0);return l.forEach((function(t){t&&(t.touched=!1)})),!!d&&(c.forEach((function(t){this.addPoint(t,!1,null,null,!1)}),this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=v(this.xData),this.autoIncrement()),!0)}setData(t,e=!0,i,n){let r,s,o,a,l=this,c=l.points,h=c&&c.length||0,u=l.options,d=l.chart,p=u.dataSorting,f=l.xAxis,m=u.turboThreshold,g=this.xData,y=this.yData,x=l.pointArrayMap,v=x&&x.length,b=u.keys,_=0,w=1,S=null;d.options.chart.allowMutatingData||(u.data&&delete l.options.data,l.userOptions.data&&delete l.userOptions.data,a=F(!0,t)),t=a||t||[];let C=t.length;if(p&&p.enabled&&(t=this.sortData(t)),d.options.chart.allowMutatingData&&!1!==n&&C&&h&&!l.cropped&&!l.hasGroupedData&&l.visible&&!l.boosted&&(o=this.updateData(t,i)),!o){if(l.xIncrement=null,l.colorCounter=0,this.parallelArrays.forEach((function(t){l[t+"Data"].length=0})),m&&C>m)if(z(S=l.getFirstValidPoint(t)))for(r=0;r<C;r++)g[r]=this.autoIncrement(),y[r]=t[r];else if(L(S))if(v)if(S.length===v)for(r=0;r<C;r++)g[r]=this.autoIncrement(),y[r]=t[r];else for(r=0;r<C;r++)s=t[r],g[r]=s[0],y[r]=s.slice(1,v+1);else if(b&&(_=b.indexOf("x"),w=b.indexOf("y"),_=_>=0?_:0,w=w>=0?w:1),1===S.length&&(w=0),_===w)for(r=0;r<C;r++)g[r]=this.autoIncrement(),y[r]=t[r][w];else for(r=0;r<C;r++)s=t[r],g[r]=s[_],y[r]=s[w];else k(12,!1,d);else for(r=0;r<C;r++)s={series:l},l.pointClass.prototype.applyOptions.apply(s,[t[r]]),l.updateParallelArrays(s,r);for(y&&O(y[0])&&k(14,!0,d),l.data=[],l.options.data=l.userOptions.data=t,r=h;r--;)c[r]?.destroy();f&&(f.minRange=f.userMinRange),l.isDirty=d.isDirtyBox=!0,l.isDirtyData=!!c,i=!1}"point"===u.legendType&&(this.processData(),this.generatePoints()),e&&d.redraw(i)}sortData(t){let e=this,i=e.options,n=i.dataSorting,r=n.sortKey||"y",s=function(t,e){return S(e)&&t.pointClass.prototype.optionsToObject.call({series:t},e)||{}};t.forEach((function(i,n){t[n]=s(e,i),t[n].index=n}),this);let o=t.concat().sort(((t,e)=>{let i=E(r,t),n=E(r,e);return n<i?-1:n>i?1:0}));return o.forEach((function(t,e){t.x=e}),this),e.linkedSeries&&e.linkedSeries.forEach((function(e){let i=e.options,n=i.data;i.dataSorting&&i.dataSorting.enabled||!n||(n.forEach((function(i,r){n[r]=s(e,i),t[r]&&(n[r].x=t[r].x,n[r].index=r)})),e.setData(n,!1))})),t}getProcessedData(t){let e,i,n,r,s,o=this,a=o.xAxis,l=o.options,c=l.cropThreshold,h=t||o.getExtremesFromAll||l.getExtremesFromAll,u=a?.logarithmic,d=o.isCartesian,p=0,f=o.xData,m=o.yData,g=!1,y=f.length;a&&(r=(n=a.getExtremes()).min,s=n.max,g=!(!a.categories||a.names.length)),d&&o.sorted&&!h&&(!c||y>c||o.forceCrop)&&(f[y-1]<r||f[0]>s?(f=[],m=[]):o.yData&&(f[0]<r||f[y-1]>s)&&(f=(e=this.cropData(o.xData,o.yData,r,s)).xData,m=e.yData,p=e.start,i=!0));let x=P([u?f.map(u.log2lin):f],(()=>o.requireSorting&&!g&&k(15,!1,o.chart)));return{xData:f,yData:m,cropped:i,cropStart:p,closestPointRange:x}}processData(t){let e=this.xAxis;if(this.isCartesian&&!this.isDirty&&!e.isDirty&&!this.yAxis.isDirty&&!t)return!1;let i=this.getProcessedData();this.cropped=i.cropped,this.cropStart=i.cropStart,this.processedXData=i.xData,this.processedYData=i.yData,this.closestPointRange=this.basePointRange=i.closestPointRange,M(this,"afterProcessData")}cropData(t,e,i,n){let r,s,o=t.length,a=0,l=o;for(r=0;r<o;r++)if(t[r]>=i){a=Math.max(0,r-1);break}for(s=r;s<o;s++)if(t[s]>n){l=s+1;break}return{xData:t.slice(a,l),yData:e.slice(a,l),start:a,end:l}}generatePoints(){let t,e,i,n,r=this.options,s=this.processedData||r.data,o=this.processedXData,a=this.processedYData,l=this.pointClass,c=o.length,h=this.cropStart||0,u=this.hasGroupedData,d=r.keys,p=[],f=r.dataGrouping&&r.dataGrouping.groupAll?h:0,m=this.data;if(!m&&!u){let t=[];t.length=s.length,m=this.data=t}for(d&&u&&(this.options.keys=!1),n=0;n<c;n++)e=h+n,u?((i=(new l).init(this,[o[n]].concat(j(a[n])))).dataGroup=this.groupMap[f+n],i.dataGroup.options&&(i.options=i.dataGroup.options,A(i,i.dataGroup.options),delete i.dataLabels)):(i=m[e])||void 0===s[e]||(m[e]=i=(new l).init(this,s[e],o[n])),i&&(i.index=u?f+n:e,p[n]=i);if(this.options.keys=d,m&&(c!==(t=m.length)||u))for(n=0;n<t;n++)n!==h||u||(n+=c),m[n]&&(m[n].destroyElements(),m[n].plotX=void 0);this.data=m,this.points=p,M(this,"afterGeneratePoints")}getXExtremes(t){return{min:b(t),max:v(t)}}getExtremes(t,e){let i,n,r,s,o,a,l,c=this.xAxis,h=this.yAxis,u=this.processedXData||this.xData,d=[],p=this.requireSorting&&!this.is("column")?1:0,f=!!h&&h.positiveValuesOnly,m=0,g=0,y=0;t=t||this.stackedYData||this.processedYData||[];let x=t.length;for(c&&(m=(i=c.getExtremes()).min,g=i.max),a=0;a<x;a++)if(s=u[a],n=(z(o=t[a])||L(o))&&((z(o)?o>0:o.length)||!f),r=e||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!c||(u[a+p]||s)>=m&&(u[a-p]||s)<=g,n&&r)if(l=o.length)for(;l--;)z(o[l])&&(d[y++]=o[l]);else d[y++]=o;let _={activeYData:d,dataMin:b(d),dataMax:v(d)};return M(this,"afterGetExtremes",{dataExtremes:_}),_}applyExtremes(){let t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t}getFirstValidPoint(t){let e=t.length,i=0,n=null;for(;null===n&&i<e;)n=t[i],i++;return n}translate(){this.processedXData||this.processData(),this.generatePoints();let t,e,i,n,r=this.options,s=r.stacking,o=this.xAxis,a=o.categories,l=this.enabledDataSorting,c=this.yAxis,h=this.points,u=h.length,d=this.pointPlacementToXValue(),p=!!d,f=r.threshold,m=r.startFromThreshold?f:0,g=Number.MAX_VALUE;function y(t){return _(t,-1e5,1e5)}for(t=0;t<u;t++){let r,u,x,v=h[t],b=v.x,_=v.y,C=v.low,T=s&&c.stacking?.stacks[(this.negStacks&&_<(m?0:f)?"-":"")+this.stackKey];e=o.translate(b,!1,!1,!1,!0,d),v.plotX=z(e)?w(y(e)):void 0,s&&this.visible&&T&&T[b]&&(n=this.getStackIndicator(n,b,this.index),!v.isNull&&n.key&&(x=(u=T[b]).points[n.key]),u&&L(x)&&(C=x[0],_=x[1],C===m&&n.key===T[b].base&&(C=B(z(f)?f:c.min)),c.positiveValuesOnly&&S(C)&&C<=0&&(C=void 0),v.total=v.stackTotal=B(u.total),v.percentage=S(v.y)&&u.total?v.y/u.total*100:void 0,v.stackY=_,this.irregularWidths||u.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),v.yBottom=S(C)?y(c.translate(C,!1,!0,!1,!0)):void 0,this.dataModify&&(_=this.dataModify.modifyValue(_,t)),z(_)&&void 0!==v.plotX&&(r=z(r=c.translate(_,!1,!0,!1,!0))?y(r):void 0),v.plotY=r,v.isInside=this.isPointInside(v),v.clientX=p?w(o.translate(b,!1,!1,!1,!0,d)):e,v.negative=(v.y||0)<(f||0),v.category=B(a&&a[v.x],v.x),v.isNull||!1===v.visible||(void 0!==i&&(g=Math.min(g,Math.abs(e-i))),i=e),v.zone=this.zones.length?v.getZone():void 0,!v.graphic&&this.group&&l&&(v.isNew=!0)}this.closestPointRangePx=g,M(this,"afterTranslate")}getValidPoints(t,e,i){let n=this.chart;return(t||this.points||[]).filter((function(t){let{plotX:r,plotY:s}=t,o=!i&&(t.isNull||!z(s));return!o&&(!e||!!n.isInsidePlot(r,s,{inverted:n.inverted}))&&!1!==t.visible}))}getClipBox(){let{chart:t,xAxis:e,yAxis:i}=this,n=F(t.clipBox);return e&&e.len!==t.plotSizeX&&(n.width=e.len),i&&i.len!==t.plotSizeY&&(n.height=i.len),n}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:t,group:e,markerGroup:i}=this,n=t.sharedClips,r=t.renderer,s=this.getClipBox(),o=this.getSharedClipKey(),a=n[o];a?a.animate(s):n[o]=a=r.clipRect(s),e&&e.clip(!1===this.options.clip?void 0:a),i&&i.clip()}animate(t){let{chart:e,group:i,markerGroup:n}=this,r=e.inverted,s=h(this.options.animation),o=[this.getSharedClipKey(),s.duration,s.easing,s.defer].join(","),a=e.sharedClips[o],l=e.sharedClips[o+"m"];if(t&&i){let t=this.getClipBox();if(a)a.attr("height",t.height);else{t.width=0,r&&(t.x=e.plotHeight),a=e.renderer.clipRect(t),e.sharedClips[o]=a;let i={x:-99,y:-99,width:r?e.plotWidth+199:99,height:r?99:e.plotHeight+199};l=e.renderer.clipRect(i),e.sharedClips[o+"m"]=l}i.clip(a),n&&n.clip(l)}else if(a&&!a.hasClass("highcharts-animating")){let t=this.getClipBox(),e=s.step;n&&n.element.childNodes.length&&(s.step=function(t,i){e&&e.apply(i,arguments),"width"===i.prop&&l&&l.element&&l.attr(r?"height":"width",t+99)}),a.addClass("highcharts-animating").animate(t,s)}}afterAnimate(){this.setClip(),R(this.chart.sharedClips,((t,e,i)=>{t&&!this.chart.container.querySelector(`[clip-path="url(#${t.id})"]`)&&(t.destroy(),delete i[e])})),this.finishedAnimating=!0,M(this,"afterAnimate")}drawPoints(t=this.points){let e,i,n,r,s,o,a,l=this.chart,c=l.styledMode,{colorAxis:h,options:u}=this,d=u.marker,p=this[this.specialGroup||"markerGroup"],f=this.xAxis,m=B(d.enabled,!f||!!f.isRadial||null,this.closestPointRangePx>=d.enabledThreshold*d.radius);if(!1!==d.enabled||this._hasPointMarkers)for(e=0;e<t.length;e++){r=(n=(i=t[e]).graphic)?"animate":"attr",s=i.marker||{},o=!!i.marker;let u=(m&&void 0===s.enabled||s.enabled)&&!i.isNull&&!1!==i.visible;if(u){let t=B(s.symbol,this.symbol,"rect");a=this.markerAttribs(i,i.selected&&"select"),this.enabledDataSorting&&(i.startXPos=f.reversed?-(a.width||0):f.width);let e=!1!==i.isInside;if(!n&&e&&((a.width||0)>0||i.hasImage)&&(i.graphic=n=l.renderer.symbol(t,a.x,a.y,a.width,a.height,o?s:d).add(p),this.enabledDataSorting&&l.hasRendered&&(n.attr({x:i.startXPos}),r="animate")),n&&"animate"===r&&n[e?"show":"hide"](e).animate(a),n){let t=this.pointAttribs(i,c||!i.selected?void 0:"select");c?h&&n.css({fill:t.fill}):n[r](t)}n&&n.addClass(i.getClassName(),!0)}else n&&(i.graphic=n.destroy())}}markerAttribs(t,e){let i,n,r=this.options,s=r.marker,o=t.marker||{},a=o.symbol||s.symbol,l={},c=B(o.radius,s&&s.radius);e&&(i=s.states[e],c=B((n=o.states&&o.states[e])&&n.radius,i&&i.radius,c&&c+(i&&i.radiusPlus||0))),t.hasImage=a&&0===a.indexOf("url"),t.hasImage&&(c=0);let h=t.pos();return z(c)&&h&&(l.x=h[0]-c,l.y=h[1]-c,r.crisp&&(l.x=Math.floor(l.x))),c&&(l.width=l.height=2*c),l}pointAttribs(t,e){let i,n,r,s,o=this.options.marker,a=t&&t.options,l=a&&a.marker||{},c=a&&a.color,h=t&&t.color,u=t&&t.zone&&t.zone.color,d=this.color,p=B(l.lineWidth,o.lineWidth),f=1;return d=c||u||h||d,r=l.fillColor||o.fillColor||d,s=l.lineColor||o.lineColor||d,e=e||"normal",i=o.states[e]||{},p=B((n=l.states&&l.states[e]||{}).lineWidth,i.lineWidth,p+B(n.lineWidthPlus,i.lineWidthPlus,0)),r=n.fillColor||i.fillColor||r,{stroke:s=n.lineColor||i.lineColor||s,"stroke-width":p,fill:r,opacity:f=B(n.opacity,i.opacity,f)}}destroy(t){let e,i,n,r=this,s=r.chart,o=/AppleWebKit\/533/.test(g.navigator.userAgent),a=r.data||[];for(M(r,"destroy",{keepEventsForUpdate:t}),this.removeEvents(t),(r.axisTypes||[]).forEach((function(t){(n=r[t])&&n.series&&(T(n.series,r),n.isDirty=n.forceRedraw=!0)})),r.legendItem&&r.chart.legend.destroyItem(r),e=a.length;e--;)(i=a[e])&&i.destroy&&i.destroy();r.clips&&r.clips.forEach((t=>t.destroy())),c.clearTimeout(r.animationTimeout),R(r,(function(t,e){t instanceof l&&!t.survive&&t[o&&"group"===e?"hide":"destroy"]()})),s.hoverSeries===r&&(s.hoverSeries=void 0),T(s.series,r),s.orderItems("series"),R(r,(function(e,i){t&&"hcEvents"===i||delete r[i]}))}applyZones(){let t,e,i,n,r,s,o,a,l,c,h,u=this,d=this.chart,p=d.renderer,f=this.zones,m=this.clips||[],g=this.graph,y=this.area,x=Math.max(d.plotWidth,d.plotHeight),v=this[(this.zoneAxis||"y")+"Axis"],b=d.inverted,w=!1;f.length&&(g||y)&&v&&void 0!==v.min?(r=v.reversed,s=v.horiz,g&&!this.showLine&&g.hide(),y&&y.hide(),n=v.getExtremes(),f.forEach((function(f,S){t=r?s?d.plotWidth:0:s?0:v.toPixels(n.min)||0,t=_(B(e,t),0,x),e=_(Math.round(v.toPixels(B(f.value,n.max),!0)||0),0,x),w&&(t=e=v.toPixels(n.max)),o=Math.abs(t-e),a=Math.min(t,e),l=Math.max(t,e),v.isXAxis?(i={x:b?l:a,y:0,width:o,height:x},s||(i.x=d.plotHeight-i.x)):(i={x:0,y:b?l:a,width:x,height:o},s&&(i.y=d.plotWidth-i.y)),m[S]?m[S].animate(i):m[S]=p.clipRect(i),c=u["zone-area-"+S],h=u["zone-graph-"+S],g&&h&&h.clip(m[S]),y&&c&&c.clip(m[S]),w=f.value>n.max,u.resetZones&&0===e&&(e=void 0)})),this.clips=m):u.visible&&(g&&g.show(),y&&y.show())}plotGroup(t,e,i,n,r){let s=this[t],o=!s,a={visibility:i,zIndex:n||.1};return void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(a.opacity=this.opacity),o&&(this[t]=s=this.chart.renderer.g().add(r)),s.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(S(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(s.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),s.attr(a)[o?"attr":"animate"](this.getPlotBox(e)),s}getPlotBox(t){let e=this.xAxis,i=this.yAxis,n=this.chart,r=n.inverted&&!n.polar&&e&&!1!==this.invertible&&"series"===t;return n.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:n.plotLeft,translateY:i?i.top:n.plotTop,rotation:r?90:0,rotationOriginX:r?(e.len-i.len)/2:0,rotationOriginY:r?(e.len+i.len)/2:0,scaleX:r?-1:1,scaleY:1}}removeEvents(t){t||N(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach((function(t){t()})),this.eventsToUnbind.length=0)}render(){let t=this,e=t.chart,i=t.options,n=h(i.animation),r=t.visible?"inherit":"hidden",s=i.zIndex,o=t.hasRendered,a=e.seriesGroup;e.inverted;let l=t.finishedAnimating?0:n.duration;M(this,"render"),t.plotGroup("group","series",r,s,a),t.markerGroup=t.plotGroup("markerGroup","markers",r,s,a),!1!==i.clip&&t.setClip(),t.animate&&l&&t.animate(!0),t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels&&t.drawDataLabels(),t.redrawPoints&&t.redrawPoints(),t.drawTracker&&i.enableMouseTracking&&t.drawTracker(),t.animate&&l&&t.animate(),o||(l&&n.defer&&(l+=n.defer),t.animationTimeout=U((function(){t.afterAnimate()}),l||0)),t.isDirty=!1,t.hasRendered=!0,M(t,"afterRender")}redraw(){let t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(t,e){let i=this.xAxis,n=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:r?n.len-t.chartX+n.pos:t.chartY-n.pos},e,t)}buildKDTree(t){this.buildingKdTree=!0;let e=this,i=e.options.findNearestPointBy.indexOf("y")>-1?2:1;delete e.kdTree,U((function(){e.kdTree=function t(i,n,r){let s,o,a=i&&i.length;if(a)return s=e.kdAxisArray[n%r],i.sort((function(t,e){return t[s]-e[s]})),{point:i[o=Math.floor(a/2)],left:t(i.slice(0,o),n+1,r),right:t(i.slice(o+1),n+1,r)}}(e.getValidPoints(null,!e.directTouch),i,i),e.buildingKdTree=!1}),e.options.kdNow||t&&"touchstart"===t.type?0:1)}searchKDTree(t,e,i){let n=this,[r,s]=this.kdAxisArray,o=e?"distX":"dist",a=(n.options.findNearestPointBy||"").indexOf("y")>-1?2:1,l=!!n.isBubble;if(this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return function t(e,i,a,c){let h,u,d=i.point,p=n.kdAxisArray[a%c],f=d;!function(t,e){let i=t[r],n=e[r],o=S(i)&&S(n)?i-n:null,a=t[s],c=e[s],h=S(a)&&S(c)?a-c:0,u=l&&e.marker?.radius||0;e.dist=Math.sqrt((o&&o*o||0)+h*h)-u,e.distX=S(o)?Math.abs(o)-u:Number.MAX_VALUE}(e,d);let m=(e[p]||0)-(d[p]||0)+(l&&d.marker?.radius||0),g=m<0?"left":"right",y=m<0?"right":"left";return i[g]&&(f=(h=t(e,i[g],a+1,c))[o]<f[o]?h:d),i[y]&&Math.sqrt(m*m)<f[o]&&(f=(u=t(e,i[y],a+1,c))[o]<f[o]?u:f),f}(t,this.kdTree,a,a)}pointPlacementToXValue(){let{options:{pointPlacement:t,pointRange:e},xAxis:i}=this,n=t;return"between"===n&&(n=i.reversed?-.5:.5),z(n)?n*(e||i.pointRange):0}isPointInside(t){let{chart:e,xAxis:i,yAxis:n}=this,r=void 0!==t.plotY&&void 0!==t.plotX&&t.plotY>=0&&t.plotY<=(n?n.len:e.plotHeight)&&t.plotX>=0&&t.plotX<=(i?i.len:e.plotWidth);return r}drawTracker(){let t=this,e=t.options,i=e.trackByArea,n=[].concat(i?t.areaPath:t.graphPath),r=t.chart,s=r.pointer,o=r.renderer,a=r.options.tooltip.snap,l=t.tracker,c=function(i){e.enableMouseTracking&&r.hoverSeries!==t&&t.onMouseOver()},h="rgba(192,192,192,"+(m?1e-4:.002)+")";l?l.attr({d:n}):t.graph&&(t.tracker=o.path(n).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),r.styledMode||t.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:h,fill:i?h:"none","stroke-width":t.graph.strokeWidth()+(i?0:2*a)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach((function(t){t&&(t.addClass("highcharts-tracker").on("mouseover",c).on("mouseout",(function(t){s.onTrackerMouseOut(t)})),e.cursor&&!r.styledMode&&t.css({cursor:e.cursor}),f&&t.on("touchstart",c))}))),M(this,"afterDrawTracker")}addPoint(t,e,i,n,r){let s,o,a=this.options,l=this.data,c=this.chart,h=this.xAxis,u=h&&h.hasNames&&h.names,d=a.data,p=this.xData;e=B(e,!0);let f={series:this};this.pointClass.prototype.applyOptions.apply(f,[t]);let m=f.x;if(o=p.length,this.requireSorting&&m<p[o-1])for(s=!0;o&&p[o-1]>m;)o--;this.updateParallelArrays(f,"splice",[o,0,0]),this.updateParallelArrays(f,o),u&&f.name&&(u[m]=f.name),d.splice(o,0,t),(s||this.processedData)&&(this.data.splice(o,0,null),this.processData()),"point"===a.legendType&&this.generatePoints(),i&&(l[0]&&l[0].remove?l[0].remove(!1):(l.shift(),this.updateParallelArrays(f,"shift"),d.shift())),!1!==r&&M(this,"addPoint",{point:f}),this.isDirty=!0,this.isDirtyData=!0,e&&c.redraw(n)}removePoint(t,e,i){let n=this,r=n.data,s=r[t],o=n.points,a=n.chart,l=function(){o&&o.length===r.length&&o.splice(t,1),r.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(s||{series:n},"splice",[t,1]),s&&s.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&a.redraw()};u(i,a),e=B(e,!0),s?s.firePointEvent("remove",null,l):l()}remove(t,e,i,n){let r=this,s=r.chart;function o(){r.destroy(n),s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(n),B(t,!0)&&s.redraw(e)}!1!==i?M(r,"remove",null,o):o()}update(t,e){M(this,"update",{options:t=C(t,this.userOptions)});let i,n,r=this,s=r.chart,o=r.userOptions,a=r.initialType||r.type,l=s.options.plotOptions,c=y[a].prototype,h=r.finishedAnimating&&{animation:!1},u={},d=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],p=t.type||o.type||s.options.chart.type,f=!(this.hasDerivedData||p&&p!==this.type||void 0!==t.pointStart||void 0!==t.pointInterval||void 0!==t.relativeXValue||t.joinBy||t.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some((t=>r.hasOptionChanged(t))));p=p||a,f&&(d.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),!1!==t.visible&&d.push("area","graph"),r.parallelArrays.forEach((function(t){d.push(t+"Data")})),t.data&&(t.dataSorting&&A(r.options.dataSorting,t.dataSorting),this.setData(t.data,!1))),t=F(o,h,{index:void 0===o.index?r.index:o.index,pointStart:B(l?.series?.pointStart,o.pointStart,r.xData[0])},!f&&{data:r.options.data},t),f&&t.data&&(t.data=r.options.data),(d=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(d)).forEach((function(t){d[t]=r[t],delete r[t]}));let m=!1;if(y[p]){if(m=p!==r.type,r.remove(!1,!1,!1,!0),m)if(Object.setPrototypeOf)Object.setPrototypeOf(r,y[p].prototype);else{let t=Object.hasOwnProperty.call(r,"hcEvents")&&r.hcEvents;for(n in c)r[n]=void 0;A(r,y[p].prototype),t?r.hcEvents=t:delete r.hcEvents}}else k(17,!0,s,{missingModuleFor:p});if(d.forEach((function(t){r[t]=d[t]})),r.init(s,t),f&&this.points)for(let g of(!1===(i=r.options).visible?(u.graphic=1,u.dataLabel=1):(this.hasMarkerChanged(i,o)&&(u.graphic=1),r.hasDataLabels?.()||(u.dataLabel=1)),this.points))g&&g.series&&(g.resolveColor(),Object.keys(u).length&&g.destroyElements(u),!1===i.showInLegend&&g.legendItem&&s.legend.destroyItem(g));r.initialType=a,s.linkSeries(),m&&r.linkedSeries.length&&(r.isDirtyData=!0),M(this,"afterUpdate"),B(e,!0)&&s.redraw(!!f&&void 0)}setName(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}hasOptionChanged(t){let e=this.chart,i=this.options[t],n=e.options.plotOptions,r=this.userOptions[t],s=B(n?.[this.type]?.[t],n?.series?.[t]);return r&&!S(s)?i!==r:i!==B(s,i)}onMouseOver(){let t=this.chart,e=t.hoverSeries,i=t.pointer;i.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&M(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this}onMouseOut(){let t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;e.hoverSeries=null,n&&n.onMouseOut(),this&&t.events.mouseOut&&M(this,"mouseOut"),i&&!this.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),e.series.forEach((function(t){t.setState("",!0)}))}setState(t,e){let i,n=this,r=n.options,s=n.graph,o=r.inactiveOtherPoints,a=r.states,l=B(a[t||"normal"]&&a[t||"normal"].animation,n.chart.options.chart.animation),c=r.lineWidth,h=0,u=r.opacity;if(t=t||"",n.state!==t&&([n.group,n.markerGroup,n.dataLabelsGroup].forEach((function(e){e&&(n.state&&e.removeClass("highcharts-series-"+n.state),t&&e.addClass("highcharts-series-"+t))})),n.state=t,!n.chart.styledMode)){if(a[t]&&!1===a[t].enabled)return;if(t&&(c=a[t].lineWidth||c+(a[t].lineWidthPlus||0),u=B(a[t].opacity,u)),s&&!s.dashstyle&&z(c))for(i={"stroke-width":c},s.animate(i,l);n["zone-graph-"+h];)n["zone-graph-"+h].animate(i,l),h+=1;o||[n.group,n.markerGroup,n.dataLabelsGroup,n.labelBySeries].forEach((function(t){t&&t.animate({opacity:u},l)}))}e&&o&&n.points&&n.setAllPointsToState(t||void 0)}setAllPointsToState(t){this.points.forEach((function(e){e.setState&&e.setState(t)}))}setVisible(t,e){let i=this,n=i.chart,r=n.options.chart.ignoreHiddenSeries,s=i.visible;i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!s:t;let o=t?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach((t=>{i[t]?.[o]()})),(n.hoverSeries===i||n.hoverPoint?.series===i)&&i.onMouseOut(),i.legendItem&&n.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&n.series.forEach((t=>{t.options.stacking&&t.visible&&(t.isDirty=!0)})),i.linkedSeries.forEach((e=>{e.setVisible(t,!1)})),r&&(n.isDirtyBox=!0),M(i,o),!1!==e&&n.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(t){this.selected=t=this.options.selected=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),M(this,t?"select":"unselect")}shouldShowTooltip(t,e,i={}){return i.series=this,i.visiblePlotOnly=!0,this.chart.isInsidePlot(t,e,i)}drawLegendSymbol(t,e){r[this.options.legendSymbol||"rectangle"]?.call(this,t,e)}}return V.defaultOptions=o,V.types=a.seriesTypes,V.registerType=a.registerSeriesType,A(V.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:s,requireSorting:!0,sorted:!0}),a.series=V,V})),i(e,"Core/Chart/Chart.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Axis/Axis.js"],e["Core/Defaults.js"],e["Core/Templating.js"],e["Core/Foundation.js"],e["Core/Globals.js"],e["Core/Renderer/RendererRegistry.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Time.js"],e["Core/Utilities.js"],e["Core/Renderer/HTML/AST.js"]],(function(t,e,i,n,r,s,o,a,l,c,h,u,d){let{animate:p,animObject:f,setAnimation:m}=t,{defaultOptions:g,defaultTime:y}=i,{numberFormat:x}=n,{registerEventOptions:v}=r,{charts:b,doc:_,marginNames:w,svg:S,win:C}=s,{seriesTypes:T}=l,{addEvent:k,attr:A,createElement:I,css:M,defined:P,diffObjects:E,discardElement:D,erase:L,error:z,extend:O,find:F,fireEvent:R,getStyle:B,isArray:N,isNumber:j,isObject:U,isString:V,merge:$,objectEach:H,pick:q,pInt:G,relativeLength:W,removeEvent:X,splat:Y,syncTimeout:Z,uniqueKey:K}=u;class J{static chart(t,e,i){return new J(t,e,i)}constructor(t,e,i){this.axes=void 0,this.axisOffset=void 0,this.bounds=void 0,this.chartHeight=void 0,this.chartWidth=void 0,this.clipBox=void 0,this.colorCounter=void 0,this.container=void 0,this.eventOptions=void 0,this.index=void 0,this.isResizing=void 0,this.labelCollectors=void 0,this.margin=void 0,this.numberFormatter=void 0,this.options=void 0,this.plotBox=void 0,this.plotHeight=void 0,this.plotLeft=void 0,this.plotTop=void 0,this.plotWidth=void 0,this.pointCount=void 0,this.pointer=void 0,this.renderer=void 0,this.renderTo=void 0,this.series=void 0,this.sharedClips={},this.spacing=void 0,this.spacingBox=void 0,this.symbolCounter=void 0,this.time=void 0,this.titleOffset=void 0,this.userOptions=void 0,this.xAxis=void 0,this.yAxis=void 0,this.zooming=void 0,this.getArgs(t,e,i)}getArgs(t,e,i){V(t)||t.nodeName?(this.renderTo=t,this.init(e,i)):this.init(t,e)}setZoomOptions(){let t=this.options.chart,e=t.zooming;this.zooming={...e,type:q(t.zoomType,e.type),key:q(t.zoomKey,e.key),pinchType:q(t.pinchType,e.pinchType),singleTouch:q(t.zoomBySingleTouch,e.singleTouch,!1),resetButton:$(e.resetButton,t.resetZoomButton)}}init(t,e){R(this,"init",{args:arguments},(function(){let i=$(g,t),n=i.chart;this.userOptions=O({},t),this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=e,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.time=t.time&&Object.keys(t.time).length?new h(t.time):s.time,this.numberFormatter=n.numberFormatter||x,this.styledMode=n.styledMode,this.hasCartesianSeries=n.showAxes,this.index=b.length,b.push(this),s.chartCount++,v(this,n),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),R(this,"afterInit"),this.firstRender()}))}initSeries(t){let e=this.options.chart,i=t.type||e.type,n=T[i];n||z(17,!0,this,{missingModuleFor:i});let r=new n;return"function"==typeof r.init&&r.init(this,t),r}setSeriesData(){this.getSeriesOrderByLinks().forEach((function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)}))}getSeriesOrderByLinks(){return this.series.concat().sort((function(t,e){return t.linkedSeries.length||e.linkedSeries.length?e.linkedSeries.length-t.linkedSeries.length:0}))}orderItems(t,e=0){let i=this[t],n=this.options[t]=Y(this.options[t]).slice(),r=this.userOptions[t]=this.userOptions[t]?Y(this.userOptions[t]).slice():[];if(this.hasRendered&&(n.splice(e),r.splice(e)),i)for(let s=e,o=i.length;s<o;++s){let t=i[s];t&&(t.index=s,t instanceof a&&(t.name=t.getName()),t.options.isInternal||(n[s]=t.options,r[s]=t.userOptions))}}isInsidePlot(t,e,i={}){let{inverted:n,plotBox:r,plotLeft:s,plotTop:o,scrollablePlotBox:a}=this,l=0,c=0;i.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:l,scrollTop:c}=this.scrollingContainer);let h=i.series,u=i.visiblePlotOnly&&a||r,d=i.inverted?e:t,p=i.inverted?t:e,f={x:d,y:p,isInsidePlot:!0,options:i};if(!i.ignoreX){let t=h&&(n&&!this.polar?h.yAxis:h.xAxis)||{pos:s,len:1/0},e=i.paneCoordinates?t.pos+d:s+d;e>=Math.max(l+s,t.pos)&&e<=Math.min(l+s+u.width,t.pos+t.len)||(f.isInsidePlot=!1)}if(!i.ignoreY&&f.isInsidePlot){let t=!n&&i.axis&&!i.axis.isXAxis&&i.axis||h&&(n?h.xAxis:h.yAxis)||{pos:o,len:1/0},e=i.paneCoordinates?t.pos+p:o+p;e>=Math.max(c+o,t.pos)&&e<=Math.min(c+o+u.height,t.pos+t.len)||(f.isInsidePlot=!1)}return R(this,"afterIsInsidePlot",f),f.isInsidePlot}redraw(t){R(this,"beforeRedraw");let e,i,n,r,s=this.hasCartesianSeries?this.axes:this.colorAxis||[],o=this.series,a=this.pointer,l=this.legend,c=this.userOptions.legend,h=this.renderer,u=h.isHidden(),d=[],p=this.isDirtyBox,f=this.isDirtyLegend;for(h.rootFontSize=h.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),m(!!this.hasRendered&&t,this),u&&this.temporaryDisplay(),this.layOutTitles(!1),n=o.length;n--;)if(((r=o[n]).options.stacking||r.options.centerInCategory)&&(i=!0,r.isDirty)){e=!0;break}if(e)for(n=o.length;n--;)(r=o[n]).options.stacking&&(r.isDirty=!0);o.forEach((function(t){t.isDirty&&("point"===t.options.legendType?("function"==typeof t.updateTotals&&t.updateTotals(),f=!0):c&&(c.labelFormatter||c.labelFormat)&&(f=!0)),t.isDirtyData&&R(t,"updatedData")})),f&&l&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),i&&this.getStacks(),s.forEach((function(t){t.updateNames(),t.setScale()})),this.getMargins(),s.forEach((function(t){t.isDirty&&(p=!0)})),s.forEach((function(t){let e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,d.push((function(){R(t,"afterSetExtremes",O(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(p||i)&&t.redraw()})),p&&this.drawChartBox(),R(this,"predraw"),o.forEach((function(t){(p||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),a&&a.reset(!0),h.draw(),R(this,"redraw"),R(this,"render"),u&&this.temporaryDisplay(!0),d.forEach((function(t){t.call()}))}get(t){let e=this.series;function i(e){return e.id===t||e.options&&e.options.id===t}let n=F(this.axes,i)||F(this.series,i);for(let r=0;!n&&r<e.length;r++)n=F(e[r].points||[],i);return n}getAxes(){let t=this.options;for(let i of(R(this,"getAxes"),["xAxis","yAxis"])){let n=t[i]=Y(t[i]||{});for(let t of n)new e(this,t,i)}R(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce(((t,e)=>(e.getPointsCollection().forEach((e=>{q(e.selectedStaging,e.selected)&&t.push(e)})),t)),[])}getSelectedSeries(){return this.series.filter((function(t){return t.selected}))}setTitle(t,e,i){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(i)}applyDescription(t,e){let i=this,n=this.options[t]=$(this.options[t],e),r=this[t];r&&e&&(this[t]=r=r.destroy()),n&&!r&&((r=this.renderer.text(n.text,0,0,n.useHTML).attr({align:n.align,class:"highcharts-"+t,zIndex:n.zIndex||4}).add()).update=function(e,n){i.applyDescription(t,e),i.layOutTitles(n)},this.styledMode||r.css(O("title"===t?{fontSize:this.options.isStock?"1em":"1.2em"}:{},n.style)),this[t]=r)}layOutTitles(t=!0){let e=[0,0,0],i=this.renderer,n=this.spacingBox;["title","subtitle","caption"].forEach((function(t){let r=this[t],s=this.options[t],o=s.verticalAlign||"top",a="title"===t?"top"===o?-3:0:"top"===o?e[0]+2:0;if(r){r.css({width:(s.width||n.width+(s.widthAdjust||0))+"px"});let t=i.fontMetrics(r).b,l=Math.round(r.getBBox(s.useHTML).height);r.align(O({y:"bottom"===o?t:a+t,height:l},s),!1,"spacingBox"),s.floating||("top"===o?e[0]=Math.ceil(e[0]+l):"bottom"===o&&(e[2]=Math.ceil(e[2]+l)))}}),this),e[0]&&"top"===(this.options.title.verticalAlign||"top")&&(e[0]+=this.options.title.margin),e[2]&&"bottom"===this.options.caption.verticalAlign&&(e[2]+=this.options.caption.margin);let r=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,R(this,"afterLayOutTitles"),!this.isDirtyBox&&r&&(this.isDirtyBox=this.isDirtyLegend=r,this.hasRendered&&t&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:B(this.renderTo,"width",!0)||0,height:B(this.renderTo,"height",!0)||0}}getChartSize(){let t=this.options.chart,e=t.width,i=t.height,n=this.getContainerBox();this.chartWidth=Math.max(0,e||n.width||600),this.chartHeight=Math.max(0,W(i,this.chartWidth)||(n.height>1?n.height:400)),this.containerBox=n}temporaryDisplay(t){let e,i=this.renderTo;if(t)for(;i&&i.style;)i.hcOrigStyle&&(M(i,i.hcOrigStyle),delete i.hcOrigStyle),i.hcOrigDetached&&(_.body.removeChild(i),i.hcOrigDetached=!1),i=i.parentNode;else for(;i&&i.style&&(_.body.contains(i)||i.parentNode||(i.hcOrigDetached=!0,_.body.appendChild(i)),("none"===B(i,"display",!1)||i.hcOricDetached)&&(i.hcOrigStyle={display:i.style.display,height:i.style.height,overflow:i.style.overflow},e={display:"block",overflow:"hidden"},i!==this.renderTo&&(e.height=0),M(i,e),i.offsetWidth||i.style.setProperty("display","block","important")),(i=i.parentNode)!==_.body););}setClassName(t){this.container.className="highcharts-container "+(t||"")}getContainer(){let t,e=this.options,i=e.chart,n="data-highcharts-chart",r=K(),s=this.renderTo;s||(this.renderTo=s=i.renderTo),V(s)&&(this.renderTo=s=_.getElementById(s)),s||z(13,!0,this);let a=G(A(s,n));j(a)&&b[a]&&b[a].hasRendered&&b[a].destroy(),A(s,n,this.index),s.innerHTML=d.emptyHTML,i.skipClone||s.offsetWidth||this.temporaryDisplay(),this.getChartSize();let l=this.chartWidth,h=this.chartHeight;M(s,{overflow:"hidden"}),this.styledMode||(t=O({position:"relative",overflow:"hidden",width:l+"px",height:h+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},i.style||{}));let u=I("div",{id:r},t,s);this.container=u,this._cursor=u.style.cursor;let p=i.renderer||!S?o.getRendererType(i.renderer):c;if(this.renderer=new p(u,l,h,void 0,i.forExport,e.exporting&&e.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),m(void 0,this),this.setClassName(i.className),this.styledMode)for(let o in e.defs)this.renderer.definition(e.defs[o]);else this.renderer.setStyle(i.style);this.renderer.chartIndex=this.index,R(this,"afterGetContainer")}getMargins(t){let{spacing:e,margin:i,titleOffset:n}=this;this.resetMargins(),n[0]&&!P(i[0])&&(this.plotTop=Math.max(this.plotTop,n[0]+e[0])),n[2]&&!P(i[2])&&(this.marginBottom=Math.max(this.marginBottom,n[2]+e[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),R(this,"getMargins"),t||this.getAxisMargins()}getAxisMargins(){let t=this,e=t.axisOffset=[0,0,0,0],i=t.colorAxis,n=t.margin,r=function(t){t.forEach((function(t){t.visible&&t.getOffset()}))};t.hasCartesianSeries?r(t.axes):i&&i.length&&r(i),w.forEach((function(i,r){P(n[r])||(t[i]+=e[r])})),t.setChartSize()}getOptions(){return E(this.userOptions,g)}reflow(t){let e=this,i=e.containerBox,n=e.getContainerBox();delete e.pointer.chartPosition,!e.isPrinting&&!e.isResizing&&i&&n.width&&((n.width!==i.width||n.height!==i.height)&&(u.clearTimeout(e.reflowTimeout),e.reflowTimeout=Z((function(){e.container&&e.setSize(void 0,void 0,!1)}),t?100:0)),e.containerBox=n)}setReflow(){let t=this,e=e=>{t.options?.chart.reflow&&t.hasLoaded&&t.reflow(e)};if("function"==typeof ResizeObserver)new ResizeObserver(e).observe(t.renderTo);else{let t=k(C,"resize",e);k(this,"destroy",t)}}setSize(t,e,i){let n=this,r=n.renderer;n.isResizing+=1,m(i,n);let s=r.globalAnimation;n.oldChartHeight=n.chartHeight,n.oldChartWidth=n.chartWidth,void 0!==t&&(n.options.chart.width=t),void 0!==e&&(n.options.chart.height=e),n.getChartSize(),n.styledMode||(s?p:M)(n.container,{width:n.chartWidth+"px",height:n.chartHeight+"px"},s),n.setChartSize(!0),r.setSize(n.chartWidth,n.chartHeight,s),n.axes.forEach((function(t){t.isDirty=!0,t.setScale()})),n.isDirtyLegend=!0,n.isDirtyBox=!0,n.layOutTitles(),n.getMargins(),n.redraw(s),n.oldChartHeight=null,R(n,"resize"),setTimeout((()=>{n&&R(n,"endResize",void 0,(()=>{n.isResizing-=1}))}),f(s).duration)}setChartSize(t){let e,i,n,r,s=this.inverted,o=this.renderer,a=this.chartWidth,l=this.chartHeight,c=this.options.chart,h=this.spacing,u=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=n=Math.max(0,Math.round(a-e-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(l-i-this.marginBottom)),this.plotSizeX=s?r:n,this.plotSizeY=s?n:r,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=o.spacingBox={x:h[3],y:h[0],width:a-h[3]-h[1],height:l-h[0]-h[2]},this.plotBox=o.plotBox={x:e,y:i,width:n,height:r};let d=2*Math.floor(this.plotBorderWidth/2),p=Math.ceil(Math.max(d,u[3])/2),f=Math.ceil(Math.max(d,u[0])/2);this.clipBox={x:p,y:f,width:Math.floor(this.plotSizeX-Math.max(d,u[1])/2-p),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(d,u[2])/2-f))},t||(this.axes.forEach((function(t){t.setAxisSize(),t.setAxisTranslation()})),o.alignElements()),R(this,"afterSetChartSize",{skipAxes:t})}resetMargins(){R(this,"resetMargins");let t=this,e=t.options.chart;["margin","spacing"].forEach((function(i){let n=e[i],r=U(n)?n:[n,n,n,n];["Top","Right","Bottom","Left"].forEach((function(n,s){t[i][s]=q(e[i+n],r[s])}))})),w.forEach((function(e,i){t[e]=q(t.margin[i],t.spacing[i])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]}drawChartBox(){let t,e,i,n=this.options.chart,r=this.renderer,s=this.chartWidth,o=this.chartHeight,a=this.styledMode,l=this.plotBGImage,c=n.backgroundColor,h=n.plotBackgroundColor,u=n.plotBackgroundImage,d=this.plotLeft,p=this.plotTop,f=this.plotWidth,m=this.plotHeight,g=this.plotBox,y=this.clipRect,x=this.clipBox,v=this.chartBackground,b=this.plotBackground,_=this.plotBorder,w="animate";v||(this.chartBackground=v=r.rect().addClass("highcharts-background").add(),w="attr"),a?t=e=v.strokeWidth():(e=(t=n.borderWidth||0)+(n.shadow?8:0),i={fill:c||"none"},(t||v["stroke-width"])&&(i.stroke=n.borderColor,i["stroke-width"]=t),v.attr(i).shadow(n.shadow)),v[w]({x:e/2,y:e/2,width:s-e-t%2,height:o-e-t%2,r:n.borderRadius}),w="animate",b||(w="attr",this.plotBackground=b=r.rect().addClass("highcharts-plot-background").add()),b[w](g),!a&&(b.attr({fill:h||"none"}).shadow(n.plotShadow),u&&(l?(u!==l.attr("href")&&l.attr("href",u),l.animate(g)):this.plotBGImage=r.image(u,d,p,f,m).add())),y?y.animate({width:x.width,height:x.height}):this.clipRect=r.clipRect(x),w="animate",_||(w="attr",this.plotBorder=_=r.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),a||_.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),_[w](_.crisp({x:d,y:p,width:f,height:m},-_.strokeWidth())),this.isDirtyBox=!1,R(this,"afterDrawChartBox")}propFromSeries(){let t,e,i,n=this,r=n.options.chart,s=n.options.series;["inverted","angular","polar"].forEach((function(o){for(e=T[r.type],i=r[o]||e&&e.prototype[o],t=s&&s.length;!i&&t--;)(e=T[s[t].type])&&e.prototype[o]&&(i=!0);n[o]=i}))}linkSeries(t){let e=this,i=e.series;i.forEach((function(t){t.linkedSeries.length=0})),i.forEach((function(t){let i=t.options.linkedTo;V(i)&&(i=":previous"===i?e.series[t.index-1]:e.get(i))&&i.linkedParent!==t&&(i.linkedSeries.push(t),t.linkedParent=i,i.enabledDataSorting&&t.setDataSortingOptions(),t.visible=q(t.options.visible,i.options.visible,t.visible))})),R(this,"afterLinkSeries",{isUpdating:t})}renderSeries(){this.series.forEach((function(t){t.translate(),t.render()}))}render(){let t=this.axes,e=this.colorAxis,i=this.renderer,n=function(t){t.forEach((function(t){t.visible&&t.render()}))},r=0;this.setTitle(),R(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();let s=this.plotWidth;t.some((function(t){if(t.horiz&&t.visible&&t.options.labels.enabled&&t.series.length)return r=21,!0})),this.plotHeight=Math.max(this.plotHeight-r,0);let o=this.plotHeight;t.forEach((function(t){t.setScale()})),this.getAxisMargins();let a=s/this.plotWidth>1.1,l=o/this.plotHeight>1.05;(a||l)&&(t.forEach((function(t){(t.horiz&&a||!t.horiz&&l)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?n(t):e&&e.length&&n(e),this.seriesGroup||(this.seriesGroup=i.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(t){let e=this,i=$(!0,this.options.credits,t);i.enabled&&!this.credits&&(this.credits=this.renderer.text(i.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){i.href&&(C.location.href=i.href)})).attr({align:i.position.align,zIndex:8}),e.styledMode||this.credits.css(i.style),this.credits.add().align(i.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})}destroy(){let t,e=this,i=e.axes,n=e.series,r=e.container,o=r&&r.parentNode;for(R(e,"destroy"),e.renderer.forExport?L(b,e):b[e.index]=void 0,s.chartCount--,e.renderTo.removeAttribute("data-highcharts-chart"),X(e),t=i.length;t--;)i[t]=i[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=n.length;t--;)n[t]=n[t].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach((function(t){let i=e[t];i&&i.destroy&&(e[t]=i.destroy())})),r&&(r.innerHTML=d.emptyHTML,X(r),o&&D(r)),H(e,(function(t,i){delete e[i]}))}firstRender(){let t=this,e=t.options;t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes();let i=N(e.series)?e.series:[];e.series=[],i.forEach((function(e){t.initSeries(e)})),t.linkSeries(),t.setSeriesData(),R(t,"beforeRender"),t.render(),t.pointer.getChartPosition(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach((function(t){t&&void 0!==this.index&&t.apply(this,[this])}),this),R(this,"load"),R(this,"render"),P(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:t,title:e}=this;!t||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(e&&e.element.textContent||"").replace(/</g,"&lt;")}),t.accessibility&&!1===t.accessibility.enabled||z('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(t,e,i){let n,r=this;return t&&(e=q(e,!0),R(r,"addSeries",{options:t},(function(){n=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),n.enabledDataSorting&&n.setData(t.data,!1),R(r,"afterAddSeries",{series:n}),e&&r.redraw(i)}))),n}addAxis(t,e,i,n){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:i,animation:n})}addColorAxis(t,e,i){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:i})}createAxis(t,i){let n=new e(this,i.axis,t);return q(i.redraw,!0)&&this.redraw(i.animation),n}showLoading(t){let e=this,i=e.options,n=i.loading,r=function(){s&&M(s,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})},s=e.loadingDiv,o=e.loadingSpan;s||(e.loadingDiv=s=I("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container)),o||(e.loadingSpan=o=I("span",{className:"highcharts-loading-inner"},null,s),k(e,"redraw",r)),s.className="highcharts-loading",d.setElementHTML(o,q(t,i.lang.loading,"")),e.styledMode||(M(s,O(n.style,{zIndex:10})),M(o,n.labelStyle),e.loadingShown||(M(s,{opacity:0,display:""}),p(s,{opacity:n.style.opacity||.5},{duration:n.showDuration||0}))),e.loadingShown=!0,r()}hideLoading(){let t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||p(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){M(e,{display:"none"})}})),this.loadingShown=!1}update(t,e,i,n){let r,s,o,a=this,l={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},c=t.isResponsiveOptions,u=[];R(a,"update",{options:t}),c||a.setResponsive(!1,!0),t=E(t,a.options),a.userOptions=$(a.userOptions,t);let d=t.chart;d&&($(!0,a.options.chart,d),this.setZoomOptions(),"className"in d&&a.setClassName(d.className),("inverted"in d||"polar"in d||"type"in d)&&(a.propFromSeries(),r=!0),"alignTicks"in d&&(r=!0),"events"in d&&v(this,d),H(d,(function(t,e){-1!==a.propsRequireUpdateSeries.indexOf("chart."+e)&&(s=!0),-1!==a.propsRequireDirtyBox.indexOf(e)&&(a.isDirtyBox=!0),-1!==a.propsRequireReflow.indexOf(e)&&(c?a.isDirtyBox=!0:o=!0)})),!a.styledMode&&d.style&&a.renderer.setStyle(a.options.chart.style||{})),!a.styledMode&&t.colors&&(this.options.colors=t.colors),t.time&&(this.time===y&&(this.time=new h(t.time)),$(!0,a.options.time,t.time)),H(t,(function(e,i){a[i]&&"function"==typeof a[i].update?a[i].update(e,!1):"function"==typeof a[l[i]]?a[l[i]](e):"colors"!==i&&-1===a.collectionsWithUpdate.indexOf(i)&&$(!0,a.options[i],t[i]),"chart"!==i&&-1!==a.propsRequireUpdateSeries.indexOf(i)&&(s=!0)})),this.collectionsWithUpdate.forEach((function(e){t[e]&&(Y(t[e]).forEach((function(t,n){let r,s=P(t.id);s&&(r=a.get(t.id)),!r&&a[e]&&(r=a[e][q(t.index,n)])&&(s&&P(r.options.id)||r.options.isInternal)&&(r=void 0),r&&r.coll===e&&(r.update(t,!1),i&&(r.touched=!0)),!r&&i&&a.collectionsWithInit[e]&&(a.collectionsWithInit[e][0].apply(a,[t].concat(a.collectionsWithInit[e][1]||[]).concat([!1])).touched=!0)})),i&&a[e].forEach((function(t){t.touched||t.options.isInternal?delete t.touched:u.push(t)})))})),u.forEach((function(t){t.chart&&t.remove&&t.remove(!1)})),r&&a.axes.forEach((function(t){t.update({},!1)})),s&&a.getSeriesOrderByLinks().forEach((function(t){t.chart&&t.update({},!1)}),this);let p=d&&d.width,f=d&&(V(d.height)?W(d.height,p||a.chartWidth):d.height);o||j(p)&&p!==a.chartWidth||j(f)&&f!==a.chartHeight?a.setSize(p,f,n):q(e,!0)&&a.redraw(n),R(a,"afterUpdate",{options:t,redraw:e,animation:n})}setSubtitle(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)}setCaption(t,e){this.applyDescription("caption",t),this.layOutTitles(e)}showResetZoom(){let t=this,e=g.lang,i=t.zooming.resetButton,n=i.theme,r="chart"===i.relativeTo||"spacingBox"===i.relativeTo?null:"scrollablePlotBox";function s(){t.zoomOut()}R(this,"beforeShowResetZoom",null,(function(){t.resetZoomButton=t.renderer.button(e.resetZoom,null,null,s,n).attr({align:i.position.align,title:e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,r)})),R(this,"afterShowResetZoom")}zoomOut(){R(this,"selection",{resetSelection:!0},this.zoom)}zoom(t){let e,i=this,n=i.pointer,r=!1;!t||t.resetSelection?(i.axes.forEach((function(t){e=t.zoom()})),n.initiated=!1):t.xAxis.concat(t.yAxis).forEach((function(t){let s=t.axis,o=s.isXAxis,{hasPinched:a,mouseDownX:l,mouseDownY:c}=n;(n[o?"zoomX":"zoomY"]&&P(l)&&P(c)&&i.isInsidePlot(l-i.plotLeft,c-i.plotTop,{axis:s,ignoreX:a,ignoreY:a})||!P(i.inverted?l:c))&&(e=s.zoom(t.min,t.max),s.displayBtn&&(r=!0))}));let s=i.resetZoomButton;r&&!s?i.showResetZoom():!r&&U(s)&&(i.resetZoomButton=s.destroy()),e&&i.redraw(q(i.options.chart.animation,t&&t.animation,i.pointCount<100))}pan(t,e){let i,n=this,r=n.hoverPoints,s="object"==typeof e?e:{enabled:e,type:"x"},o=n.options.chart;o&&o.panning&&(o.panning=s);let a=s.type;R(this,"pan",{originalEvent:t},(function(){r&&r.forEach((function(t){t.setState()}));let e=n.xAxis;"xy"===a?e=e.concat(n.yAxis):"y"===a&&(e=n.yAxis);let s={};e.forEach((function(e){if(!e.options.panningEnabled||e.options.isInternal)return;let r,o=e.horiz,l=t[o?"chartX":"chartY"],c=o?"mouseDownX":"mouseDownY",h=n[c],u=e.minPointOffset||0,d=e.reversed&&!n.inverted||!e.reversed&&n.inverted?-1:1,p=e.getExtremes(),f=e.toValue(h-l,!0)+u*d,m=e.toValue(h+e.len-l,!0)-(u*d||e.isXAxis&&e.pointRangePadding||0),g=m<f,y=e.hasVerticalPanning(),x=g?m:f,v=g?f:m,b=e.panningState;y&&!e.isXAxis&&(!b||b.isDirty)&&e.series.forEach((function(t){let e=t.getProcessedData(!0),i=t.getExtremes(e.yData,!0);b||(b={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),j(i.dataMin)&&j(i.dataMax)&&(b.startMin=Math.min(q(t.options.threshold,1/0),i.dataMin,b.startMin),b.startMax=Math.max(q(t.options.threshold,-1/0),i.dataMax,b.startMax))}));let _=Math.min(q(b&&b.startMin,p.dataMin),u?p.min:e.toValue(e.toPixels(p.min)-e.minPixelPadding)),w=Math.max(q(b&&b.startMax,p.dataMax),u?p.max:e.toValue(e.toPixels(p.max)+e.minPixelPadding));e.panningState=b,e.isOrdinal||((r=_-x)>0&&(v+=r,x=_),(r=v-w)>0&&(v=w,x-=r),e.series.length&&x!==p.min&&v!==p.max&&x>=_&&v<=w&&(e.setExtremes(x,v,!1,!1,{trigger:"pan"}),!n.resetZoomButton&&x!==_&&v!==w&&a.match("y")&&(n.showResetZoom(),e.displayBtn=!1),i=!0),s[c]=l)})),H(s,((t,e)=>{n[e]=t})),i&&n.redraw(!1),M(n.container,{cursor:"move"})}))}}return O(J.prototype,{callbacks:[],collectionsWithInit:{xAxis:[J.prototype.addAxis,[!0]],yAxis:[J.prototype.addAxis,[!1]],series:[J.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]}),J})),i(e,"Extensions/ScrollablePlotArea.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Axis/Axis.js"],e["Core/Chart/Chart.js"],e["Core/Series/Series.js"],e["Core/Renderer/RendererRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r,s){let{stop:o}=t,{addEvent:a,createElement:l,defined:c,merge:h,pick:u}=s;a(i,"afterSetChartSize",(function(t){let i,n,r,s=this.options.chart.scrollablePlotArea,o=s&&s.minWidth,a=s&&s.minHeight;this.renderer.forExport||(o?(this.scrollablePixelsX=i=Math.max(0,o-this.chartWidth),i&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=h(this.plotBox),this.plotBox.width=this.plotWidth+=i,this.inverted?this.clipBox.height+=i:this.clipBox.width+=i,r={1:{name:"right",value:i}})):a&&(this.scrollablePixelsY=n=Math.max(0,a-this.chartHeight),c(n)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=h(this.plotBox),this.plotBox.height=this.plotHeight+=n,this.inverted?this.clipBox.width+=n:this.clipBox.height+=n,r={2:{name:"bottom",value:n}})),r&&!t.skipAxes&&this.axes.forEach((function(t){r[t.side]?t.getPlotLinePath=function(){let i,n=r[t.side].name,s=r[t.side].value,o=this[n];return this[n]=o-s,i=e.prototype.getPlotLinePath.apply(this,arguments),this[n]=o,i}:(t.setAxisSize(),t.setAxisTranslation())})))})),a(i,"render",(function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),i.prototype.setUpScrolling=function(){let t,e={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(e.overflowX="auto"),this.scrollablePixelsY&&(e.overflowY="auto"),this.scrollingParent=l("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=l("div",{className:"highcharts-scrolling"},e,this.scrollingParent),a(this.scrollingContainer,"scroll",(()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(t=this.hoverPoint),this.pointer.runPointActions(void 0,t,!0))})),this.innerContainer=l("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},i.prototype.moveFixedElements=function(){let t,e=this.container,i=this.fixedRenderer,n=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-reset-zoom",".highcharts-drillup-button",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];this.scrollablePixelsX&&!this.inverted?t=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(t=".highcharts-yaxis"),t&&n.push(`${t}:not(.highcharts-radial-axis)`,`${t}-labels:not(.highcharts-radial-axis-labels)`),n.forEach((function(t){[].forEach.call(e.querySelectorAll(t),(function(t){(t.namespaceURI===i.SVG_NS?i.box:i.box.parentNode).appendChild(t),t.style.pointerEvents="auto"}))}))},i.prototype.applyFixed=function(){let t,e,i,n=!this.fixedDiv,s=this.options.chart,c=s.scrollablePlotArea,h=r.getRendererType();n?(this.fixedDiv=l("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(s.style&&s.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=t=new h(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=t.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":u(c.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),a(this,"afterShowResetZoom",this.moveFixedElements),a(this,"afterApplyDrilldown",this.moveFixedElements),a(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||n)&&(this.scrollableDirty=!1,this.moveFixedElements()),e=this.chartWidth+(this.scrollablePixelsX||0),i=this.chartHeight+(this.scrollablePixelsY||0),o(this.container),this.container.style.width=e+"px",this.container.style.height=i+"px",this.renderer.boxWrapper.attr({width:e,height:i,viewBox:[0,0,e,i].join(" ")}),this.chartBackground.attr({width:e,height:i}),this.scrollingContainer.style.height=this.chartHeight+"px",n&&(c.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*c.scrollPositionX),c.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*c.scrollPositionY));let d,p=this.axisOffset,f=this.plotTop-p[0]-1,m=this.plotLeft-p[3]-1,g=this.plotTop+this.plotHeight+p[2]+1,y=this.plotLeft+this.plotWidth+p[1]+1,x=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),v=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);d=this.scrollablePixelsX?[["M",0,f],["L",this.plotLeft-1,f],["L",this.plotLeft-1,g],["L",0,g],["Z"],["M",x,f],["L",this.chartWidth,f],["L",this.chartWidth,g],["L",x,g],["Z"]]:this.scrollablePixelsY?[["M",m,0],["L",m,this.plotTop-1],["L",y,this.plotTop-1],["L",y,0],["Z"],["M",m,v],["L",m,this.chartHeight],["L",y,this.chartHeight],["L",y,v],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:d})},a(e,"afterInit",(function(){this.chart.scrollableDirty=!0})),a(n,"show",(function(){this.chart.scrollableDirty=!0}))})),i(e,"Core/Axis/Stacking/StackItem.js",[e["Core/Templating.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{format:n}=t,{series:r}=e,{destroyObjectProperties:s,fireEvent:o,isNumber:a,pick:l}=i;return class{constructor(t,e,i,n,r){let s=t.chart.inverted,o=t.reversed;this.axis=t;let a=this.isNegative=!!i!=!!o;this.options=e=e||{},this.x=n,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=r,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:e.align||(s?a?"left":"right":"center"),verticalAlign:e.verticalAlign||(s?"middle":a?"bottom":"top"),y:e.y,x:e.x},this.textAlign=e.textAlign||(s?a?"right":"left":"center")}destroy(){s(this,this.axis)}render(t){let e=this.axis.chart,i=this.options,r=i.format,s=r?n(r,this,e):i.formatter.call(this);if(this.label)this.label.attr({text:s,visibility:"hidden"});else{this.label=e.renderer.label(s,null,void 0,i.shape,void 0,void 0,i.useHTML,!1,"stack-labels");let n={r:i.borderRadius||0,text:s,padding:l(i.padding,5),visibility:"hidden"};e.styledMode||(n.fill=i.backgroundColor,n.stroke=i.borderColor,n["stroke-width"]=i.borderWidth,this.label.css(i.style||{})),this.label.attr(n),this.label.added||this.label.add(t)}this.label.labelrank=e.plotSizeY,o(this,"afterRender")}setOffset(t,e,i,n,s,c){let{alignOptions:h,axis:u,label:d,options:p,textAlign:f}=this,m=u.chart,g=this.getStackBox({xOffset:t,width:e,boxBottom:i,boxTop:n,defaultX:s,xAxis:c}),{verticalAlign:y}=h;if(d&&g){let t,e=d.getBBox(),i=d.padding,n="justify"===l(p.overflow,"justify");h.x=p.x||0,h.y=p.y||0;let{x:s,y:o}=this.adjustStackPosition({labelBox:e,verticalAlign:y,textAlign:f});g.x-=s,g.y-=o,d.align(h,!1,g),(t=m.isInsidePlot(d.alignAttr.x+h.x+s,d.alignAttr.y+h.y+o))||(n=!1),n&&r.prototype.justifyDataLabel.call(u,d,h,d.alignAttr,e,g),d.attr({x:d.alignAttr.x,y:d.alignAttr.y,rotation:p.rotation,rotationOriginX:e.width/2,rotationOriginY:e.height/2}),l(!n&&p.crop,!0)&&(t=a(d.x)&&a(d.y)&&m.isInsidePlot(d.x-i+(d.width||0),d.y)&&m.isInsidePlot(d.x+i,d.y)),d[t?"show":"hide"]()}o(this,"afterSetOffset",{xOffset:t,width:e})}adjustStackPosition({labelBox:t,verticalAlign:e,textAlign:i}){let n={bottom:0,middle:1,top:2,right:1,center:0,left:-1},r=n[e],s=n[i];return{x:t.width/2+t.width/2*s,y:t.height/2*r}}getStackBox(t){let e=this.axis,i=e.chart,{boxTop:n,defaultX:r,xOffset:s,width:o,boxBottom:c}=t,h=e.stacking.usePercentage?100:l(n,this.total,0),u=e.toPixels(h),d=t.xAxis||i.xAxis[0],p=l(r,d.translate(this.x))+s,f=e.toPixels(c||a(e.min)&&e.logarithmic&&e.logarithmic.lin2log(e.min)||0),m=Math.abs(u-f),g=i.inverted,y=this.isNegative;return g?{x:(y?u:u-m)-i.plotLeft,y:d.height-p-o,width:m,height:o}:{x:p+d.transB-i.plotLeft,y:(y?u-m:u)-i.plotTop,width:o,height:m}}}})),i(e,"Core/Axis/Stacking/StackingAxis.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Axis/Axis.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Axis/Stacking/StackItem.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r){var s;let{getDeferredAnimation:o}=t,{series:{prototype:a}}=i,{addEvent:l,correctFloat:c,defined:h,destroyObjectProperties:u,fireEvent:d,isArray:p,isNumber:f,objectEach:m,pick:g}=r;function y(){let t=this.inverted;this.axes.forEach((t=>{t.stacking&&t.stacking.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)})),this.series.forEach((e=>{let i=e.xAxis&&e.xAxis.options||{};e.options.stacking&&e.reserveSpace()&&(e.stackKey=[e.type,g(e.options.stack,""),t?i.top:i.left,t?i.height:i.width].join(","))}))}function x(){let t=this.stacking;if(t){let e=t.stacks;m(e,((t,i)=>{u(t),delete e[i]})),t.stackTotalGroup?.destroy()}}function v(){this.stacking||(this.stacking=new T(this))}function b(t,e,i,n){return!h(t)||t.x!==e||n&&t.stackKey!==n?t={x:e,index:0,key:n,stackKey:n}:t.index++,t.key=[i,e,t.index].join(","),t}function _(){let t,e=this,i=e.yAxis,n=e.stackKey||"",r=i.stacking.stacks,s=e.processedXData,o=e.options.stacking,a=e[o+"Stacker"];a&&[n,"-"+n].forEach((i=>{let n,o,l,c=s.length;for(;c--;)n=s[c],t=e.getStackIndicator(t,n,e.index,i),o=r[i]?.[n],(l=o?.points[t.key||""])&&a.call(e,l,o,c)}))}function w(t,e,i){let n=e.total?100/e.total:0;t[0]=c(t[0]*n),t[1]=c(t[1]*n),this.stackedYData[i]=t[1]}function S(t){this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&this.chart.series.length>1?a.setStackedPoints.call(this,t,"group"):t.stacking.resetStacks()}function C(t,e){let i,r,s,o,a,l,u,d,f,m=e||this.options.stacking;if(!m||!this.reserveSpace()||({group:"xAxis"}[m]||"yAxis")!==t.coll)return;let y=this.processedXData,x=this.processedYData,v=[],b=x.length,_=this.options,w=_.threshold||0,S=_.startFromThreshold?w:0,C=_.stack,T=e?`${this.type},${m}`:this.stackKey||"",k="-"+T,A=this.negStacks,I=t.stacking,M=I.stacks,P=I.oldStacks;for(I.stacksTouched+=1,u=0;u<b;u++){d=y[u],f=x[u],l=(i=this.getStackIndicator(i,d,this.index)).key||"",M[a=(r=A&&f<(S?0:w))?k:T]||(M[a]={}),M[a][d]||(P[a]?.[d]?(M[a][d]=P[a][d],M[a][d].total=null):M[a][d]=new n(t,t.options.stackLabels,!!r,d,C)),s=M[a][d],null!==f?(s.points[l]=s.points[this.index]=[g(s.cumulative,S)],h(s.cumulative)||(s.base=l),s.touched=I.stacksTouched,i.index>0&&!1===this.singleStacks&&(s.points[l][0]=s.points[this.index+","+d+",0"][0])):(delete s.points[l],delete s.points[this.index]);let e=s.total||0;"percent"===m?(o=r?T:k,e=A&&M[o]?.[d]?(o=M[o][d]).total=Math.max(o.total||0,e)+Math.abs(f)||0:c(e+(Math.abs(f)||0))):"group"===m?(p(f)&&(f=f[0]),null!==f&&e++):e=c(e+(f||0)),s.cumulative="group"===m?(e||1)-1:c(g(s.cumulative,S)+(f||0)),s.total=e,null!==f&&(s.points[l].push(s.cumulative),v[u]=s.cumulative,s.hasValidPoints=!0)}"percent"===m&&(I.usePercentage=!0),"group"!==m&&(this.stackedYData=v),I.oldStacks={}}class T{constructor(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}buildStacks(){let t,e,i=this.axis,n=i.series,r="xAxis"===i.coll,s=i.options.reversedStacks,o=n.length;for(this.resetStacks(),this.usePercentage=!1,e=o;e--;)t=n[s?e:o-e-1],r&&t.setGroupedPoints(i),t.setStackedPoints(i);if(!r)for(e=0;e<o;e++)n[e].modifyStacks();d(i,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,m(this.stacks,(t=>{m(t,(t=>{t.cumulative=t.total}))})))}resetStacks(){m(this.stacks,(t=>{m(t,((e,i)=>{f(e.touched)&&e.touched<this.stacksTouched?(e.destroy(),delete t[i]):(e.total=null,e.cumulative=null)}))}))}renderStackTotals(){let t=this.axis,e=t.chart,i=e.renderer,n=this.stacks,r=t.options.stackLabels?.animation,s=o(e,r||!1),a=this.stackTotalGroup=this.stackTotalGroup||i.g("stack-labels").attr({zIndex:6,opacity:0}).add();a.translate(e.plotLeft,e.plotTop),m(n,(t=>{m(t,(t=>{t.render(a)}))})),a.animate({opacity:1},s)}}return function(t){let e=[];t.compose=function(t,i,n){if(r.pushUnique(e,t)&&(l(t,"init",v),l(t,"destroy",x)),r.pushUnique(e,i)){let t=i.prototype;t.getStacks=y}if(r.pushUnique(e,n)){let t=n.prototype;t.getStackIndicator=b,t.modifyStacks=_,t.percentStacker=w,t.setGroupedPoints=S,t.setStackedPoints=C}}}(s||(s={})),s})),i(e,"Series/Line/LineSeries.js",[e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{defined:n,merge:r,isObject:s}=i;class o extends t{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}drawGraph(){let t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),n=this.chart.styledMode,o=[["graph","highcharts-graph"]];n||o[0].push(e.lineColor||this.color||"#cccccc",e.dashStyle),(o=t.getZonesGraphs(o)).forEach((function(o,a){let l,c=o[0],h=t[c],u=h?"animate":"attr";h?(h.endX=t.preventGraphAnimation?null:i.xMap,h.animate({d:i})):i.length&&(t[c]=h=t.chart.renderer.path(i).addClass(o[1]).attr({zIndex:1}).add(t.group)),h&&!n&&(l={stroke:o[2],"stroke-width":e.lineWidth||0,fill:t.fillGraph&&t.color||"none"},o[3]?l.dashstyle=o[3]:"square"!==e.linecap&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),h[u](l).shadow(a<2&&e.shadow&&r({filterUnits:"userSpaceOnUse"},s(e.shadow)?e.shadow:{}))),h&&(h.startX=i.xMap,h.isArea=i.isArea)}))}getGraphPath(t,e,i){let r,s=this,o=s.options,a=[],l=[],c=o.step;t=t||s.points;let h=t.reversed;return h&&t.reverse(),(c={right:1,center:2}[c]||c&&3)&&h&&(c=4-c),(t=this.getValidPoints(t,!1,!(o.connectNulls&&!e&&!i))).forEach((function(h,u){let d,p=h.plotX,f=h.plotY,m=t[u-1],g=h.isNull||"number"!=typeof f;(h.leftCliff||m&&m.rightCliff)&&!i&&(r=!0),g&&!n(e)&&u>0?r=!o.connectNulls:g&&!e?r=!0:(0===u||r?d=[["M",h.plotX,h.plotY]]:s.getPointSpline?d=[s.getPointSpline(t,h,u)]:c?(d=1===c?[["L",m.plotX,f]]:2===c?[["L",(m.plotX+p)/2,m.plotY],["L",(m.plotX+p)/2,f]]:[["L",p,m.plotY]]).push(["L",p,f]):d=[["L",p,f]],l.push(h.x),c&&(l.push(h.x),2===c&&l.push(h.x)),a.push.apply(a,d),r=!1)})),a.xMap=l,s.graphPath=a,a}getZonesGraphs(t){return this.zones.forEach((function(e,i){let n=["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(e.className||"")];this.chart.styledMode||n.push(e.color||this.color,e.dashStyle||this.options.dashStyle),t.push(n)}),this),t}}return o.defaultOptions=r(t.defaultOptions,{legendSymbol:"lineMarker"}),e.registerSeriesType("line",o),o})),i(e,"Series/Area/AreaSeries.js",[e["Core/Color/Color.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{parse:n}=t,{seriesTypes:{line:r}}=e,{extend:s,merge:o,objectEach:a,pick:l}=i;class c extends r{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let t=this,e=this.areaPath,i=this.options,n=this.zones,r=[["area","highcharts-area",this.color,i.fillColor]];n.forEach((function(e,n){r.push(["zone-area-"+n,"highcharts-area highcharts-zone-area-"+n+" "+e.className,e.color||t.color,e.fillColor||i.fillColor])})),r.forEach((function(n){let r=n[0],s={},o=t[r],a=o?"animate":"attr";o?(o.endX=t.preventGraphAnimation?null:e.xMap,o.animate({d:e})):(s.zIndex=0,(o=t[r]=t.chart.renderer.path(e).addClass(n[1]).add(t.group)).isArea=!0),t.chart.styledMode||(n[3]?s.fill=n[3]:(s.fill=n[2],s["fill-opacity"]=l(i.fillOpacity,.75))),o[a](s),o.startX=e.xMap,o.shiftUnit=i.step?2:1}))}getGraphPath(t){let e,i,n,s=r.prototype.getGraphPath,o=this.options,a=o.stacking,c=this.yAxis,h=[],u=[],d=this.index,p=c.stacking.stacks[this.stackKey],f=o.threshold,m=Math.round(c.getThreshold(o.threshold)),g=l(o.connectNulls,"percent"===a),y=function(i,n,r){let s,o,l=t[i],g=a&&p[l.x].points[d],y=l[r+"Null"]||0,x=l[r+"Cliff"]||0,v=!0;x||y?(s=(y?g[0]:g[1])+x,o=g[0]+x,v=!!y):!a&&t[n]&&t[n].isNull&&(s=o=f),void 0!==s&&(u.push({plotX:e,plotY:null===s?m:c.getThreshold(s),isNull:v,isCliff:!0}),h.push({plotX:e,plotY:null===o?m:c.getThreshold(o),doCurve:!1}))};t=t||this.points,a&&(t=this.getStackPoints(t));for(let r=0,S=t.length;r<S;++r)a||(t[r].leftCliff=t[r].rightCliff=t[r].leftNull=t[r].rightNull=void 0),i=t[r].isNull,e=l(t[r].rectPlotX,t[r].plotX),n=a?l(t[r].yBottom,m):m,i&&!g||(g||y(r,r-1,"left"),i&&!a&&g||(u.push(t[r]),h.push({x:r,plotX:e,plotY:n})),g||y(r,r+1,"right"));let x=s.call(this,u,!0,!0);h.reversed=!0;let v=s.call(this,h,!0,!0),b=v[0];b&&"M"===b[0]&&(v[0]=["L",b[1],b[2]]);let _=x.concat(v);_.length&&_.push(["Z"]);let w=s.call(this,u,!1,g);return _.xMap=x.xMap,this.areaPath=_,w}getStackPoints(t){let e=this,i=[],n=[],r=this.xAxis,s=this.yAxis,o=s.stacking.stacks[this.stackKey],c={},h=s.series,u=h.length,d=s.options.reversedStacks?1:-1,p=h.indexOf(e);if(t=t||this.points,this.options.stacking){for(let e=0;e<t.length;e++)t[e].leftNull=t[e].rightNull=void 0,c[t[e].x]=t[e];a(o,(function(t,e){null!==t.total&&n.push(e)})),n.sort((function(t,e){return t-e}));let f=h.map((t=>t.visible));n.forEach((function(t,a){let m,g,y=0;if(c[t]&&!c[t].isNull)i.push(c[t]),[-1,1].forEach((function(i){let r=1===i?"rightNull":"leftNull",s=o[n[a+i]],l=0;if(s){let i=p;for(;i>=0&&i<u;){let n=h[i].index;!(m=s.points[n])&&(n===e.index?c[t][r]=!0:f[i]&&(g=o[t].points[n])&&(l-=g[1]-g[0])),i+=d}}c[t][1===i?"rightCliff":"leftCliff"]=l}));else{let e=p;for(;e>=0&&e<u;){let i=h[e].index;if(m=o[t].points[i]){y=m[1];break}e+=d}y=l(y,0),y=s.translate(y,0,1,0,1),i.push({isNull:!0,plotX:r.translate(t,0,0,0,1),x:t,plotY:y,yBottom:y})}}))}return i}}return c.defaultOptions=o(r.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),s(c.prototype,{singleStacks:!1}),e.registerSeriesType("area",c),c})),i(e,"Series/Spline/SplineSeries.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e){let{line:i}=t.seriesTypes,{merge:n,pick:r}=e;class s extends i{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getPointSpline(t,e,i){let n,s,o,a,l=e.plotX||0,c=e.plotY||0,h=t[i-1],u=t[i+1];function d(t){return t&&!t.isNull&&!1!==t.doCurve&&!e.isCliff}if(d(h)&&d(u)){let t=h.plotX||0,i=h.plotY||0,r=u.plotX||0,d=u.plotY||0,p=0;n=(1.5*l+t)/2.5,s=(1.5*c+i)/2.5,o=(1.5*l+r)/2.5,a=(1.5*c+d)/2.5,o!==n&&(p=(a-s)*(o-l)/(o-n)+c-a),s+=p,a+=p,s>i&&s>c?(s=Math.max(i,c),a=2*c-s):s<i&&s<c&&(s=Math.min(i,c),a=2*c-s),a>d&&a>c?(a=Math.max(d,c),s=2*c-a):a<d&&a<c&&(a=Math.min(d,c),s=2*c-a),e.rightContX=o,e.rightContY=a,e.controlPoints={low:[n,s],high:[o,a]}}let p=["C",r(h.rightContX,h.plotX,0),r(h.rightContY,h.plotY,0),r(n,l,0),r(s,c,0),l,c];return h.rightContX=h.rightContY=void 0,p}}return s.defaultOptions=n(i.defaultOptions),t.registerSeriesType("spline",s),s})),i(e,"Series/AreaSpline/AreaSplineSeries.js",[e["Series/Spline/SplineSeries.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{area:n,area:{prototype:r}}=e.seriesTypes,{extend:s,merge:o}=i;class a extends t{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}}return a.defaultOptions=o(t.defaultOptions,n.defaultOptions),s(a.prototype,{getGraphPath:r.getGraphPath,getStackPoints:r.getStackPoints,drawGraph:r.drawGraph}),e.registerSeriesType("areaspline",a),a})),i(e,"Series/Column/ColumnSeriesDefaults.js",[],(function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}})),i(e,"Series/Column/ColumnSeries.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Color/Color.js"],e["Series/Column/ColumnSeriesDefaults.js"],e["Core/Globals.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r,s,o){let{animObject:a}=t,{parse:l}=e,{hasTouch:c,noop:h}=n,{clamp:u,defined:d,extend:p,fireEvent:f,isArray:m,isNumber:g,merge:y,pick:x,objectEach:v,relativeLength:b}=o;class _ extends r{constructor(){super(...arguments),this.borderWidth=void 0,this.data=void 0,this.group=void 0,this.options=void 0,this.points=void 0}animate(t){let e,i,n=this,r=this.yAxis,s=r.pos,o=n.options,l=this.chart.inverted,c={},h=l?"translateX":"translateY";t?(c.scaleY=.001,i=u(r.toPixels(o.threshold),s,s+r.len),l?c.translateX=i-r.len:c.translateY=i,n.clipBox&&n.setClip(),n.group.attr(c)):(e=Number(n.group.attr(h)),n.group.animate({scaleY:1},p(a(n.options.animation),{step:function(t,i){n.group&&(c[h]=e+i.pos*(s-e),n.group.attr(c))}})))}init(t,e){super.init.apply(this,arguments);let i=this;(t=i.chart).hasRendered&&t.series.forEach((function(t){t.type===i.type&&(t.isDirty=!0)}))}getColumnMetrics(){let t,e=this,i=e.options,n=e.xAxis,r=e.yAxis,s=n.options.reversedStacks,o=n.reversed&&!s||!n.reversed&&s,a={},l=0;!1===i.grouping?l=1:e.chart.series.forEach((function(i){let n,s=i.yAxis,o=i.options;i.type===e.type&&i.reserveSpace()&&r.len===s.len&&r.pos===s.pos&&(o.stacking&&"group"!==o.stacking?(void 0===a[t=i.stackKey]&&(a[t]=l++),n=a[t]):!1!==o.grouping&&(n=l++),i.columnIndex=n)}));let c=Math.min(Math.abs(n.transA)*(!n.brokenAxis?.hasBreaks&&n.ordinal?.slope||i.pointRange||n.closestPointRange||n.tickInterval||1),n.len),h=c*i.groupPadding,u=(c-2*h)/(l||1),d=Math.min(i.maxPointWidth||n.len,x(i.pointWidth,u*(1-2*i.pointPadding))),p=(u-d)/2,f=(e.columnIndex||0)+(o?1:0),m=p+(h+f*u-c/2)*(o?-1:1);return e.columnMetrics={width:d,offset:m,paddedWidth:u,columnCount:l},e.columnMetrics}crispCol(t,e,i,n){this.chart;let r=this.borderWidth,s=-(r%2?.5:0),o=r%2?.5:1;this.options.crisp&&(i=Math.round(t+i)+s-(t=Math.round(t)+s));let a=Math.round(e+n)+o,l=.5>=Math.abs(e)&&a>.5;return n=a-(e=Math.round(e)+o),l&&n&&(e-=1,n+=1),{x:t,y:e,width:i,height:n}}adjustForMissingColumns(t,e,i,n){if(!i.isNull&&n.columnCount>1){let r=this.xAxis.series.filter((t=>t.visible)).map((t=>t.index)),s=0,o=0;v(this.xAxis.stacking?.stacks,(t=>{if("number"==typeof i.x){let e=t[i.x.toString()];if(e){let t=e.points[this.index];if(m(t)){let t=Object.keys(e.points).filter((t=>!t.match(",")&&e.points[t]&&e.points[t].length>1)).map(parseFloat).filter((t=>-1!==r.indexOf(t))).sort(((t,e)=>e-t));s=t.indexOf(this.index),o=t.length}}}}));let a=(o-1)*n.paddedWidth+e;t=(i.plotX||0)+a/2-e-s*n.paddedWidth}return t}translate(){let t=this,e=t.chart,i=t.options,n=t.dense=t.closestPointRange*t.xAxis.transA<2,s=t.borderWidth=x(i.borderWidth,n?0:1),o=t.xAxis,a=t.yAxis,l=i.threshold,c=x(i.minPointLength,5),h=t.getColumnMetrics(),p=h.width,m=t.pointXOffset=h.offset,y=t.dataMin,v=t.dataMax,b=t.barW=Math.max(p,1+2*s),_=t.translatedThreshold=a.getThreshold(l);e.inverted&&(_-=.5),i.pointPadding&&(b=Math.ceil(b)),r.prototype.translate.apply(t),t.points.forEach((function(n){let r=x(n.yBottom,_),s=999+Math.abs(r),f=n.plotX||0,w=u(n.plotY,-s,a.len+s);n.stackBox;let S,C=Math.min(w,r),T=Math.max(w,r)-C,k=p,A=f+m,I=b;c&&Math.abs(T)<c&&(T=c,S=!a.reversed&&!n.negative||a.reversed&&n.negative,g(l)&&g(v)&&n.y===l&&v<=l&&(a.min||0)<l&&(y!==v||(a.max||0)<=l)&&(S=!S,n.negative=!n.negative),C=Math.abs(C-_)>c?r-c:_-(S?c:0)),d(n.options.pointWidth)&&(A-=Math.round(((k=I=Math.ceil(n.options.pointWidth))-p)/2)),i.centerInCategory&&!i.stacking&&(A=t.adjustForMissingColumns(A,k,n,h)),n.barX=A,n.pointWidth=k,n.tooltipPos=e.inverted?[u(a.len+a.pos-e.plotLeft-w,a.pos-e.plotLeft,a.len+a.pos-e.plotLeft),o.len+o.pos-e.plotTop-A-I/2,T]:[o.left-e.plotLeft+A+I/2,u(w+a.pos-e.plotTop,a.pos-e.plotTop,a.len+a.pos-e.plotTop),T],n.shapeType=t.pointClass.prototype.shapeType||"roundedRect",n.shapeArgs=t.crispCol(A,n.isNull?_:C,I,n.isNull?0:T)})),f(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(t,e){let i,n,r,s=this.options,o=this.pointAttrToOptions||{},a=o.stroke||"borderColor",c=o["stroke-width"]||"borderWidth",h=t&&t.color||this.color,u=t&&t[a]||s[a]||h,d=t&&t.options.dashStyle||s.dashStyle,p=t&&t[c]||s[c]||this[c]||0,f=x(t&&t.opacity,s.opacity,1);t&&this.zones.length&&(n=t.getZone(),h=t.options.color||n&&(n.color||t.nonZonedColor)||this.color,n&&(u=n.borderColor||u,d=n.dashStyle||d,p=n.borderWidth||p)),e&&t&&(r=(i=y(s.states[e],t.options.states&&t.options.states[e]||{})).brightness,h=i.color||void 0!==r&&l(h).brighten(i.brightness).get()||h,u=i[a]||u,p=i[c]||p,d=i.dashStyle||d,f=x(i.opacity,f));let m={fill:h,stroke:u,"stroke-width":p,opacity:f};return d&&(m.dashstyle=d),m}drawPoints(t=this.points){let e,i=this,n=this.chart,r=i.options,s=n.renderer,o=r.animationLimit||250;t.forEach((function(t){let a=t.plotY,l=t.graphic,c=!!l,h=l&&n.pointCount<o?"animate":"attr";g(a)&&null!==t.y?(e=t.shapeArgs,l&&t.hasNewShapeType()&&(l=l.destroy()),i.enabledDataSorting&&(t.startXPos=i.xAxis.reversed?-(e&&e.width||0):i.xAxis.width),!l&&(t.graphic=l=s[t.shapeType](e).add(t.group||i.group),l&&i.enabledDataSorting&&n.hasRendered&&n.pointCount<o&&(l.attr({x:t.startXPos}),c=!0,h="animate")),l&&c&&l[h](y(e)),n.styledMode||l[h](i.pointAttribs(t,t.selected&&"select")).shadow(!1!==t.allowShadow&&r.shadow),l&&(l.addClass(t.getClassName(),!0),l.attr({visibility:t.visible?"inherit":"hidden"}))):l&&(t.graphic=l.destroy())}))}drawTracker(t=this.points){let e,i=this,n=i.chart,r=n.pointer,s=function(t){let e=r.getPointFromEvent(t);void 0!==e&&i.options.enableMouseTracking&&(r.isDirectTouch=!0,e.onMouseOver(t))};t.forEach((function(t){e=m(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[],t.graphic&&(t.graphic.element.point=t),e.forEach((function(e){e.div?e.div.point=t:e.element.point=t}))})),i._hasTracking||(i.trackerGroups.forEach((function(t){i[t]&&(i[t].addClass("highcharts-tracker").on("mouseover",s).on("mouseout",(function(t){r.onTrackerMouseOut(t)})),c&&i[t].on("touchstart",s),!n.styledMode&&i.options.cursor&&i[t].css({cursor:i.options.cursor}))})),i._hasTracking=!0),f(this,"afterDrawTracker")}remove(){let t=this,e=t.chart;e.hasRendered&&e.series.forEach((function(e){e.type===t.type&&(e.isDirty=!0)})),r.prototype.remove.apply(t,arguments)}}return _.defaultOptions=y(r.defaultOptions,i),p(_.prototype,{directTouch:!0,getSymbol:h,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),s.registerSeriesType("column",_),_})),i(e,"Core/Series/DataLabel.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Templating.js"],e["Core/Utilities.js"]],(function(t,e,i){var n;let{getDeferredAnimation:r}=t,{format:s}=e,{defined:o,extend:a,fireEvent:l,isArray:c,isString:h,merge:u,objectEach:d,pick:p,pInt:f,splat:m}=i;return function(t){let e=[];function n(){return m(this.options.dataLabels||{}).some((t=>t?.enabled))}function g(t,e,i,n,r){let s,l,c,h=this,u=this.chart,d=this.isCartesian&&u.inverted,f=this.enabledDataSorting,m=t.plotX,g=t.plotY,y=i.rotation,x=i.align,v=o(m)&&o(g)&&u.isInsidePlot(m,Math.round(g),{inverted:d,paneCoordinates:!0,series:h}),b=i=>{f&&h.xAxis&&!_&&h.setDataLabelStartPos(t,e,r,v,i)},_="justify"===p(i.overflow,f?"none":"justify"),w=this.visible&&!1!==t.visible&&o(m)&&(t.series.forceDL||f&&!_||v||p(i.inside,!!this.options.stacking)&&n&&u.isInsidePlot(m,d?n.x+1:n.y+n.height-1,{inverted:d,paneCoordinates:!0,series:h})),S=t.pos();if(w&&S){y&&e.attr({align:x});let t=e.getBBox(!0),o=[0,0];if(s=u.renderer.fontMetrics(e).b,n=a({x:S[0],y:Math.round(S[1]),width:0,height:0},n),a(i,{width:t.width,height:t.height}),y?(_=!1,l=u.renderer.rotCorr(s,y),c={x:n.x+(i.x||0)+n.width/2+l.x,y:n.y+(i.y||0)+{top:0,middle:.5,bottom:1}[i.verticalAlign]*n.height},o=[t.x-Number(e.attr("x")),t.y-Number(e.attr("y"))],b(c),e[r?"attr":"animate"](c)):(b(n),e.align(i,void 0,n),c=e.alignAttr),_&&n.height>=0)this.justifyDataLabel(e,i,c,t,n,r);else if(p(i.crop,!0)){let{x:e,y:i}=c;e+=o[0],i+=o[1],w=u.isInsidePlot(e,i,{paneCoordinates:!0,series:h})&&u.isInsidePlot(e+t.width,i+t.height,{paneCoordinates:!0,series:h})}i.shape&&!y&&e[r?"attr":"animate"]({anchorX:S[0],anchorY:S[1]})}r&&f&&(e.placed=!1),w||f&&!_?e.show():(e.hide(),e.placed=!1)}function y(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function x(t){let e=this.hasRendered||0,i=this.initDataLabelsGroup().attr({opacity:+e});return!e&&i&&(this.visible&&i.show(),this.options.animation?i.animate({opacity:1},t):i.attr({opacity:1})),i}function v(t){t=t||this.points;let e,i=this,n=i.chart,a=i.options,c=n.renderer,{backgroundColor:u,plotBackgroundColor:g}=n.options.chart,y=n.options.plotOptions,x=c.getContrast(h(g)&&g||h(u)&&u||"#000000"),v=a.dataLabels;v=_(_(y?.series?.dataLabels,y?.[i.type]?.dataLabels),v);let{animation:b,defer:w}=m(v)[0],S=w?r(n,b,i):{defer:0,duration:0};l(this,"drawDataLabels"),i.hasDataLabels?.()&&(e=this.initDataLabels(S),t.forEach((t=>{let r=t.dataLabels||[];m(_(v,t.dlOptions||t.options?.dataLabels)).forEach(((l,u)=>{let m,g,y,v,b=l.enabled&&t.visible&&(!t.isNull||t.dataLabelOnNull)&&function(t,e){let i=e.filter;if(i){let e=i.operator,n=t[i.property],r=i.value;return">"===e&&n>r||"<"===e&&n<r||">="===e&&n>=r||"<="===e&&n<=r||"=="===e&&n==r||"==="===e&&n===r}return!0}(t,l),_=l.style||{},w=l.distance,S={},C=r[u],T=!C;if(b){if(g=p(l[t.formatPrefix+"Format"],l.format),m=t.getLabelConfig(),y=o(g)?s(g,m,n):(l[t.formatPrefix+"Formatter"]||l.formatter).call(m,l),v=l.rotation,!n.styledMode&&(_.color=p(l.color,_.color,h(i.color)?i.color:void 0,"#000000"),"contrast"===_.color?(t.contrastColor=c.getContrast(t.color||i.color),_.color=!o(w)&&l.inside||0>f(w||0)||a.stacking?t.contrastColor:x):delete t.contrastColor,a.cursor&&(_.cursor=a.cursor)),S={r:l.borderRadius||0,rotation:v,padding:l.padding,zIndex:1},!n.styledMode){let{backgroundColor:e,borderColor:i}=l;S.fill="auto"===e?t.color:e,S.stroke="auto"===i?t.color:i,S["stroke-width"]=l.borderWidth}d(S,((t,e)=>{void 0===t&&delete S[e]}))}if(!C||b&&o(y)&&!!C.div==!!l.useHTML&&(C.rotation&&l.rotation||C.rotation===l.rotation)||(C=void 0,T=!0),b&&o(y)&&(C?S.text=y:(C=v?c.text(y,0,0,l.useHTML).addClass("highcharts-data-label"):c.label(y,0,0,l.shape,void 0,void 0,l.useHTML,void 0,"data-label"))&&C.addClass(" highcharts-data-label-color-"+t.colorIndex+" "+(l.className||"")+(l.useHTML?" highcharts-tracker":"")),C)){C.options=l,C.attr(S),n.styledMode||C.css(_).shadow(l.shadow);let s=l[t.formatPrefix+"TextPath"]||l.textPath;s&&!l.useHTML&&(C.setTextPath(t.getDataLabelPath?.(C)||t.graphic,s),t.dataLabelPath&&!s.enabled&&(t.dataLabelPath=t.dataLabelPath.destroy())),C.added||C.add(e),i.alignDataLabel(t,C,l,void 0,T),C.isActive=!0,r[u]&&r[u]!==C&&r[u].destroy(),r[u]=C}}));let l=r.length;for(;l--;)r[l]&&r[l].isActive?r[l].isActive=!1:(r[l]?.destroy(),r.splice(l,1));t.dataLabel=r[0],t.dataLabels=r}))),l(this,"afterDrawDataLabels")}function b(t,e,i,n,r,s){let o,a,l=this.chart,c=e.align,h=e.verticalAlign,u=t.box?0:t.padding||0,{x:d=0,y:p=0}=e;return(o=(i.x||0)+u)<0&&("right"===c&&d>=0?(e.align="left",e.inside=!0):d-=o,a=!0),(o=(i.x||0)+n.width-u)>l.plotWidth&&("left"===c&&d<=0?(e.align="right",e.inside=!0):d+=l.plotWidth-o,a=!0),(o=i.y+u)<0&&("bottom"===h&&p>=0?(e.verticalAlign="top",e.inside=!0):p-=o,a=!0),(o=(i.y||0)+n.height-u)>l.plotHeight&&("top"===h&&p<=0?(e.verticalAlign="bottom",e.inside=!0):p+=l.plotHeight-o,a=!0),a&&(e.x=d,e.y=p,t.placed=!s,t.align(e,void 0,r)),a}function _(t,e){let i,n=[];if(c(t)&&!c(e))n=t.map((function(t){return u(t,e)}));else if(c(e)&&!c(t))n=e.map((function(e){return u(t,e)}));else if(c(t)||c(e)){if(c(t)&&c(e))for(i=Math.max(t.length,e.length);i--;)n[i]=u(t[i],e[i])}else n=u(t,e);return n}function w(t,e,i,n,r){let s=this.chart,o=s.inverted,a=this.xAxis,l=a.reversed,c=((o?e.height:e.width)||0)/2,h=t.pointWidth,u=h?h/2:0;e.startXPos=o?r.x:l?-c-u:a.width-c+u,e.startYPos=o?l?this.yAxis.height-c+u:-c-u:r.y,n?"hidden"===e.visibility&&(e.show(),e.attr({opacity:0}).animate({opacity:1})):e.attr({opacity:1}).animate({opacity:0},void 0,e.hide),s.hasRendered&&(i&&e.attr({x:e.startXPos,y:e.startYPos}),e.placed=!0)}t.compose=function(t){if(i.pushUnique(e,t)){let e=t.prototype;e.initDataLabelsGroup=y,e.initDataLabels=x,e.alignDataLabel=g,e.drawDataLabels=v,e.justifyDataLabel=b,e.setDataLabelStartPos=w,e.hasDataLabels=n}}}(n||(n={})),n})),i(e,"Series/Column/ColumnDataLabel.js",[e["Core/Series/DataLabel.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){var n;let{series:r}=e,{merge:s,pick:o}=i;return function(e){let n=[];function a(t,e,i,n,a){let l=this.chart.inverted,c=t.series,h=(c.xAxis?c.xAxis.len:this.chart.plotSizeX)||0,u=(c.yAxis?c.yAxis.len:this.chart.plotSizeY)||0,d=t.dlBox||t.shapeArgs,p=o(t.below,t.plotY>o(this.translatedThreshold,u)),f=o(i.inside,!!this.options.stacking);if(d){if(n=s(d),"allow"!==i.overflow||!1!==i.crop){n.y<0&&(n.height+=n.y,n.y=0);let t=n.y+n.height-u;t>0&&t<n.height&&(n.height-=t)}l&&(n={x:u-n.y-n.height,y:h-n.x-n.width,width:n.height,height:n.width}),f||(l?(n.x+=p?0:n.width,n.width=0):(n.y+=p?n.height:0,n.height=0))}i.align=o(i.align,!l||f?"center":p?"right":"left"),i.verticalAlign=o(i.verticalAlign,l||f?"middle":p?"top":"bottom"),r.prototype.alignDataLabel.call(this,t,e,i,n,a),i.inside&&t.contrastColor&&e.css({color:t.contrastColor})}e.compose=function(e){t.compose(r),i.pushUnique(n,e)&&(e.prototype.alignDataLabel=a)}}(n||(n={})),n})),i(e,"Series/Bar/BarSeries.js",[e["Series/Column/ColumnSeries.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{extend:n,merge:r}=i;class s extends t{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}}return s.defaultOptions=r(t.defaultOptions,{}),n(s.prototype,{inverted:!0}),e.registerSeriesType("bar",s),s})),i(e,"Series/Scatter/ScatterSeriesDefaults.js",[],(function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}})),i(e,"Series/Scatter/ScatterSeries.js",[e["Series/Scatter/ScatterSeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{column:n,line:r}=e.seriesTypes,{addEvent:s,extend:o,merge:a}=i;class l extends r{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}applyJitter(){let t=this,e=this.options.jitter,i=this.points.length;e&&this.points.forEach((function(n,r){["x","y"].forEach((function(s,o){let a,l,c,h,u="plot"+s.toUpperCase();e[s]&&!n.isNull&&(a=t[s+"Axis"],h=e[s]*a.transA,a&&!a.isLog&&(l=Math.max(0,n[u]-h),c=Math.min(a.len,n[u]+h),n[u]=l+(c-l)*function(t){let e=1e4*Math.sin(t);return e-Math.floor(e)}(r+o*i),"x"===s&&(n.clientX=n.plotX)))}))}))}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return l.defaultOptions=a(r.defaultOptions,t),o(l.prototype,{drawTracker:n.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),s(l,"afterTranslate",(function(){this.applyJitter()})),e.registerSeriesType("scatter",l),l})),i(e,"Series/CenteredUtilities.js",[e["Core/Globals.js"],e["Core/Series/Series.js"],e["Core/Utilities.js"]],(function(t,e,i){var n,r;let{deg2rad:s}=t,{fireEvent:o,isNumber:a,pick:l,relativeLength:c}=i;return(r=n||(n={})).getCenter=function(){let t,i,n,r=this.options,s=this.chart,h=2*(r.slicedOffset||0),u=s.plotWidth-2*h,d=s.plotHeight-2*h,p=r.center,f=Math.min(u,d),m=r.thickness,g=r.size,y=r.innerSize||0;"string"==typeof g&&(g=parseFloat(g)),"string"==typeof y&&(y=parseFloat(y));let x=[l(p[0],"50%"),l(p[1],"50%"),l(g&&g<0?void 0:r.size,"100%"),l(y&&y<0?void 0:r.innerSize||0,"0%")];for(!s.angular||this instanceof e||(x[3]=0),i=0;i<4;++i)n=x[i],t=i<2||2===i&&/%$/.test(n),x[i]=c(n,[u,d,f,x[2]][i])+(t?h:0);return x[3]>x[2]&&(x[3]=x[2]),a(m)&&2*m<x[2]&&m>0&&(x[3]=x[2]-2*m),o(this,"afterGetCenter",{positions:x}),x},r.getStartAndEndRadians=function(t,e){let i=a(t)?t:0,n=a(e)&&e>i&&e-i<360?e:i+360;return{start:s*(i+-90),end:s*(n+-90)}},n})),i(e,"Series/Pie/PiePoint.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],(function(t,e,i){let{setAnimation:n}=t,{addEvent:r,defined:s,extend:o,isNumber:a,isString:l,pick:c,relativeLength:h}=i;class u extends e{constructor(){super(...arguments),this.half=0,this.options=void 0,this.series=void 0}getConnectorPath(t){let e=t.dataLabelPosition,i=t.options||{},n=i.connectorShape,r=this.connectorShapes[n]||n;return e&&r.call(this,{...e.computed,alignment:e.alignment},e.connectorPosition,i)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(t){let e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end,borderRadius:e.borderRadius})}init(){super.init.apply(this,arguments),this.name=c(this.name,"Slice");let t=t=>{this.slice("select"===t.type)};return r(this,"select",t),r(this,"unselect",t),this}isValid(){return a(this.y)&&this.y>=0}setVisible(t,e){let i=this.series,n=i.chart,r=i.options.ignoreHiddenPoint;e=c(e,r),t!==this.visible&&(this.visible=this.options.visible=t=void 0===t?!this.visible:t,i.options.data[i.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach((e=>{this[e]&&this[e][t?"show":"hide"](t)})),this.legendItem&&n.legend.colorizeItem(this,t),t||"hover"!==this.state||this.setState(""),r&&(i.isDirty=!0),e&&n.redraw())}slice(t,e,i){let r=this.series,o=r.chart;n(i,o),e=c(e,!0),this.sliced=this.options.sliced=t=s(t)?t:!this.sliced,r.options.data[r.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return o(u.prototype,{connectorShapes:{fixedOffset:function(t,e,i){let n=e.breakAt,r=e.touchingSliceAt,s=i.softConnector?["C",t.x+("left"===t.alignment?-5:5),t.y,2*n.x-r.x,2*n.y-r.y,n.x,n.y]:["L",n.x,n.y];return[["M",t.x,t.y],s,["L",r.x,r.y]]},straight:function(t,e){let i=e.touchingSliceAt;return[["M",t.x,t.y],["L",i.x,i.y]]},crookedLine:function(t,e,i){let{breakAt:n,touchingSliceAt:r}=e,{series:s}=this,[o,a,l]=s.center,c=l/2,{plotLeft:u,plotWidth:d}=s.chart,p="left"===t.alignment,{x:f,y:m}=t,g=n.x;if(i.crookDistance){let t=h(i.crookDistance,1);g=p?o+c+(d+u-o-c)*(1-t):u+(o-c)*t}else g=o+(a-m)*Math.tan((this.angle||0)-Math.PI/2);let y=[["M",f,m]];return(p?g<=f&&g>=n.x:g>=f&&g<=n.x)&&y.push(["L",g,m]),y.push(["L",n.x,n.y],["L",r.x,r.y]),y}}}),u})),i(e,"Series/Pie/PieSeriesDefaults.js",[],(function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}})),i(e,"Series/Pie/PieSeries.js",[e["Series/CenteredUtilities.js"],e["Series/Column/ColumnSeries.js"],e["Core/Globals.js"],e["Series/Pie/PiePoint.js"],e["Series/Pie/PieSeriesDefaults.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/Symbols.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r,s,o,a,l){let{getStartAndEndRadians:c}=t,{noop:h}=i,{clamp:u,extend:d,fireEvent:p,merge:f,pick:m,relativeLength:g,splat:y}=l;class x extends s{constructor(){super(...arguments),this.center=void 0,this.data=void 0,this.options=void 0,this.points=void 0}animate(t){let e=this,i=e.points,n=e.startAngleRad;t||i.forEach((function(t){let i=t.graphic,r=t.shapeArgs;i&&r&&(i.attr({r:m(t.startR,e.center&&e.center[3]/2),start:n,end:n}),i.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}))}drawEmpty(){let t,e,i=this.startAngleRad,n=this.endAngleRad,r=this.options;0===this.total&&this.center?(t=this.center[0],e=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(t,e,this.center[1]/2,0,i,n).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:a.arc(t,e,this.center[2]/2,0,{start:i,end:n,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":r.borderWidth,fill:r.fillColor||"none",stroke:r.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let t=this.chart.renderer;this.points.forEach((function(e){e.graphic&&e.hasNewShapeType()&&(e.graphic=e.graphic.destroy()),e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)}))}generatePoints(){super.generatePoints(),this.updateTotals()}getX(t,e,i,n){let r=this.center,s=this.radii?this.radii[i.index]||0:r[2]/2,o=n.dataLabelPosition,a=o?.distance||0,l=Math.asin(u((t-r[1])/(s+a),-1,1)),c=r[0]+(e?-1:1)*(Math.cos(l)*(s+a))+(a>0?(e?-1:1)*(n.padding||0):0);return c}hasData(){return!!this.processedXData.length}redrawPoints(){let t,e,i,n,r=this,s=r.chart;this.drawEmpty(),r.group&&!s.styledMode&&r.group.shadow(r.options.shadow),r.points.forEach((function(o){let a={};e=o.graphic,!o.isNull&&e?(n=o.shapeArgs,t=o.getTranslate(),s.styledMode||(i=r.pointAttribs(o,o.selected&&"select")),o.delayedRendering?(e.setRadialReference(r.center).attr(n).attr(t),s.styledMode||e.attr(i).attr({"stroke-linejoin":"round"}),o.delayedRendering=!1):(e.setRadialReference(r.center),s.styledMode||f(!0,a,i),f(!0,a,n,t),e.animate(a)),e.attr({visibility:o.visible?"inherit":"hidden"}),e.addClass(o.getClassName(),!0)):e&&(o.graphic=e.destroy())}))}sortByAngle(t,e){t.sort((function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e}))}translate(t){p(this,"translate"),this.generatePoints();let e,i,n,r,s,o,a,l=this.options,h=l.slicedOffset,u=c(l.startAngle,l.endAngle),d=this.startAngleRad=u.start,f=this.endAngleRad=u.end,m=f-d,g=this.points,y=l.ignoreHiddenPoint,x=g.length,v=0;for(t||(this.center=t=this.getCenter()),o=0;o<x;o++){a=g[o],e=d+v*m,a.isValid()&&(!y||a.visible)&&(v+=a.percentage/100),i=d+v*m;let l={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*i)/1e3};a.shapeType="arc",a.shapeArgs=l,(n=(i+e)/2)>1.5*Math.PI?n-=2*Math.PI:n<-Math.PI/2&&(n+=2*Math.PI),a.slicedTranslation={translateX:Math.round(Math.cos(n)*h),translateY:Math.round(Math.sin(n)*h)},r=Math.cos(n)*t[2]/2,s=Math.sin(n)*t[2]/2,a.tooltipPos=[t[0]+.7*r,t[1]+.7*s],a.half=n<-Math.PI/2||n>Math.PI/2?1:0,a.angle=n}p(this,"afterTranslate")}updateTotals(){let t,e,i=this.points,n=i.length,r=this.options.ignoreHiddenPoint,s=0;for(t=0;t<n;t++)(e=i[t]).isValid()&&(!r||e.visible)&&(s+=e.y);for(t=0,this.total=s;t<n;t++)(e=i[t]).percentage=s>0&&(e.visible||!r)?e.y/s*100:0,e.total=s}}return x.defaultOptions=f(s.defaultOptions,r),d(x.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:e.prototype.drawTracker,getCenter:t.getCenter,getSymbol:h,isCartesian:!1,noSharedTooltip:!0,pointAttribs:e.prototype.pointAttribs,pointClass:n,requireSorting:!1,searchPoint:h,trackerGroups:["group","dataLabelsGroup"]}),o.registerSeriesType("pie",x),x})),i(e,"Series/Pie/PieDataLabel.js",[e["Core/Series/DataLabel.js"],e["Core/Globals.js"],e["Core/Renderer/RendererUtilities.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r){var s;let{noop:o}=e,{distribute:a}=i,{series:l}=n,{arrayMax:c,clamp:h,defined:u,pick:d,relativeLength:p}=r;return function(e){let i=[],n={radialDistributionY:function(t,e){return(e.dataLabelPosition?.top||0)+t.distributeBox.pos},radialDistributionX:function(t,e,i,n,r){let s=r.dataLabelPosition;return t.getX(i<(s?.top||0)+2||i>(s?.bottom||0)-2?n:i,e.half,e,r)},justify:function(t,e,i,n){return n[0]+(t.half?-1:1)*(i+(e.dataLabelPosition?.distance||0))},alignToPlotEdges:function(t,e,i,n){let r=t.getBBox().width;return e?r+n:i-r-n},alignToConnectors:function(t,e,i,n){let r,s=0;return t.forEach((function(t){(r=t.dataLabel.getBBox().width)>s&&(s=r)})),e?s+n:i-s-n}};function s(t,e){let{center:i,options:n}=this,r=i[2]/2,s=t.angle||0,o=Math.cos(s),a=Math.sin(s),l=i[0]+o*r,c=i[1]+a*r,h=Math.min((n.slicedOffset||0)+(n.borderWidth||0),e/5);return{natural:{x:l+o*e,y:c+a*e},computed:{},alignment:e<0?"center":t.half?"right":"left",connectorPosition:{breakAt:{x:l+o*h,y:c+a*h},touchingSliceAt:{x:l,y:c}},distance:e}}function f(){let t,e,i,n=this,r=n.points,s=n.chart,o=s.plotWidth,h=s.plotHeight,f=s.plotLeft,m=Math.round(s.chartWidth/3),g=n.center,y=g[2]/2,x=g[1],v=[[],[]],b=[0,0,0,0],_=n.dataLabelPositioners,w=0;n.visible&&n.hasDataLabels?.()&&(r.forEach((t=>{(t.dataLabels||[]).forEach((t=>{t.shortened&&(t.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.shortened=!1)}))})),l.prototype.drawDataLabels.apply(n),r.forEach((t=>{(t.dataLabels||[]).forEach(((e,i)=>{let n=g[2]/2,r=e.options,s=p(r?.distance||0,n);0===i&&v[t.half].push(t),!u(r?.style?.width)&&e.getBBox().width>m&&(e.css({width:Math.round(.7*m)+"px"}),e.shortened=!0),e.dataLabelPosition=this.getDataLabelPosition(t,s),w=Math.max(w,s)}))})),v.forEach(((t,r)=>{let l,c,p,m=t.length,v=[],S=0;m&&(n.sortByAngle(t,r-.5),w>0&&(l=Math.max(0,x-y-w),c=Math.min(x+y+w,s.plotHeight),t.forEach((t=>{(t.dataLabels||[]).forEach(((e,i)=>{let n=e.dataLabelPosition;n&&n.distance>0&&(n.top=Math.max(0,x-y-n.distance),n.bottom=Math.min(x+y+n.distance,s.plotHeight),S=e.getBBox().height||21,t.distributeBox={target:(e.dataLabelPosition?.natural.y||0)-n.top+S/2,size:S,rank:t.y},v.push(t.distributeBox))}))})),a(v,p=c+S-l,p/5)),t.forEach((s=>{(s.dataLabels||[]).forEach((a=>{let l=a.options||{},c=s.distributeBox,p=a.dataLabelPosition,m=p?.natural.y||0,x=l.connectorPadding||0,w=0,S=m,C="inherit";if(p){if(v&&u(c)&&p.distance>0&&(void 0===c.pos?C="hidden":(i=c.size,S=_.radialDistributionY(s,a))),l.justify)w=_.justify(s,a,y,g);else switch(l.alignTo){case"connectors":w=_.alignToConnectors(t,r,o,f);break;case"plotEdges":w=_.alignToPlotEdges(a,r,o,f);break;default:w=_.radialDistributionX(n,s,S,m,a)}if(p.attribs={visibility:C,align:p.alignment},p.posAttribs={x:w+(l.x||0)+({left:x,right:-x}[p.alignment]||0),y:S+(l.y||0)-a.getBBox().height/2},p.computed.x=w,p.computed.y=S,d(l.crop,!0)){let t;w-(e=a.getBBox().width)<x&&1===r?(t=Math.round(e-w+x),b[3]=Math.max(t,b[3])):w+e>o-x&&0===r&&(t=Math.round(w+e-o+x),b[1]=Math.max(t,b[1])),S-i/2<0?b[0]=Math.max(Math.round(i/2-S),b[0]):S+i/2>h&&(b[2]=Math.max(Math.round(S+i/2-h),b[2])),p.sideOverflow=t}}}))})))})),(0===c(b)||this.verifyDataLabelOverflow(b))&&(this.placeDataLabels(),this.points.forEach((e=>{(e.dataLabels||[]).forEach((i=>{let{connectorColor:r,connectorWidth:o=1}=i.options||{},a=i.dataLabelPosition;if(o){let l;t=i.connector,a&&a.distance>0?(l=!t,t||(i.connector=t=s.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+e.colorIndex+(e.className?" "+e.className:"")).add(n.dataLabelsGroup)),s.styledMode||t.attr({"stroke-width":o,stroke:r||e.color||"#666666"}),t[l?"attr":"animate"]({d:e.getConnectorPath(i)}),t.attr({visibility:a.attribs?.visibility})):t&&(i.connector=t.destroy())}}))}))))}function m(){this.points.forEach((t=>{(t.dataLabels||[]).forEach((t=>{let e=t.dataLabelPosition;e?(e.sideOverflow&&(t.css({width:Math.max(t.getBBox().width-e.sideOverflow,0)+"px",textOverflow:(t.options?.style||{}).textOverflow||"ellipsis"}),t.shortened=!0),t.attr(e.attribs),t[t.moved?"animate":"attr"](e.posAttribs),t.moved=!0):t&&t.attr({y:-9999})})),delete t.distributeBox}),this)}function g(t){let e=this.center,i=this.options,n=i.center,r=i.minSize||80,s=r,o=null!==i.size;return!o&&(null!==n[0]?s=Math.max(e[2]-Math.max(t[1],t[3]),r):(s=Math.max(e[2]-t[1]-t[3],r),e[0]+=(t[3]-t[1])/2),null!==n[1]?s=h(s,r,e[2]-Math.max(t[0],t[2])):(s=h(s,r,e[2]-t[0]-t[2]),e[1]+=(t[0]-t[2])/2),s<e[2]?(e[2]=s,e[3]=Math.min(i.thickness?Math.max(0,s-2*i.thickness):Math.max(0,p(i.innerSize||0,s)),s),this.translate(e),this.drawDataLabels&&this.drawDataLabels()):o=!0),o}e.compose=function(e){if(t.compose(l),r.pushUnique(i,e)){let t=e.prototype;t.dataLabelPositioners=n,t.alignDataLabel=o,t.drawDataLabels=f,t.getDataLabelPosition=s,t.placeDataLabels=m,t.verifyDataLabelOverflow=g}}}(s||(s={})),s})),i(e,"Extensions/OverlappingDataLabels.js",[e["Core/Utilities.js"]],(function(t){let{addEvent:e,fireEvent:i,isNumber:n,objectEach:r,pick:s,pushUnique:o}=t,a=[];function l(t){let e,r,s,o,a,l=t.length,h=this.renderer,u=(t,e)=>!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y),d=t=>{let e,i,r,s,o,a=t.box?0:t.padding||0,l=0,c=0;if(t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},i=t.parentGroup,t.width||(r=t.getBBox(),t.width=r.width,t.height=r.height,l=h.fontMetrics(t.element).h),s=t.width-2*a,(o={left:"0",center:"0.5",right:"1"}[t.alignValue])?c=+o*s:n(t.x)&&Math.round(t.x)!==t.translateX&&(c=t.x-(t.translateX||0)),{x:e.x+(i.translateX||0)+a-(c||0),y:e.y+(i.translateY||0)+a-l,width:t.width-2*a,height:(t.height||0)-2*a}},p=!1;for(let i=0;i<l;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=d(e));t.sort(((t,e)=>(e.labelrank||0)-(t.labelrank||0)));for(let i=0;i<l;++i){o=(r=t[i])&&r.absoluteBox;for(let e=i+1;e<l;++e)a=(s=t[e])&&s.absoluteBox,o&&a&&r!==s&&0!==r.newOpacity&&0!==s.newOpacity&&"hidden"!==r.visibility&&"hidden"!==s.visibility&&u(o,a)&&((r.labelrank<s.labelrank?r:s).newOpacity=0)}for(let i of t)c(i,this)&&(p=!0);p&&i(this,"afterHideAllOverlappingLabels")}function c(t,e){let n,r=!1;return t&&(n=t.newOpacity,t.oldOpacity!==n&&(t.alignAttr&&t.placed?(t[n?"removeClass":"addClass"]("highcharts-data-label-hidden"),r=!0,t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,(function(){e.styledMode||t.css({pointerEvents:n?"auto":"none"})})),i(e,"afterHideOverlappingLabel")):t.attr({opacity:n})),t.isOld=!0),r}function h(){let t=this,e=[];for(let i of t.labelCollectors||[])e=e.concat(i());for(let i of t.yAxis||[])i.stacking&&i.options.stackLabels&&!i.options.stackLabels.allowOverlap&&r(i.stacking.stacks,(t=>{r(t,(t=>{t.label&&e.push(t.label)}))}));for(let i of t.series||[])if(i.visible&&i.hasDataLabels?.()){let n=i=>{for(let n of i)n.visible&&(n.dataLabels||[]).forEach((i=>{let r=i.options||{};i.labelrank=s(r.labelrank,n.labelrank,n.shapeArgs?.height),r.allowOverlap??Number(r.distance)>0?(i.oldOpacity=i.opacity,i.newOpacity=1,c(i,t)):e.push(i)}))};n(i.nodes||[]),n(i.points)}this.hideOverlappingLabels(e)}return{compose:function(t){if(o(a,t)){let i=t.prototype;i.hideOverlappingLabels=l,e(t,"render",h)}}}})),i(e,"Extensions/BorderRadius.js",[e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,i){let{defaultOptions:n}=t,{noop:r}=e,{addEvent:s,extend:o,isObject:a,merge:l,pushUnique:c,relativeLength:h}=i,u=[],d={radius:0,scope:"stack",where:void 0},p=r,f=r;function m(t,e,i,n,r={}){let s=p(t,e,i,n,r),{innerR:o=0,r:a=i,start:l=0,end:c=0}=r;if(r.open||!r.borderRadius)return s;let u=c-l,d=Math.sin(u/2),f=Math.max(Math.min(h(r.borderRadius||0,a-o),(a-o)/2,a*d/(1+d)),0),m=Math.min(f,u/Math.PI*2*o),g=s.length-1;for(;g--;)!function(t,e,i){let n,r,s,o=t[e],a=t[e+1];if("Z"===a[0]&&(a=t[0]),"M"!==o[0]&&"L"!==o[0]||"A"!==a[0]?"A"===o[0]&&("M"===a[0]||"L"===a[0])&&(n=a,r=o):(n=o,r=a,s=!0),n&&r&&r.params){let o=r[1],a=r[5],l=r.params,{start:c,end:h,cx:u,cy:d}=l,p=a?o-i:o+i,f=p?Math.asin(i/p):0,m=a?f:-f,g=Math.cos(f)*p;s?(l.start=c+m,n[1]=u+g*Math.cos(c),n[2]=d+g*Math.sin(c),t.splice(e+1,0,["A",i,i,0,0,1,u+o*Math.cos(l.start),d+o*Math.sin(l.start)])):(l.end=h-m,r[6]=u+o*Math.cos(l.end),r[7]=d+o*Math.sin(l.end),t.splice(e+1,0,["A",i,i,0,0,1,u+g*Math.cos(h),d+g*Math.sin(h)])),r[4]=Math.abs(l.end-l.start)<Math.PI?0:1}}(s,g,g>1?m:f);return s}function g(){if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){let{options:t,yAxis:e}=this,i="percent"===t.stacking,r=n.plotOptions?.[this.type]?.borderRadius,s=y(t.borderRadius,a(r)?r:{}),l=e.options.reversed;for(let n of this.points){let{shapeArgs:r}=n;if("roundedRect"===n.shapeType&&r){let{width:a=0,height:c=0,y:u=0}=r,d=u,p=c;if("stack"===s.scope&&n.stackTotal){let r=e.translate(i?100:n.stackTotal,!1,!0,!1,!0),s=e.translate(t.threshold||0,!1,!0,!1,!0),o=this.crispCol(0,Math.min(r,s),0,Math.abs(r-s));d=o.y,p=o.height}let f=(n.negative?-1:1)*(l?-1:1)==-1,m=s.where;!m&&this.is("waterfall")&&Math.abs((n.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(m="all"),m||(m="end");let g=Math.min(h(s.radius,a),a/2,"all"===m?c/2:1/0)||0;"end"===m&&(f&&(d-=g),p+=g),o(r,{brBoxHeight:p,brBoxY:d,r:g})}}}}function y(t,e){return a(t)||(t={radius:t||0}),l(d,e,t)}function x(){let t=y(this.options.borderRadius);for(let e of this.points){let i=e.shapeArgs;i&&(i.borderRadius=h(t.radius,(i.r||0)-(i.innerR||0)))}}function v(t,e,i,n,r={}){let s=f(t,e,i,n,r),{r:o=0,brBoxHeight:a=n,brBoxY:l=e}=r,c=e-l,h=l+a-(e+n),u=c-o>-.1?0:o,d=h-o>-.1?0:o,p=Math.max(u&&c,0),m=Math.max(d&&h,0),g=[t+u,e],y=[t+i-u,e],x=[t+i,e+u],v=[t+i,e+n-d],b=[t+i-d,e+n],_=[t+d,e+n],w=[t,e+n-d],S=[t,e+u],C=(t,e)=>Math.sqrt(Math.pow(t,2)-Math.pow(e,2));if(p){let t=C(u,u-p);g[0]-=t,y[0]+=t,x[1]=S[1]=e+u-p}if(n<u-p){let r=C(u,u-p-n);x[0]=v[0]=t+i-u+r,b[0]=Math.min(x[0],b[0]),_[0]=Math.max(v[0],_[0]),w[0]=S[0]=t+u-r,x[1]=S[1]=e+n}if(m){let t=C(d,d-m);b[0]+=t,_[0]-=t,v[1]=w[1]=e+n-d+m}if(n<d-m){let r=C(d,d-m-n);x[0]=v[0]=t+i-d+r,y[0]=Math.min(x[0],y[0]),g[0]=Math.max(v[0],g[0]),w[0]=S[0]=t+d-r,v[1]=w[1]=e}return s.length=0,s.push(["M",...g],["L",...y],["A",u,u,0,0,1,...x],["L",...v],["A",d,d,0,0,1,...b],["L",..._],["A",d,d,0,0,1,...w],["L",...S],["A",u,u,0,0,1,...g],["Z"]),s}return{compose:function(t,e,i,n){if(c(u,t)&&s(t,"afterColumnTranslate",g,{order:9}),c(u,e)&&s(e,"afterTranslate",x),c(u,i)&&i.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),c(u,n)){let t=n.prototype.symbols;p=t.arc,f=t.roundedRect,t.arc=m,t.roundedRect=v}},optionsToObject:y}})),i(e,"Core/Responsive.js",[e["Core/Utilities.js"]],(function(t){var e;let{diffObjects:i,extend:n,find:r,isArray:s,isObject:o,merge:a,objectEach:l,pick:c,splat:h,uniqueKey:u}=t;return function(e){let s=[];function o(t,e){let i=t.condition,n=i.callback||function(){return this.chartWidth<=c(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=c(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=c(i.minWidth,0)&&this.chartHeight>=c(i.minHeight,0)};n.call(this)&&e.push(t._id)}function l(t,e){let n,s=this.options.responsive,o=this.currentResponsive,l=[];!e&&s&&s.rules&&s.rules.forEach((t=>{void 0===t._id&&(t._id=u()),this.matchResponsiveRule(t,l)}),this);let c=a(...l.map((t=>r((s||{}).rules||[],(e=>e._id===t)))).map((t=>t&&t.chartOptions)));c.isResponsiveOptions=!0,l=l.toString()||void 0;let h=o&&o.ruleIds;l!==h&&(o&&this.update(o.undoOptions,t,!0),l?((n=i(c,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:l,mergedOptions:c,undoOptions:n},this.update(c,t,!0)):this.currentResponsive=void 0)}e.compose=function(e){return t.pushUnique(s,e)&&n(e.prototype,{matchResponsiveRule:o,setResponsive:l}),e}}(e||(e={})),e})),i(e,"masters/highcharts.src.js",[e["Core/Globals.js"],e["Core/Utilities.js"],e["Core/Defaults.js"],e["Core/Animation/Fx.js"],e["Core/Animation/AnimationUtilities.js"],e["Core/Renderer/HTML/AST.js"],e["Core/Templating.js"],e["Core/Renderer/RendererUtilities.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Renderer/HTML/HTMLElement.js"],e["Core/Renderer/HTML/HTMLRenderer.js"],e["Core/Axis/Axis.js"],e["Core/Axis/DateTimeAxis.js"],e["Core/Axis/LogarithmicAxis.js"],e["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],e["Core/Axis/Tick.js"],e["Core/Tooltip.js"],e["Core/Series/Point.js"],e["Core/Pointer.js"],e["Core/Legend/Legend.js"],e["Core/Chart/Chart.js"],e["Core/Axis/Stacking/StackingAxis.js"],e["Core/Axis/Stacking/StackItem.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Series/Column/ColumnSeries.js"],e["Series/Column/ColumnDataLabel.js"],e["Series/Pie/PieSeries.js"],e["Series/Pie/PieDataLabel.js"],e["Core/Series/DataLabel.js"],e["Extensions/OverlappingDataLabels.js"],e["Extensions/BorderRadius.js"],e["Core/Responsive.js"],e["Core/Color/Color.js"],e["Core/Time.js"]],(function(t,e,i,n,r,s,o,a,l,c,h,u,d,p,f,m,g,y,x,v,b,_,w,S,C,T,k,A,I,M,P,E,D,L,z,O){return t.animate=r.animate,t.animObject=r.animObject,t.getDeferredAnimation=r.getDeferredAnimation,t.setAnimation=r.setAnimation,t.stop=r.stop,t.timers=n.timers,t.AST=s,t.Axis=d,t.Chart=_,t.chart=_.chart,t.Fx=n,t.Legend=b,t.PlotLineOrBand=m,t.Point=x,t.Pointer=v,t.Series=C,t.StackItem=S,t.SVGElement=l,t.SVGRenderer=c,t.Templating=o,t.Tick=g,t.Time=O,t.Tooltip=y,t.Color=z,t.color=z.parse,u.compose(c),h.compose(l),v.compose(_),b.compose(_),t.defaultOptions=i.defaultOptions,t.getOptions=i.getOptions,t.time=i.defaultTime,t.setOptions=i.setOptions,t.dateFormat=o.dateFormat,t.format=o.format,t.numberFormat=o.numberFormat,e.extend(t,e),t.distribute=a.distribute,t.seriesType=T.seriesType,A.compose(k),D.compose(C,I,l,c),P.compose(C),p.compose(d),f.compose(d),E.compose(_),M.compose(I),m.compose(d),L.compose(_),w.compose(d,_,C),y.compose(v),t})),e["masters/highcharts.src.js"]._modules=e,e["masters/highcharts.src.js"]}))},9662:function(t,e,i){var n,r;!function(s){t.exports?(s.default=s,t.exports=s):(n=[i(8840),i(8393)],r=function(t){return s(t),s.Highcharts=t,s}.apply(e,n),void 0===r||(t.exports=r))}((function(t){"use strict";var e=t?t._modules:{};function i(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}i(e,"Extensions/DownloadURL.js",[e["Core/Globals.js"]],(function(t){let{isSafari:e,win:i,win:{document:n}}=t,r=i.URL||i.webkitURL||i;function s(t){let e=t.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);if(e&&e.length>3&&i.atob&&i.ArrayBuffer&&i.Uint8Array&&i.Blob&&r.createObjectURL){let t=i.atob(e[3]),n=new i.ArrayBuffer(t.length),s=new i.Uint8Array(n);for(let e=0;e<s.length;++e)s[e]=t.charCodeAt(e);return r.createObjectURL(new i.Blob([s],{type:e[1]}))}}return{dataURLtoBlob:s,downloadURL:function(t,r){let o=i.navigator,a=n.createElement("a");if("string"!=typeof t&&!(t instanceof String)&&o.msSaveOrOpenBlob)return void o.msSaveOrOpenBlob(t,r);t=""+t;let l=/Edge\/\d+/.test(o.userAgent),c=e&&"string"==typeof t&&0===t.indexOf("data:application/pdf");if((c||l||t.length>2e6)&&!(t=s(t)||""))throw Error("Failed to convert to blob");if(void 0!==a.download)a.href=t,a.download=r,n.body.appendChild(a),a.click(),n.body.removeChild(a);else try{if(!i.open(t,"chart"))throw Error("Failed to open window")}catch{i.location.href=t}}}})),i(e,"Extensions/ExportData/ExportDataDefaults.js",[],(function(){return{exporting:{csv:{annotations:{itemDelimiter:"; ",join:!1},columnHeaderFormatter:null,dateFormat:"%Y-%m-%d %H:%M:%S",decimalPoint:null,itemDelimiter:null,lineDelimiter:"\n"},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0},lang:{downloadCSV:"Download CSV",downloadXLS:"Download XLS",exportData:{annotationHeader:"Annotations",categoryHeader:"Category",categoryDatetimeHeader:"DateTime"},viewData:"View data table",hideData:"Hide data table"}}})),i(e,"Extensions/ExportData/ExportData.js",[e["Core/Renderer/HTML/AST.js"],e["Extensions/ExportData/ExportDataDefaults.js"],e["Core/Globals.js"],e["Core/Defaults.js"],e["Extensions/DownloadURL.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r,s,o){let{doc:a,win:l}=i,{getOptions:c,setOptions:h}=n,{downloadURL:u}=r,{series:d,seriesTypes:{arearange:p,gantt:f,map:m,mapbubble:g,treemap:y,xrange:x}}=s,{addEvent:v,defined:b,extend:_,find:w,fireEvent:S,isNumber:C,pick:T}=o,k=[];function A(){let t=this.getCSV(!0);u(F(t,"text/csv")||"data:text/csv,\ufeff"+encodeURIComponent(t),this.getFilename()+".csv")}function I(){let t='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";} .text{ mso-number-format:"@";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";u(F(t,"application/vnd.ms-excel")||"data:application/vnd.ms-excel;base64,"+l.btoa(unescape(encodeURIComponent(t))),this.getFilename()+".xls")}function M(t){let e="",i=this.getDataRows(),n=this.options.exporting.csv,r=T(n.decimalPoint,","!==n.itemDelimiter&&t?1.1.toLocaleString()[1]:"."),s=T(n.itemDelimiter,","===r?";":","),o=n.lineDelimiter;return i.forEach(((t,n)=>{let a="",l=t.length;for(;l--;)"string"==typeof(a=t[l])&&(a=`"${a}"`),"number"==typeof a&&"."!==r&&(a=a.toString().replace(".",r)),t[l]=a;t.length=i.length?i[0].length:0,e+=t.join(s),n<i.length-1&&(e+=o)})),e}function P(t){let e,i,n,r,s,o,a,l=this.hasParallelCoordinates,c=this.time,h=this.options.exporting&&this.options.exporting.csv||{},u=this.xAxis,p={},f=[],m=[],g=[],y=this.options.lang,x=y.exportData,v=x.categoryHeader,_=x.categoryDatetimeHeader,k=function(e,i,n){if(h.columnHeaderFormatter){let t=h.columnHeaderFormatter(e,i,n);if(!1!==t)return t}return e?e instanceof d?t?{columnTitle:n>1?i:e.name,topLevelColumnTitle:e.name}:e.name+(n>1?" ("+i+")":""):e.options.title&&e.options.title.text||(e.dateTime?_:v):v},A=function(t,e,i){let n={},r={};return e.forEach((function(e){let s=(t.keyToAxis&&t.keyToAxis[e]||e)+"Axis",o=C(i)?t.chart[s][i]:t[s];n[e]=o&&o.categories||[],r[e]=o&&o.dateTime})),{categoryMap:n,dateTimeValueAxisMap:r}},I=function(t,e){let i=t.pointArrayMap||["y"],n=t.data.some((t=>void 0!==t.y&&t.name));return n&&e&&!e.categories&&"name"!==t.exportKey?["x",...i]:i},M=[],P=0;for(o in this.series.forEach((function(e){let i,n,r=e.options.keys,o=e.xAxis,a=r||I(e,o),d=a.length,f=!e.requireSorting&&{},y=u.indexOf(o),x=A(e,a);if(!1!==e.options.includeInDataExport&&!e.options.isInternal&&!1!==e.visible){for(w(M,(function(t){return t[0]===y}))||M.push([y,P]),n=0;n<d;)s=k(e,a[n],a.length),g.push(s.columnTitle||s),t&&m.push(s.topLevelColumnTitle||s),n++;i={chart:e.chart,autoIncrement:e.autoIncrement,options:e.options,pointArrayMap:e.pointArrayMap,index:e.index},e.options.data.forEach((function(t,r){let s,u,m,g={series:i};l&&(x=A(e,a,r)),e.pointClass.prototype.applyOptions.apply(g,[t]);let v=e.data[r]&&e.data[r].name;if(s=(g.x??"")+","+v,n=0,(!o||"name"===e.exportKey||!l&&o&&o.hasNames&&v)&&(s=v),f&&(f[s]&&(s+="|"+r),f[s]=!0),p[s]){let t=`${s},${p[s].pointers[e.index]}`,i=s;p[s].pointers[e.index]&&(p[t]||(p[t]=[],p[t].xValues=[],p[t].pointers=[]),s=t),p[i].pointers[e.index]+=1}else{p[s]=[],p[s].xValues=[];let t=[];for(let i=0;i<e.chart.series.length;i++)t[i]=0;p[s].pointers=t,p[s].pointers[e.index]=1}for(p[s].x=g.x,p[s].name=v,p[s].xValues[y]=g.x;n<d;)m=g[u=a[n]],p[s][P+n]=T(x.categoryMap[u][m],x.dateTimeValueAxisMap[u]?c.dateFormat(h.dateFormat,m):null,m),n++})),P+=n}})),p)Object.hasOwnProperty.call(p,o)&&f.push(p[o]);for(r=t?[m,g]:[g],P=M.length;P--;)e=M[P][0],i=M[P][1],n=u[e],f.sort((function(t,i){return t.xValues[e]-i.xValues[e]})),a=k(n),r[0].splice(i,0,a),t&&r[1]&&r[1].splice(i,0,a),f.forEach((function(t){let e=t.name;n&&!b(e)&&(n.dateTime?(t.x instanceof Date&&(t.x=t.x.getTime()),e=c.dateFormat(h.dateFormat,t.x)):e=n.categories?T(n.names[t.x],n.categories[t.x],t.x):t.x),t.splice(i,0,e)}));return S(this,"exportData",{dataRows:r=r.concat(f)}),r}function E(t){let e=t=>{if(!t.tagName||"#text"===t.tagName)return t.textContent||"";let i=t.attributes,n=`<${t.tagName}`;return i&&Object.keys(i).forEach((t=>{let e=i[t];n+=` ${t}="${e}"`})),n+=">"+(t.textContent||""),(t.children||[]).forEach((t=>{n+=e(t)})),n+=`</${t.tagName}>`},i=this.getTableAST(t);return e(i)}function D(t){let e=0,i=[],n=this.options,r=t?1.1.toLocaleString()[1]:".",s=T(n.exporting.useMultiLevelHeaders,!0),o=this.getDataRows(s),a=s?o.shift():null,l=o.shift(),c=function(t,e){let i=t.length;if(e.length!==i)return!1;for(;i--;)if(t[i]!==e[i])return!1;return!0},h=function(t,e,i,n){let s=T(n,""),o="highcharts-text"+(e?" "+e:"");return"number"==typeof s?(s=s.toString(),","===r&&(s=s.replace(".",r)),o="highcharts-number"):n||(o="highcharts-empty"),{tagName:t,attributes:i=_({class:o},i),textContent:s}};!1!==n.exporting.tableCaption&&i.push({tagName:"caption",attributes:{class:"highcharts-table-caption"},textContent:T(n.exporting.tableCaption,n.title.text?n.title.text:"Chart")});for(let p=0,f=o.length;p<f;++p)o[p].length>e&&(e=o[p].length);i.push(function(t,e,i){let r,o,a=[],l=0,u=i||e&&e.length,d=0;if(s&&t&&e&&!c(t,e)){let i=[];for(;l<u;++l)if((r=t[l])===t[l+1])++d;else if(d)i.push(h("th","highcharts-table-topheading",{scope:"col",colspan:d+1},r)),d=0;else{r===e[l]?n.exporting.useRowspanHeaders?(o=2,delete e[l]):(o=1,e[l]=""):o=1;let t=h("th","highcharts-table-topheading",{scope:"col"},r);o>1&&t.attributes&&(t.attributes.valign="top",t.attributes.rowspan=o),i.push(t)}a.push({tagName:"tr",children:i})}if(e){let t=[];for(l=0,u=e.length;l<u;++l)void 0!==e[l]&&t.push(h("th",null,{scope:"col"},e[l]));a.push({tagName:"tr",children:t})}return{tagName:"thead",children:a}}(a,l,Math.max(e,l.length)));let u=[];o.forEach((function(t){let i=[];for(let n=0;n<e;n++)i.push(h(n?"td":"th",null,n?{}:{scope:"row"},t[n]));u.push({tagName:"tr",children:i})})),i.push({tagName:"tbody",children:u});let d={tree:{tagName:"table",id:`highcharts-data-table-${this.index}`,children:i}};return S(this,"aftergetTableAST",d),d.tree}function L(){this.toggleDataTable(!1)}function z(e){e=T(e,!this.isDataTableVisible);let i=e&&!this.dataTableDiv;if(i&&(this.dataTableDiv=a.createElement("div"),this.dataTableDiv.className="highcharts-data-table",this.renderTo.parentNode.insertBefore(this.dataTableDiv,this.renderTo.nextSibling)),this.dataTableDiv){let n=this.dataTableDiv.style,r=n.display;if(n.display=e?"block":"none",e){this.dataTableDiv.innerHTML=t.emptyHTML;let e=new t([this.getTableAST()]);e.addToDOM(this.dataTableDiv),S(this,"afterViewData",{element:this.dataTableDiv,wasHidden:i||r!==n.display})}else S(this,"afterHideData")}this.isDataTableVisible=e;let n=this.exportDivElements,r=this.options.exporting,s=r&&r.buttons&&r.buttons.contextButton.menuItems,o=this.options.lang;if(r&&r.menuItemDefinitions&&o&&o.viewData&&o.hideData&&s&&n){let e=n[s.indexOf("viewData")];e&&t.setElementHTML(e,this.isDataTableVisible?o.hideData:o.viewData)}}function O(){this.toggleDataTable(!0)}function F(t,e){let i=l.navigator,n=l.URL||l.webkitURL||l;try{if(i.msSaveOrOpenBlob&&l.MSBlobBuilder){let e=new l.MSBlobBuilder;return e.append(t),e.getBlob("image/svg+xml")}return n.createObjectURL(new l.Blob(["\ufeff"+t],{type:e}))}catch(t){}}function R(){let t=this,e=t.dataTableDiv,i=(t,e)=>t.children[e].textContent,n=(t,e)=>(n,r)=>{var s,o;return s=i(e?n:r,t),o=i(e?r:n,t),""===s||""===o||isNaN(s)||isNaN(o)?s.toString().localeCompare(o):s-o};if(e&&t.options.exporting&&t.options.exporting.allowTableSorting){let i=e.querySelector("thead tr");i&&i.childNodes.forEach((i=>{let r=i.closest("table");i.addEventListener("click",(function(){let s=[...e.querySelectorAll("tr:not(thead tr)")],o=[...i.parentNode.children];s.sort(n(o.indexOf(i),t.ascendingOrderInTable=!t.ascendingOrderInTable)).forEach((t=>{r.appendChild(t)})),o.forEach((t=>{["highcharts-sort-ascending","highcharts-sort-descending"].forEach((e=>{t.classList.contains(e)&&t.classList.remove(e)}))})),i.classList.add(t.ascendingOrderInTable?"highcharts-sort-ascending":"highcharts-sort-descending")}))}))}}function B(){this.options&&this.options.exporting&&this.options.exporting.showTable&&!this.options.chart.forExport&&this.viewData()}return{compose:function(t){if(o.pushUnique(k,t)){v(t,"afterViewData",R),v(t,"render",B);let e=t.prototype;e.downloadCSV=A,e.downloadXLS=I,e.getCSV=M,e.getDataRows=P,e.getTable=E,e.getTableAST=D,e.hideData=L,e.toggleDataTable=z,e.viewData=O}if(o.pushUnique(k,h)){let t=c().exporting;t&&(_(t.menuItemDefinitions,{downloadCSV:{textKey:"downloadCSV",onclick:function(){this.downloadCSV()}},downloadXLS:{textKey:"downloadXLS",onclick:function(){this.downloadXLS()}},viewData:{textKey:"viewData",onclick:function(){this.toggleDataTable()}}}),t.buttons&&t.buttons.contextButton.menuItems&&t.buttons.contextButton.menuItems.push("separator","downloadCSV","downloadXLS","viewData")),h(e)}p&&o.pushUnique(k,p)&&(p.prototype.keyToAxis={low:"y",high:"y"}),f&&o.pushUnique(k,f)&&(f.prototype.exportKey="name",f.prototype.keyToAxis={start:"x",end:"x"}),x&&o.pushUnique(k,x)&&(x.prototype.keyToAxis={x2:"x"}),m&&o.pushUnique(k,m)&&(m.prototype.exportKey="name"),g&&o.pushUnique(k,g)&&(g.prototype.exportKey="name"),y&&o.pushUnique(k,y)&&(y.prototype.exportKey="name")}}})),i(e,"masters/modules/export-data.src.js",[e["Core/Globals.js"],e["Extensions/DownloadURL.js"],e["Extensions/ExportData/ExportData.js"]],(function(t,e,i){t.dataURLtoBlob=e.dataURLtoBlob,t.downloadURL=e.downloadURL,i.compose(t.Chart)}))}))},8393:function(t,e,i){var n,r;!function(s){t.exports?(s.default=s,t.exports=s):(n=[i(8840)],r=function(t){return s(t),s.Highcharts=t,s}.apply(e,n),void 0===r||(t.exports=r))}((function(t){"use strict";var e=t?t._modules:{};function i(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}i(e,"Core/Chart/ChartNavigationComposition.js",[],(function(){var t;return function(t){t.compose=function(t){return t.navigation||(t.navigation=new e(t)),t};class e{constructor(t){this.updates=[],this.chart=t}addUpdate(t){this.chart.navigation.updates.push(t)}update(t,e){this.updates.forEach((i=>{i.call(this.chart,t,e)}))}}t.Additions=e}(t||(t={})),t})),i(e,"Extensions/Exporting/ExportingDefaults.js",[e["Core/Globals.js"]],(function(t){let{isTouchDevice:e}=t;return{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG"]}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:e?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}})),i(e,"Extensions/Exporting/ExportingSymbols.js",[],(function(){var t;return function(t){let e=[];function i(t,e,i,n){return[["M",t,e+2.5],["L",t+i,e+2.5],["M",t,e+n/2+.5],["L",t+i,e+n/2+.5],["M",t,e+n-1.5],["L",t+i,e+n-1.5]]}function n(t,e,i,n){let r=n/3-2;return[].concat(this.circle(i-r,e,r,r),this.circle(i-r,e+r+4,r,r),this.circle(i-r,e+2*(r+4),r,r))}t.compose=function(t){if(-1===e.indexOf(t)){e.push(t);let r=t.prototype.symbols;r.menu=i,r.menuball=n.bind(r)}}}(t||(t={})),t})),i(e,"Extensions/Exporting/Fullscreen.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Utilities.js"]],(function(t,e){let{addEvent:i,fireEvent:n}=e,r=[];function s(){this.fullscreen=new o(this)}class o{static compose(t){e.pushUnique(r,t)&&i(t,"beforeRender",s)}constructor(t){this.chart=t,this.isOpen=!1;let e=t.renderTo;!this.browserProps&&("function"==typeof e.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:e.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:e.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:e.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){let t=this,e=t.chart,i=e.options.chart;n(e,"fullscreenClose",null,(function(){t.isOpen&&t.browserProps&&e.container.ownerDocument instanceof Document&&e.container.ownerDocument[t.browserProps.exitFullscreen](),t.unbindFullscreenEvent&&(t.unbindFullscreenEvent=t.unbindFullscreenEvent()),e.setSize(t.origWidth,t.origHeight,!1),t.origWidth=void 0,t.origHeight=void 0,i.width=t.origWidthOption,i.height=t.origHeightOption,t.origWidthOption=void 0,t.origHeightOption=void 0,t.isOpen=!1,t.setButtonText()}))}open(){let t=this,e=t.chart,r=e.options.chart;n(e,"fullscreenOpen",null,(function(){if(r&&(t.origWidthOption=r.width,t.origHeightOption=r.height),t.origWidth=e.chartWidth,t.origHeight=e.chartHeight,t.browserProps){let n=i(e.container.ownerDocument,t.browserProps.fullscreenChange,(function(){t.isOpen?(t.isOpen=!1,t.close()):(e.setSize(null,null,!1),t.isOpen=!0,t.setButtonText())})),r=i(e,"destroy",n);t.unbindFullscreenEvent=()=>{n(),r()};let s=e.renderTo[t.browserProps.requestFullscreen]();s&&s.catch((function(){alert("Full screen is not supported inside a frame.")}))}}))}setButtonText(){let e=this.chart,i=e.exportDivElements,n=e.options.exporting,r=n&&n.buttons&&n.buttons.contextButton.menuItems,s=e.options.lang;if(n&&n.menuItemDefinitions&&s&&s.exitFullscreen&&s.viewFullscreen&&r&&i){let e=i[r.indexOf("viewFullscreen")];e&&t.setElementHTML(e,this.isOpen?s.exitFullscreen:n.menuItemDefinitions.viewFullscreen.text||s.viewFullscreen)}}toggle(){this.isOpen?this.close():this.open()}}return o})),i(e,"Core/HttpUtilities.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e){let{doc:i}=t,{createElement:n,discardElement:r,merge:s,objectEach:o}=e,a={ajax:function(t){let e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},i=new XMLHttpRequest;function n(e,i){t.error&&t.error(e,i)}if(!t.url)return!1;i.open((t.type||"get").toUpperCase(),t.url,!0),t.headers&&t.headers["Content-Type"]||i.setRequestHeader("Content-Type",e[t.dataType||"json"]||e.text),o(t.headers,(function(t,e){i.setRequestHeader(e,t)})),t.responseType&&(i.responseType=t.responseType),i.onreadystatechange=function(){let e;if(4===i.readyState){if(200===i.status){if("blob"!==t.responseType&&(e=i.responseText,"json"===t.dataType))try{e=JSON.parse(e)}catch(t){if(t instanceof Error)return n(i,t)}return t.success&&t.success(e,i)}n(i,i.responseText)}},t.data&&"string"!=typeof t.data&&(t.data=JSON.stringify(t.data)),i.send(t.data)},getJSON:function(t,e){a.ajax({url:t,success:e,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(t,e,a){let l=n("form",s({method:"post",action:t,enctype:"multipart/form-data"},a),{display:"none"},i.body);o(e,(function(t,e){n("input",{type:"hidden",name:e,value:t},void 0,l)})),l.submit(),r(l)}};return a})),i(e,"Extensions/Exporting/Exporting.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Chart/Chart.js"],e["Core/Chart/ChartNavigationComposition.js"],e["Core/Defaults.js"],e["Extensions/Exporting/ExportingDefaults.js"],e["Extensions/Exporting/ExportingSymbols.js"],e["Extensions/Exporting/Fullscreen.js"],e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r,s,o,a,l,c){var h;let{defaultOptions:u,setOptions:d}=n,{doc:p,SVG_NS:f,win:m}=a,{addEvent:g,css:y,createElement:x,discardElement:v,extend:b,find:_,fireEvent:w,isObject:S,merge:C,objectEach:T,pick:k,removeEvent:A,uniqueKey:I}=c;return function(e){let n,h=[],M=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/^(cssRules|ownerRules)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],P=["fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","textAnchor","x","y"];e.inlineAllowlist=[];let E=["clipPath","defs","desc"];function D(t){let e,i,n=this,r=n.renderer,s=C(n.options.navigation.buttonOptions,t),o=s.onclick,a=s.menuItems,l=s.symbolSize||12;if(n.btnCount||(n.btnCount=0),n.exportDivElements||(n.exportDivElements=[],n.exportSVGElements=[]),!1===s.enabled||!s.theme)return;let c=s.theme;n.styledMode||(c.fill=k(c.fill,"#ffffff"),c.stroke=k(c.stroke,"none")),o?i=function(t){t&&t.stopPropagation(),o.call(n,t)}:a&&(i=function(t){t&&t.stopPropagation(),n.contextMenu(h.menuClassName,a,h.translateX||0,h.translateY||0,h.width||0,h.height||0,h),h.setState(2)}),s.text&&s.symbol?c.paddingLeft=k(c.paddingLeft,30):s.text||b(c,{width:s.width,height:s.height,padding:0}),n.styledMode||(c["stroke-linecap"]="round",c.fill=k(c.fill,"#ffffff"),c.stroke=k(c.stroke,"none"));let h=r.button(s.text,0,0,i,c,void 0,void 0,void 0,void 0,s.useHTML).addClass(t.className).attr({title:k(n.options.lang[s._titleKey||s.titleKey],"")});h.menuClassName=t.menuClassName||"highcharts-menu-"+n.btnCount++,s.symbol&&(e=r.symbol(s.symbol,s.symbolX-l/2,s.symbolY-l/2,l,l,{width:l,height:l}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(h),n.styledMode||e.attr({stroke:s.symbolStroke,fill:s.symbolFill,"stroke-width":s.symbolStrokeWidth||1})),h.add(n.exportingGroup).align(b(s,{width:h.width,x:k(s.x,n.buttonOffset)}),!0,"spacingBox"),n.buttonOffset+=((h.width||0)+s.buttonSpacing)*("right"===s.align?-1:1),n.exportSVGElements.push(h,e)}function L(){if(!this.printReverseInfo)return;let{childNodes:t,origDisplay:e,resetParams:i}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(t,(function(t,i){1===t.nodeType&&(t.style.display=e[i]||"")})),this.isPrinting=!1,i&&this.setSize.apply(this,i),delete this.printReverseInfo,n=void 0,w(this,"afterPrint")}function z(){let t=p.body,e=this.options.exporting.printMaxWidth,i={childNodes:t.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),w(this,"beforePrint");let n=e&&this.chartWidth>e;n&&(i.resetParams=[this.options.chart.width,void 0,!1],this.setSize(e,void 0,!1)),[].forEach.call(i.childNodes,(function(t,e){1===t.nodeType&&(i.origDisplay[e]=t.style.display,t.style.display="none")})),this.moveContainers(t),this.printReverseInfo=i}function O(t){t.renderExporting(),g(t,"redraw",t.renderExporting),g(t,"destroy",t.destroyExport)}function F(e,i,n,r,s,o,a){let l,h=this,u=h.options.navigation,d=h.chartWidth,f=h.chartHeight,v="cache-"+e,_=Math.max(s,o),C=h[v];C||(h.exportContextMenu=h[v]=C=x("div",{className:e},{position:"absolute",zIndex:1e3,padding:_+"px",pointerEvents:"auto",...h.renderer.style},h.fixedDiv||h.container),l=x("ul",{className:"highcharts-menu"},h.styledMode?{}:{listStyle:"none",margin:0,padding:0},C),h.styledMode||y(l,b({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},u.menuStyle)),C.hideMenu=function(){y(C,{display:"none"}),a&&a.setState(0),h.openMenu=!1,y(h.renderTo,{overflow:"hidden"}),y(h.container,{overflow:"hidden"}),c.clearTimeout(C.hideTimer),w(h,"exportMenuHidden")},h.exportEvents.push(g(C,"mouseleave",(function(){C.hideTimer=m.setTimeout(C.hideMenu,500)})),g(C,"mouseenter",(function(){c.clearTimeout(C.hideTimer)})),g(p,"mouseup",(function(t){h.pointer.inClass(t.target,e)||C.hideMenu()})),g(C,"click",(function(){h.openMenu&&C.hideMenu()}))),i.forEach((function(e){if("string"==typeof e&&(e=h.options.exporting.menuItemDefinitions[e]),S(e,!0)){let i;e.separator?i=x("hr",void 0,void 0,l):("viewData"===e.textKey&&h.isDataTableVisible&&(e.textKey="hideData"),i=x("li",{className:"highcharts-menu-item",onclick:function(t){t&&t.stopPropagation(),C.hideMenu(),e.onclick&&e.onclick.apply(h,arguments)}},void 0,l),t.setElementHTML(i,e.text||h.options.lang[e.textKey]),h.styledMode||(i.onmouseover=function(){y(this,u.menuItemHoverStyle)},i.onmouseout=function(){y(this,u.menuItemStyle)},y(i,b({cursor:"pointer"},u.menuItemStyle||{})))),h.exportDivElements.push(i)}})),h.exportDivElements.push(l,C),h.exportMenuWidth=C.offsetWidth,h.exportMenuHeight=C.offsetHeight);let T={display:"block"};n+h.exportMenuWidth>d?T.right=d-n-s-_+"px":T.left=n-_+"px",r+o+h.exportMenuHeight>f&&"top"!==a.alignOptions.verticalAlign?T.bottom=f-r-_+"px":T.top=r+o-_+"px",y(C,T),y(h.renderTo,{overflow:""}),y(h.container,{overflow:""}),h.openMenu=!0,w(h,"exportMenuShown")}function R(t){let e,i=t?t.target:this,n=i.exportSVGElements,r=i.exportDivElements,s=i.exportEvents;n&&(n.forEach(((t,r)=>{t&&(t.onclick=t.ontouchstart=null,i[e="cache-"+t.menuClassName]&&delete i[e],n[r]=t.destroy())})),n.length=0),i.exportingGroup&&(i.exportingGroup.destroy(),delete i.exportingGroup),r&&(r.forEach((function(t,e){t&&(c.clearTimeout(t.hideTimer),A(t,"mouseleave"),r[e]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,v(t))})),r.length=0),s&&(s.forEach((function(t){t()})),s.length=0)}function B(t,e){let i=this.getSVGForExport(t,e);t=C(this.options.exporting,t),l.post(t.url,{filename:t.filename?t.filename.replace(/\//g,"-"):this.getFilename(),type:t.type,width:t.width,scale:t.scale,svg:i},t.formAttributes)}function N(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function j(){let t=this.userOptions.title&&this.userOptions.title.text,e=this.options.exporting.filename;return e?e.replace(/\//g,"-"):("string"==typeof t&&(e=t.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!e||e.length<5)&&(e="chart"),e)}function U(t){let e,i,n=C(this.options,t);n.plotOptions=C(this.userOptions.plotOptions,t&&t.plotOptions),n.time=C(this.userOptions.time,t&&t.time);let r=x("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},p.body),s=this.renderTo.style.width,o=this.renderTo.style.height,a=n.exporting.sourceWidth||n.chart.width||/px$/.test(s)&&parseInt(s,10)||(n.isGantt?800:600),l=n.exporting.sourceHeight||n.chart.height||/px$/.test(o)&&parseInt(o,10)||400;b(n.chart,{animation:!1,renderTo:r,forExport:!0,renderer:"SVGRenderer",width:a,height:l}),n.exporting.enabled=!1,delete n.data,n.series=[],this.series.forEach((function(t){(i=C(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible})).isInternal||n.series.push(i)}));let c={};this.axes.forEach((function(t){t.userOptions.internalKey||(t.userOptions.internalKey=I()),t.options.isInternal||(c[t.coll]||(c[t.coll]=!0,n[t.coll]=[]),n[t.coll].push(C(t.userOptions,{visible:t.visible})))}));let h=new this.constructor(n,this.callback);return t&&["xAxis","yAxis","series"].forEach((function(e){let i={};t[e]&&(i[e]=t[e],h.update(i))})),this.axes.forEach((function(t){let e=_(h.axes,(function(e){return e.options.internalKey===t.userOptions.internalKey})),i=t.getExtremes(),n=i.userMin,r=i.userMax;e&&(void 0!==n&&n!==e.min||void 0!==r&&r!==e.max)&&e.setExtremes(n,r,!0,!1)})),e=h.getChartHTML(),w(this,"getSVG",{chartCopy:h}),e=this.sanitizeSVG(e,n),n=null,h.destroy(),v(r),e}function V(t,e){let i=this.options.exporting;return this.getSVG(C({chart:{borderRadius:0}},i.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||i.sourceWidth,sourceHeight:t&&t.sourceHeight||i.sourceHeight}}))}function $(){let t,i=e.inlineAllowlist,n={},r=p.createElement("iframe");y(r,{width:"1px",height:"1px",visibility:"hidden"}),p.body.appendChild(r);let s=r.contentWindow&&r.contentWindow.document;s&&s.body.appendChild(s.createElementNS(f,"svg")),function e(r){let o,l,c,h,u,d,p={};if(s&&1===r.nodeType&&-1===E.indexOf(r.nodeName)){if(o=m.getComputedStyle(r,null),l="svg"===r.nodeName?{}:m.getComputedStyle(r.parentNode,null),!n[r.nodeName]){t=s.getElementsByTagName("svg")[0],c=s.createElementNS(r.namespaceURI,r.nodeName),t.appendChild(c);let e=m.getComputedStyle(c,null),i={};for(let t in e)"string"!=typeof e[t]||/^[0-9]+$/.test(t)||(i[t]=e[t]);n[r.nodeName]=i,"text"===r.nodeName&&delete n.text.fill,t.removeChild(c)}for(let t in o)(a.isFirefox||a.isMS||a.isSafari||Object.hasOwnProperty.call(o,t))&&function(t,e){if(h=u=!1,i.length){for(d=i.length;d--&&!u;)u=i[d].test(e);h=!u}for("transform"===e&&"none"===t&&(h=!0),d=M.length;d--&&!h;)h=M[d].test(e)||"function"==typeof t;!h&&(l[e]!==t||"svg"===r.nodeName)&&n[r.nodeName][e]!==t&&(P&&-1===P.indexOf(e)?p[e]=t:t&&r.setAttribute(e.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()})),t))}(o[t],t);if(y(r,p),"svg"===r.nodeName&&r.setAttribute("stroke-width","1px"),"text"===r.nodeName)return;[].forEach.call(r.children||r.childNodes,e)}}(this.container.querySelector("svg")),t.parentNode.removeChild(t),r.parentNode.removeChild(r)}function H(t){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach((function(e){t.appendChild(e)}))}function q(){let t=this,e=(e,i,n)=>{t.isDirtyExporting=!0,C(!0,t.options[e],i),k(n,!0)&&t.redraw()};t.exporting={update:function(t,i){e("exporting",t,i)}},i.compose(t).navigation.addUpdate(((t,i)=>{e("navigation",t,i)}))}function G(){let t=this;t.isPrinting||(n=t,a.isSafari||t.beforePrint(),setTimeout((()=>{m.focus(),m.print(),a.isSafari||setTimeout((()=>{t.afterPrint()}),1e3)}),1))}function W(){let t=this,e=t.options.exporting,i=e.buttons,n=t.isDirtyExporting||!t.exportSVGElements;t.buttonOffset=0,t.isDirtyExporting&&t.destroyExport(),n&&!1!==e.enabled&&(t.exportEvents=[],t.exportingGroup=t.exportingGroup||t.renderer.g("exporting-group").attr({zIndex:3}).add(),T(i,(function(e){t.addButton(e)})),t.isDirtyExporting=!1)}function X(t,e){let i=t.indexOf("</svg>")+6,n=t.substr(i);return t=t.substr(0,i),e&&e.exporting&&e.exporting.allowHTML&&n&&(n='<foreignObject x="0" y="0" width="'+e.chart.width+'" height="'+e.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+n.replace(/(<(?:img|br).*?(?=\>))>/g,"$1 />")+"</body></foreignObject>",t=t.replace("</svg>",n+"</svg>")),t.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;)\;?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+\:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­")}e.compose=function(t,e){if(s.compose(e),o.compose(t),c.pushUnique(h,t)){let e=t.prototype;e.afterPrint=L,e.exportChart=B,e.inlineStyles=$,e.print=G,e.sanitizeSVG=X,e.getChartHTML=N,e.getSVG=U,e.getSVGForExport=V,e.getFilename=j,e.moveContainers=H,e.beforePrint=z,e.contextMenu=F,e.addButton=D,e.destroyExport=R,e.renderExporting=W,e.callbacks.push(O),g(t,"init",q),a.isSafari&&a.win.matchMedia("print").addListener((function(t){n&&(t.matches?n.beforePrint():n.afterPrint())}))}c.pushUnique(h,d)&&(u.exporting=C(r.exporting,u.exporting),u.lang=C(r.lang,u.lang),u.navigation=C(r.navigation,u.navigation))}}(h||(h={})),h})),i(e,"masters/modules/exporting.src.js",[e["Core/Globals.js"],e["Extensions/Exporting/Exporting.js"],e["Core/HttpUtilities.js"]],(function(t,e,i){t.HttpUtilities=i,t.ajax=i.ajax,t.getJSON=i.getJSON,t.post=i.post,e.compose(t.Chart,t.Renderer)}))}))},6046:function(t,e,i){var n,r;!function(s){t.exports?(s.default=s,t.exports=s):(n=[i(8840),i(4814)],r=function(t){return s(t),s.Highcharts=t,s}.apply(e,n),void 0===r||(t.exports=r))}((function(t){"use strict";var e=t?t._modules:{};function i(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}i(e,"Core/Axis/Color/ColorAxisLike.js",[e["Core/Color/Color.js"],e["Core/Utilities.js"]],(function(t,e){var i,n;let{parse:r}=t,{merge:s}=e;return(n=i||(i={})).initDataClasses=function(t){let e,i,n,o=this.chart,a=this.legendItem=this.legendItem||{},l=this.options,c=t.dataClasses||[],h=o.options.chart.colorCount,u=0;this.dataClasses=i=[],a.labels=[];for(let d=0,p=c.length;d<p;++d)e=s(e=c[d]),i.push(e),(o.styledMode||!e.color)&&("category"===l.dataClassColor?(o.styledMode||(h=(n=o.options.colors||[]).length,e.color=n[u]),e.colorIndex=u,++u===h&&(u=0)):e.color=r(l.minColor).tweenTo(r(l.maxColor),p<2?.5:d/(p-1)))},n.initStops=function(){let t=this.options,e=this.stops=t.stops||[[0,t.minColor||""],[1,t.maxColor||""]];for(let i=0,n=e.length;i<n;++i)e[i].color=r(e[i][1])},n.normalizedValue=function(t){let e=this.max||0,i=this.min||0;return this.logarithmic&&(t=this.logarithmic.log2lin(t)),1-(e-t)/(e-i||1)},n.toColor=function(t,e){let i,n,r,s,o,a,l=this.dataClasses,c=this.stops;if(l){for(a=l.length;a--;)if(n=(o=l[a]).from,r=o.to,(void 0===n||t>=n)&&(void 0===r||t<=r)){s=o.color,e&&(e.dataClass=a,e.colorIndex=o.colorIndex);break}}else{for(i=this.normalizedValue(t),a=c.length;a--&&!(i>c[a][0]););n=c[a]||c[a+1],i=1-((r=c[a+1]||n)[0]-i)/(r[0]-n[0]||1),s=n.color.tweenTo(r.color,i)}return s},i})),i(e,"Core/Axis/SolidGaugeAxis.js",[e["Core/Axis/Color/ColorAxisLike.js"],e["Core/Utilities.js"]],(function(t,e){let{extend:i}=e;return{init:function(e){i(e,t)}}})),i(e,"Series/SolidGauge/SolidGaugeSeriesDefaults.js",[],(function(){return{colorByPoint:!0,dataLabels:{y:0}}})),i(e,"Series/SolidGauge/SolidGaugeSeries.js",[e["Extensions/BorderRadius.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Axis/SolidGaugeAxis.js"],e["Series/SolidGauge/SolidGaugeSeriesDefaults.js"],e["Core/Utilities.js"]],(function(t,e,i,n,r){let{gauge:s,pie:o}=e.seriesTypes,{clamp:a,extend:l,isNumber:c,merge:h,pick:u,pInt:d}=r;class p extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0,this.axis=void 0,this.yAxis=void 0,this.startAngleRad=void 0,this.thresholdAngleRad=void 0}translate(){let t=this.yAxis;i.init(t),!t.dataClasses&&t.options.dataClasses&&t.initDataClasses(t.options),t.initStops(),s.prototype.translate.call(this)}drawPoints(){let e,i=this.yAxis,n=i.center,r=this.options,s=this.chart.renderer,o=r.overshoot,h=r.rounded&&void 0===r.borderRadius,p=c(o)?o/180*Math.PI:0;for(let f of(c(r.threshold)&&(e=i.startAngleRad+i.translate(r.threshold,void 0,void 0,void 0,!0)),this.thresholdAngleRad=u(e,i.startAngleRad),this.points))if(!f.isNull){let e,o,c=d(u(f.options.radius,r.radius,100))*n[2]/200,m=d(u(f.options.innerRadius,r.innerRadius,60))*n[2]/200,g=Math.min(i.startAngleRad,i.endAngleRad),y=Math.max(i.startAngleRad,i.endAngleRad),x=f.graphic,v=i.startAngleRad+i.translate(f.y,void 0,void 0,void 0,!0),b=i.toColor(f.y,f);"none"===b&&(b=f.color||this.color||"none"),"none"!==b&&(f.color=b),v=a(v,g-p,y+p),!1===r.wrap&&(v=a(v,g,y));let _=h?(c-m)/2/c:0,w=Math.min(v,this.thresholdAngleRad)-_,S=Math.max(v,this.thresholdAngleRad)+_;S-w>2*Math.PI&&(S=w+2*Math.PI);let C=h?"50%":0;r.borderRadius&&(C=t.optionsToObject(r.borderRadius).radius),f.shapeArgs=e={x:n[0],y:n[1],r:c,innerR:m,start:w,end:S,borderRadius:C},f.startR=c,x?(o=e.d,x.animate(l({fill:b},e)),o&&(e.d=o)):f.graphic=x=s.arc(e).attr({fill:b,"sweep-flag":0}).add(this.group),this.chart.styledMode||("square"!==r.linecap&&x.attr({"stroke-linecap":"round","stroke-linejoin":"round"}),x.attr({stroke:r.borderColor||"none","stroke-width":r.borderWidth||0})),x&&x.addClass(f.getClassName(),!0)}}animate(t){t||(this.startAngleRad=this.thresholdAngleRad,o.prototype.animate.call(this,t))}}return p.defaultOptions=h(s.defaultOptions,n),e.registerSeriesType("solidgauge",p),p})),i(e,"masters/modules/solid-gauge.src.js",[],(function(){}))}))},9755:function(t,e){var i,n;
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(e,i){"use strict";"object"===typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)})("undefined"!==typeof window?window:this,(function(r,s){"use strict";var o=[],a=Object.getPrototypeOf,l=o.slice,c=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},h=o.push,u=o.indexOf,d={},p=d.toString,f=d.hasOwnProperty,m=f.toString,g=m.call(Object),y={},x=function(t){return"function"===typeof t&&"number"!==typeof t.nodeType&&"function"!==typeof t.item},v=function(t){return null!=t&&t===t.window},b=r.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,i){i=i||b;var n,r,s=i.createElement("script");if(s.text=t,e)for(n in _)r=e[n]||e.getAttribute&&e.getAttribute(n),r&&s.setAttribute(n,r);i.head.appendChild(s).parentNode.removeChild(s)}function S(t){return null==t?t+"":"object"===typeof t||"function"===typeof t?d[p.call(t)]||"object":typeof t}var C="3.7.1",T=/HTML$/i,k=function(t,e){return new k.fn.init(t,e)};function A(t){var e=!!t&&"length"in t&&t.length,i=S(t);return!x(t)&&!v(t)&&("array"===i||0===e||"number"===typeof e&&e>0&&e-1 in t)}function I(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}k.fn=k.prototype={jquery:C,constructor:k,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:o.sort,splice:o.splice},k.extend=k.fn.extend=function(){var t,e,i,n,r,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"===typeof o&&(c=o,o=arguments[a]||{},a++),"object"===typeof o||x(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=t[e],"__proto__"!==e&&o!==n&&(c&&n&&(k.isPlainObject(n)||(r=Array.isArray(n)))?(i=o[e],s=r&&!Array.isArray(i)?[]:r||k.isPlainObject(i)?i:{},r=!1,o[e]=k.extend(c,s,n)):void 0!==n&&(o[e]=n));return o},k.extend({expando:"jQuery"+(C+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==p.call(t))&&(e=a(t),!e||(i=f.call(e,"constructor")&&e.constructor,"function"===typeof i&&m.call(i)===g))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){w(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,n=0;if(A(t)){for(i=t.length;n<i;n++)if(!1===e.call(t[n],n,t[n]))break}else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},text:function(t){var e,i="",n=0,r=t.nodeType;if(!r)while(e=t[n++])i+=k.text(e);return 1===r||11===r?t.textContent:9===r?t.documentElement.textContent:3===r||4===r?t.nodeValue:i},makeArray:function(t,e){var i=e||[];return null!=t&&(A(Object(t))?k.merge(i,"string"===typeof t?[t]:t):h.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:u.call(e,t,i)},isXMLDoc:function(t){var e=t&&t.namespaceURI,i=t&&(t.ownerDocument||t).documentElement;return!T.test(e||i&&i.nodeName||"HTML")},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n,r=[],s=0,o=t.length,a=!i;s<o;s++)n=!e(t[s],s),n!==a&&r.push(t[s]);return r},map:function(t,e,i){var n,r,s=0,o=[];if(A(t))for(n=t.length;s<n;s++)r=e(t[s],s,i),null!=r&&o.push(r);else for(s in t)r=e(t[s],s,i),null!=r&&o.push(r);return c(o)},guid:1,support:y}),"function"===typeof Symbol&&(k.fn[Symbol.iterator]=o[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){d["[object "+e+"]"]=e.toLowerCase()}));var M=o.pop,P=o.sort,E=o.splice,D="[\\x20\\t\\r\\n\\f]",L=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g");k.contains=function(t,e){var i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(t.contains?t.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))};var z=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function O(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}k.escapeSelector=function(t){return(t+"").replace(z,O)};var F=b,R=h;(function(){var t,e,i,n,s,a,c,h,d,p,m=R,g=k.expando,x=0,v=0,b=et(),_=et(),w=et(),S=et(),C=function(t,e){return t===e&&(s=!0),0},T="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",A="(?:\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",z="\\["+D+"*("+A+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+A+"))|)"+D+"*\\]",O=":("+A+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",B=new RegExp(D+"+","g"),N=new RegExp("^"+D+"*,"+D+"*"),j=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),U=new RegExp(D+"|>"),V=new RegExp(O),$=new RegExp("^"+A+"$"),H={ID:new RegExp("^#("+A+")"),CLASS:new RegExp("^\\.("+A+")"),TAG:new RegExp("^("+A+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+T+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,W=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,Y=new RegExp("\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\([^\\r\\n\\f])","g"),Z=function(t,e){var i="0x"+t.slice(1)-65536;return e||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},K=function(){ct()},J=pt((function(t){return!0===t.disabled&&I(t,"fieldset")}),{dir:"parentNode",next:"legend"});function Q(){try{return a.activeElement}catch(t){}}try{m.apply(o=l.call(F.childNodes),F.childNodes),o[F.childNodes.length].nodeType}catch(wt){m={apply:function(t,e){R.apply(t,l.call(e))},call:function(t){R.apply(t,l.call(arguments,1))}}}function tt(t,e,i,n){var r,s,o,l,c,u,p,f=e&&e.ownerDocument,x=e?e.nodeType:9;if(i=i||[],"string"!==typeof t||!t||1!==x&&9!==x&&11!==x)return i;if(!n&&(ct(e),e=e||a,h)){if(11!==x&&(c=W.exec(t)))if(r=c[1]){if(9===x){if(!(o=e.getElementById(r)))return i;if(o.id===r)return m.call(i,o),i}else if(f&&(o=f.getElementById(r))&&tt.contains(e,o)&&o.id===r)return m.call(i,o),i}else{if(c[2])return m.apply(i,e.getElementsByTagName(t)),i;if((r=c[3])&&e.getElementsByClassName)return m.apply(i,e.getElementsByClassName(r)),i}if(!S[t+" "]&&(!d||!d.test(t))){if(p=t,f=e,1===x&&(U.test(t)||j.test(t))){f=X.test(t)&&lt(e.parentNode)||e,f==e&&y.scope||((l=e.getAttribute("id"))?l=k.escapeSelector(l):e.setAttribute("id",l=g)),u=ut(t),s=u.length;while(s--)u[s]=(l?"#"+l:":scope")+" "+dt(u[s]);p=u.join(",")}try{return m.apply(i,f.querySelectorAll(p)),i}catch(v){S(t,!0)}finally{l===g&&e.removeAttribute("id")}}}return _t(t.replace(L,"$1"),e,i,n)}function et(){var t=[];function i(n,r){return t.push(n+" ")>e.cacheLength&&delete i[t.shift()],i[n+" "]=r}return i}function it(t){return t[g]=!0,t}function nt(t){var e=a.createElement("fieldset");try{return!!t(e)}catch(wt){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function rt(t){return function(e){return I(e,"input")&&e.type===t}}function st(t){return function(e){return(I(e,"input")||I(e,"button"))&&e.type===t}}function ot(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&J(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function at(t){return it((function(e){return e=+e,it((function(i,n){var r,s=t([],i.length,e),o=s.length;while(o--)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))}))}))}function lt(t){return t&&"undefined"!==typeof t.getElementsByTagName&&t}function ct(t){var i,r=t?t.ownerDocument||t:F;return r!=a&&9===r.nodeType&&r.documentElement?(a=r,c=a.documentElement,h=!k.isXMLDoc(a),p=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&F!=a&&(i=a.defaultView)&&i.top!==i&&i.addEventListener("unload",K),y.getById=nt((function(t){return c.appendChild(t).id=k.expando,!a.getElementsByName||!a.getElementsByName(k.expando).length})),y.disconnectedMatch=nt((function(t){return p.call(t,"*")})),y.scope=nt((function(){return a.querySelectorAll(":scope")})),y.cssHas=nt((function(){try{return a.querySelector(":has(*,:jqfake)"),!1}catch(wt){return!0}})),y.getById?(e.filter.ID=function(t){var e=t.replace(Y,Z);return function(t){return t.getAttribute("id")===e}},e.find.ID=function(t,e){if("undefined"!==typeof e.getElementById&&h){var i=e.getElementById(t);return i?[i]:[]}}):(e.filter.ID=function(t){var e=t.replace(Y,Z);return function(t){var i="undefined"!==typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},e.find.ID=function(t,e){if("undefined"!==typeof e.getElementById&&h){var i,n,r,s=e.getElementById(t);if(s){if(i=s.getAttributeNode("id"),i&&i.value===t)return[s];r=e.getElementsByName(t),n=0;while(s=r[n++])if(i=s.getAttributeNode("id"),i&&i.value===t)return[s]}return[]}}),e.find.TAG=function(t,e){return"undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t):e.querySelectorAll(t)},e.find.CLASS=function(t,e){if("undefined"!==typeof e.getElementsByClassName&&h)return e.getElementsByClassName(t)},d=[],nt((function(t){var e;c.appendChild(t).innerHTML="<a id='"+g+"' href='' disabled='disabled'></a><select id='"+g+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||d.push("\\["+D+"*(?:value|"+T+")"),t.querySelectorAll("[id~="+g+"-]").length||d.push("~="),t.querySelectorAll("a#"+g+"+*").length||d.push(".#.+[+~]"),t.querySelectorAll(":checked").length||d.push(":checked"),e=a.createElement("input"),e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),c.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),e=a.createElement("input"),e.setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||d.push("\\["+D+"*name"+D+"*="+D+"*(?:''|\"\")")})),y.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),C=function(t,e){if(t===e)return s=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!y.sortDetached&&e.compareDocumentPosition(t)===i?t===a||t.ownerDocument==F&&tt.contains(F,t)?-1:e===a||e.ownerDocument==F&&tt.contains(F,e)?1:n?u.call(n,t)-u.call(n,e):0:4&i?-1:1)},a):a}for(t in tt.matches=function(t,e){return tt(t,null,null,e)},tt.matchesSelector=function(t,e){if(ct(t),h&&!S[e+" "]&&(!d||!d.test(e)))try{var i=p.call(t,e);if(i||y.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(wt){S(e,!0)}return tt(e,a,null,[t]).length>0},tt.contains=function(t,e){return(t.ownerDocument||t)!=a&&ct(t),k.contains(t,e)},tt.attr=function(t,i){(t.ownerDocument||t)!=a&&ct(t);var n=e.attrHandle[i.toLowerCase()],r=n&&f.call(e.attrHandle,i.toLowerCase())?n(t,i,!h):void 0;return void 0!==r?r:t.getAttribute(i)},tt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},k.uniqueSort=function(t){var e,i=[],r=0,o=0;if(s=!y.sortStable,n=!y.sortStable&&l.call(t,0),P.call(t,C),s){while(e=t[o++])e===t[o]&&(r=i.push(o));while(r--)E.call(t,i[r],1)}return n=null,t},k.fn.uniqueSort=function(){return this.pushStack(k.uniqueSort(l.apply(this)))},e=k.expr={cacheLength:50,createPseudo:it,match:H,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Y,Z),t[3]=(t[3]||t[4]||t[5]||"").replace(Y,Z),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||tt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&tt.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return H.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&V.test(i)&&(e=ut(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Y,Z).toLowerCase();return"*"===t?function(){return!0}:function(t){return I(t,e)}},CLASS:function(t){var e=b[t+" "];return e||(e=new RegExp("(^|"+D+")"+t+"("+D+"|$)"))&&b(t,(function(t){return e.test("string"===typeof t.className&&t.className||"undefined"!==typeof t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(n){var r=tt.attr(n,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r.replace(B," ")+" ").indexOf(i)>-1:"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,h,u,d,p,f=s!==o?"nextSibling":"previousSibling",m=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!l&&!a,b=!1;if(m){if(s){while(f){u=e;while(u=u[f])if(a?I(u,y):1===u.nodeType)return!1;p=f="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&v){h=m[g]||(m[g]={}),c=h[t]||[],d=c[0]===x&&c[1],b=d&&c[2],u=d&&m.childNodes[d];while(u=++d&&u&&u[f]||(b=d=0)||p.pop())if(1===u.nodeType&&++b&&u===e){h[t]=[x,d,b];break}}else if(v&&(h=e[g]||(e[g]={}),c=h[t]||[],d=c[0]===x&&c[1],b=d),!1===b)while(u=++d&&u&&u[f]||(b=d=0)||p.pop())if((a?I(u,y):1===u.nodeType)&&++b&&(v&&(h=u[g]||(u[g]={}),h[t]=[x,b]),u===e))break;return b-=r,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(t,i){var n,r=e.pseudos[t]||e.setFilters[t.toLowerCase()]||tt.error("unsupported pseudo: "+t);return r[g]?r(i):r.length>1?(n=[t,t,"",i],e.setFilters.hasOwnProperty(t.toLowerCase())?it((function(t,e){var n,s=r(t,i),o=s.length;while(o--)n=u.call(t,s[o]),t[n]=!(e[n]=s[o])})):function(t){return r(t,0,n)}):r}},pseudos:{not:it((function(t){var e=[],i=[],n=bt(t.replace(L,"$1"));return n[g]?it((function(t,e,i,r){var s,o=n(t,null,r,[]),a=t.length;while(a--)(s=o[a])&&(t[a]=!(e[a]=s))})):function(t,r,s){return e[0]=t,n(e,null,s,i),e[0]=null,!i.pop()}})),has:it((function(t){return function(e){return tt(t,e).length>0}})),contains:it((function(t){return t=t.replace(Y,Z),function(e){return(e.textContent||k.text(e)).indexOf(t)>-1}})),lang:it((function(t){return $.test(t||"")||tt.error("unsupported lang: "+t),t=t.replace(Y,Z).toLowerCase(),function(e){var i;do{if(i=h?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(t){var e=r.location&&r.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===c},focus:function(t){return t===Q()&&a.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:ot(!1),disabled:ot(!0),checked:function(t){return I(t,"input")&&!!t.checked||I(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!e.pseudos.empty(t)},header:function(t){return G.test(t.nodeName)},input:function(t){return q.test(t.nodeName)},button:function(t){return I(t,"input")&&"button"===t.type||I(t,"button")},text:function(t){var e;return I(t,"input")&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:at((function(){return[0]})),last:at((function(t,e){return[e-1]})),eq:at((function(t,e,i){return[i<0?i+e:i]})),even:at((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:at((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:at((function(t,e,i){var n;for(n=i<0?i+e:i>e?e:i;--n>=0;)t.push(n);return t})),gt:at((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}},e.pseudos.nth=e.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})e.pseudos[t]=rt(t);for(t in{submit:!0,reset:!0})e.pseudos[t]=st(t);function ht(){}function ut(t,i){var n,r,s,o,a,l,c,h=_[t+" "];if(h)return i?0:h.slice(0);a=t,l=[],c=e.preFilter;while(a){for(o in n&&!(r=N.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=j.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(L," ")}),a=a.slice(n.length)),e.filter)!(r=H[o].exec(a))||c[o]&&!(r=c[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?tt.error(t):_(t,l).slice(0)}function dt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function pt(t,e,i){var n=e.dir,r=e.next,s=r||n,o=i&&"parentNode"===s,a=v++;return e.first?function(e,i,r){while(e=e[n])if(1===e.nodeType||o)return t(e,i,r);return!1}:function(e,i,l){var c,h,u=[x,a];if(l){while(e=e[n])if((1===e.nodeType||o)&&t(e,i,l))return!0}else while(e=e[n])if(1===e.nodeType||o)if(h=e[g]||(e[g]={}),r&&I(e,r))e=e[n]||e;else{if((c=h[s])&&c[0]===x&&c[1]===a)return u[2]=c[2];if(h[s]=u,u[2]=t(e,i,l))return!0}return!1}}function ft(t){return t.length>1?function(e,i,n){var r=t.length;while(r--)if(!t[r](e,i,n))return!1;return!0}:t[0]}function mt(t,e,i){for(var n=0,r=e.length;n<r;n++)tt(t,e[n],i);return i}function gt(t,e,i,n,r){for(var s,o=[],a=0,l=t.length,c=null!=e;a<l;a++)(s=t[a])&&(i&&!i(s,n,r)||(o.push(s),c&&e.push(a)));return o}function yt(t,e,i,n,r,s){return n&&!n[g]&&(n=yt(n)),r&&!r[g]&&(r=yt(r,s)),it((function(s,o,a,l){var c,h,d,p,f=[],g=[],y=o.length,x=s||mt(e||"*",a.nodeType?[a]:a,[]),v=!t||!s&&e?x:gt(x,f,t,a,l);if(i?(p=r||(s?t:y||n)?[]:o,i(v,p,a,l)):p=v,n){c=gt(p,g),n(c,[],a,l),h=c.length;while(h--)(d=c[h])&&(p[g[h]]=!(v[g[h]]=d))}if(s){if(r||t){if(r){c=[],h=p.length;while(h--)(d=p[h])&&c.push(v[h]=d);r(null,p=[],c,l)}h=p.length;while(h--)(d=p[h])&&(c=r?u.call(s,d):f[h])>-1&&(s[c]=!(o[c]=d))}}else p=gt(p===o?p.splice(y,p.length):p),r?r(null,o,p,l):m.apply(o,p)}))}function xt(t){for(var n,r,s,o=t.length,a=e.relative[t[0].type],l=a||e.relative[" "],c=a?1:0,h=pt((function(t){return t===n}),l,!0),d=pt((function(t){return u.call(n,t)>-1}),l,!0),p=[function(t,e,r){var s=!a&&(r||e!=i)||((n=e).nodeType?h(t,e,r):d(t,e,r));return n=null,s}];c<o;c++)if(r=e.relative[t[c].type])p=[pt(ft(p),r)];else{if(r=e.filter[t[c].type].apply(null,t[c].matches),r[g]){for(s=++c;s<o;s++)if(e.relative[t[s].type])break;return yt(c>1&&ft(p),c>1&&dt(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(L,"$1"),r,c<s&&xt(t.slice(c,s)),s<o&&xt(t=t.slice(s)),s<o&&dt(t))}p.push(r)}return ft(p)}function vt(t,n){var r=n.length>0,s=t.length>0,o=function(o,l,c,u,d){var p,f,g,y=0,v="0",b=o&&[],_=[],w=i,S=o||s&&e.find.TAG("*",d),C=x+=null==w?1:Math.random()||.1,T=S.length;for(d&&(i=l==a||l||d);v!==T&&null!=(p=S[v]);v++){if(s&&p){f=0,l||p.ownerDocument==a||(ct(p),c=!h);while(g=t[f++])if(g(p,l||a,c)){m.call(u,p);break}d&&(x=C)}r&&((p=!g&&p)&&y--,o&&b.push(p))}if(y+=v,r&&v!==y){f=0;while(g=n[f++])g(b,_,l,c);if(o){if(y>0)while(v--)b[v]||_[v]||(_[v]=M.call(u));_=gt(_)}m.apply(u,_),d&&!o&&_.length>0&&y+n.length>1&&k.uniqueSort(u)}return d&&(x=C,i=w),b};return r?it(o):o}function bt(t,e){var i,n=[],r=[],s=w[t+" "];if(!s){e||(e=ut(t)),i=e.length;while(i--)s=xt(e[i]),s[g]?n.push(s):r.push(s);s=w(t,vt(r,n)),s.selector=t}return s}function _t(t,i,n,r){var s,o,a,l,c,u="function"===typeof t&&t,d=!r&&ut(t=u.selector||t);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===i.nodeType&&h&&e.relative[o[1].type]){if(i=(e.find.ID(a.matches[0].replace(Y,Z),i)||[])[0],!i)return n;u&&(i=i.parentNode),t=t.slice(o.shift().value.length)}s=H.needsContext.test(t)?0:o.length;while(s--){if(a=o[s],e.relative[l=a.type])break;if((c=e.find[l])&&(r=c(a.matches[0].replace(Y,Z),X.test(o[0].type)&&lt(i.parentNode)||i))){if(o.splice(s,1),t=r.length&&dt(o),!t)return m.apply(n,r),n;break}}}return(u||bt(t,d))(r,i,!h,n,!i||X.test(t)&&lt(i.parentNode)||i),n}ht.prototype=e.filters=e.pseudos,e.setFilters=new ht,y.sortStable=g.split("").sort(C).join("")===g,ct(),y.sortDetached=nt((function(t){return 1&t.compareDocumentPosition(a.createElement("fieldset"))})),k.find=tt,k.expr[":"]=k.expr.pseudos,k.unique=k.uniqueSort,tt.compile=bt,tt.select=_t,tt.setDocument=ct,tt.tokenize=ut,tt.escape=k.escapeSelector,tt.getText=k.text,tt.isXML=k.isXMLDoc,tt.selectors=k.expr,tt.support=k.support,tt.uniqueSort=k.uniqueSort})();var B=function(t,e,i){var n=[],r=void 0!==i;while((t=t[e])&&9!==t.nodeType)if(1===t.nodeType){if(r&&k(t).is(i))break;n.push(t)}return n},N=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},j=k.expr.match.needsContext,U=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function V(t,e,i){return x(e)?k.grep(t,(function(t,n){return!!e.call(t,n,t)!==i})):e.nodeType?k.grep(t,(function(t){return t===e!==i})):"string"!==typeof e?k.grep(t,(function(t){return u.call(e,t)>-1!==i})):k.filter(e,t,i)}k.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?k.find.matchesSelector(n,t)?[n]:[]:k.find.matches(t,k.grep(e,(function(t){return 1===t.nodeType})))},k.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!==typeof t)return this.pushStack(k(t).filter((function(){for(e=0;e<n;e++)if(k.contains(r[e],this))return!0})));for(i=this.pushStack([]),e=0;e<n;e++)k.find(t,r[e],i);return n>1?k.uniqueSort(i):i},filter:function(t){return this.pushStack(V(this,t||[],!1))},not:function(t){return this.pushStack(V(this,t||[],!0))},is:function(t){return!!V(this,"string"===typeof t&&j.test(t)?k(t):t||[],!1).length}});var $,H=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,q=k.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||$,"string"===typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:H.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),U.test(n[1])&&k.isPlainObject(e))for(n in e)x(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=b.getElementById(n[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):x(t)?void 0!==i.ready?i.ready(t):t(k):k.makeArray(t,this)};q.prototype=k.fn,$=k(b);var G=/^(?:parents|prev(?:Until|All))/,W={children:!0,contents:!0,next:!0,prev:!0};function X(t,e){while((t=t[e])&&1!==t.nodeType);return t}k.fn.extend({has:function(t){var e=k(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if(k.contains(this,e[t]))return!0}))},closest:function(t,e){var i,n=0,r=this.length,s=[],o="string"!==typeof t&&k(t);if(!j.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&k.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?k.uniqueSort(s):s)},index:function(t){return t?"string"===typeof t?u.call(k(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return B(t,"parentNode")},parentsUntil:function(t,e,i){return B(t,"parentNode",i)},next:function(t){return X(t,"nextSibling")},prev:function(t){return X(t,"previousSibling")},nextAll:function(t){return B(t,"nextSibling")},prevAll:function(t){return B(t,"previousSibling")},nextUntil:function(t,e,i){return B(t,"nextSibling",i)},prevUntil:function(t,e,i){return B(t,"previousSibling",i)},siblings:function(t){return N((t.parentNode||{}).firstChild,t)},children:function(t){return N(t.firstChild)},contents:function(t){return null!=t.contentDocument&&a(t.contentDocument)?t.contentDocument:(I(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},(function(t,e){k.fn[t]=function(i,n){var r=k.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"===typeof n&&(r=k.filter(n,r)),this.length>1&&(W[t]||k.uniqueSort(r),G.test(t)&&r.reverse()),this.pushStack(r)}}));var Y=/[^\x20\t\r\n\f]+/g;function Z(t){var e={};return k.each(t.match(Y)||[],(function(t,i){e[i]=!0})),e}function K(t){return t}function J(t){throw t}function Q(t,e,i,n){var r;try{t&&x(r=t.promise)?r.call(t).done(e).fail(i):t&&x(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}k.Callbacks=function(t){t="string"===typeof t?Z(t):k.extend({},t);var e,i,n,r,s=[],o=[],a=-1,l=function(){for(r=r||t.once,n=e=!0;o.length;a=-1){i=o.shift();while(++a<s.length)!1===s[a].apply(i[0],i[1])&&t.stopOnFalse&&(a=s.length,i=!1)}t.memory||(i=!1),e=!1,r&&(s=i?[]:"")},c={add:function(){return s&&(i&&!e&&(a=s.length-1,o.push(i)),function e(i){k.each(i,(function(i,n){x(n)?t.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==S(n)&&e(n)}))}(arguments),i&&!e&&l()),this},remove:function(){return k.each(arguments,(function(t,e){var i;while((i=k.inArray(e,s,i))>-1)s.splice(i,1),i<=a&&a--})),this},has:function(t){return t?k.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=o=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=o=[],i||e||(s=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=i||[],i=[t,i.slice?i.slice():i],o.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},k.extend({Deferred:function(t){var e=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return n.then(null,t)},pipe:function(){var t=arguments;return k.Deferred((function(i){k.each(e,(function(e,n){var r=x(t[n[4]])&&t[n[4]];s[n[1]]((function(){var t=r&&r.apply(this,arguments);t&&x(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,n){var s=0;function o(t,e,i,n){return function(){var a=this,l=arguments,c=function(){var r,c;if(!(t<s)){if(r=i.apply(a,l),r===e.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"===typeof r||"function"===typeof r)&&r.then,x(c)?n?c.call(r,o(s,e,K,n),o(s,e,J,n)):(s++,c.call(r,o(s,e,K,n),o(s,e,J,n),o(s,e,K,e.notifyWith))):(i!==K&&(a=void 0,l=[r]),(n||e.resolveWith)(a,l))}},h=n?c:function(){try{c()}catch(n){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(n,h.error),t+1>=s&&(i!==J&&(a=void 0,l=[n]),e.rejectWith(a,l))}};t?h():(k.Deferred.getErrorHook?h.error=k.Deferred.getErrorHook():k.Deferred.getStackHook&&(h.error=k.Deferred.getStackHook()),r.setTimeout(h))}}return k.Deferred((function(r){e[0][3].add(o(0,r,x(n)?n:K,r.notifyWith)),e[1][3].add(o(0,r,x(t)?t:K)),e[2][3].add(o(0,r,x(i)?i:J))})).promise()},promise:function(t){return null!=t?k.extend(t,n):n}},s={};return k.each(e,(function(t,r){var o=r[2],a=r[5];n[r[1]]=o.add,a&&o.add((function(){i=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(r[3].fire),s[r[0]]=function(){return s[r[0]+"With"](this===s?void 0:this,arguments),this},s[r[0]+"With"]=o.fireWith})),n.promise(s),t&&t.call(s,s),s},when:function(t){var e=arguments.length,i=e,n=Array(i),r=l.call(arguments),s=k.Deferred(),o=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?l.call(arguments):i,--e||s.resolveWith(n,r)}};if(e<=1&&(Q(t,s.done(o(i)).resolve,s.reject,!e),"pending"===s.state()||x(r[i]&&r[i].then)))return s.then();while(i--)Q(r[i],o(i),s.reject);return s.promise()}});var tt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,e){r.console&&r.console.warn&&t&&tt.test(t.name)&&r.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},k.readyException=function(t){r.setTimeout((function(){throw t}))};var et=k.Deferred();function it(){b.removeEventListener("DOMContentLoaded",it),r.removeEventListener("load",it),k.ready()}k.fn.ready=function(t){return et.then(t).catch((function(t){k.readyException(t)})),this},k.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==t&&--k.readyWait>0||et.resolveWith(b,[k]))}}),k.ready.then=et.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(k.ready):(b.addEventListener("DOMContentLoaded",it),r.addEventListener("load",it));var nt=function(t,e,i,n,r,s,o){var a=0,l=t.length,c=null==i;if("object"===S(i))for(a in r=!0,i)nt(t,e,a,i[a],!0,s,o);else if(void 0!==n&&(r=!0,x(n)||(o=!0),c&&(o?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(k(t),i)})),e))for(;a<l;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return r?t:c?e.call(t):l?e(t[0],i):s},rt=/^-ms-/,st=/-([a-z])/g;function ot(t,e){return e.toUpperCase()}function at(t){return t.replace(rt,"ms-").replace(st,ot)}var lt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function ct(){this.expando=k.expando+ct.uid++}ct.uid=1,ct.prototype={cache:function(t){var e=t[this.expando];return e||(e={},lt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"===typeof e)r[at(e)]=i;else for(n in e)r[at(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][at(e)]},access:function(t,e,i){return void 0===e||e&&"string"===typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){Array.isArray(e)?e=e.map(at):(e=at(e),e=e in n?[e]:e.match(Y)||[]),i=e.length;while(i--)delete n[e[i]]}(void 0===e||k.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var ht=new ct,ut=new ct,dt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,pt=/[A-Z]/g;function ft(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:dt.test(t)?JSON.parse(t):t)}function mt(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(pt,"-$&").toLowerCase(),i=t.getAttribute(n),"string"===typeof i){try{i=ft(i)}catch(r){}ut.set(t,e,i)}else i=void 0;return i}k.extend({hasData:function(t){return ut.hasData(t)||ht.hasData(t)},data:function(t,e,i){return ut.access(t,e,i)},removeData:function(t,e){ut.remove(t,e)},_data:function(t,e,i){return ht.access(t,e,i)},_removeData:function(t,e){ht.remove(t,e)}}),k.fn.extend({data:function(t,e){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(r=ut.get(s),1===s.nodeType&&!ht.get(s,"hasDataAttrs"))){i=o.length;while(i--)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=at(n.slice(5)),mt(s,n,r[n])));ht.set(s,"hasDataAttrs",!0)}return r}return"object"===typeof t?this.each((function(){ut.set(this,t)})):nt(this,(function(e){var i;if(s&&void 0===e)return i=ut.get(s,t),void 0!==i?i:(i=mt(s,t),void 0!==i?i:void 0);this.each((function(){ut.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){ut.remove(this,t)}))}}),k.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=ht.get(t,e),i&&(!n||Array.isArray(i)?n=ht.access(t,e,k.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=k.queue(t,e),n=i.length,r=i.shift(),s=k._queueHooks(t,e),o=function(){k.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete s.stop,r.call(t,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return ht.get(t,i)||ht.access(t,i,{empty:k.Callbacks("once memory").add((function(){ht.remove(t,[e+"queue",i])}))})}}),k.fn.extend({queue:function(t,e){var i=2;return"string"!==typeof t&&(e=t,t="fx",i--),arguments.length<i?k.queue(this[0],t):void 0===e?this:this.each((function(){var i=k.queue(this,t,e);k._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&k.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){k.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=k.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};"string"!==typeof t&&(e=t,t=void 0),t=t||"fx";while(o--)i=ht.get(s[o],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var gt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,yt=new RegExp("^(?:([+-])=|)("+gt+")([a-z%]*)$","i"),xt=["Top","Right","Bottom","Left"],vt=b.documentElement,bt=function(t){return k.contains(t.ownerDocument,t)},_t={composed:!0};vt.getRootNode&&(bt=function(t){return k.contains(t.ownerDocument,t)||t.getRootNode(_t)===t.ownerDocument});var wt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&bt(t)&&"none"===k.css(t,"display")};function St(t,e,i,n){var r,s,o=20,a=n?function(){return n.cur()}:function(){return k.css(t,e,"")},l=a(),c=i&&i[3]||(k.cssNumber[e]?"":"px"),h=t.nodeType&&(k.cssNumber[e]||"px"!==c&&+l)&&yt.exec(k.css(t,e));if(h&&h[3]!==c){l/=2,c=c||h[3],h=+l||1;while(o--)k.style(t,e,h+c),(1-s)*(1-(s=a()/l||.5))<=0&&(o=0),h/=s;h*=2,k.style(t,e,h+c),i=i||[]}return i&&(h=+h||+l||0,r=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=h,n.end=r)),r}var Ct={};function Tt(t){var e,i=t.ownerDocument,n=t.nodeName,r=Ct[n];return r||(e=i.body.appendChild(i.createElement(n)),r=k.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Ct[n]=r,r)}function kt(t,e){for(var i,n,r=[],s=0,o=t.length;s<o;s++)n=t[s],n.style&&(i=n.style.display,e?("none"===i&&(r[s]=ht.get(n,"display")||null,r[s]||(n.style.display="")),""===n.style.display&&wt(n)&&(r[s]=Tt(n))):"none"!==i&&(r[s]="none",ht.set(n,"display",i)));for(s=0;s<o;s++)null!=r[s]&&(t[s].style.display=r[s]);return t}k.fn.extend({show:function(){return kt(this,!0)},hide:function(){return kt(this)},toggle:function(t){return"boolean"===typeof t?t?this.show():this.hide():this.each((function(){wt(this)?k(this).show():k(this).hide()}))}});var At=/^(?:checkbox|radio)$/i,It=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Mt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var t=b.createDocumentFragment(),e=t.appendChild(b.createElement("div")),i=b.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),y.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",y.option=!!e.lastChild})();var Pt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Et(t,e){var i;return i="undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!==typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&I(t,e)?k.merge([t],i):i}function Dt(t,e){for(var i=0,n=t.length;i<n;i++)ht.set(t[i],"globalEval",!e||ht.get(e[i],"globalEval"))}Pt.tbody=Pt.tfoot=Pt.colgroup=Pt.caption=Pt.thead,Pt.th=Pt.td,y.option||(Pt.optgroup=Pt.option=[1,"<select multiple='multiple'>","</select>"]);var Lt=/<|&#?\w+;/;function zt(t,e,i,n,r){for(var s,o,a,l,c,h,u=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if(s=t[p],s||0===s)if("object"===S(s))k.merge(d,s.nodeType?[s]:s);else if(Lt.test(s)){o=o||u.appendChild(e.createElement("div")),a=(It.exec(s)||["",""])[1].toLowerCase(),l=Pt[a]||Pt._default,o.innerHTML=l[1]+k.htmlPrefilter(s)+l[2],h=l[0];while(h--)o=o.lastChild;k.merge(d,o.childNodes),o=u.firstChild,o.textContent=""}else d.push(e.createTextNode(s));u.textContent="",p=0;while(s=d[p++])if(n&&k.inArray(s,n)>-1)r&&r.push(s);else if(c=bt(s),o=Et(u.appendChild(s),"script"),c&&Dt(o),i){h=0;while(s=o[h++])Mt.test(s.type||"")&&i.push(s)}return u}var Ot=/^([^.]*)(?:\.(.+)|)/;function Ft(){return!0}function Rt(){return!1}function Bt(t,e,i,n,r,s){var o,a;if("object"===typeof e){for(a in"string"!==typeof i&&(n=n||i,i=void 0),e)Bt(t,a,i,n,e[a],s);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"===typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=Rt;else if(!r)return t;return 1===s&&(o=r,r=function(t){return k().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=k.guid++)),t.each((function(){k.event.add(this,e,r,n,i)}))}function Nt(t,e,i){i?(ht.set(t,e,!1),k.event.add(t,e,{namespace:!1,handler:function(t){var i,n=ht.get(this,e);if(1&t.isTrigger&&this[e]){if(n)(k.event.special[e]||{}).delegateType&&t.stopPropagation();else if(n=l.call(arguments),ht.set(this,e,n),this[e](),i=ht.get(this,e),ht.set(this,e,!1),n!==i)return t.stopImmediatePropagation(),t.preventDefault(),i}else n&&(ht.set(this,e,k.event.trigger(n[0],n.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=Ft)}})):void 0===ht.get(t,e)&&k.event.add(t,e,Ft)}k.event={global:{},add:function(t,e,i,n,r){var s,o,a,l,c,h,u,d,p,f,m,g=ht.get(t);if(lt(t)){i.handler&&(s=i,i=s.handler,r=s.selector),r&&k.find.matchesSelector(vt,r),i.guid||(i.guid=k.guid++),(l=g.events)||(l=g.events=Object.create(null)),(o=g.handle)||(o=g.handle=function(e){return"undefined"!==typeof k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Y)||[""],c=e.length;while(c--)a=Ot.exec(e[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(u=k.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=k.event.special[p]||{},h=k.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:f.join(".")},s),(d=l[p])||(d=l[p]=[],d.delegateCount=0,u.setup&&!1!==u.setup.call(t,n,f,o)||t.addEventListener&&t.addEventListener(p,o)),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),k.event.global[p]=!0)}},remove:function(t,e,i,n,r){var s,o,a,l,c,h,u,d,p,f,m,g=ht.hasData(t)&&ht.get(t);if(g&&(l=g.events)){e=(e||"").match(Y)||[""],c=e.length;while(c--)if(a=Ot.exec(e[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){u=k.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,d=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;while(s--)h=d[s],!r&&m!==h.origType||i&&i.guid!==h.guid||a&&!a.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(d.splice(s,1),h.selector&&d.delegateCount--,u.remove&&u.remove.call(t,h));o&&!d.length&&(u.teardown&&!1!==u.teardown.call(t,f,g.handle)||k.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)k.event.remove(t,p+e[c],i,n,!0);k.isEmptyObject(l)&&ht.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,s,o,a=new Array(arguments.length),l=k.event.fix(t),c=(ht.get(this,"events")||Object.create(null))[l.type]||[],h=k.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,l)){o=k.event.handlers.call(this,l,c),e=0;while((r=o[e++])&&!l.isPropagationStopped()){l.currentTarget=r.elem,i=0;while((s=r.handlers[i++])&&!l.isImmediatePropagationStopped())l.rnamespace&&!1!==s.namespace&&!l.rnamespace.test(s.namespace)||(l.handleObj=s,l.data=s.data,n=((k.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a),void 0!==n&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()))}return h.postDispatch&&h.postDispatch.call(this,l),l.result}},handlers:function(t,e){var i,n,r,s,o,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(s=[],o={},i=0;i<l;i++)n=e[i],r=n.selector+" ",void 0===o[r]&&(o[r]=n.needsContext?k(r,this).index(c)>-1:k.find(r,this,null,[c]).length),o[r]&&s.push(n);s.length&&a.push({elem:c,handlers:s})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:x(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return At.test(e.type)&&e.click&&I(e,"input")&&Nt(e,"click",!0),!1},trigger:function(t){var e=this||t;return At.test(e.type)&&e.click&&I(e,"input")&&Nt(e,"click"),!0},_default:function(t){var e=t.target;return At.test(e.type)&&e.click&&I(e,"input")&&ht.get(e,"click")||I(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ft:Rt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Rt,isPropagationStopped:Rt,isImmediatePropagationStopped:Rt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ft,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ft,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ft,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(t,e){function i(t){if(b.documentMode){var i=ht.get(this,"handle"),n=k.event.fix(t);n.type="focusin"===t.type?"focus":"blur",n.isSimulated=!0,i(t),n.target===n.currentTarget&&i(n)}else k.event.simulate(e,t.target,k.event.fix(t))}k.event.special[t]={setup:function(){var n;if(Nt(this,t,!0),!b.documentMode)return!1;n=ht.get(this,e),n||this.addEventListener(e,i),ht.set(this,e,(n||0)+1)},trigger:function(){return Nt(this,t),!0},teardown:function(){var t;if(!b.documentMode)return!1;t=ht.get(this,e)-1,t?ht.set(this,e,t):(this.removeEventListener(e,i),ht.remove(this,e))},_default:function(e){return ht.get(e.target,t)},delegateType:e},k.event.special[e]={setup:function(){var n=this.ownerDocument||this.document||this,r=b.documentMode?this:n,s=ht.get(r,e);s||(b.documentMode?this.addEventListener(e,i):n.addEventListener(t,i,!0)),ht.set(r,e,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,r=b.documentMode?this:n,s=ht.get(r,e)-1;s?ht.set(r,e,s):(b.documentMode?this.removeEventListener(e,i):n.removeEventListener(t,i,!0),ht.remove(r,e))}}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){k.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,s=t.handleObj;return r&&(r===n||k.contains(n,r))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}})),k.fn.extend({on:function(t,e,i,n){return Bt(this,t,e,i,n)},one:function(t,e,i,n){return Bt(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,k(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"===typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!==typeof e||(i=e,e=void 0),!1===i&&(i=Rt),this.each((function(){k.event.remove(this,t,i,e)}))}});var jt=/<script|<style|<link/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function $t(t,e){return I(t,"table")&&I(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function Ht(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function qt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Gt(t,e){var i,n,r,s,o,a,l;if(1===e.nodeType){if(ht.hasData(t)&&(s=ht.get(t),l=s.events,l))for(r in ht.remove(e,"handle events"),l)for(i=0,n=l[r].length;i<n;i++)k.event.add(e,r,l[r][i]);ut.hasData(t)&&(o=ut.access(t),a=k.extend({},o),ut.set(e,a))}}function Wt(t,e){var i=e.nodeName.toLowerCase();"input"===i&&At.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function Xt(t,e,i,n){e=c(e);var r,s,o,a,l,h,u=0,d=t.length,p=d-1,f=e[0],m=x(f);if(m||d>1&&"string"===typeof f&&!y.checkClone&&Ut.test(f))return t.each((function(r){var s=t.eq(r);m&&(e[0]=f.call(this,r,s.html())),Xt(s,e,i,n)}));if(d&&(r=zt(e,t[0].ownerDocument,!1,t,n),s=r.firstChild,1===r.childNodes.length&&(r=s),s||n)){for(o=k.map(Et(r,"script"),Ht),a=o.length;u<d;u++)l=r,u!==p&&(l=k.clone(l,!0,!0),a&&k.merge(o,Et(l,"script"))),i.call(t[u],l,u);if(a)for(h=o[o.length-1].ownerDocument,k.map(o,qt),u=0;u<a;u++)l=o[u],Mt.test(l.type||"")&&!ht.access(l,"globalEval")&&k.contains(h,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?k._evalUrl&&!l.noModule&&k._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},h):w(l.textContent.replace(Vt,""),l,h))}return t}function Yt(t,e,i){for(var n,r=e?k.filter(e,t):t,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||k.cleanData(Et(n)),n.parentNode&&(i&&bt(n)&&Dt(Et(n,"script")),n.parentNode.removeChild(n));return t}k.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var n,r,s,o,a=t.cloneNode(!0),l=bt(t);if(!y.noCloneChecked&&(1===t.nodeType||11===t.nodeType)&&!k.isXMLDoc(t))for(o=Et(a),s=Et(t),n=0,r=s.length;n<r;n++)Wt(s[n],o[n]);if(e)if(i)for(s=s||Et(t),o=o||Et(a),n=0,r=s.length;n<r;n++)Gt(s[n],o[n]);else Gt(t,a);return o=Et(a,"script"),o.length>0&&Dt(o,!l&&Et(t,"script")),a},cleanData:function(t){for(var e,i,n,r=k.event.special,s=0;void 0!==(i=t[s]);s++)if(lt(i)){if(e=i[ht.expando]){if(e.events)for(n in e.events)r[n]?k.event.remove(i,n):k.removeEvent(i,n,e.handle);i[ht.expando]=void 0}i[ut.expando]&&(i[ut.expando]=void 0)}}}),k.fn.extend({detach:function(t){return Yt(this,t,!0)},remove:function(t){return Yt(this,t)},text:function(t){return nt(this,(function(t){return void 0===t?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Xt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=$t(this,t);e.appendChild(t)}}))},prepend:function(){return Xt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=$t(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Xt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Xt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(Et(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return k.clone(this,t,e)}))},html:function(t){return nt(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"===typeof t&&!jt.test(t)&&!Pt[(It.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(k.cleanData(Et(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Xt(this,arguments,(function(e){var i=this.parentNode;k.inArray(this,t)<0&&(k.cleanData(Et(this)),i&&i.replaceChild(e,this))}),t)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){k.fn[t]=function(t){for(var i,n=[],r=k(t),s=r.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),k(r[o])[e](i),h.apply(n,i.get());return this.pushStack(n)}}));var Zt=new RegExp("^("+gt+")(?!px)[a-z%]+$","i"),Kt=/^--/,Jt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=r),e.getComputedStyle(t)},Qt=function(t,e,i){var n,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in n=i.call(t),e)t.style[r]=s[r];return n},te=new RegExp(xt.join("|"),"i");function ee(t,e,i){var n,r,s,o,a=Kt.test(e),l=t.style;return i=i||Jt(t),i&&(o=i.getPropertyValue(e)||i[e],a&&o&&(o=o.replace(L,"$1")||void 0),""!==o||bt(t)||(o=k.style(t,e)),!y.pixelBoxStyles()&&Zt.test(o)&&te.test(e)&&(n=l.width,r=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=o,o=i.width,l.width=n,l.minWidth=r,l.maxWidth=s)),void 0!==o?o+"":o}function ie(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}(function(){function t(){if(h){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",vt.appendChild(c).appendChild(h);var t=r.getComputedStyle(h);i="1%"!==t.top,l=12===e(t.marginLeft),h.style.right="60%",o=36===e(t.right),n=36===e(t.width),h.style.position="absolute",s=12===e(h.offsetWidth/3),vt.removeChild(c),h=null}}function e(t){return Math.round(parseFloat(t))}var i,n,s,o,a,l,c=b.createElement("div"),h=b.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===h.style.backgroundClip,k.extend(y,{boxSizingReliable:function(){return t(),n},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),s},reliableTrDimensions:function(){var t,e,i,n;return null==a&&(t=b.createElement("table"),e=b.createElement("tr"),i=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="box-sizing:content-box;border:1px solid",e.style.height="1px",i.style.height="9px",i.style.display="block",vt.appendChild(t).appendChild(e).appendChild(i),n=r.getComputedStyle(e),a=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===e.offsetHeight,vt.removeChild(t)),a}}))})();var ne=["Webkit","Moz","ms"],re=b.createElement("div").style,se={};function oe(t){var e=t[0].toUpperCase()+t.slice(1),i=ne.length;while(i--)if(t=ne[i]+e,t in re)return t}function ae(t){var e=k.cssProps[t]||se[t];return e||(t in re?t:se[t]=oe(t)||t)}var le=/^(none|table(?!-c[ea]).+)/,ce={position:"absolute",visibility:"hidden",display:"block"},he={letterSpacing:"0",fontWeight:"400"};function ue(t,e,i){var n=yt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function de(t,e,i,n,r,s){var o="width"===e?1:0,a=0,l=0,c=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(c+=k.css(t,i+xt[o],!0,r)),n?("content"===i&&(l-=k.css(t,"padding"+xt[o],!0,r)),"margin"!==i&&(l-=k.css(t,"border"+xt[o]+"Width",!0,r))):(l+=k.css(t,"padding"+xt[o],!0,r),"padding"!==i?l+=k.css(t,"border"+xt[o]+"Width",!0,r):a+=k.css(t,"border"+xt[o]+"Width",!0,r));return!n&&s>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-a-.5))||0),l+c}function pe(t,e,i){var n=Jt(t),r=!y.boxSizingReliable()||i,s=r&&"border-box"===k.css(t,"boxSizing",!1,n),o=s,a=ee(t,e,n),l="offset"+e[0].toUpperCase()+e.slice(1);if(Zt.test(a)){if(!i)return a;a="auto"}return(!y.boxSizingReliable()&&s||!y.reliableTrDimensions()&&I(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===k.css(t,"display",!1,n))&&t.getClientRects().length&&(s="border-box"===k.css(t,"boxSizing",!1,n),o=l in t,o&&(a=t[l])),a=parseFloat(a)||0,a+de(t,e,i||(s?"border":"content"),o,n,a)+"px"}function fe(t,e,i,n,r){return new fe.prototype.init(t,e,i,n,r)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ee(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=at(e),l=Kt.test(e),c=t.style;if(l||(e=ae(a)),o=k.cssHooks[e]||k.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(t,!1,n))?r:c[e];s=typeof i,"string"===s&&(r=yt.exec(i))&&r[1]&&(i=St(t,e,r),s="number"),null!=i&&i===i&&("number"!==s||l||(i+=r&&r[3]||(k.cssNumber[a]?"":"px")),y.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(l?c.setProperty(e,i):c[e]=i))}},css:function(t,e,i,n){var r,s,o,a=at(e),l=Kt.test(e);return l||(e=ae(a)),o=k.cssHooks[e]||k.cssHooks[a],o&&"get"in o&&(r=o.get(t,!0,i)),void 0===r&&(r=ee(t,e,n)),"normal"===r&&e in he&&(r=he[e]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),k.each(["height","width"],(function(t,e){k.cssHooks[e]={get:function(t,i,n){if(i)return!le.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?pe(t,e,n):Qt(t,ce,(function(){return pe(t,e,n)}))},set:function(t,i,n){var r,s=Jt(t),o=!y.scrollboxSize()&&"absolute"===s.position,a=o||n,l=a&&"border-box"===k.css(t,"boxSizing",!1,s),c=n?de(t,e,n,l,s):0;return l&&o&&(c-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-de(t,e,"border",!1,s)-.5)),c&&(r=yt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=k.css(t,e)),ue(t,i,c)}}})),k.cssHooks.marginLeft=ie(y.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(ee(t,"marginLeft"))||t.getBoundingClientRect().left-Qt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(t,e){k.cssHooks[t+e]={expand:function(i){for(var n=0,r={},s="string"===typeof i?i.split(" "):[i];n<4;n++)r[t+xt[n]+e]=s[n]||s[n-2]||s[0];return r}},"margin"!==t&&(k.cssHooks[t+e].set=ue)})),k.fn.extend({css:function(t,e){return nt(this,(function(t,e,i){var n,r,s={},o=0;if(Array.isArray(e)){for(n=Jt(t),r=e.length;o<r;o++)s[e[o]]=k.css(t,e[o],!1,n);return s}return void 0!==i?k.style(t,e,i):k.css(t,e)}),t,e,arguments.length>1)}}),k.Tween=fe,fe.prototype={constructor:fe,init:function(t,e,i,n,r,s){this.elem=t,this.prop=i,this.easing=r||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(k.cssNumber[i]?"":"px")},cur:function(){var t=fe.propHooks[this.prop];return t&&t.get?t.get(this):fe.propHooks._default.get(this)},run:function(t){var e,i=fe.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):fe.propHooks._default.set(this),this}},fe.prototype.init.prototype=fe.prototype,fe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||!k.cssHooks[t.prop]&&null==t.elem.style[ae(t.prop)]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}},fe.propHooks.scrollTop=fe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},k.fx=fe.prototype.init,k.fx.step={};var me,ge,ye=/^(?:toggle|show|hide)$/,xe=/queueHooks$/;function ve(){ge&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ve):r.setTimeout(ve,k.fx.interval),k.fx.tick())}function be(){return r.setTimeout((function(){me=void 0})),me=Date.now()}function _e(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)i=xt[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function we(t,e,i){for(var n,r=(Te.tweeners[e]||[]).concat(Te.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,e,t))return n}function Se(t,e,i){var n,r,s,o,a,l,c,h,u="width"in e||"height"in e,d=this,p={},f=t.style,m=t.nodeType&&wt(t),g=ht.get(t,"fxshow");for(n in i.queue||(o=k._queueHooks(t,"fx"),null==o.unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,d.always((function(){d.always((function(){o.unqueued--,k.queue(t,"fx").length||o.empty.fire()}))}))),e)if(r=e[n],ye.test(r)){if(delete e[n],s=s||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||k.style(t,n)}if(l=!k.isEmptyObject(e),l||!k.isEmptyObject(p))for(n in u&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],c=g&&g.display,null==c&&(c=ht.get(t,"display")),h=k.css(t,"display"),"none"===h&&(c?h=c:(kt([t],!0),c=t.style.display||c,h=k.css(t,"display"),kt([t]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===k.css(t,"float")&&(l||(d.done((function(){f.display=c})),null==c&&(h=f.display,c="none"===h?"":h)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=ht.access(t,"fxshow",{display:c}),s&&(g.hidden=!m),m&&kt([t],!0),d.done((function(){for(n in m||kt([t]),ht.remove(t,"fxshow"),p)k.style(t,n,p[n])}))),l=we(m?g[n]:0,n,d),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}function Ce(t,e){var i,n,r,s,o;for(i in t)if(n=at(i),r=e[n],s=t[i],Array.isArray(s)&&(r=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),o=k.cssHooks[n],o&&"expand"in o)for(i in s=o.expand(s),delete t[n],s)i in t||(t[i]=s[i],e[i]=r);else e[n]=r}function Te(t,e,i){var n,r,s=0,o=Te.prefilters.length,a=k.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=me||be(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,s=1-n,o=0,l=c.tweens.length;o<l;o++)c.tweens[o].run(s);return a.notifyWith(t,[c,s,i]),s<1&&l?i:(l||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},i),originalProperties:e,originalOptions:i,startTime:me||be(),duration:i.duration,tweens:[],createTween:function(e,i){var n=k.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),h=c.props;for(Ce(h,c.opts.specialEasing);s<o;s++)if(n=Te.prefilters[s].call(c,t,h,c.opts),n)return x(n.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return k.map(h,we,c),x(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(Te,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return St(i.elem,t,yt.exec(e),i),i}]},tweener:function(t,e){x(t)?(e=t,t=["*"]):t=t.match(Y);for(var i,n=0,r=t.length;n<r;n++)i=t[n],Te.tweeners[i]=Te.tweeners[i]||[],Te.tweeners[i].unshift(e)},prefilters:[Se],prefilter:function(t,e){e?Te.prefilters.unshift(t):Te.prefilters.push(t)}}),k.speed=function(t,e,i){var n=t&&"object"===typeof t?k.extend({},t):{complete:i||!i&&e||x(t)&&t,duration:t,easing:i&&e||e&&!x(e)&&e};return k.fx.off?n.duration=0:"number"!==typeof n.duration&&(n.duration in k.fx.speeds?n.duration=k.fx.speeds[n.duration]:n.duration=k.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){x(n.old)&&n.old.call(this),n.queue&&k.dequeue(this,n.queue)},n},k.fn.extend({fadeTo:function(t,e,i,n){return this.filter(wt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=k.isEmptyObject(t),s=k.speed(e,i,n),o=function(){var e=Te(this,k.extend({},t),s);(r||ht.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!==typeof t&&(i=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",s=k.timers,o=ht.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&xe.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(i),e=!1,s.splice(r,1));!e&&i||k.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=ht.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],s=k.timers,o=n?n.length:0;for(i.finish=!0,k.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),k.each(["toggle","show","hide"],(function(t,e){var i=k.fn[e];k.fn[e]=function(t,n,r){return null==t||"boolean"===typeof t?i.apply(this,arguments):this.animate(_e(e,!0),t,n,r)}})),k.each({slideDown:_e("show"),slideUp:_e("hide"),slideToggle:_e("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){k.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),k.timers=[],k.fx.tick=function(){var t,e=0,i=k.timers;for(me=Date.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||k.fx.stop(),me=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ge||(ge=!0,ve())},k.fx.stop=function(){ge=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(t,e){return t=k.fx&&k.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,i){var n=r.setTimeout(e,t);i.stop=function(){r.clearTimeout(n)}}))},function(){var t=b.createElement("input"),e=b.createElement("select"),i=e.appendChild(b.createElement("option"));t.type="checkbox",y.checkOn=""!==t.value,y.optSelected=i.selected,t=b.createElement("input"),t.value="t",t.type="radio",y.radioValue="t"===t.value}();var ke,Ae=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return nt(this,k.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){k.removeAttr(this,t)}))}}),k.extend({attr:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"===typeof t.getAttribute?k.prop(t,e,i):(1===s&&k.isXMLDoc(t)||(r=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?ke:void 0)),void 0!==i?null===i?void k.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=k.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&I(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(Y);if(r&&1===t.nodeType)while(i=r[n++])t.removeAttribute(i)}}),ke={set:function(t,e,i){return!1===e?k.removeAttr(t,i):t.setAttribute(i,i),i}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=Ae[e]||k.find.attr;Ae[e]=function(t,e,n){var r,s,o=e.toLowerCase();return n||(s=Ae[o],Ae[o]=r,r=null!=i(t,e,n)?o:null,Ae[o]=s),r}}));var Ie=/^(?:input|select|textarea|button)$/i,Me=/^(?:a|area)$/i;function Pe(t){var e=t.match(Y)||[];return e.join(" ")}function Ee(t){return t.getAttribute&&t.getAttribute("class")||""}function De(t){return Array.isArray(t)?t:"string"===typeof t&&t.match(Y)||[]}k.fn.extend({prop:function(t,e){return nt(this,k.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[k.propFix[t]||t]}))}}),k.extend({prop:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&k.isXMLDoc(t)||(e=k.propFix[e]||e,r=k.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):Ie.test(t.nodeName)||Me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(t){var e,i,n,r,s,o;return x(t)?this.each((function(e){k(this).addClass(t.call(this,e,Ee(this)))})):(e=De(t),e.length?this.each((function(){if(n=Ee(this),i=1===this.nodeType&&" "+Pe(n)+" ",i){for(s=0;s<e.length;s++)r=e[s],i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=Pe(i),n!==o&&this.setAttribute("class",o)}})):this)},removeClass:function(t){var e,i,n,r,s,o;return x(t)?this.each((function(e){k(this).removeClass(t.call(this,e,Ee(this)))})):arguments.length?(e=De(t),e.length?this.each((function(){if(n=Ee(this),i=1===this.nodeType&&" "+Pe(n)+" ",i){for(s=0;s<e.length;s++){r=e[s];while(i.indexOf(" "+r+" ")>-1)i=i.replace(" "+r+" "," ")}o=Pe(i),n!==o&&this.setAttribute("class",o)}})):this):this.attr("class","")},toggleClass:function(t,e){var i,n,r,s,o=typeof t,a="string"===o||Array.isArray(t);return x(t)?this.each((function(i){k(this).toggleClass(t.call(this,i,Ee(this),e),e)})):"boolean"===typeof e&&a?e?this.addClass(t):this.removeClass(t):(i=De(t),this.each((function(){if(a)for(s=k(this),r=0;r<i.length;r++)n=i[r],s.hasClass(n)?s.removeClass(n):s.addClass(n);else void 0!==t&&"boolean"!==o||(n=Ee(this),n&&ht.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===t?"":ht.get(this,"__className__")||""))})))},hasClass:function(t){var e,i,n=0;e=" "+t+" ";while(i=this[n++])if(1===i.nodeType&&(" "+Pe(Ee(i))+" ").indexOf(e)>-1)return!0;return!1}});var Le=/\r/g;k.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=x(t),this.each((function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,k(this).val()):t,null==r?r="":"number"===typeof r?r+="":Array.isArray(r)&&(r=k.map(r,(function(t){return null==t?"":t+""}))),e=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=k.valHooks[r.type]||k.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"===typeof i?i.replace(Le,""):null==i?"":i)):void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:Pe(k.text(t))}},select:{get:function(t){var e,i,n,r=t.options,s=t.selectedIndex,o="select-one"===t.type,a=o?null:[],l=o?s+1:r.length;for(n=s<0?l:o?s:0;n<l;n++)if(i=r[n],(i.selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!I(i.parentNode,"optgroup"))){if(e=k(i).val(),o)return e;a.push(e)}return a},set:function(t,e){var i,n,r=t.options,s=k.makeArray(e),o=r.length;while(o--)n=r[o],(n.selected=k.inArray(k.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=k.inArray(k(t).val(),e)>-1}},y.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var ze=r.location,Oe={guid:Date.now()},Fe=/\?/;k.parseXML=function(t){var e,i;if(!t||"string"!==typeof t)return null;try{e=(new r.DOMParser).parseFromString(t,"text/xml")}catch(n){}return i=e&&e.getElementsByTagName("parsererror")[0],e&&!i||k.error("Invalid XML: "+(i?k.map(i.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Re=/^(?:focusinfocus|focusoutblur)$/,Be=function(t){t.stopPropagation()};k.extend(k.event,{trigger:function(t,e,i,n){var s,o,a,l,c,h,u,d,p=[i||b],m=f.call(t,"type")?t.type:t,g=f.call(t,"namespace")?t.namespace.split("."):[];if(o=d=a=i=i||b,3!==i.nodeType&&8!==i.nodeType&&!Re.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,t=t[k.expando]?t:new k.Event(m,"object"===typeof t&&t),t.isTrigger=n?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:k.makeArray(e,[t]),u=k.event.special[m]||{},n||!u.trigger||!1!==u.trigger.apply(i,e))){if(!n&&!u.noBubble&&!v(i)){for(l=u.delegateType||m,Re.test(l+m)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(i.ownerDocument||b)&&p.push(a.defaultView||a.parentWindow||r)}s=0;while((o=p[s++])&&!t.isPropagationStopped())d=o,t.type=s>1?l:u.bindType||m,h=(ht.get(o,"events")||Object.create(null))[t.type]&&ht.get(o,"handle"),h&&h.apply(o,e),h=c&&o[c],h&&h.apply&&lt(o)&&(t.result=h.apply(o,e),!1===t.result&&t.preventDefault());return t.type=m,n||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(p.pop(),e)||!lt(i)||c&&x(i[m])&&!v(i)&&(a=i[c],a&&(i[c]=null),k.event.triggered=m,t.isPropagationStopped()&&d.addEventListener(m,Be),i[m](),t.isPropagationStopped()&&d.removeEventListener(m,Be),k.event.triggered=void 0,a&&(i[c]=a)),t.result}},simulate:function(t,e,i){var n=k.extend(new k.Event,i,{type:t,isSimulated:!0});k.event.trigger(n,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each((function(){k.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return k.event.trigger(t,e,i,!0)}});var Ne=/\[\]$/,je=/\r?\n/g,Ue=/^(?:submit|button|image|reset|file)$/i,Ve=/^(?:input|select|textarea|keygen)/i;function $e(t,e,i,n){var r;if(Array.isArray(e))k.each(e,(function(e,r){i||Ne.test(t)?n(t,r):$e(t+"["+("object"===typeof r&&null!=r?e:"")+"]",r,i,n)}));else if(i||"object"!==S(e))n(t,e);else for(r in e)$e(t+"["+r+"]",e[r],i,n)}k.param=function(t,e){var i,n=[],r=function(t,e){var i=x(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,(function(){r(this.name,this.value)}));else for(i in t)$e(i,t[i],e,r);return n.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&Ve.test(this.nodeName)&&!Ue.test(t)&&(this.checked||!At.test(t))})).map((function(t,e){var i=k(this).val();return null==i?null:Array.isArray(i)?k.map(i,(function(t){return{name:e.name,value:t.replace(je,"\r\n")}})):{name:e.name,value:i.replace(je,"\r\n")}})).get()}});var He=/%20/g,qe=/#.*$/,Ge=/([?&])_=[^&]*/,We=/^(.*?):[ \t]*([^\r\n]*)$/gm,Xe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ye=/^(?:GET|HEAD)$/,Ze=/^\/\//,Ke={},Je={},Qe="*/".concat("*"),ti=b.createElement("a");function ei(t){return function(e,i){"string"!==typeof e&&(i=e,e="*");var n,r=0,s=e.toLowerCase().match(Y)||[];if(x(i))while(n=s[r++])"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function ii(t,e,i,n){var r={},s=t===Je;function o(a){var l;return r[a]=!0,k.each(t[a]||[],(function(t,a){var c=a(e,i,n);return"string"!==typeof c||s||r[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)})),l}return o(e.dataTypes[0])||!r["*"]&&o("*")}function ni(t,e){var i,n,r=k.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&k.extend(!0,t,n),t}function ri(t,e,i){var n,r,s,o,a=t.contents,l=t.dataTypes;while("*"===l[0])l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}function si(t,e,i,n){var r,s,o,a,l,c={},h=t.dataTypes.slice();if(h[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];s=h.shift();while(s)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=h.shift(),s)if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=c[l+" "+s]||c["* "+s],!o)for(r in c)if(a=r.split(" "),a[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]],o)){!0===o?o=c[r]:!0!==c[r]&&(s=a[0],h.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(u){return{state:"parsererror",error:o?u:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}ti.href=ze.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ze.href,type:"GET",isLocal:Xe.test(ze.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ni(ni(t,k.ajaxSettings),e):ni(k.ajaxSettings,t)},ajaxPrefilter:ei(Ke),ajaxTransport:ei(Je),ajax:function(t,e){"object"===typeof t&&(e=t,t=void 0),e=e||{};var i,n,s,o,a,l,c,h,u,d,p=k.ajaxSetup({},e),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?k(f):k.event,g=k.Deferred(),y=k.Callbacks("once memory"),x=p.statusCode||{},v={},_={},w="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(c){if(!o){o={};while(e=We.exec(s))o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2])}e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(t,e){return null==c&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,v[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)S.always(t[S.status]);else for(e in t)x[e]=[x[e],t[e]];return this},abort:function(t){var e=t||w;return i&&i.abort(e),C(0,e),this}};if(g.promise(S),p.url=((t||p.url||ze.href)+"").replace(Ze,ze.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Y)||[""],null==p.crossDomain){l=b.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=ti.protocol+"//"+ti.host!==l.protocol+"//"+l.host}catch(T){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!==typeof p.data&&(p.data=k.param(p.data,p.traditional)),ii(Ke,p,e,S),c)return S;for(u in h=k.event&&p.global,h&&0===k.active++&&k.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ye.test(p.type),n=p.url.replace(qe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(He,"+")):(d=p.url.slice(n.length),p.data&&(p.processData||"string"===typeof p.data)&&(n+=(Fe.test(n)?"&":"?")+p.data,delete p.data),!1===p.cache&&(n=n.replace(Ge,"$1"),d=(Fe.test(n)?"&":"?")+"_="+Oe.guid+++d),p.url=n+d),p.ifModified&&(k.lastModified[n]&&S.setRequestHeader("If-Modified-Since",k.lastModified[n]),k.etag[n]&&S.setRequestHeader("If-None-Match",k.etag[n])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Qe+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(!1===p.beforeSend.call(f,S,p)||c))return S.abort();if(w="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),i=ii(Je,p,e,S),i){if(S.readyState=1,h&&m.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(a=r.setTimeout((function(){S.abort("timeout")}),p.timeout));try{c=!1,i.send(v,C)}catch(T){if(c)throw T;C(-1,T)}}else C(-1,"No Transport");function C(t,e,o,l){var u,d,v,b,_,w=e;c||(c=!0,a&&r.clearTimeout(a),i=void 0,s=l||"",S.readyState=t>0?4:0,u=t>=200&&t<300||304===t,o&&(b=ri(p,S,o)),!u&&k.inArray("script",p.dataTypes)>-1&&k.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),b=si(p,b,S,u),u?(p.ifModified&&(_=S.getResponseHeader("Last-Modified"),_&&(k.lastModified[n]=_),_=S.getResponseHeader("etag"),_&&(k.etag[n]=_)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=b.state,d=b.data,v=b.error,u=!v)):(v=w,!t&&w||(w="error",t<0&&(t=0))),S.status=t,S.statusText=(e||w)+"",u?g.resolveWith(f,[d,w,S]):g.rejectWith(f,[S,w,v]),S.statusCode(x),x=void 0,h&&m.trigger(u?"ajaxSuccess":"ajaxError",[S,p,u?d:v]),y.fireWith(f,[S,w]),h&&(m.trigger("ajaxComplete",[S,p]),--k.active||k.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,i){return k.get(t,e,i,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],(function(t,e){k[e]=function(t,i,n,r){return x(i)&&(r=r||n,n=i,i=void 0),k.ajax(k.extend({url:t,type:e,dataType:r,data:i,success:n},k.isPlainObject(t)&&t))}})),k.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),k._evalUrl=function(t,e,i){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){k.globalEval(t,e,i)}})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(x(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){var t=this;while(t.firstElementChild)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return x(t)?this.each((function(e){k(this).wrapInner(t.call(this,e))})):this.each((function(){var e=k(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=x(t);return this.each((function(i){k(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(t){}};var oi={0:200,1223:204},ai=k.ajaxSettings.xhr();y.cors=!!ai&&"withCredentials"in ai,y.ajax=ai=!!ai,k.ajaxTransport((function(t){var e,i;if(y.cors||ai&&!t.crossDomain)return{send:function(n,s){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];for(o in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)a.setRequestHeader(o,n[o]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!==typeof a.status?s(0,"error"):s(a.status,a.statusText):s(oi[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!==typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){e&&i()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(l){if(e)throw l}},abort:function(){e&&e()}}})),k.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),k.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(n,r){e=k("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){i&&i()}}}));var li=[],ci=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=li.pop()||k.expando+"_"+Oe.guid++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",(function(t,e,i){var n,s,o,a=!1!==t.jsonp&&(ci.test(t.url)?"url":"string"===typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ci.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=x(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ci,"$1"+n):!1!==t.jsonp&&(t.url+=(Fe.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return o||k.error(n+" was not called"),o[0]},t.dataTypes[0]="json",s=r[n],r[n]=function(){o=arguments},i.always((function(){void 0===s?k(r).removeProp(n):r[n]=s,t[n]&&(t.jsonpCallback=e.jsonpCallback,li.push(n)),o&&x(s)&&s(o[0]),o=s=void 0})),"script"})),y.createHTMLDocument=function(){var t=b.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),k.parseHTML=function(t,e,i){return"string"!==typeof t?[]:("boolean"===typeof e&&(i=e,e=!1),e||(y.createHTMLDocument?(e=b.implementation.createHTMLDocument(""),n=e.createElement("base"),n.href=b.location.href,e.head.appendChild(n)):e=b),r=U.exec(t),s=!i&&[],r?[e.createElement(r[1])]:(r=zt([t],e,s),s&&s.length&&k(s).remove(),k.merge([],r.childNodes)));var n,r,s},k.fn.load=function(t,e,i){var n,r,s,o=this,a=t.indexOf(" ");return a>-1&&(n=Pe(t.slice(a)),t=t.slice(0,a)),x(e)?(i=e,e=void 0):e&&"object"===typeof e&&(r="POST"),o.length>0&&k.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){s=arguments,o.html(n?k("<div>").append(k.parseHTML(t)).find(n):t)})).always(i&&function(t,e){o.each((function(){i.apply(this,s||[t.responseText,e,t])}))}),this},k.expr.pseudos.animated=function(t){return k.grep(k.timers,(function(e){return t===e.elem})).length},k.offset={setOffset:function(t,e,i){var n,r,s,o,a,l,c,h=k.css(t,"position"),u=k(t),d={};"static"===h&&(t.style.position="relative"),a=u.offset(),s=k.css(t,"top"),l=k.css(t,"left"),c=("absolute"===h||"fixed"===h)&&(s+l).indexOf("auto")>-1,c?(n=u.position(),o=n.top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),x(e)&&(e=e.call(t,i,k.extend({},a))),null!=e.top&&(d.top=e.top-a.top+o),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):u.css(d)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){k.offset.setOffset(this,t,e)}));var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===k.css(n,"position"))e=n.getBoundingClientRect();else{e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;while(t&&(t===i.body||t===i.documentElement)&&"static"===k.css(t,"position"))t=t.parentNode;t&&t!==n&&1===t.nodeType&&(r=k(t).offset(),r.top+=k.css(t,"borderTopWidth",!0),r.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-k.css(n,"marginTop",!0),left:e.left-r.left-k.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){var t=this.offsetParent;while(t&&"static"===k.css(t,"position"))t=t.offsetParent;return t||vt}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;k.fn[t]=function(n){return nt(this,(function(t,n,r){var s;if(v(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===r)return s?s[e]:t[n];s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):t[n]=r}),t,n,arguments.length)}})),k.each(["top","left"],(function(t,e){k.cssHooks[e]=ie(y.pixelPosition,(function(t,i){if(i)return i=ee(t,e),Zt.test(i)?k(t).position()[e]+"px":i}))})),k.each({Height:"height",Width:"width"},(function(t,e){k.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){k.fn[n]=function(r,s){var o=arguments.length&&(i||"boolean"!==typeof r),a=i||(!0===r||!0===s?"margin":"border");return nt(this,(function(e,i,r){var s;return v(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?k.css(e,i,a):k.style(e,i,r,a)}),e,o?r:void 0,o)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){k.fn[e]=function(t){return this.on(e,t)}})),k.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.on("mouseenter",t).on("mouseleave",e||t)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){k.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}));var hi=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(t,e){var i,n,r;if("string"===typeof e&&(i=t[e],e=t,t=i),x(t))return n=l.call(arguments,2),r=function(){return t.apply(e||this,n.concat(l.call(arguments)))},r.guid=t.guid=t.guid||k.guid++,r},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=I,k.isFunction=x,k.isWindow=v,k.camelCase=at,k.type=S,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},k.trim=function(t){return null==t?"":(t+"").replace(hi,"$1")},i=[],n=function(){return k}.apply(e,i),void 0===n||(t.exports=n);var ui=r.jQuery,di=r.$;return k.noConflict=function(t){return r.$===k&&(r.$=di),t&&r.jQuery===k&&(r.jQuery=ui),k},"undefined"===typeof s&&(r.jQuery=r.$=k),k}))},3744:function(t,e){"use strict";e.Z=(t,e)=>{const i=t.__vccOpts||t;for(const[n,r]of e)i[n]=r;return i}},9812:function(t,e,i){"use strict";i.r(e),i.d(e,{BaseTransition:function(){return n.P$},BaseTransitionPropsValidators:function(){return n.nJ},Comment:function(){return n.sv},EffectScope:function(){return n.Bj},Fragment:function(){return n.HY},KeepAlive:function(){return n.Ob},ReactiveEffect:function(){return n.qq},Static:function(){return n.qG},Suspense:function(){return n.n4},Teleport:function(){return n.lR},Text:function(){return n.xv},Transition:function(){return n.uT},TransitionGroup:function(){return n.W3},VueElement:function(){return n.a2},assertNumber:function(){return n.Wu},callWithAsyncErrorHandling:function(){return n.$d},callWithErrorHandling:function(){return n.KU},camelize:function(){return n._A},capitalize:function(){return n.kC},cloneVNode:function(){return n.Ho},compatUtils:function(){return n.ry},compile:function(){return r},computed:function(){return n.Fl},createApp:function(){return n.ri},createBlock:function(){return n.j4},createCommentVNode:function(){return n.kq},createElementBlock:function(){return n.iD},createElementVNode:function(){return n._},createHydrationRenderer:function(){return n.Eo},createPropsRestProxy:function(){return n.p1},createRenderer:function(){return n.Us},createSSRApp:function(){return n.vr},createSlots:function(){return n.Nv},createStaticVNode:function(){return n.uE},createTextVNode:function(){return n.Uk},createVNode:function(){return n.Wm},customRef:function(){return n.ZM},defineAsyncComponent:function(){return n.RC},defineComponent:function(){return n.aZ},defineCustomElement:function(){return n.MW},defineEmits:function(){return n.Bz},defineExpose:function(){return n.WY},defineModel:function(){return n.Gn},defineOptions:function(){return n.Yu},defineProps:function(){return n.yb},defineSSRCustomElement:function(){return n.Ah},defineSlots:function(){return n.Wl},devtools:function(){return n.mW},effect:function(){return n.cE},effectScope:function(){return n.B},getCurrentInstance:function(){return n.FN},getCurrentScope:function(){return n.nZ},getTransitionRawChildren:function(){return n.Q6},guardReactiveProps:function(){return n.F4},h:function(){return n.h},handleError:function(){return n.S3},hasInjectionContext:function(){return n.EM},hydrate:function(){return n.ZB},initCustomFormatter:function(){return n.Mr},initDirectivesForSSR:function(){return n.Nd},inject:function(){return n.f3},isMemoSame:function(){return n.nQ},isProxy:function(){return n.X3},isReactive:function(){return n.PG},isReadonly:function(){return n.$y},isRef:function(){return n.dq},isRuntimeOnly:function(){return n.of},isShallow:function(){return n.yT},isVNode:function(){return n.lA},markRaw:function(){return n.Xl},mergeDefaults:function(){return n.u_},mergeModels:function(){return n.Vf},mergeProps:function(){return n.dG},nextTick:function(){return n.Y3},normalizeClass:function(){return n.C_},normalizeProps:function(){return n.vs},normalizeStyle:function(){return n.j5},onActivated:function(){return n.dl},onBeforeMount:function(){return n.wF},onBeforeUnmount:function(){return n.Jd},onBeforeUpdate:function(){return n.Xn},onDeactivated:function(){return n.se},onErrorCaptured:function(){return n.d1},onMounted:function(){return n.bv},onRenderTracked:function(){return n.bT},onRenderTriggered:function(){return n.Yq},onScopeDispose:function(){return n.EB},onServerPrefetch:function(){return n.vl},onUnmounted:function(){return n.SK},onUpdated:function(){return n.ic},openBlock:function(){return n.wg},popScopeId:function(){return n.Cn},provide:function(){return n.JJ},proxyRefs:function(){return n.WL},pushScopeId:function(){return n.dD},queuePostFlushCb:function(){return n.qb},reactive:function(){return n.qj},readonly:function(){return n.OT},ref:function(){return n.iH},registerRuntimeCompiler:function(){return n.Y1},render:function(){return n.sY},renderList:function(){return n.Ko},renderSlot:function(){return n.WI},resolveComponent:function(){return n.up},resolveDirective:function(){return n.Q2},resolveDynamicComponent:function(){return n.LL},resolveFilter:function(){return n.eq},resolveTransitionHooks:function(){return n.U2},setBlockTracking:function(){return n.qZ},setDevtoolsHook:function(){return n.ec},setTransitionHooks:function(){return n.nK},shallowReactive:function(){return n.Um},shallowReadonly:function(){return n.YS},shallowRef:function(){return n.XI},ssrContextKey:function(){return n.Uc},ssrUtils:function(){return n.G},stop:function(){return n.sT},toDisplayString:function(){return n.zw},toHandlerKey:function(){return n.hR},toHandlers:function(){return n.mx},toRaw:function(){return n.IU},toRef:function(){return n.Vh},toRefs:function(){return n.BK},toValue:function(){return n.Tn},transformVNodeArgs:function(){return n.C3},triggerRef:function(){return n.oR},unref:function(){return n.SU},useAttrs:function(){return n.l1},useCssModule:function(){return n.fb},useCssVars:function(){return n.sj},useModel:function(){return n.tT},useSSRContext:function(){return n.Zq},useSlots:function(){return n.Rr},useTransitionState:function(){return n.Y8},vModelCheckbox:function(){return n.e8},vModelDynamic:function(){return n.YZ},vModelRadio:function(){return n.G2},vModelSelect:function(){return n.bM},vModelText:function(){return n.nr},vShow:function(){return n.F8},version:function(){return n.i8},warn:function(){return n.ZK},watch:function(){return n.YP},watchEffect:function(){return n.m0},watchPostEffect:function(){return n.Rh},watchSyncEffect:function(){return n.yX},withAsyncContext:function(){return n.mv},withCtx:function(){return n.w5},withDefaults:function(){return n.b9},withDirectives:function(){return n.wy},withKeys:function(){return n.D2},withMemo:function(){return n.MX},withModifiers:function(){return n.iM},withScopeId:function(){return n.HX}});var n=i(9963);const r=()=>{0}},3907:function(t,e,i){"use strict";i.d(e,{MT:function(){return tt},Se:function(){return nt}});var n=i(6252),r=i(2262);function s(){return o().__VUE_DEVTOOLS_GLOBAL_HOOK__}function o(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof i.g?i.g:{}}const a="function"===typeof Proxy,l="devtools-plugin:setup",c="plugin:settings:set";let h,u;function d(){var t;return void 0!==h||("undefined"!==typeof window&&window.performance?(h=!0,u=window.performance):"undefined"!==typeof i.g&&(null===(t=i.g.perf_hooks)||void 0===t?void 0:t.performance)?(h=!0,u=i.g.perf_hooks.performance):h=!1),h}function p(){return d()?u.now():Date.now()}class f{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const i={};if(t.settings)for(const o in t.settings){const e=t.settings[o];i[o]=e.defaultValue}const n=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},i);try{const t=localStorage.getItem(n),e=JSON.parse(t);Object.assign(r,e)}catch(s){}this.fallbacks={getSettings(){return r},setSettings(t){try{localStorage.setItem(n,JSON.stringify(t))}catch(s){}r=t},now(){return p()}},e&&e.on(c,((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((i=>{this.targetQueue.push({method:e,args:t,resolve:i})}))})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function m(t,e){const i=t,n=o(),r=s(),c=a&&i.enableEarlyProxy;if(!r||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&c){const t=c?new f(i,r):null,s=n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[];s.push({pluginDescriptor:i,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else r.emit(l,t,e)}
/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */
var g="store";function y(t,e){Object.keys(t).forEach((function(i){return e(t[i],i)}))}function x(t){return null!==t&&"object"===typeof t}function v(t){return t&&"function"===typeof t.then}function b(t,e){return function(){return t(e)}}function _(t,e,i){return e.indexOf(t)<0&&(i&&i.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function w(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;C(t,i,[],t._modules.root,!0),S(t,i,e)}function S(t,e,i){var s=t._state,o=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var a=t._wrappedGetters,l={},c={},h=(0,r.B)(!0);h.run((function(){y(a,(function(e,i){l[i]=b(e,t),c[i]=(0,n.Fl)((function(){return l[i]()})),Object.defineProperty(t.getters,i,{get:function(){return c[i].value},enumerable:!0})}))})),t._state=(0,r.qj)({data:e}),t._scope=h,t.strict&&P(t),s&&i&&t._withCommit((function(){s.data=null})),o&&o.stop()}function C(t,e,i,n,r){var s=!i.length,o=t._modules.getNamespace(i);if(n.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=n),!s&&!r){var a=E(e,i.slice(0,-1)),l=i[i.length-1];t._withCommit((function(){a[l]=n.state}))}var c=n.context=T(t,o,i);n.forEachMutation((function(e,i){var n=o+i;A(t,n,e,c)})),n.forEachAction((function(e,i){var n=e.root?i:o+i,r=e.handler||e;I(t,n,r,c)})),n.forEachGetter((function(e,i){var n=o+i;M(t,n,e,c)})),n.forEachChild((function(n,s){C(t,e,i.concat(s),n,r)}))}function T(t,e,i){var n=""===e,r={dispatch:n?t.dispatch:function(i,n,r){var s=D(i,n,r),o=s.payload,a=s.options,l=s.type;return a&&a.root||(l=e+l),t.dispatch(l,o)},commit:n?t.commit:function(i,n,r){var s=D(i,n,r),o=s.payload,a=s.options,l=s.type;a&&a.root||(l=e+l),t.commit(l,o,a)}};return Object.defineProperties(r,{getters:{get:n?function(){return t.getters}:function(){return k(t,e)}},state:{get:function(){return E(t.state,i)}}}),r}function k(t,e){if(!t._makeLocalGettersCache[e]){var i={},n=e.length;Object.keys(t.getters).forEach((function(r){if(r.slice(0,n)===e){var s=r.slice(n);Object.defineProperty(i,s,{get:function(){return t.getters[r]},enumerable:!0})}})),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}function A(t,e,i,n){var r=t._mutations[e]||(t._mutations[e]=[]);r.push((function(e){i.call(t,n.state,e)}))}function I(t,e,i,n){var r=t._actions[e]||(t._actions[e]=[]);r.push((function(e){var r=i.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e);return v(r)||(r=Promise.resolve(r)),t._devtoolHook?r.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):r}))}function M(t,e,i,n){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return i(n.state,n.getters,t.state,t.getters)})}function P(t){(0,n.YP)((function(){return t._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function E(t,e){return e.reduce((function(t,e){return t[e]}),t)}function D(t,e,i){return x(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}var L="vuex bindings",z="vuex:mutations",O="vuex:actions",F="vuex",R=0;function B(t,e){m({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[L]},(function(i){i.addTimelineLayer({id:z,label:"Vuex Mutations",color:N}),i.addTimelineLayer({id:O,label:"Vuex Actions",color:N}),i.addInspector({id:F,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),i.on.getInspectorTree((function(i){if(i.app===t&&i.inspectorId===F)if(i.filter){var n=[];q(n,e._modules.root,i.filter,""),i.rootNodes=n}else i.rootNodes=[H(e._modules.root,"")]})),i.on.getInspectorState((function(i){if(i.app===t&&i.inspectorId===F){var n=i.nodeId;k(e,n),i.state=G(X(e._modules,n),"root"===n?e.getters:e._makeLocalGettersCache,n)}})),i.on.editInspectorState((function(i){if(i.app===t&&i.inspectorId===F){var n=i.nodeId,r=i.path;"root"!==n&&(r=n.split("/").filter(Boolean).concat(r)),e._withCommit((function(){i.set(e._state.data,r,i.state.value)}))}})),e.subscribe((function(t,e){var n={};t.payload&&(n.payload=t.payload),n.state=e,i.notifyComponentUpdate(),i.sendInspectorTree(F),i.sendInspectorState(F),i.addTimelineEvent({layerId:z,event:{time:Date.now(),title:t.type,data:n}})})),e.subscribeAction({before:function(t,e){var n={};t.payload&&(n.payload=t.payload),t._id=R++,t._time=Date.now(),n.state=e,i.addTimelineEvent({layerId:O,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:n}})},after:function(t,e){var n={},r=Date.now()-t._time;n.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},t.payload&&(n.payload=t.payload),n.state=e,i.addTimelineEvent({layerId:O,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:n}})}})}))}var N=8702998,j=6710886,U=16777215,V={label:"namespaced",textColor:U,backgroundColor:j};function $(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function H(t,e){return{id:e||"root",label:$(e),tags:t.namespaced?[V]:[],children:Object.keys(t._children).map((function(i){return H(t._children[i],e+i+"/")}))}}function q(t,e,i,n){n.includes(i)&&t.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:e.namespaced?[V]:[]}),Object.keys(e._children).forEach((function(r){q(t,e._children[r],i,n+r+"/")}))}function G(t,e,i){e="root"===i?e:e[i];var n=Object.keys(e),r={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(n.length){var s=W(e);r.getters=Object.keys(s).map((function(t){return{key:t.endsWith("/")?$(t):t,editable:!1,value:Y((function(){return s[t]}))}}))}return r}function W(t){var e={};return Object.keys(t).forEach((function(i){var n=i.split("/");if(n.length>1){var r=e,s=n.pop();n.forEach((function(t){r[t]||(r[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),r=r[t]._custom.value})),r[s]=Y((function(){return t[i]}))}else e[i]=Y((function(){return t[i]}))})),e}function X(t,e){var i=e.split("/").filter((function(t){return t}));return i.reduce((function(t,n,r){var s=t[n];if(!s)throw new Error('Missing module "'+n+'" for path "'+e+'".');return r===i.length-1?s:s._children}),"root"===e?t:t.root._children)}function Y(t){try{return t()}catch(e){return e}}var Z=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"===typeof i?i():i)||{}},K={namespaced:{configurable:!0}};K.namespaced.get=function(){return!!this._rawModule.namespaced},Z.prototype.addChild=function(t,e){this._children[t]=e},Z.prototype.removeChild=function(t){delete this._children[t]},Z.prototype.getChild=function(t){return this._children[t]},Z.prototype.hasChild=function(t){return t in this._children},Z.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},Z.prototype.forEachChild=function(t){y(this._children,t)},Z.prototype.forEachGetter=function(t){this._rawModule.getters&&y(this._rawModule.getters,t)},Z.prototype.forEachAction=function(t){this._rawModule.actions&&y(this._rawModule.actions,t)},Z.prototype.forEachMutation=function(t){this._rawModule.mutations&&y(this._rawModule.mutations,t)},Object.defineProperties(Z.prototype,K);var J=function(t){this.register([],t,!1)};function Q(t,e,i){if(e.update(i),i.modules)for(var n in i.modules){if(!e.getChild(n))return void 0;Q(t.concat(n),e.getChild(n),i.modules[n])}}J.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},J.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,i){return e=e.getChild(i),t+(e.namespaced?i+"/":"")}),"")},J.prototype.update=function(t){Q([],this.root,t)},J.prototype.register=function(t,e,i){var n=this;void 0===i&&(i=!0);var r=new Z(e,i);if(0===t.length)this.root=r;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],r)}e.modules&&y(e.modules,(function(e,r){n.register(t.concat(r),e,i)}))},J.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],n=e.getChild(i);n&&n.runtime&&e.removeChild(i)},J.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return!!e&&e.hasChild(i)};function tt(t){return new et(t)}var et=function(t){var e=this;void 0===t&&(t={});var i=t.plugins;void 0===i&&(i=[]);var n=t.strict;void 0===n&&(n=!1);var r=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new J(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=r;var s=this,o=this,a=o.dispatch,l=o.commit;this.dispatch=function(t,e){return a.call(s,t,e)},this.commit=function(t,e,i){return l.call(s,t,e,i)},this.strict=n;var c=this._modules.root.state;C(this,c,[],this._modules.root),S(this,c),i.forEach((function(t){return t(e)}))},it={state:{configurable:!0}};et.prototype.install=function(t,e){t.provide(e||g,this),t.config.globalProperties.$store=this;var i=void 0!==this._devtools&&this._devtools;i&&B(t,this)},it.state.get=function(){return this._state.data},it.state.set=function(t){0},et.prototype.commit=function(t,e,i){var n=this,r=D(t,e,i),s=r.type,o=r.payload,a=(r.options,{type:s,payload:o}),l=this._mutations[s];l&&(this._withCommit((function(){l.forEach((function(t){t(o)}))})),this._subscribers.slice().forEach((function(t){return t(a,n.state)})))},et.prototype.dispatch=function(t,e){var i=this,n=D(t,e),r=n.type,s=n.payload,o={type:r,payload:s},a=this._actions[r];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,i.state)}))}catch(c){0}var l=a.length>1?Promise.all(a.map((function(t){return t(s)}))):a[0](s);return new Promise((function(t,e){l.then((function(e){try{i._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,i.state)}))}catch(c){0}t(e)}),(function(t){try{i._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(o,i.state,t)}))}catch(c){0}e(t)}))}))}},et.prototype.subscribe=function(t,e){return _(t,this._subscribers,e)},et.prototype.subscribeAction=function(t,e){var i="function"===typeof t?{before:t}:t;return _(i,this._actionSubscribers,e)},et.prototype.watch=function(t,e,i){var r=this;return(0,n.YP)((function(){return t(r.state,r.getters)}),e,Object.assign({},i))},et.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},et.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),C(this,this.state,t,this._modules.get(t),i.preserveState),S(this,this.state)},et.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var i=E(e.state,t.slice(0,-1));delete i[t[t.length-1]]})),w(this)},et.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},et.prototype.hotUpdate=function(t){this._modules.update(t),w(this,!0)},et.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(et.prototype,it);ot((function(t,e){var i={};return rt(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var n=at(this.$store,"mapState",t);if(!n)return;e=n.context.state,i=n.context.getters}return"function"===typeof r?r.call(this,e,i):e[r]},i[n].vuex=!0})),i})),ot((function(t,e){var i={};return rt(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.commit;if(t){var s=at(this.$store,"mapMutations",t);if(!s)return;n=s.context.commit}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i}));var nt=ot((function(t,e){var i={};return rt(e).forEach((function(e){var n=e.key,r=e.val;r=t+r,i[n]=function(){if(!t||at(this.$store,"mapGetters",t))return this.$store.getters[r]},i[n].vuex=!0})),i}));ot((function(t,e){var i={};return rt(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.dispatch;if(t){var s=at(this.$store,"mapActions",t);if(!s)return;n=s.context.dispatch}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i}));function rt(t){return st(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function st(t){return Array.isArray(t)||x(t)}function ot(t){return function(e,i){return"string"!==typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function at(t,e,i){var n=t._modulesNamespaceMap[i];return n}},5437:function(t,e,i){"use strict";t.exports=i.p+"img/bootstrap-icons.ab15d8fa.svg"},509:function(t,e,i){"use strict";var n=i(9985),r=i(3691),s=TypeError;t.exports=function(t){if(n(t))return t;throw new s(r(t)+" is not a function")}},5027:function(t,e,i){"use strict";var n=i(8999),r=String,s=TypeError;t.exports=function(t){if(n(t))return t;throw new s(r(t)+" is not an object")}},4328:function(t,e,i){"use strict";var n=i(5290),r=i(7578),s=i(6310),o=function(t){return function(e,i,o){var a,l=n(e),c=s(l),h=r(o,c);if(t&&i!==i){while(c>h)if(a=l[h++],a!==a)return!0}else for(;c>h;h++)if((t||h in l)&&l[h]===i)return t||h||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},5649:function(t,e,i){"use strict";var n=i(7697),r=i(2297),s=TypeError,o=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(r(t)&&!o(t,"length").writable)throw new s("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},6648:function(t,e,i){"use strict";var n=i(8844),r=n({}.toString),s=n("".slice);t.exports=function(t){return s(r(t),8,-1)}},8758:function(t,e,i){"use strict";var n=i(6812),r=i(9152),s=i(2474),o=i(2560);t.exports=function(t,e,i){for(var a=r(e),l=o.f,c=s.f,h=0;h<a.length;h++){var u=a[h];n(t,u)||i&&n(i,u)||l(t,u,c(e,u))}}},5773:function(t,e,i){"use strict";var n=i(7697),r=i(2560),s=i(5684);t.exports=n?function(t,e,i){return r.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},5684:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},1880:function(t,e,i){"use strict";var n=i(9985),r=i(2560),s=i(8702),o=i(5014);t.exports=function(t,e,i,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:e;if(n(i)&&s(i,c,a),a.global)l?t[e]=i:o(e,i);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(h){}l?t[e]=i:r.f(t,e,{value:i,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},5014:function(t,e,i){"use strict";var n=i(9037),r=Object.defineProperty;t.exports=function(t,e){try{r(n,t,{value:e,configurable:!0,writable:!0})}catch(i){n[t]=e}return e}},7697:function(t,e,i){"use strict";var n=i(3689);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2659:function(t){"use strict";var e="object"==typeof document&&document.all,i="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:i}},6420:function(t,e,i){"use strict";var n=i(9037),r=i(8999),s=n.document,o=r(s)&&r(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},5565:function(t){"use strict";var e=TypeError,i=9007199254740991;t.exports=function(t){if(t>i)throw e("Maximum allowed index exceeded");return t}},71:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(t,e,i){"use strict";var n,r,s=i(9037),o=i(71),a=s.process,l=s.Deno,c=a&&a.versions||l&&l.version,h=c&&c.v8;h&&(n=h.split("."),r=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!r&&o&&(n=o.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/),n&&(r=+n[1]))),t.exports=r},2739:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(t,e,i){"use strict";var n=i(9037),r=i(2474).f,s=i(5773),o=i(1880),a=i(5014),l=i(8758),c=i(5266);t.exports=function(t,e){var i,h,u,d,p,f,m=t.target,g=t.global,y=t.stat;if(h=g?n:y?n[m]||a(m,{}):(n[m]||{}).prototype,h)for(u in e){if(p=e[u],t.dontCallGetSet?(f=r(h,u),d=f&&f.value):d=h[u],i=c(g?u:m+(y?".":"#")+u,t.forced),!i&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(t.sham||d&&d.sham)&&s(p,"sham",!0),o(h,u,p,t)}}},3689:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},7215:function(t,e,i){"use strict";var n=i(3689);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2615:function(t,e,i){"use strict";var n=i(7215),r=Function.prototype.call;t.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},1236:function(t,e,i){"use strict";var n=i(7697),r=i(6812),s=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,a=r(s,"name"),l=a&&"something"===function(){}.name,c=a&&(!n||n&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},8844:function(t,e,i){"use strict";var n=i(7215),r=Function.prototype,s=r.call,o=n&&r.bind.bind(s,s);t.exports=n?o:function(t){return function(){return s.apply(t,arguments)}}},6058:function(t,e,i){"use strict";var n=i(9037),r=i(9985),s=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(n[t]):n[t]&&n[t][e]}},4849:function(t,e,i){"use strict";var n=i(509),r=i(981);t.exports=function(t,e){var i=t[e];return r(i)?void 0:n(i)}},9037:function(t,e,i){"use strict";var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6812:function(t,e,i){"use strict";var n=i(8844),r=i(690),s=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(r(t),e)}},7248:function(t){"use strict";t.exports={}},8506:function(t,e,i){"use strict";var n=i(7697),r=i(3689),s=i(6420);t.exports=!n&&!r((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},4413:function(t,e,i){"use strict";var n=i(8844),r=i(3689),s=i(6648),o=Object,a=n("".split);t.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===s(t)?a(t,""):o(t)}:o},6738:function(t,e,i){"use strict";var n=i(8844),r=i(9985),s=i(4091),o=n(Function.toString);r(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},618:function(t,e,i){"use strict";var n,r,s,o=i(9834),a=i(9037),l=i(8999),c=i(5773),h=i(6812),u=i(4091),d=i(2713),p=i(7248),f="Object already initialized",m=a.TypeError,g=a.WeakMap,y=function(t){return s(t)?r(t):n(t,{})},x=function(t){return function(e){var i;if(!l(e)||(i=r(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return i}};if(o||u.state){var v=u.state||(u.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,n=function(t,e){if(v.has(t))throw new m(f);return e.facade=t,v.set(t,e),e},r=function(t){return v.get(t)||{}},s=function(t){return v.has(t)}}else{var b=d("state");p[b]=!0,n=function(t,e){if(h(t,b))throw new m(f);return e.facade=t,c(t,b,e),e},r=function(t){return h(t,b)?t[b]:{}},s=function(t){return h(t,b)}}t.exports={set:n,get:r,has:s,enforce:y,getterFor:x}},2297:function(t,e,i){"use strict";var n=i(6648);t.exports=Array.isArray||function(t){return"Array"===n(t)}},9985:function(t,e,i){"use strict";var n=i(2659),r=n.all;t.exports=n.IS_HTMLDDA?function(t){return"function"==typeof t||t===r}:function(t){return"function"==typeof t}},5266:function(t,e,i){"use strict";var n=i(3689),r=i(9985),s=/#|\.prototype\./,o=function(t,e){var i=l[a(t)];return i===h||i!==c&&(r(e)?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",h=o.POLYFILL="P";t.exports=o},981:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},8999:function(t,e,i){"use strict";var n=i(9985),r=i(2659),s=r.all;t.exports=r.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:n(t)||t===s}:function(t){return"object"==typeof t?null!==t:n(t)}},3931:function(t){"use strict";t.exports=!1},734:function(t,e,i){"use strict";var n=i(6058),r=i(9985),s=i(3622),o=i(9525),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return r(e)&&s(e.prototype,a(t))}},6310:function(t,e,i){"use strict";var n=i(3126);t.exports=function(t){return n(t.length)}},8702:function(t,e,i){"use strict";var n=i(8844),r=i(3689),s=i(9985),o=i(6812),a=i(7697),l=i(1236).CONFIGURABLE,c=i(6738),h=i(618),u=h.enforce,d=h.get,p=String,f=Object.defineProperty,m=n("".slice),g=n("".replace),y=n([].join),x=a&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),v=String(String).split("String"),b=t.exports=function(t,e,i){"Symbol("===m(p(e),0,7)&&(e="["+g(p(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!o(t,"name")||l&&t.name!==e)&&(a?f(t,"name",{value:e,configurable:!0}):t.name=e),x&&i&&o(i,"arity")&&t.length!==i.arity&&f(t,"length",{value:i.arity});try{i&&o(i,"constructor")&&i.constructor?a&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var n=u(t);return o(n,"source")||(n.source=y(v,"string"==typeof e?e:"")),t};Function.prototype.toString=b((function(){return s(this)&&d(this).source||c(this)}),"toString")},8828:function(t){"use strict";var e=Math.ceil,i=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?i:e)(n)}},2560:function(t,e,i){"use strict";var n=i(7697),r=i(8506),s=i(5648),o=i(5027),a=i(8360),l=TypeError,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor,u="enumerable",d="configurable",p="writable";e.f=n?s?function(t,e,i){if(o(t),e=a(e),o(i),"function"===typeof t&&"prototype"===e&&"value"in i&&p in i&&!i[p]){var n=h(t,e);n&&n[p]&&(t[e]=i.value,i={configurable:d in i?i[d]:n[d],enumerable:u in i?i[u]:n[u],writable:!1})}return c(t,e,i)}:c:function(t,e,i){if(o(t),e=a(e),o(i),r)try{return c(t,e,i)}catch(n){}if("get"in i||"set"in i)throw new l("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},2474:function(t,e,i){"use strict";var n=i(7697),r=i(2615),s=i(9556),o=i(5684),a=i(5290),l=i(8360),c=i(6812),h=i(8506),u=Object.getOwnPropertyDescriptor;e.f=n?u:function(t,e){if(t=a(t),e=l(e),h)try{return u(t,e)}catch(i){}if(c(t,e))return o(!r(s.f,t,e),t[e])}},2741:function(t,e,i){"use strict";var n=i(4948),r=i(2739),s=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,s)}},7518:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},3622:function(t,e,i){"use strict";var n=i(8844);t.exports=n({}.isPrototypeOf)},4948:function(t,e,i){"use strict";var n=i(8844),r=i(6812),s=i(5290),o=i(4328).indexOf,a=i(7248),l=n([].push);t.exports=function(t,e){var i,n=s(t),c=0,h=[];for(i in n)!r(a,i)&&r(n,i)&&l(h,i);while(e.length>c)r(n,i=e[c++])&&(~o(h,i)||l(h,i));return h}},9556:function(t,e){"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!i.call({1:2},1);e.f=r?function(t){var e=n(this,t);return!!e&&e.enumerable}:i},5899:function(t,e,i){"use strict";var n=i(2615),r=i(9985),s=i(8999),o=TypeError;t.exports=function(t,e){var i,a;if("string"===e&&r(i=t.toString)&&!s(a=n(i,t)))return a;if(r(i=t.valueOf)&&!s(a=n(i,t)))return a;if("string"!==e&&r(i=t.toString)&&!s(a=n(i,t)))return a;throw new o("Can't convert object to primitive value")}},9152:function(t,e,i){"use strict";var n=i(6058),r=i(8844),s=i(2741),o=i(7518),a=i(5027),l=r([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=s.f(a(t)),i=o.f;return i?l(e,i(t)):e}},4684:function(t,e,i){"use strict";var n=i(981),r=TypeError;t.exports=function(t){if(n(t))throw new r("Can't call method on "+t);return t}},2713:function(t,e,i){"use strict";var n=i(3430),r=i(4630),s=n("keys");t.exports=function(t){return s[t]||(s[t]=r(t))}},4091:function(t,e,i){"use strict";var n=i(9037),r=i(5014),s="__core-js_shared__",o=n[s]||r(s,{});t.exports=o},3430:function(t,e,i){"use strict";var n=i(3931),r=i(4091);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.34.0",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"})},146:function(t,e,i){"use strict";var n=i(3615),r=i(3689),s=i(9037),o=s.String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},7578:function(t,e,i){"use strict";var n=i(8700),r=Math.max,s=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):s(i,e)}},5290:function(t,e,i){"use strict";var n=i(4413),r=i(4684);t.exports=function(t){return n(r(t))}},8700:function(t,e,i){"use strict";var n=i(8828);t.exports=function(t){var e=+t;return e!==e||0===e?0:n(e)}},3126:function(t,e,i){"use strict";var n=i(8700),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},690:function(t,e,i){"use strict";var n=i(4684),r=Object;t.exports=function(t){return r(n(t))}},8732:function(t,e,i){"use strict";var n=i(2615),r=i(8999),s=i(734),o=i(4849),a=i(5899),l=i(4201),c=TypeError,h=l("toPrimitive");t.exports=function(t,e){if(!r(t)||s(t))return t;var i,l=o(t,h);if(l){if(void 0===e&&(e="default"),i=n(l,t,e),!r(i)||s(i))return i;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},8360:function(t,e,i){"use strict";var n=i(8732),r=i(734);t.exports=function(t){var e=n(t,"string");return r(e)?e:e+""}},3691:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(i){return"Object"}}},4630:function(t,e,i){"use strict";var n=i(8844),r=0,s=Math.random(),o=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++r+s,36)}},9525:function(t,e,i){"use strict";var n=i(146);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(t,e,i){"use strict";var n=i(7697),r=i(3689);t.exports=n&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9834:function(t,e,i){"use strict";var n=i(9037),r=i(9985),s=n.WeakMap;t.exports=r(s)&&/native code/.test(String(s))},4201:function(t,e,i){"use strict";var n=i(9037),r=i(3430),s=i(6812),o=i(4630),a=i(146),l=i(9525),c=n.Symbol,h=r("wks"),u=l?c["for"]||c:c&&c.withoutSetter||o;t.exports=function(t){return s(h,t)||(h[t]=a&&s(c,t)?c[t]:u("Symbol."+t)),h[t]}},560:function(t,e,i){"use strict";var n=i(9989),r=i(690),s=i(6310),o=i(5649),a=i(5565),l=i(3689),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),h=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},u=c||!h();n({target:"Array",proto:!0,arity:1,forced:u},{push:function(t){var e=r(this),i=s(e),n=arguments.length;a(i+n);for(var l=0;l<n;l++)e[i]=arguments[l],i++;return o(e,i),i}})},4613:function(t){(function(e,i){t.exports=i()})(0,(function(){"use strict";var t,e,i;function n(n,r){if(t)if(e){var s="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",o={};t(o),i=r(o),"undefined"!==typeof window&&(i.workerUrl=window.URL.createObjectURL(new Blob([s],{type:"text/javascript"})))}else e=r;else t=r}n(["exports"],(function(t){function e(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))}function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}"function"==typeof SuppressedError&&SuppressedError;var n=r;function r(t,e){this.x=t,this.y=e}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=i*this.x+e*this.y;return this.x=e*this.x-i*this.y,this.y=n,this},_rotateAround:function(t,e){var i=Math.cos(t),n=Math.sin(t),r=e.y+n*(this.x-e.x)+i*(this.y-e.y);return this.x=e.x+i*(this.x-e.x)-n*(this.y-e.y),this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t};var s=i(n),o=a;function a(t,e,i,n){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=e,this.p2x=i,this.p2y=n}a.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,e){if(void 0===e&&(e=1e-6),t<0)return 0;if(t>1)return 1;for(var i=t,n=0;n<8;n++){var r=this.sampleCurveX(i)-t;if(Math.abs(r)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=r/s}var o=0,a=1;for(i=t,n=0;n<20&&(r=this.sampleCurveX(i),!(Math.abs(r-t)<e));n++)t>r?o=i:a=i,i=.5*(a-o)+o;return i},solve:function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}};var l=i(o);let c,h;function u(){return null==c&&(c="undefined"!=typeof OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),c}function d(){if(null==h&&(h=!1,u())){const t=5,e=new OffscreenCanvas(t,t).getContext("2d",{willReadFrequently:!0});if(e){for(let n=0;n<t*t;n++){const i=4*n;e.fillStyle=`rgb(${i},${i+1},${i+2})`,e.fillRect(n%t,Math.floor(n/t),1,1)}const i=e.getImageData(0,0,t,t).data;for(let e=0;e<t*t*4;e++)if(e%4!=3&&i[e]!==e){h=!0;break}}}return h||!1}function p(t,e,i,n){const r=new l(t,e,i,n);return function(t){return r.solve(t)}}const f=p(.25,.1,.25,1);function m(t,e,i){return Math.min(i,Math.max(e,t))}function g(t,e,i){const n=i-e,r=((t-e)%n+n)%n+e;return r===e?i:r}function y(t,...e){for(const i of e)for(const e in i)t[e]=i[e];return t}let x=1;function v(t,e,i){const n={};for(const r in t)n[r]=e.call(i||this,t[r],r,t);return n}function b(t,e,i){const n={};for(const r in t)e.call(i||this,t[r],r,t)&&(n[r]=t[r]);return n}function _(t){return Array.isArray(t)?t.map(_):"object"==typeof t&&t?v(t,_):t}const w={};function S(t){w[t]||("undefined"!=typeof console&&console.warn(t),w[t]=!0)}function C(t,e,i){return(i.y-t.y)*(e.x-t.x)>(e.y-t.y)*(i.x-t.x)}function T(t){let e=0;for(let i,n,r=0,s=t.length,o=s-1;r<s;o=r++)i=t[r],n=t[o],e+=(n.x-i.x)*(i.y+n.y);return e}function k(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}let A=null;function I(t){return"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap}const M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function P(t,i,n,r,s){return e(this,void 0,void 0,(function*(){if("undefined"==typeof VideoFrame)throw new Error("VideoFrame not supported");const e=new VideoFrame(t,{timestamp:0});try{const o=null==e?void 0:e.format;if(!o||!o.startsWith("BGR")&&!o.startsWith("RGB"))throw new Error(`Unrecognized format ${o}`);const a=o.startsWith("BGR"),l=new Uint8ClampedArray(r*s*4);if(yield e.copyTo(l,function(t,e,i,n,r){const s=4*Math.max(-e,0),o=(Math.max(0,i)-i)*n*4+s,a=4*n,l=Math.max(0,e),c=Math.max(0,i);return{rect:{x:l,y:c,width:Math.min(t.width,e+n)-l,height:Math.min(t.height,i+r)-c},layout:[{offset:o,stride:a}]}}(t,i,n,r,s)),a)for(let t=0;t<l.length;t+=4){const e=l[t];l[t]=l[t+2],l[t+2]=e}return l}finally{e.close()}}))}let E,D,L,z;const O={now:"undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(t){const e=requestAnimationFrame(t);return{cancel:()=>cancelAnimationFrame(e)}},getImageData(t,e=0){return this.getImageCanvasContext(t).getImageData(-e,-e,t.width+2*e,t.height+2*e)},getImageCanvasContext(t){const e=window.document.createElement("canvas"),i=e.getContext("2d",{willReadFrequently:!0});if(!i)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,i.drawImage(t,0,0,t.width,t.height),i},resolveURL:t=>(L||(L=document.createElement("a")),L.href=t,L.href),hardwareConcurrency:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==z&&(z=matchMedia("(prefers-reduced-motion: reduce)")),z.matches)}},F={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class R extends Error{constructor(t,e,i,n){super(`AJAXError: ${e} (${t}): ${i}`),this.status=t,this.statusText=e,this.url=i,this.body=n}}const B=k()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href,N=t=>F.REGISTERED_PROTOCOLS[t.substring(0,t.indexOf("://"))];function j(t,e){const i=new AbortController,n=new Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,cache:t.cache,referrer:B(),signal:i.signal});let r=!1,s=!1;return"json"===t.type&&n.headers.set("Accept","application/json"),s||fetch(n).then((i=>i.ok?(i=>{("arrayBuffer"===t.type||"image"===t.type?i.arrayBuffer():"json"===t.type?i.json():i.text()).then((t=>{s||(r=!0,e(null,t,i.headers.get("Cache-Control"),i.headers.get("Expires")))})).catch((t=>{s||e(new Error(t.message))}))})(i):i.blob().then((n=>e(new R(i.status,i.statusText,t.url,n)))))).catch((t=>{20!==t.code&&e(new Error(t.message))})),{cancel:()=>{s=!0,r||i.abort()}}}const U=function(t,e){if(/:\/\//.test(t.url)&&!/^https?:|^file:/.test(t.url)){if(k()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e);if(!k())return(N(t.url)||j)(t,e)}if(!(/^file:/.test(i=t.url)||/^file:/.test(B())&&!/^\w+:/.test(i))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return j(t,e);if(k()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var i;return function(t,e){const i=new XMLHttpRequest;i.open(t.method||"GET",t.url,!0),"arrayBuffer"!==t.type&&"image"!==t.type||(i.responseType="arraybuffer");for(const n in t.headers)i.setRequestHeader(n,t.headers[n]);return"json"===t.type&&(i.responseType="text",i.setRequestHeader("Accept","application/json")),i.withCredentials="include"===t.credentials,i.onerror=()=>{e(new Error(i.statusText))},i.onload=()=>{if((i.status>=200&&i.status<300||0===i.status)&&null!==i.response){let n=i.response;if("json"===t.type)try{n=JSON.parse(i.response)}catch(t){return e(t)}e(null,n,i.getResponseHeader("Cache-Control"),i.getResponseHeader("Expires"))}else{const n=new Blob([i.response],{type:i.getResponseHeader("Content-Type")});e(new R(i.status,i.statusText,t.url,n))}},i.send(t.body),{cancel:()=>i.abort()}}(t,e)},V=function(t,e){return U(y(t,{type:"arrayBuffer"}),e)};function $(t){if(!t||t.indexOf("://")<=0||0===t.indexOf("data:image/")||0===t.indexOf("blob:"))return!0;const e=new URL(t),i=window.location;return e.protocol===i.protocol&&e.host===i.host}function H(t,e,i){i[t]&&-1!==i[t].indexOf(e)||(i[t]=i[t]||[],i[t].push(e))}function q(t,e,i){if(i&&i[t]){const n=i[t].indexOf(e);-1!==n&&i[t].splice(n,1)}}class G{constructor(t,e={}){y(this,e),this.type=t}}class W extends G{constructor(t,e={}){super("error",y({error:t},e))}}class X{on(t,e){return this._listeners=this._listeners||{},H(t,e,this._listeners),this}off(t,e){return q(t,e,this._listeners),q(t,e,this._oneTimeListeners),this}once(t,e){return e?(this._oneTimeListeners=this._oneTimeListeners||{},H(t,e,this._oneTimeListeners),this):new Promise((e=>this.once(t,e)))}fire(t,e){"string"==typeof t&&(t=new G(t,e||{}));const i=t.type;if(this.listens(i)){t.target=this;const e=this._listeners&&this._listeners[i]?this._listeners[i].slice():[];for(const i of e)i.call(this,t);const n=this._oneTimeListeners&&this._oneTimeListeners[i]?this._oneTimeListeners[i].slice():[];for(const s of n)q(i,s,this._oneTimeListeners),s.call(this,t);const r=this._eventedParent;r&&(y(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),r.fire(t))}else t instanceof W&&console.error(t.error);return this}listens(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)}setEventedParent(t,e){return this._eventedParent=t,this._eventedParentData=e,this}}var Y={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Z=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function K(t,e){const i={};for(const n in t)"ref"!==n&&(i[n]=t[n]);return Z.forEach((t=>{t in e&&(i[t]=e[t])})),i}function J(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!J(t[i],e[i]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!J(t[i],e[i]))return!1;return!0}return t===e}const Q={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function tt(t,e,i){i.push({command:Q.addSource,args:[t,e[t]]})}function et(t,e,i){e.push({command:Q.removeSource,args:[t]}),i[t]=!0}function it(t,e,i,n){et(t,i,n),tt(t,e,i)}function nt(t,e,i){let n;for(n in t[i])if(Object.prototype.hasOwnProperty.call(t[i],n)&&"data"!==n&&!J(t[i][n],e[i][n]))return!1;for(n in e[i])if(Object.prototype.hasOwnProperty.call(e[i],n)&&"data"!==n&&!J(t[i][n],e[i][n]))return!1;return!0}function rt(t,e,i,n,r,s){let o;for(o in e=e||{},t=t||{})Object.prototype.hasOwnProperty.call(t,o)&&(J(t[o],e[o])||i.push({command:s,args:[n,o,e[o],r]}));for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&!Object.prototype.hasOwnProperty.call(t,o)&&(J(t[o],e[o])||i.push({command:s,args:[n,o,e[o],r]}))}function st(t){return t.id}function ot(t,e){return t[e.id]=e,t}class at{constructor(t,e,i,n){this.message=(t?`${t}: `:"")+i,n&&(this.identifier=n),null!=e&&e.__line__&&(this.line=e.__line__)}}function lt(t,...e){for(const i of e)for(const e in i)t[e]=i[e];return t}class ct extends Error{constructor(t,e){super(e),this.message=e,this.key=t}}class ht{constructor(t,e=[]){this.parent=t,this.bindings={};for(const[i,n]of e)this.bindings[i]=n}concat(t){return new ht(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}const ut={kind:"null"},dt={kind:"number"},pt={kind:"string"},ft={kind:"boolean"},mt={kind:"color"},gt={kind:"object"},yt={kind:"value"},xt={kind:"collator"},vt={kind:"formatted"},bt={kind:"padding"},_t={kind:"resolvedImage"},wt={kind:"variableAnchorOffsetCollection"};function St(t,e){return{kind:"array",itemType:t,N:e}}function Ct(t){if("array"===t.kind){const e=Ct(t.itemType);return"number"==typeof t.N?`array<${e}, ${t.N}>`:"value"===t.itemType.kind?"array":`array<${e}>`}return t.kind}const Tt=[ut,dt,pt,ft,mt,vt,gt,St(yt),bt,_t,wt];function kt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!kt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(const t of Tt)if(!kt(t,e))return null}return`Expected ${Ct(t)} but found ${Ct(e)} instead.`}function At(t,e){return e.some((e=>e.kind===t.kind))}function It(t,e){return e.some((e=>"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t))}function Mt(t,e){return"array"===t.kind&&"array"===e.kind?t.itemType.kind===e.itemType.kind&&"number"==typeof t.N:t.kind===e.kind}const Pt=.96422,Et=.82521,Dt=4/29,Lt=6/29,zt=3*Lt*Lt,Ot=Lt*Lt*Lt,Ft=Math.PI/180,Rt=180/Math.PI;function Bt(t){return(t%=360)<0&&(t+=360),t}function Nt([t,e,i,n]){let r,s;const o=Ut((.2225045*(t=jt(t))+.7168786*(e=jt(e))+.0606169*(i=jt(i)))/1);t===e&&e===i?r=s=o:(r=Ut((.4360747*t+.3850649*e+.1430804*i)/Pt),s=Ut((.0139322*t+.0971045*e+.7141733*i)/Et));const a=116*o-16;return[a<0?0:a,500*(r-o),200*(o-s),n]}function jt(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ut(t){return t>Ot?Math.pow(t,1/3):t/zt+Dt}function Vt([t,e,i,n]){let r=(t+16)/116,s=isNaN(e)?r:r+e/500,o=isNaN(i)?r:r-i/200;return r=1*Ht(r),s=Pt*Ht(s),o=Et*Ht(o),[$t(3.1338561*s-1.6168667*r-.4906146*o),$t(-.9787684*s+1.9161415*r+.033454*o),$t(.0719453*s-.2289914*r+1.4052427*o),n]}function $t(t){return(t=t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055)<0?0:t>1?1:t}function Ht(t){return t>Lt?t*t*t:zt*(t-Dt)}function qt(t){return parseInt(t.padEnd(2,t),16)/255}function Gt(t,e){return Wt(e?t/100:t,0,1)}function Wt(t,e,i){return Math.min(Math.max(e,t),i)}function Xt(t){return!t.some(Number.isNaN)}const Yt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Zt{constructor(t,e,i,n=1,r=!0){this.r=t,this.g=e,this.b=i,this.a=n,r||(this.r*=n,this.g*=n,this.b*=n,n||this.overwriteGetter("rgb",[t,e,i,n]))}static parse(t){if(t instanceof Zt)return t;if("string"!=typeof t)return;const e=function(t){if("transparent"===(t=t.toLowerCase().trim()))return[0,0,0,0];const e=Yt[t];if(e){const[t,i,n]=e;return[t/255,i/255,n/255,1]}if(t.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(t)){const e=t.length<6?1:2;let i=1;return[qt(t.slice(i,i+=e)),qt(t.slice(i,i+=e)),qt(t.slice(i,i+=e)),qt(t.slice(i,i+e)||"ff")]}if(t.startsWith("rgb")){const e=t.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(e){const[t,i,n,r,s,o,a,l,c,h,u,d]=e,p=[r||" ",a||" ",h].join("");if("  "===p||"  /"===p||",,"===p||",,,"===p){const t=[n,o,c].join(""),e="%%%"===t?100:""===t?255:0;if(e){const t=[Wt(+i/e,0,1),Wt(+s/e,0,1),Wt(+l/e,0,1),u?Gt(+u,d):1];if(Xt(t))return t}}return}}const i=t.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(i){const[t,e,n,r,s,o,a,l,c]=i,h=[n||" ",s||" ",a].join("");if("  "===h||"  /"===h||",,"===h||",,,"===h){const t=[+e,Wt(+r,0,100),Wt(+o,0,100),l?Gt(+l,c):1];if(Xt(t))return function([t,e,i,n]){function r(n){const r=(n+t/30)%12,s=e*Math.min(i,1-i);return i-s*Math.max(-1,Math.min(r-3,9-r,1))}return t=Bt(t),e/=100,i/=100,[r(0),r(8),r(4),n]}(t)}}}(t);return e?new Zt(...e,!1):void 0}get rgb(){const{r:t,g:e,b:i,a:n}=this,r=n||1/0;return this.overwriteGetter("rgb",[t/r,e/r,i/r,n])}get hcl(){return this.overwriteGetter("hcl",function(t){const[e,i,n,r]=Nt(t),s=Math.sqrt(i*i+n*n);return[Math.round(1e4*s)?Bt(Math.atan2(n,i)*Rt):NaN,s,e,r]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Nt(this.rgb))}overwriteGetter(t,e){return Object.defineProperty(this,t,{value:e}),e}toString(){const[t,e,i,n]=this.rgb;return`rgba(${[t,e,i].map((t=>Math.round(255*t))).join(",")},${n})`}}Zt.black=new Zt(0,0,0,1),Zt.white=new Zt(1,1,1,1),Zt.transparent=new Zt(0,0,0,0),Zt.red=new Zt(1,0,0,1);class Kt{constructor(t,e,i){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=i,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,e){return this.collator.compare(t,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Jt{constructor(t,e,i,n,r){this.text=t,this.image=e,this.scale=i,this.fontStack=n,this.textColor=r}}class Qt{constructor(t){this.sections=t}static fromString(t){return new Qt([new Jt(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((t=>0!==t.text.length||t.image&&0!==t.image.name.length))}static factory(t){return t instanceof Qt?t:Qt.fromString(t)}toString(){return 0===this.sections.length?"":this.sections.map((t=>t.text)).join("")}}class te{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof te)return t;if("number"==typeof t)return new te([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){for(const e of t)if("number"!=typeof e)return;switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]]}return new te(t)}}toString(){return JSON.stringify(this.values)}}const ee=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class ie{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof ie)return t;if(Array.isArray(t)&&!(t.length<1)&&t.length%2==0){for(let e=0;e<t.length;e+=2){const i=t[e],n=t[e+1];if("string"!=typeof i||!ee.has(i))return;if(!Array.isArray(n)||2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1])return}return new ie(t)}}toString(){return JSON.stringify(this.values)}}class ne{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new ne({name:t,available:!1}):null}}function re(t,e,i,n){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof i&&i>=0&&i<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[t,e,i,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof n?[t,e,i,n]:[t,e,i]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function se(t){if(null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t||t instanceof Zt||t instanceof Kt||t instanceof Qt||t instanceof te||t instanceof ie||t instanceof ne)return!0;if(Array.isArray(t)){for(const e of t)if(!se(e))return!1;return!0}if("object"==typeof t){for(const e in t)if(!se(t[e]))return!1;return!0}return!1}function oe(t){if(null===t)return ut;if("string"==typeof t)return pt;if("boolean"==typeof t)return ft;if("number"==typeof t)return dt;if(t instanceof Zt)return mt;if(t instanceof Kt)return xt;if(t instanceof Qt)return vt;if(t instanceof te)return bt;if(t instanceof ie)return wt;if(t instanceof ne)return _t;if(Array.isArray(t)){const e=t.length;let i;for(const n of t){const t=oe(n);if(i){if(i===t)continue;i=yt;break}i=t}return St(i||yt,e)}return gt}function ae(t){const e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof Zt||t instanceof Qt||t instanceof te||t instanceof ie||t instanceof ne?t.toString():JSON.stringify(t)}class le{constructor(t,e){this.type=t,this.value=e}static parse(t,e){if(2!==t.length)return e.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!se(t[1]))return e.error("invalid value");const i=t[1];let n=oe(i);const r=e.expectedType;return"array"!==n.kind||0!==n.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(n=r),new le(n,i)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class ce{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}const he={string:pt,number:dt,boolean:ft,object:gt};class ue{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");let i,n=1;const r=t[0];if("array"===r){let r,s;if(t.length>2){const i=t[1];if("string"!=typeof i||!(i in he)||"object"===i)return e.error('The item type argument of "array" must be one of string, number, boolean',1);r=he[i],n++}else r=yt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);s=t[2],n++}i=St(r,s)}else{if(!he[r])throw new Error(`Types doesn't contain name = ${r}`);i=he[r]}const s=[];for(;n<t.length;n++){const i=e.parse(t[n],n,yt);if(!i)return null;s.push(i)}return new ue(i,s)}evaluate(t){for(let e=0;e<this.args.length;e++){const i=this.args[e].evaluate(t);if(!kt(this.type,oe(i)))return i;if(e===this.args.length-1)throw new ce(`Expected value to be of type ${Ct(this.type)}, but found ${Ct(oe(i))} instead.`)}throw new Error}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}}const de={"to-boolean":ft,"to-color":mt,"to-number":dt,"to-string":pt};class pe{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const i=t[0];if(!de[i])throw new Error(`Can't parse ${i} as it is not part of the known types`);if(("to-boolean"===i||"to-string"===i)&&2!==t.length)return e.error("Expected one argument.");const n=de[i],r=[];for(let s=1;s<t.length;s++){const i=e.parse(t[s],s,yt);if(!i)return null;r.push(i)}return new pe(n,r)}evaluate(t){switch(this.type.kind){case"boolean":return Boolean(this.args[0].evaluate(t));case"color":{let e,i;for(const n of this.args){if(e=n.evaluate(t),i=null,e instanceof Zt)return e;if("string"==typeof e){const i=t.parseColor(e);if(i)return i}else if(Array.isArray(e)&&(i=e.length<3||e.length>4?`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:re(e[0],e[1],e[2],e[3]),!i))return new Zt(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new ce(i||`Could not parse color from value '${"string"==typeof e?e:JSON.stringify(e)}'`)}case"padding":{let e;for(const i of this.args){e=i.evaluate(t);const n=te.parse(e);if(n)return n}throw new ce(`Could not parse padding from value '${"string"==typeof e?e:JSON.stringify(e)}'`)}case"variableAnchorOffsetCollection":{let e;for(const i of this.args){e=i.evaluate(t);const n=ie.parse(e);if(n)return n}throw new ce(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof e?e:JSON.stringify(e)}'`)}case"number":{let e=null;for(const i of this.args){if(e=i.evaluate(t),null===e)return 0;const n=Number(e);if(!isNaN(n))return n}throw new ce(`Could not convert ${JSON.stringify(e)} to number.`)}case"formatted":return Qt.fromString(ae(this.args[0].evaluate(t)));case"resolvedImage":return ne.fromString(ae(this.args[0].evaluate(t)));default:return ae(this.args[0].evaluate(t))}}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}}const fe=["Unknown","Point","LineString","Polygon"];class me{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?fe[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=Zt.parse(t)),e}}class ge{constructor(t,e,i=[],n,r=new ht,s=[]){this.registry=t,this.path=i,this.key=i.map((t=>`[${t}]`)).join(""),this.scope=r,this.errors=s,this.expectedType=n,this._isConstant=e}parse(t,e,i,n,r={}){return e?this.concat(e,i,n)._parse(t,r):this._parse(t,r)}_parse(t,e){function i(t,e,i){return"assert"===i?new ue(e,[t]):"coerce"===i?new pe(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const n=t[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const r=this.registry[n];if(r){let n=r.parse(t,this);if(!n)return null;if(this.expectedType){const t=this.expectedType,r=n.type;if("string"!==t.kind&&"number"!==t.kind&&"boolean"!==t.kind&&"object"!==t.kind&&"array"!==t.kind||"value"!==r.kind)if("color"!==t.kind&&"formatted"!==t.kind&&"resolvedImage"!==t.kind||"value"!==r.kind&&"string"!==r.kind)if("padding"!==t.kind||"value"!==r.kind&&"number"!==r.kind&&"array"!==r.kind)if("variableAnchorOffsetCollection"!==t.kind||"value"!==r.kind&&"array"!==r.kind){if(this.checkSubtype(t,r))return null}else n=i(n,t,e.typeAnnotation||"coerce");else n=i(n,t,e.typeAnnotation||"coerce");else n=i(n,t,e.typeAnnotation||"coerce");else n=i(n,t,e.typeAnnotation||"assert")}if(!(n instanceof le)&&"resolvedImage"!==n.type.kind&&this._isConstant(n)){const e=new me;try{n=new le(n.type,n.evaluate(e))}catch(t){return this.error(t.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,e,i){const n="number"==typeof t?this.path.concat(t):this.path,r=i?this.scope.concat(i):this.scope;return new ge(this.registry,this._isConstant,n,e||null,r,this.errors)}error(t,...e){const i=`${this.key}${e.map((t=>`[${t}]`)).join("")}`;this.errors.push(new ct(i,t))}checkSubtype(t,e){const i=kt(t,e);return i&&this.error(i),i}}class ye{constructor(t,e,i){this.type=xt,this.locale=i,this.caseSensitive=t,this.diacriticSensitive=e}static parse(t,e){if(2!==t.length)return e.error("Expected one argument.");const i=t[1];if("object"!=typeof i||Array.isArray(i))return e.error("Collator options argument must be an object.");const n=e.parse(void 0!==i["case-sensitive"]&&i["case-sensitive"],1,ft);if(!n)return null;const r=e.parse(void 0!==i["diacritic-sensitive"]&&i["diacritic-sensitive"],1,ft);if(!r)return null;let s=null;return i.locale&&(s=e.parse(i.locale,1,pt),!s)?null:new ye(n,r,s)}evaluate(t){return new Kt(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}}const xe=8192;function ve(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function be(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function _e(t,e){const i=(180+t[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,r=Math.pow(2,e.z);return[Math.round(i*r*xe),Math.round(n*r*xe)]}function we(t,e,i){const n=t[0]-e[0],r=t[1]-e[1],s=t[0]-i[0],o=t[1]-i[1];return n*o-s*r==0&&n*s<=0&&r*o<=0}function Se(t,e){let i=!1;for(let o=0,a=e.length;o<a;o++){const a=e[o];for(let e=0,o=a.length;e<o-1;e++){if(we(t,a[e],a[e+1]))return!1;(r=a[e])[1]>(n=t)[1]!=(s=a[e+1])[1]>n[1]&&n[0]<(s[0]-r[0])*(n[1]-r[1])/(s[1]-r[1])+r[0]&&(i=!i)}}var n,r,s;return i}function Ce(t,e){for(let i=0;i<e.length;i++)if(Se(t,e[i]))return!0;return!1}function Te(t,e,i,n){const r=n[0]-i[0],s=n[1]-i[1],o=(t[0]-i[0])*s-r*(t[1]-i[1]),a=(e[0]-i[0])*s-r*(e[1]-i[1]);return o>0&&a<0||o<0&&a>0}function ke(t,e,i){for(const c of i)for(let i=0;i<c.length-1;++i)if(0!=(a=[(o=c[i+1])[0]-(s=c[i])[0],o[1]-s[1]])[0]*(l=[(r=e)[0]-(n=t)[0],r[1]-n[1]])[1]-a[1]*l[0]&&Te(n,r,s,o)&&Te(s,o,n,r))return!0;var n,r,s,o,a,l;return!1}function Ae(t,e){for(let i=0;i<t.length;++i)if(!Se(t[i],e))return!1;for(let i=0;i<t.length-1;++i)if(ke(t[i],t[i+1],e))return!1;return!0}function Ie(t,e){for(let i=0;i<e.length;i++)if(Ae(t,e[i]))return!0;return!1}function Me(t,e,i){const n=[];for(let r=0;r<t.length;r++){const s=[];for(let n=0;n<t[r].length;n++){const o=_e(t[r][n],i);ve(e,o),s.push(o)}n.push(s)}return n}function Pe(t,e,i){const n=[];for(let r=0;r<t.length;r++){const s=Me(t[r],e,i);n.push(s)}return n}function Ee(t,e,i,n){if(t[0]<i[0]||t[0]>i[2]){const e=.5*n;let r=t[0]-i[0]>e?-n:i[0]-t[0]>e?n:0;0===r&&(r=t[0]-i[2]>e?-n:i[2]-t[0]>e?n:0),t[0]+=r}ve(e,t)}function De(t,e,i,n){const r=Math.pow(2,n.z)*xe,s=[n.x*xe,n.y*xe],o=[];for(const a of t)for(const t of a){const n=[t.x+s[0],t.y+s[1]];Ee(n,e,i,r),o.push(n)}return o}function Le(t,e,i,n){const r=Math.pow(2,n.z)*xe,s=[n.x*xe,n.y*xe],o=[];for(const l of t){const t=[];for(const i of l){const n=[i.x+s[0],i.y+s[1]];ve(e,n),t.push(n)}o.push(t)}if(e[2]-e[0]<=r/2){(a=e)[0]=a[1]=1/0,a[2]=a[3]=-1/0;for(const t of o)for(const n of t)Ee(n,e,i,r)}var a;return o}class ze{constructor(t,e){this.type=ft,this.geojson=t,this.geometries=e}static parse(t,e){if(2!==t.length)return e.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(se(t[1])){const e=t[1];if("FeatureCollection"===e.type)for(let t=0;t<e.features.length;++t){const i=e.features[t].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new ze(e,e.features[t].geometry)}else if("Feature"===e.type){const t=e.geometry.type;if("Polygon"===t||"MultiPolygon"===t)return new ze(e,e.geometry)}else if("Polygon"===e.type||"MultiPolygon"===e.type)return new ze(e,e)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){const i=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=t.canonicalID();if("Polygon"===e.type){const s=Me(e.coordinates,n,r),o=De(t.geometry(),i,n,r);if(!be(i,n))return!1;for(const t of o)if(!Se(t,s))return!1}if("MultiPolygon"===e.type){const s=Pe(e.coordinates,n,r),o=De(t.geometry(),i,n,r);if(!be(i,n))return!1;for(const t of o)if(!Ce(t,s))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){const i=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=t.canonicalID();if("Polygon"===e.type){const s=Me(e.coordinates,n,r),o=Le(t.geometry(),i,n,r);if(!be(i,n))return!1;for(const t of o)if(!Ae(t,s))return!1}if("MultiPolygon"===e.type){const s=Pe(e.coordinates,n,r),o=Le(t.geometry(),i,n,r);if(!be(i,n))return!1;for(const t of o)if(!Ie(t,s))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Oe{constructor(t,e){this.type=e.type,this.name=t,this.boundExpression=e}static parse(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");const i=t[1];return e.scope.has(i)?new Oe(i,e.scope.get(i)):e.error(`Unknown variable "${i}". Make sure "${i}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}}class Fe{constructor(t,e,i,n){this.name=t,this.type=e,this._evaluate=i,this.args=n}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}static parse(t,e){const i=t[0],n=Fe.definitions[i];if(!n)return e.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0);const r=Array.isArray(n)?n[0]:n.type,s=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,o=s.filter((([e])=>!Array.isArray(e)||e.length===t.length-1));let a=null;for(const[l,c]of o){a=new ge(e.registry,Re,e.path,null,e.scope);const n=[];let s=!1;for(let e=1;e<t.length;e++){const i=t[e],r=Array.isArray(l)?l[e-1]:l.type,o=a.parse(i,1+n.length,r);if(!o){s=!0;break}n.push(o)}if(!s)if(Array.isArray(l)&&l.length!==n.length)a.error(`Expected ${l.length} arguments, but found ${n.length} instead.`);else{for(let t=0;t<n.length;t++){const e=Array.isArray(l)?l[t]:l.type,i=n[t];a.concat(t+1).checkSubtype(e,i.type)}if(0===a.errors.length)return new Fe(i,r,c,n)}}if(1===o.length)e.errors.push(...a.errors);else{const i=(o.length?o:s).map((([t])=>{return e=t,Array.isArray(e)?`(${e.map(Ct).join(", ")})`:`(${Ct(e.type)}...)`;var e})).join(" | "),n=[];for(let r=1;r<t.length;r++){const i=e.parse(t[r],1+n.length);if(!i)return null;n.push(Ct(i.type))}e.error(`Expected arguments of type ${i}, but found (${n.join(", ")}) instead.`)}return null}static register(t,e){Fe.definitions=e;for(const i in e)t[i]=Fe}}function Re(t){if(t instanceof Oe)return Re(t.boundExpression);if(t instanceof Fe&&"error"===t.name)return!1;if(t instanceof ye)return!1;if(t instanceof ze)return!1;const e=t instanceof pe||t instanceof ue;let i=!0;return t.eachChild((t=>{i=e?i&&Re(t):i&&t instanceof le})),!!i&&Be(t)&&je(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Be(t){if(t instanceof Fe){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof ze)return!1;let e=!0;return t.eachChild((t=>{e&&!Be(t)&&(e=!1)})),e}function Ne(t){if(t instanceof Fe&&"feature-state"===t.name)return!1;let e=!0;return t.eachChild((t=>{e&&!Ne(t)&&(e=!1)})),e}function je(t,e){if(t instanceof Fe&&e.indexOf(t.name)>=0)return!1;let i=!0;return t.eachChild((t=>{i&&!je(t,e)&&(i=!1)})),i}function Ue(t,e){const i=t.length-1;let n,r,s=0,o=i,a=0;for(;s<=o;)if(a=Math.floor((s+o)/2),n=t[a],r=t[a+1],n<=e){if(a===i||e<r)return a;s=a+1}else{if(!(n>e))throw new ce("Input is not a number.");o=a-1}return 0}class Ve{constructor(t,e,i){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(const[n,r]of i)this.labels.push(n),this.outputs.push(r)}static parse(t,e){if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");const i=e.parse(t[1],1,dt);if(!i)return null;const n=[];let r=null;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(let s=1;s<t.length;s+=2){const i=1===s?-1/0:t[s],o=t[s+1],a=s,l=s+1;if("number"!=typeof i)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',a);if(n.length&&n[n.length-1][0]>=i)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',a);const c=e.parse(o,l,r);if(!c)return null;r=r||c.type,n.push([i,c])}return new Ve(r,i,n)}evaluate(t){const e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);const n=this.input.evaluate(t);if(n<=e[0])return i[0].evaluate(t);const r=e.length;return n>=e[r-1]?i[r-1].evaluate(t):i[Ue(e,n)].evaluate(t)}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}}function $e(t,e,i){return t+i*(e-t)}function He(t,e,i){return t.map(((t,n)=>$e(t,e[n],i)))}const qe={number:$e,color:function(t,e,i,n="rgb"){switch(n){case"rgb":{const[n,r,s,o]=He(t.rgb,e.rgb,i);return new Zt(n,r,s,o,!1)}case"hcl":{const[n,r,s,o]=t.hcl,[a,l,c,h]=e.hcl;let u,d;if(isNaN(n)||isNaN(a))isNaN(n)?isNaN(a)?u=NaN:(u=a,1!==s&&0!==s||(d=l)):(u=n,1!==c&&0!==c||(d=r));else{let t=a-n;a>n&&t>180?t-=360:a<n&&n-a>180&&(t+=360),u=n+i*t}const[p,f,m,g]=function([t,e,i,n]){return t=isNaN(t)?0:t*Ft,Vt([i,Math.cos(t)*e,Math.sin(t)*e,n])}([u,null!=d?d:$e(r,l,i),$e(s,c,i),$e(o,h,i)]);return new Zt(p,f,m,g,!1)}case"lab":{const[n,r,s,o]=Vt(He(t.lab,e.lab,i));return new Zt(n,r,s,o,!1)}}},array:He,padding:function(t,e,i){return new te(He(t.values,e.values,i))},variableAnchorOffsetCollection:function(t,e,i){const n=t.values,r=e.values;if(n.length!==r.length)throw new ce(`Cannot interpolate values of different length. from: ${t.toString()}, to: ${e.toString()}`);const s=[];for(let o=0;o<n.length;o+=2){if(n[o]!==r[o])throw new ce(`Cannot interpolate values containing mismatched anchors. from[${o}]: ${n[o]}, to[${o}]: ${r[o]}`);s.push(n[o]);const[t,e]=n[o+1],[a,l]=r[o+1];s.push([$e(t,a,i),$e(e,l,i)])}return new ie(s)}};class Ge{constructor(t,e,i,n,r){this.type=t,this.operator=e,this.interpolation=i,this.input=n,this.labels=[],this.outputs=[];for(const[s,o]of r)this.labels.push(s),this.outputs.push(o)}static interpolationFactor(t,e,i,n){let r=0;if("exponential"===t.name)r=We(e,t.base,i,n);else if("linear"===t.name)r=We(e,1,i,n);else if("cubic-bezier"===t.name){const s=t.controlPoints;r=new l(s[0],s[1],s[2],s[3]).solve(We(e,1,i,n))}return r}static parse(t,e){let[i,n,r,...s]=t;if(!Array.isArray(n)||0===n.length)return e.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){const t=n[1];if("number"!=typeof t)return e.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:t}}else{if("cubic-bezier"!==n[0])return e.error(`Unknown interpolation type ${String(n[0])}`,1,0);{const t=n.slice(1);if(4!==t.length||t.some((t=>"number"!=typeof t||t<0||t>1)))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:t}}}if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(r=e.parse(r,2,dt),!r)return null;const o=[];let a=null;"interpolate-hcl"===i||"interpolate-lab"===i?a=mt:e.expectedType&&"value"!==e.expectedType.kind&&(a=e.expectedType);for(let l=0;l<s.length;l+=2){const t=s[l],i=s[l+1],n=l+3,r=l+4;if("number"!=typeof t)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',n);if(o.length&&o[o.length-1][0]>=t)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',n);const c=e.parse(i,r,a);if(!c)return null;a=a||c.type,o.push([t,c])}return Mt(a,dt)||Mt(a,mt)||Mt(a,bt)||Mt(a,wt)||Mt(a,St(dt))?new Ge(a,i,n,r,o):e.error(`Type ${Ct(a)} is not interpolatable.`)}evaluate(t){const e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);const n=this.input.evaluate(t);if(n<=e[0])return i[0].evaluate(t);const r=e.length;if(n>=e[r-1])return i[r-1].evaluate(t);const s=Ue(e,n),o=Ge.interpolationFactor(this.interpolation,n,e[s],e[s+1]),a=i[s].evaluate(t),l=i[s+1].evaluate(t);switch(this.operator){case"interpolate":return qe[this.type.kind](a,l,o);case"interpolate-hcl":return qe.color(a,l,o,"hcl");case"interpolate-lab":return qe.color(a,l,o,"lab")}}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}}function We(t,e,i,n){const r=n-i,s=t-i;return 0===r?0:1===e?s/r:(Math.pow(e,s)-1)/(Math.pow(e,r)-1)}class Xe{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expectected at least one argument.");let i=null;const n=e.expectedType;n&&"value"!==n.kind&&(i=n);const r=[];for(const o of t.slice(1)){const t=e.parse(o,1+r.length,i,void 0,{typeAnnotation:"omit"});if(!t)return null;i=i||t.type,r.push(t)}if(!i)throw new Error("No output type");const s=n&&r.some((t=>kt(n,t.type)));return new Xe(s?yt:i,r)}evaluate(t){let e,i=null,n=0;for(const r of this.args)if(n++,i=r.evaluate(t),i&&i instanceof ne&&!i.available&&(e||(e=i.name),i=null,n===this.args.length&&(i=e)),null!==i)break;return i}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}}class Ye{constructor(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const e of this.bindings)t(e[1]);t(this.result)}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const i=[];for(let r=1;r<t.length-1;r+=2){const n=t[r];if("string"!=typeof n)return e.error(`Expected string, but found ${typeof n} instead.`,r);if(/[^a-zA-Z0-9_]/.test(n))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);const s=e.parse(t[r+1],r+1);if(!s)return null;i.push([n,s])}const n=e.parse(t[t.length-1],t.length-1,e.expectedType,i);return n?new Ye(i,n):null}outputDefined(){return this.result.outputDefined()}}class Ze{constructor(t,e,i){this.type=t,this.index=e,this.input=i}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const i=e.parse(t[1],1,dt),n=e.parse(t[2],2,St(e.expectedType||yt));return i&&n?new Ze(n.type.itemType,i,n):null}evaluate(t){const e=this.index.evaluate(t),i=this.input.evaluate(t);if(e<0)throw new ce(`Array index out of bounds: ${e} < 0.`);if(e>=i.length)throw new ce(`Array index out of bounds: ${e} > ${i.length-1}.`);if(e!==Math.floor(e))throw new ce(`Array index must be an integer, but found ${e} instead.`);return i[e]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}}class Ke{constructor(t,e){this.type=ft,this.needle=t,this.haystack=e}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const i=e.parse(t[1],1,yt),n=e.parse(t[2],2,yt);return i&&n?At(i.type,[ft,pt,dt,ut,yt])?new Ke(i,n):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ct(i.type)} instead`):null}evaluate(t){const e=this.needle.evaluate(t),i=this.haystack.evaluate(t);if(!i)return!1;if(!It(e,["boolean","string","number","null"]))throw new ce(`Expected first argument to be of type boolean, string, number or null, but found ${Ct(oe(e))} instead.`);if(!It(i,["string","array"]))throw new ce(`Expected second argument to be of type array or string, but found ${Ct(oe(i))} instead.`);return i.indexOf(e)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}}class Je{constructor(t,e,i){this.type=dt,this.needle=t,this.haystack=e,this.fromIndex=i}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const i=e.parse(t[1],1,yt),n=e.parse(t[2],2,yt);if(!i||!n)return null;if(!At(i.type,[ft,pt,dt,ut,yt]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ct(i.type)} instead`);if(4===t.length){const r=e.parse(t[3],3,dt);return r?new Je(i,n,r):null}return new Je(i,n)}evaluate(t){const e=this.needle.evaluate(t),i=this.haystack.evaluate(t);if(!It(e,["boolean","string","number","null"]))throw new ce(`Expected first argument to be of type boolean, string, number or null, but found ${Ct(oe(e))} instead.`);if(!It(i,["string","array"]))throw new ce(`Expected second argument to be of type array or string, but found ${Ct(oe(i))} instead.`);if(this.fromIndex){const n=this.fromIndex.evaluate(t);return i.indexOf(e,n)}return i.indexOf(e)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}}class Qe{constructor(t,e,i,n,r,s){this.inputType=t,this.type=e,this.input=i,this.cases=n,this.outputs=r,this.otherwise=s}static parse(t,e){if(t.length<5)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return e.error("Expected an even number of arguments.");let i,n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);const r={},s=[];for(let l=2;l<t.length-1;l+=2){let o=t[l];const a=t[l+1];Array.isArray(o)||(o=[o]);const c=e.concat(l);if(0===o.length)return c.error("Expected at least one branch label.");for(const t of o){if("number"!=typeof t&&"string"!=typeof t)return c.error("Branch labels must be numbers or strings.");if("number"==typeof t&&Math.abs(t)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof t&&Math.floor(t)!==t)return c.error("Numeric branch labels must be integer values.");if(i){if(c.checkSubtype(i,oe(t)))return null}else i=oe(t);if(void 0!==r[String(t)])return c.error("Branch labels must be unique.");r[String(t)]=s.length}const h=e.parse(a,l,n);if(!h)return null;n=n||h.type,s.push(h)}const o=e.parse(t[1],1,yt);if(!o)return null;const a=e.parse(t[t.length-1],t.length-1,n);return a?"value"!==o.type.kind&&e.concat(1).checkSubtype(i,o.type)?null:new Qe(i,n,o,r,s,a):null}evaluate(t){const e=this.input.evaluate(t);return(oe(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))&&this.otherwise.outputDefined()}}class ti{constructor(t,e,i){this.type=t,this.branches=e,this.otherwise=i}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return e.error("Expected an odd number of arguments.");let i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);const n=[];for(let s=1;s<t.length-1;s+=2){const r=e.parse(t[s],s,ft);if(!r)return null;const o=e.parse(t[s+1],s+1,i);if(!o)return null;n.push([r,o]),i=i||o.type}const r=e.parse(t[t.length-1],t.length-1,i);if(!r)return null;if(!i)throw new Error("Can't infer output type");return new ti(i,n,r)}evaluate(t){for(const[e,i]of this.branches)if(e.evaluate(t))return i.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[e,i]of this.branches)t(e),t(i);t(this.otherwise)}outputDefined(){return this.branches.every((([t,e])=>e.outputDefined()))&&this.otherwise.outputDefined()}}class ei{constructor(t,e,i,n){this.type=t,this.input=e,this.beginIndex=i,this.endIndex=n}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const i=e.parse(t[1],1,yt),n=e.parse(t[2],2,dt);if(!i||!n)return null;if(!At(i.type,[St(yt),pt,yt]))return e.error(`Expected first argument to be of type array or string, but found ${Ct(i.type)} instead`);if(4===t.length){const r=e.parse(t[3],3,dt);return r?new ei(i.type,i,n,r):null}return new ei(i.type,i,n)}evaluate(t){const e=this.input.evaluate(t),i=this.beginIndex.evaluate(t);if(!It(e,["string","array"]))throw new ce(`Expected first argument to be of type array or string, but found ${Ct(oe(e))} instead.`);if(this.endIndex){const n=this.endIndex.evaluate(t);return e.slice(i,n)}return e.slice(i)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}}function ii(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function ni(t,e,i,n){return 0===n.compare(e,i)}function ri(t,e,i){const n="=="!==t&&"!="!==t;return class r{constructor(t,e,i){this.type=ft,this.lhs=t,this.rhs=e,this.collator=i,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}static parse(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");const i=t[0];let s=e.parse(t[1],1,yt);if(!s)return null;if(!ii(i,s.type))return e.concat(1).error(`"${i}" comparisons are not supported for type '${Ct(s.type)}'.`);let o=e.parse(t[2],2,yt);if(!o)return null;if(!ii(i,o.type))return e.concat(2).error(`"${i}" comparisons are not supported for type '${Ct(o.type)}'.`);if(s.type.kind!==o.type.kind&&"value"!==s.type.kind&&"value"!==o.type.kind)return e.error(`Cannot compare types '${Ct(s.type)}' and '${Ct(o.type)}'.`);n&&("value"===s.type.kind&&"value"!==o.type.kind?s=new ue(o.type,[s]):"value"!==s.type.kind&&"value"===o.type.kind&&(o=new ue(s.type,[o])));let a=null;if(4===t.length){if("string"!==s.type.kind&&"string"!==o.type.kind&&"value"!==s.type.kind&&"value"!==o.type.kind)return e.error("Cannot use collator to compare non-string types.");if(a=e.parse(t[3],3,xt),!a)return null}return new r(s,o,a)}evaluate(r){const s=this.lhs.evaluate(r),o=this.rhs.evaluate(r);if(n&&this.hasUntypedArgument){const e=oe(s),i=oe(o);if(e.kind!==i.kind||"string"!==e.kind&&"number"!==e.kind)throw new ce(`Expected arguments for "${t}" to be (string, string) or (number, number), but found (${e.kind}, ${i.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const t=oe(s),i=oe(o);if("string"!==t.kind||"string"!==i.kind)return e(r,s,o)}return this.collator?i(r,s,o,this.collator.evaluate(r)):e(r,s,o)}eachChild(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)}outputDefined(){return!0}}}const si=ri("==",(function(t,e,i){return e===i}),ni),oi=ri("!=",(function(t,e,i){return e!==i}),(function(t,e,i,n){return!ni(0,e,i,n)})),ai=ri("<",(function(t,e,i){return e<i}),(function(t,e,i,n){return n.compare(e,i)<0})),li=ri(">",(function(t,e,i){return e>i}),(function(t,e,i,n){return n.compare(e,i)>0})),ci=ri("<=",(function(t,e,i){return e<=i}),(function(t,e,i,n){return n.compare(e,i)<=0})),hi=ri(">=",(function(t,e,i){return e>=i}),(function(t,e,i,n){return n.compare(e,i)>=0}));class ui{constructor(t,e,i,n,r){this.type=pt,this.number=t,this.locale=e,this.currency=i,this.minFractionDigits=n,this.maxFractionDigits=r}static parse(t,e){if(3!==t.length)return e.error("Expected two arguments.");const i=e.parse(t[1],1,dt);if(!i)return null;const n=t[2];if("object"!=typeof n||Array.isArray(n))return e.error("NumberFormat options argument must be an object.");let r=null;if(n.locale&&(r=e.parse(n.locale,1,pt),!r))return null;let s=null;if(n.currency&&(s=e.parse(n.currency,1,pt),!s))return null;let o=null;if(n["min-fraction-digits"]&&(o=e.parse(n["min-fraction-digits"],1,dt),!o))return null;let a=null;return n["max-fraction-digits"]&&(a=e.parse(n["max-fraction-digits"],1,dt),!a)?null:new ui(i,r,s,o,a)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}}class di{constructor(t){this.type=vt,this.sections=t}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const i=t[1];if(!Array.isArray(i)&&"object"==typeof i)return e.error("First argument must be an image or text section.");const n=[];let r=!1;for(let s=1;s<=t.length-1;++s){const i=t[s];if(r&&"object"==typeof i&&!Array.isArray(i)){r=!1;let t=null;if(i["font-scale"]&&(t=e.parse(i["font-scale"],1,dt),!t))return null;let s=null;if(i["text-font"]&&(s=e.parse(i["text-font"],1,St(pt)),!s))return null;let o=null;if(i["text-color"]&&(o=e.parse(i["text-color"],1,mt),!o))return null;const a=n[n.length-1];a.scale=t,a.font=s,a.textColor=o}else{const i=e.parse(t[s],1,yt);if(!i)return null;const o=i.type.kind;if("string"!==o&&"value"!==o&&"null"!==o&&"resolvedImage"!==o)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,n.push({content:i,scale:null,font:null,textColor:null})}}return new di(n)}evaluate(t){return new Qt(this.sections.map((e=>{const i=e.content.evaluate(t);return oe(i)===_t?new Jt("",i,null,null,null):new Jt(ae(i),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))}eachChild(t){for(const e of this.sections)t(e.content),e.scale&&t(e.scale),e.font&&t(e.font),e.textColor&&t(e.textColor)}outputDefined(){return!1}}class pi{constructor(t){this.type=_t,this.input=t}static parse(t,e){if(2!==t.length)return e.error("Expected two arguments.");const i=e.parse(t[1],1,pt);return i?new pi(i):e.error("No image name provided.")}evaluate(t){const e=this.input.evaluate(t),i=ne.fromString(e);return i&&t.availableImages&&(i.available=t.availableImages.indexOf(e)>-1),i}eachChild(t){t(this.input)}outputDefined(){return!1}}class fi{constructor(t){this.type=dt,this.input=t}static parse(t,e){if(2!==t.length)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const i=e.parse(t[1],1);return i?"array"!==i.type.kind&&"string"!==i.type.kind&&"value"!==i.type.kind?e.error(`Expected argument of type string or array, but found ${Ct(i.type)} instead.`):new fi(i):null}evaluate(t){const e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new ce(`Expected value to be of type string or array, but found ${Ct(oe(e))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}}const mi={"==":si,"!=":oi,">":li,"<":ai,">=":hi,"<=":ci,array:ue,at:Ze,boolean:ue,case:ti,coalesce:Xe,collator:ye,format:di,image:pi,in:Ke,"index-of":Je,interpolate:Ge,"interpolate-hcl":Ge,"interpolate-lab":Ge,length:fi,let:Ye,literal:le,match:Qe,number:ue,"number-format":ui,object:ue,slice:ei,step:Ve,string:ue,"to-boolean":pe,"to-color":pe,"to-number":pe,"to-string":pe,var:Oe,within:ze};function gi(t,[e,i,n,r]){e=e.evaluate(t),i=i.evaluate(t),n=n.evaluate(t);const s=r?r.evaluate(t):1,o=re(e,i,n,s);if(o)throw new ce(o);return new Zt(e/255,i/255,n/255,s,!1)}function yi(t,e){return t in e}function xi(t,e){const i=e[t];return void 0===i?null:i}function vi(t){return{type:t}}function bi(t){return{result:"success",value:t}}function _i(t){return{result:"error",value:t}}function wi(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Si(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Ci(t){return!!t.expression&&t.expression.interpolated}function Ti(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function ki(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function Ai(t){return t}function Ii(t,e){const i="color"===e.type,n=t.stops&&"object"==typeof t.stops[0][0],r=n||!(n||void 0!==t.property),s=t.type||(Ci(e)?"exponential":"interval");if(i||"padding"===e.type){const n=i?Zt.parse:te.parse;(t=lt({},t)).stops&&(t.stops=t.stops.map((t=>[t[0],n(t[1])]))),t.default=n(t.default?t.default:e.default)}if(t.colorSpace&&"rgb"!==(o=t.colorSpace)&&"hcl"!==o&&"lab"!==o)throw new Error(`Unknown color space: "${t.colorSpace}"`);var o;let a,l,c;if("exponential"===s)a=Di;else if("interval"===s)a=Ei;else if("categorical"===s){a=Pi,l=Object.create(null);for(const e of t.stops)l[e[0]]=e[1];c=typeof t.stops[0][0]}else{if("identity"!==s)throw new Error(`Unknown function type "${s}"`);a=Li}if(n){const i={},n=[];for(let e=0;e<t.stops.length;e++){const r=t.stops[e],s=r[0].zoom;void 0===i[s]&&(i[s]={zoom:s,type:t.type,property:t.property,default:t.default,stops:[]},n.push(s)),i[s].stops.push([r[0].value,r[1]])}const r=[];for(const t of n)r.push([i[t].zoom,Ii(i[t],e)]);const s={name:"linear"};return{kind:"composite",interpolationType:s,interpolationFactor:Ge.interpolationFactor.bind(void 0,s),zoomStops:r.map((t=>t[0])),evaluate:({zoom:i},n)=>Di({stops:r,base:t.base},e,i).evaluate(i,n)}}if(r){const i="exponential"===s?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:i,interpolationFactor:Ge.interpolationFactor.bind(void 0,i),zoomStops:t.stops.map((t=>t[0])),evaluate:({zoom:i})=>a(t,e,i,l,c)}}return{kind:"source",evaluate(i,n){const r=n&&n.properties?n.properties[t.property]:void 0;return void 0===r?Mi(t.default,e.default):a(t,e,r,l,c)}}}function Mi(t,e,i){return void 0!==t?t:void 0!==e?e:void 0!==i?i:void 0}function Pi(t,e,i,n,r){return Mi(typeof i===r?n[i]:void 0,t.default,e.default)}function Ei(t,e,i){if("number"!==Ti(i))return Mi(t.default,e.default);const n=t.stops.length;if(1===n)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[n-1][0])return t.stops[n-1][1];const r=Ue(t.stops.map((t=>t[0])),i);return t.stops[r][1]}function Di(t,e,i){const n=void 0!==t.base?t.base:1;if("number"!==Ti(i))return Mi(t.default,e.default);const r=t.stops.length;if(1===r)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[r-1][0])return t.stops[r-1][1];const s=Ue(t.stops.map((t=>t[0])),i),o=function(t,e,i,n){const r=n-i,s=t-i;return 0===r?0:1===e?s/r:(Math.pow(e,s)-1)/(Math.pow(e,r)-1)}(i,n,t.stops[s][0],t.stops[s+1][0]),a=t.stops[s][1],l=t.stops[s+1][1],c=qe[e.type]||Ai;return"function"==typeof a.evaluate?{evaluate(...e){const i=a.evaluate.apply(void 0,e),n=l.evaluate.apply(void 0,e);if(void 0!==i&&void 0!==n)return c(i,n,o,t.colorSpace)}}:c(a,l,o,t.colorSpace)}function Li(t,e,i){switch(e.type){case"color":i=Zt.parse(i);break;case"formatted":i=Qt.fromString(i.toString());break;case"resolvedImage":i=ne.fromString(i.toString());break;case"padding":i=te.parse(i);break;default:Ti(i)===e.type||"enum"===e.type&&e.values[i]||(i=void 0)}return Mi(i,t.default,e.default)}Fe.register(mi,{error:[{kind:"error"},[pt],(t,[e])=>{throw new ce(e.evaluate(t))}],typeof:[pt,[yt],(t,[e])=>Ct(oe(e.evaluate(t)))],"to-rgba":[St(dt,4),[mt],(t,[e])=>{const[i,n,r,s]=e.evaluate(t).rgb;return[255*i,255*n,255*r,s]}],rgb:[mt,[dt,dt,dt],gi],rgba:[mt,[dt,dt,dt,dt],gi],has:{type:ft,overloads:[[[pt],(t,[e])=>yi(e.evaluate(t),t.properties())],[[pt,gt],(t,[e,i])=>yi(e.evaluate(t),i.evaluate(t))]]},get:{type:yt,overloads:[[[pt],(t,[e])=>xi(e.evaluate(t),t.properties())],[[pt,gt],(t,[e,i])=>xi(e.evaluate(t),i.evaluate(t))]]},"feature-state":[yt,[pt],(t,[e])=>xi(e.evaluate(t),t.featureState||{})],properties:[gt,[],t=>t.properties()],"geometry-type":[pt,[],t=>t.geometryType()],id:[yt,[],t=>t.id()],zoom:[dt,[],t=>t.globals.zoom],"heatmap-density":[dt,[],t=>t.globals.heatmapDensity||0],"line-progress":[dt,[],t=>t.globals.lineProgress||0],accumulated:[yt,[],t=>void 0===t.globals.accumulated?null:t.globals.accumulated],"+":[dt,vi(dt),(t,e)=>{let i=0;for(const n of e)i+=n.evaluate(t);return i}],"*":[dt,vi(dt),(t,e)=>{let i=1;for(const n of e)i*=n.evaluate(t);return i}],"-":{type:dt,overloads:[[[dt,dt],(t,[e,i])=>e.evaluate(t)-i.evaluate(t)],[[dt],(t,[e])=>-e.evaluate(t)]]},"/":[dt,[dt,dt],(t,[e,i])=>e.evaluate(t)/i.evaluate(t)],"%":[dt,[dt,dt],(t,[e,i])=>e.evaluate(t)%i.evaluate(t)],ln2:[dt,[],()=>Math.LN2],pi:[dt,[],()=>Math.PI],e:[dt,[],()=>Math.E],"^":[dt,[dt,dt],(t,[e,i])=>Math.pow(e.evaluate(t),i.evaluate(t))],sqrt:[dt,[dt],(t,[e])=>Math.sqrt(e.evaluate(t))],log10:[dt,[dt],(t,[e])=>Math.log(e.evaluate(t))/Math.LN10],ln:[dt,[dt],(t,[e])=>Math.log(e.evaluate(t))],log2:[dt,[dt],(t,[e])=>Math.log(e.evaluate(t))/Math.LN2],sin:[dt,[dt],(t,[e])=>Math.sin(e.evaluate(t))],cos:[dt,[dt],(t,[e])=>Math.cos(e.evaluate(t))],tan:[dt,[dt],(t,[e])=>Math.tan(e.evaluate(t))],asin:[dt,[dt],(t,[e])=>Math.asin(e.evaluate(t))],acos:[dt,[dt],(t,[e])=>Math.acos(e.evaluate(t))],atan:[dt,[dt],(t,[e])=>Math.atan(e.evaluate(t))],min:[dt,vi(dt),(t,e)=>Math.min(...e.map((e=>e.evaluate(t))))],max:[dt,vi(dt),(t,e)=>Math.max(...e.map((e=>e.evaluate(t))))],abs:[dt,[dt],(t,[e])=>Math.abs(e.evaluate(t))],round:[dt,[dt],(t,[e])=>{const i=e.evaluate(t);return i<0?-Math.round(-i):Math.round(i)}],floor:[dt,[dt],(t,[e])=>Math.floor(e.evaluate(t))],ceil:[dt,[dt],(t,[e])=>Math.ceil(e.evaluate(t))],"filter-==":[ft,[pt,yt],(t,[e,i])=>t.properties()[e.value]===i.value],"filter-id-==":[ft,[yt],(t,[e])=>t.id()===e.value],"filter-type-==":[ft,[pt],(t,[e])=>t.geometryType()===e.value],"filter-<":[ft,[pt,yt],(t,[e,i])=>{const n=t.properties()[e.value],r=i.value;return typeof n==typeof r&&n<r}],"filter-id-<":[ft,[yt],(t,[e])=>{const i=t.id(),n=e.value;return typeof i==typeof n&&i<n}],"filter->":[ft,[pt,yt],(t,[e,i])=>{const n=t.properties()[e.value],r=i.value;return typeof n==typeof r&&n>r}],"filter-id->":[ft,[yt],(t,[e])=>{const i=t.id(),n=e.value;return typeof i==typeof n&&i>n}],"filter-<=":[ft,[pt,yt],(t,[e,i])=>{const n=t.properties()[e.value],r=i.value;return typeof n==typeof r&&n<=r}],"filter-id-<=":[ft,[yt],(t,[e])=>{const i=t.id(),n=e.value;return typeof i==typeof n&&i<=n}],"filter->=":[ft,[pt,yt],(t,[e,i])=>{const n=t.properties()[e.value],r=i.value;return typeof n==typeof r&&n>=r}],"filter-id->=":[ft,[yt],(t,[e])=>{const i=t.id(),n=e.value;return typeof i==typeof n&&i>=n}],"filter-has":[ft,[yt],(t,[e])=>e.value in t.properties()],"filter-has-id":[ft,[],t=>null!==t.id()&&void 0!==t.id()],"filter-type-in":[ft,[St(pt)],(t,[e])=>e.value.indexOf(t.geometryType())>=0],"filter-id-in":[ft,[St(yt)],(t,[e])=>e.value.indexOf(t.id())>=0],"filter-in-small":[ft,[pt,St(yt)],(t,[e,i])=>i.value.indexOf(t.properties()[e.value])>=0],"filter-in-large":[ft,[pt,St(yt)],(t,[e,i])=>function(t,e,i,n){for(;i<=n;){const r=i+n>>1;if(e[r]===t)return!0;e[r]>t?n=r-1:i=r+1}return!1}(t.properties()[e.value],i.value,0,i.value.length-1)],all:{type:ft,overloads:[[[ft,ft],(t,[e,i])=>e.evaluate(t)&&i.evaluate(t)],[vi(ft),(t,e)=>{for(const i of e)if(!i.evaluate(t))return!1;return!0}]]},any:{type:ft,overloads:[[[ft,ft],(t,[e,i])=>e.evaluate(t)||i.evaluate(t)],[vi(ft),(t,e)=>{for(const i of e)if(i.evaluate(t))return!0;return!1}]]},"!":[ft,[ft],(t,[e])=>!e.evaluate(t)],"is-supported-script":[ft,[pt],(t,[e])=>{const i=t.globals&&t.globals.isSupportedScript;return!i||i(e.evaluate(t))}],upcase:[pt,[pt],(t,[e])=>e.evaluate(t).toUpperCase()],downcase:[pt,[pt],(t,[e])=>e.evaluate(t).toLowerCase()],concat:[pt,vi(yt),(t,e)=>e.map((e=>ae(e.evaluate(t)))).join("")],"resolved-locale":[pt,[xt],(t,[e])=>e.evaluate(t).resolvedLocale()]});class zi{constructor(t,e){var i;this.expression=t,this._warningHistory={},this._evaluator=new me,this._defaultValue=e?"color"===(i=e).type&&ki(i.default)?new Zt(0,0,0,0):"color"===i.type?Zt.parse(i.default)||null:"padding"===i.type?te.parse(i.default)||null:"variableAnchorOffsetCollection"===i.type?ie.parse(i.default)||null:void 0===i.default?null:i.default:null,this._enumValues=e&&"enum"===e.type?e.values:null}evaluateWithoutErrorHandling(t,e,i,n,r,s){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=i,this._evaluator.canonical=n,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=s,this.expression.evaluate(this._evaluator)}evaluate(t,e,i,n,r,s){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=i||null,this._evaluator.canonical=n,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=s||null;try{const t=this.expression.evaluate(this._evaluator);if(null==t||"number"==typeof t&&t!=t)return this._defaultValue;if(this._enumValues&&!(t in this._enumValues))throw new ce(`Expected value to be one of ${Object.keys(this._enumValues).map((t=>JSON.stringify(t))).join(", ")}, but found ${JSON.stringify(t)} instead.`);return t}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}}}function Oi(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in mi}function Fi(t,e){const i=new ge(mi,Re,[],e?function(t){const e={color:mt,string:pt,number:dt,enum:pt,boolean:ft,formatted:vt,padding:bt,resolvedImage:_t,variableAnchorOffsetCollection:wt};return"array"===t.type?St(e[t.value]||yt,t.length):e[t.type]}(e):void 0),n=i.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return n?bi(new zi(n,e)):_i(i.errors)}class Ri{constructor(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!Ne(e.expression)}evaluateWithoutErrorHandling(t,e,i,n,r,s){return this._styleExpression.evaluateWithoutErrorHandling(t,e,i,n,r,s)}evaluate(t,e,i,n,r,s){return this._styleExpression.evaluate(t,e,i,n,r,s)}}class Bi{constructor(t,e,i,n){this.kind=t,this.zoomStops=i,this._styleExpression=e,this.isStateDependent="camera"!==t&&!Ne(e.expression),this.interpolationType=n}evaluateWithoutErrorHandling(t,e,i,n,r,s){return this._styleExpression.evaluateWithoutErrorHandling(t,e,i,n,r,s)}evaluate(t,e,i,n,r,s){return this._styleExpression.evaluate(t,e,i,n,r,s)}interpolationFactor(t,e,i){return this.interpolationType?Ge.interpolationFactor(this.interpolationType,t,e,i):0}}function Ni(t,e){const i=Fi(t,e);if("error"===i.result)return i;const n=i.value.expression,r=Be(n);if(!r&&!wi(e))return _i([new ct("","data expressions not supported")]);const s=je(n,["zoom"]);if(!s&&!Si(e))return _i([new ct("","zoom expressions not supported")]);const o=Ui(n);return o||s?o instanceof ct?_i([o]):o instanceof Ge&&!Ci(e)?_i([new ct("",'"interpolate" expressions cannot be used with this property')]):bi(o?new Bi(r?"camera":"composite",i.value,o.labels,o instanceof Ge?o.interpolation:void 0):new Ri(r?"constant":"source",i.value)):_i([new ct("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ji{constructor(t,e){this._parameters=t,this._specification=e,lt(this,Ii(this._parameters,this._specification))}static deserialize(t){return new ji(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function Ui(t){let e=null;if(t instanceof Ye)e=Ui(t.result);else if(t instanceof Xe){for(const i of t.args)if(e=Ui(i),e)break}else(t instanceof Ve||t instanceof Ge)&&t.input instanceof Fe&&"zoom"===t.input.name&&(e=t);return e instanceof ct||t.eachChild((t=>{const i=Ui(t);i instanceof ct?e=i:!e&&i?e=new ct("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&i&&e!==i&&(e=new ct("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),e}function Vi(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(const e of t.slice(1))if(!Vi(e)&&"boolean"!=typeof e)return!1;return!0;default:return!0}}const $i={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Hi(t){if(null==t)return{filter:()=>!0,needGeometry:!1};Vi(t)||(t=Wi(t));const e=Fi(t,$i);if("error"===e.result)throw new Error(e.value.map((t=>`${t.key}: ${t.message}`)).join(", "));return{filter:(t,i,n)=>e.value.evaluate(t,i,{},n),needGeometry:Gi(t)}}function qi(t,e){return t<e?-1:t>e?1:0}function Gi(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(let e=1;e<t.length;e++)if(Gi(t[e]))return!0;return!1}function Wi(t){if(!t)return!0;const e=t[0];return t.length<=1?"any"!==e:"=="===e?Xi(t[1],t[2],"=="):"!="===e?Ki(Xi(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?Xi(t[1],t[2],e):"any"===e?(i=t.slice(1),["any"].concat(i.map(Wi))):"all"===e?["all"].concat(t.slice(1).map(Wi)):"none"===e?["all"].concat(t.slice(1).map(Wi).map(Ki)):"in"===e?Yi(t[1],t.slice(2)):"!in"===e?Ki(Yi(t[1],t.slice(2))):"has"===e?Zi(t[1]):"!has"===e?Ki(Zi(t[1])):"within"!==e||t;var i}function Xi(t,e,i){switch(t){case"$type":return[`filter-type-${i}`,e];case"$id":return[`filter-id-${i}`,e];default:return[`filter-${i}`,t,e]}}function Yi(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((t=>typeof t!=typeof e[0]))?["filter-in-large",t,["literal",e.sort(qi)]]:["filter-in-small",t,["literal",e]]}}function Zi(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Ki(t){return["!",t]}function Ji(t){const e=typeof t;if("number"===e||"boolean"===e||"string"===e||null==t)return JSON.stringify(t);if(Array.isArray(t)){let e="[";for(const i of t)e+=`${Ji(i)},`;return`${e}]`}const i=Object.keys(t).sort();let n="{";for(let r=0;r<i.length;r++)n+=`${JSON.stringify(i[r])}:${Ji(t[i[r]])},`;return`${n}}`}function Qi(t){let e="";for(const i of Z)e+=`/${Ji(t[i])}`;return e}function tn(t){const e=t.value;return e?[new at(t.key,e,"constants have been deprecated as of v8")]:[]}function en(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function nn(t){if(Array.isArray(t))return t.map(nn);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const e={};for(const i in t)e[i]=nn(t[i]);return e}return en(t)}function rn(t){const e=t.key,i=t.value,n=t.valueSpec||{},r=t.objectElementValidators||{},s=t.style,o=t.styleSpec,a=t.validateSpec;let l=[];const c=Ti(i);if("object"!==c)return[new at(e,i,`object expected, ${c} found`)];for(const h in i){const t=h.split(".")[0],c=n[t]||n["*"];let u;if(r[t])u=r[t];else if(n[t])u=a;else if(r["*"])u=r["*"];else{if(!n["*"]){l.push(new at(e,i[h],`unknown property "${h}"`));continue}u=a}l=l.concat(u({key:(e?`${e}.`:e)+h,value:i[h],valueSpec:c,style:s,styleSpec:o,object:i,objectKey:h,validateSpec:a},i))}for(const h in n)r[h]||n[h].required&&void 0===n[h].default&&void 0===i[h]&&l.push(new at(e,i,`missing required property "${h}"`));return l}function sn(t){const e=t.value,i=t.valueSpec,n=t.style,r=t.styleSpec,s=t.key,o=t.arrayElementValidator||t.validateSpec;if("array"!==Ti(e))return[new at(s,e,`array expected, ${Ti(e)} found`)];if(i.length&&e.length!==i.length)return[new at(s,e,`array length ${i.length} expected, length ${e.length} found`)];if(i["min-length"]&&e.length<i["min-length"])return[new at(s,e,`array length at least ${i["min-length"]} expected, length ${e.length} found`)];let a={type:i.value,values:i.values};r.$version<7&&(a.function=i.function),"object"===Ti(i.value)&&(a=i.value);let l=[];for(let c=0;c<e.length;c++)l=l.concat(o({array:e,arrayIndex:c,value:e[c],valueSpec:a,validateSpec:t.validateSpec,style:n,styleSpec:r,key:`${s}[${c}]`}));return l}function on(t){const e=t.key,i=t.value,n=t.valueSpec;let r=Ti(i);return"number"===r&&i!=i&&(r="NaN"),"number"!==r?[new at(e,i,`number expected, ${r} found`)]:"minimum"in n&&i<n.minimum?[new at(e,i,`${i} is less than the minimum value ${n.minimum}`)]:"maximum"in n&&i>n.maximum?[new at(e,i,`${i} is greater than the maximum value ${n.maximum}`)]:[]}function an(t){const e=t.valueSpec,i=en(t.value.type);let n,r,s,o={};const a="categorical"!==i&&void 0===t.value.property,l=!a,c="array"===Ti(t.value.stops)&&"array"===Ti(t.value.stops[0])&&"object"===Ti(t.value.stops[0][0]),h=rn({key:t.key,value:t.value,valueSpec:t.styleSpec.function,validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===i)return[new at(t.key,t.value,'identity function may not have a "stops" property')];let e=[];const n=t.value;return e=e.concat(sn({key:t.key,value:n,valueSpec:t.valueSpec,validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:u})),"array"===Ti(n)&&0===n.length&&e.push(new at(t.key,n,"array must have at least one stop")),e},default:function(t){return t.validateSpec({key:t.key,value:t.value,valueSpec:e,validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===i&&a&&h.push(new at(t.key,t.value,'missing required property "property"')),"identity"===i||t.value.stops||h.push(new at(t.key,t.value,'missing required property "stops"')),"exponential"===i&&t.valueSpec.expression&&!Ci(t.valueSpec)&&h.push(new at(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(l&&!wi(t.valueSpec)?h.push(new at(t.key,t.value,"property functions not supported")):a&&!Si(t.valueSpec)&&h.push(new at(t.key,t.value,"zoom functions not supported"))),"categorical"!==i&&!c||void 0!==t.value.property||h.push(new at(t.key,t.value,'"property" property is required')),h;function u(t){let i=[];const n=t.value,a=t.key;if("array"!==Ti(n))return[new at(a,n,`array expected, ${Ti(n)} found`)];if(2!==n.length)return[new at(a,n,`array length 2 expected, length ${n.length} found`)];if(c){if("object"!==Ti(n[0]))return[new at(a,n,`object expected, ${Ti(n[0])} found`)];if(void 0===n[0].zoom)return[new at(a,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new at(a,n,"object stop key must have value")];if(s&&s>en(n[0].zoom))return[new at(a,n[0].zoom,"stop zoom values must appear in ascending order")];en(n[0].zoom)!==s&&(s=en(n[0].zoom),r=void 0,o={}),i=i.concat(rn({key:`${a}[0]`,value:n[0],valueSpec:{zoom:{}},validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:on,value:d}}))}else i=i.concat(d({key:`${a}[0]`,value:n[0],valueSpec:{},validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec},n));return Oi(nn(n[1]))?i.concat([new at(`${a}[1]`,n[1],"expressions are not allowed in function stops.")]):i.concat(t.validateSpec({key:`${a}[1]`,value:n[1],valueSpec:e,validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec}))}function d(t,s){const a=Ti(t.value),l=en(t.value),c=null!==t.value?t.value:s;if(n){if(a!==n)return[new at(t.key,c,`${a} stop domain type must match previous stop domain type ${n}`)]}else n=a;if("number"!==a&&"string"!==a&&"boolean"!==a)return[new at(t.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==a&&"categorical"!==i){let n=`number expected, ${a} found`;return wi(e)&&void 0===i&&(n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new at(t.key,c,n)]}return"categorical"!==i||"number"!==a||isFinite(l)&&Math.floor(l)===l?"categorical"!==i&&"number"===a&&void 0!==r&&l<r?[new at(t.key,c,"stop domain values must appear in ascending order")]:(r=l,"categorical"===i&&l in o?[new at(t.key,c,"stop domain values must be unique")]:(o[l]=!0,[])):[new at(t.key,c,`integer expected, found ${l}`)]}}function ln(t){const e=("property"===t.expressionContext?Ni:Fi)(nn(t.value),t.valueSpec);if("error"===e.result)return e.value.map((e=>new at(`${t.key}${e.key}`,t.value,e.message)));const i=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!i.outputDefined())return[new at(t.key,t.value,`Invalid data expression for "${t.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===t.expressionContext&&"layout"===t.propertyType&&!Ne(i))return[new at(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!Ne(i))return[new at(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!je(i,["zoom","feature-state"]))return[new at(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!Be(i))return[new at(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function cn(t){const e=t.key,i=t.value,n=t.valueSpec,r=[];return Array.isArray(n.values)?-1===n.values.indexOf(en(i))&&r.push(new at(e,i,`expected one of [${n.values.join(", ")}], ${JSON.stringify(i)} found`)):-1===Object.keys(n.values).indexOf(en(i))&&r.push(new at(e,i,`expected one of [${Object.keys(n.values).join(", ")}], ${JSON.stringify(i)} found`)),r}function hn(t){return Vi(nn(t.value))?ln(lt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):un(t)}function un(t){const e=t.value,i=t.key;if("array"!==Ti(e))return[new at(i,e,`array expected, ${Ti(e)} found`)];const n=t.styleSpec;let r,s=[];if(e.length<1)return[new at(i,e,"filter array must have at least 1 element")];switch(s=s.concat(cn({key:`${i}[0]`,value:e[0],valueSpec:n.filter_operator,style:t.style,styleSpec:t.styleSpec})),en(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===en(e[1])&&s.push(new at(i,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":3!==e.length&&s.push(new at(i,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(r=Ti(e[1]),"string"!==r&&s.push(new at(`${i}[1]`,e[1],`string expected, ${r} found`)));for(let o=2;o<e.length;o++)r=Ti(e[o]),"$type"===en(e[1])?s=s.concat(cn({key:`${i}[${o}]`,value:e[o],valueSpec:n.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&s.push(new at(`${i}[${o}]`,e[o],`string, number, or boolean expected, ${r} found`));break;case"any":case"all":case"none":for(let n=1;n<e.length;n++)s=s.concat(un({key:`${i}[${n}]`,value:e[n],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":r=Ti(e[1]),2!==e.length?s.push(new at(i,e,`filter array for "${e[0]}" operator must have 2 elements`)):"string"!==r&&s.push(new at(`${i}[1]`,e[1],`string expected, ${r} found`));break;case"within":r=Ti(e[1]),2!==e.length?s.push(new at(i,e,`filter array for "${e[0]}" operator must have 2 elements`)):"object"!==r&&s.push(new at(`${i}[1]`,e[1],`object expected, ${r} found`))}return s}function dn(t,e){const i=t.key,n=t.validateSpec,r=t.style,s=t.styleSpec,o=t.value,a=t.objectKey,l=s[`${e}_${t.layerType}`];if(!l)return[];const c=a.match(/^(.*)-transition$/);if("paint"===e&&c&&l[c[1]]&&l[c[1]].transition)return n({key:i,value:o,valueSpec:s.transition,style:r,styleSpec:s});const h=t.valueSpec||l[a];if(!h)return[new at(i,o,`unknown property "${a}"`)];let u;if("string"===Ti(o)&&wi(h)&&!h.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new at(i,o,`"${a}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(u[1])} }\`.`)];const d=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&d.push(new at(i,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&ki(nn(o))&&"identity"===en(o.type)&&d.push(new at(i,o,'"text-font" does not support identity functions'))),d.concat(n({key:t.key,value:o,valueSpec:h,style:r,styleSpec:s,expressionContext:"property",propertyType:e,propertyKey:a}))}function pn(t){return dn(t,"paint")}function fn(t){return dn(t,"layout")}function mn(t){let e=[];const i=t.value,n=t.key,r=t.style,s=t.styleSpec;i.type||i.ref||e.push(new at(n,i,'either "type" or "ref" is required'));let o=en(i.type);const a=en(i.ref);if(i.id){const s=en(i.id);for(let o=0;o<t.arrayIndex;o++){const t=r.layers[o];en(t.id)===s&&e.push(new at(n,i.id,`duplicate layer id "${i.id}", previously used at line ${t.id.__line__}`))}}if("ref"in i){let t;["type","source","source-layer","filter","layout"].forEach((t=>{t in i&&e.push(new at(n,i[t],`"${t}" is prohibited for ref layers`))})),r.layers.forEach((e=>{en(e.id)===a&&(t=e)})),t?t.ref?e.push(new at(n,i.ref,"ref cannot reference another ref layer")):o=en(t.type):e.push(new at(n,i.ref,`ref layer "${a}" not found`))}else if("background"!==o)if(i.source){const t=r.sources&&r.sources[i.source],s=t&&en(t.type);t?"vector"===s&&"raster"===o?e.push(new at(n,i.source,`layer "${i.id}" requires a raster source`)):"raster-dem"!==s&&"hillshade"===o?e.push(new at(n,i.source,`layer "${i.id}" requires a raster-dem source`)):"raster"===s&&"raster"!==o?e.push(new at(n,i.source,`layer "${i.id}" requires a vector source`)):"vector"!==s||i["source-layer"]?"raster-dem"===s&&"hillshade"!==o?e.push(new at(n,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==o||!i.paint||!i.paint["line-gradient"]||"geojson"===s&&t.lineMetrics||e.push(new at(n,i,`layer "${i.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new at(n,i,`layer "${i.id}" must specify a "source-layer"`)):e.push(new at(n,i.source,`source "${i.source}" not found`))}else e.push(new at(n,i,'missing required property "source"'));return e=e.concat(rn({key:n,value:i,valueSpec:s.layer,style:t.style,styleSpec:t.styleSpec,validateSpec:t.validateSpec,objectElementValidators:{"*":()=>[],type:()=>t.validateSpec({key:`${n}.type`,value:i.type,valueSpec:s.layer.type,style:t.style,styleSpec:t.styleSpec,validateSpec:t.validateSpec,object:i,objectKey:"type"}),filter:hn,layout:t=>rn({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,validateSpec:t.validateSpec,objectElementValidators:{"*":t=>fn(lt({layerType:o},t))}}),paint:t=>rn({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,validateSpec:t.validateSpec,objectElementValidators:{"*":t=>pn(lt({layerType:o},t))}})}})),e}function gn(t){const e=t.value,i=t.key,n=Ti(e);return"string"!==n?[new at(i,e,`string expected, ${n} found`)]:[]}const yn={promoteId:function({key:t,value:e}){if("string"===Ti(e))return gn({key:t,value:e});{const i=[];for(const n in e)i.push(...gn({key:`${t}.${n}`,value:e[n]}));return i}}};function xn(t){const e=t.value,i=t.key,n=t.styleSpec,r=t.style,s=t.validateSpec;if(!e.type)return[new at(i,e,'"type" is required')];const o=en(e.type);let a;switch(o){case"vector":case"raster":return a=rn({key:i,value:e,valueSpec:n[`source_${o.replace("-","_")}`],style:t.style,styleSpec:n,objectElementValidators:yn,validateSpec:s}),a;case"raster-dem":return a=function(t){var e;const i=null!==(e=t.sourceName)&&void 0!==e?e:"",n=t.value,r=t.styleSpec,s=r.source_raster_dem,o=t.style;let a=[];const l=Ti(n);if(void 0===n)return a;if("object"!==l)return a.push(new at("source_raster_dem",n,`object expected, ${l} found`)),a;const c="custom"===en(n.encoding),h=["redFactor","greenFactor","blueFactor","baseShift"],u=t.value.encoding?`"${t.value.encoding}"`:"Default";for(const d in n)!c&&h.includes(d)?a.push(new at(d,n[d],`In "${i}": "${d}" is only valid when "encoding" is set to "custom". ${u} encoding found`)):s[d]?a=a.concat(t.validateSpec({key:d,value:n[d],valueSpec:s[d],validateSpec:t.validateSpec,style:o,styleSpec:r})):a.push(new at(d,n[d],`unknown property "${d}"`));return a}({sourceName:i,value:e,style:t.style,styleSpec:n,validateSpec:s}),a;case"geojson":if(a=rn({key:i,value:e,valueSpec:n.source_geojson,style:r,styleSpec:n,validateSpec:s,objectElementValidators:yn}),e.cluster)for(const t in e.clusterProperties){const[n,r]=e.clusterProperties[t],o="string"==typeof n?[n,["accumulated"],["get",t]]:n;a.push(...ln({key:`${i}.${t}.map`,value:r,validateSpec:s,expressionContext:"cluster-map"})),a.push(...ln({key:`${i}.${t}.reduce`,value:o,validateSpec:s,expressionContext:"cluster-reduce"}))}return a;case"video":return rn({key:i,value:e,valueSpec:n.source_video,style:r,validateSpec:s,styleSpec:n});case"image":return rn({key:i,value:e,valueSpec:n.source_image,style:r,validateSpec:s,styleSpec:n});case"canvas":return[new at(i,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return cn({key:`${i}.type`,value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:r,validateSpec:s,styleSpec:n})}}function vn(t){const e=t.value,i=t.styleSpec,n=i.light,r=t.style;let s=[];const o=Ti(e);if(void 0===e)return s;if("object"!==o)return s=s.concat([new at("light",e,`object expected, ${o} found`)]),s;for(const a in e){const o=a.match(/^(.*)-transition$/);s=s.concat(o&&n[o[1]]&&n[o[1]].transition?t.validateSpec({key:a,value:e[a],valueSpec:i.transition,validateSpec:t.validateSpec,style:r,styleSpec:i}):n[a]?t.validateSpec({key:a,value:e[a],valueSpec:n[a],validateSpec:t.validateSpec,style:r,styleSpec:i}):[new at(a,e[a],`unknown property "${a}"`)])}return s}function bn(t){const e=t.value,i=t.styleSpec,n=i.terrain,r=t.style;let s=[];const o=Ti(e);if(void 0===e)return s;if("object"!==o)return s=s.concat([new at("terrain",e,`object expected, ${o} found`)]),s;for(const a in e)s=s.concat(n[a]?t.validateSpec({key:a,value:e[a],valueSpec:n[a],validateSpec:t.validateSpec,style:r,styleSpec:i}):[new at(a,e[a],`unknown property "${a}"`)]);return s}function _n(t){let e=[];const i=t.value,n=t.key;if(Array.isArray(i)){const r=[],s=[];for(const o in i)i[o].id&&r.includes(i[o].id)&&e.push(new at(n,i,`all the sprites' ids must be unique, but ${i[o].id} is duplicated`)),r.push(i[o].id),i[o].url&&s.includes(i[o].url)&&e.push(new at(n,i,`all the sprites' URLs must be unique, but ${i[o].url} is duplicated`)),s.push(i[o].url),e=e.concat(rn({key:`${n}[${o}]`,value:i[o],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:t.validateSpec}));return e}return gn({key:n,value:i})}const wn={"*":()=>[],array:sn,boolean:function(t){const e=t.value,i=t.key,n=Ti(e);return"boolean"!==n?[new at(i,e,`boolean expected, ${n} found`)]:[]},number:on,color:function(t){const e=t.key,i=t.value,n=Ti(i);return"string"!==n?[new at(e,i,`color expected, ${n} found`)]:Zt.parse(String(i))?[]:[new at(e,i,`color expected, "${i}" found`)]},constants:tn,enum:cn,filter:hn,function:an,layer:mn,object:rn,source:xn,light:vn,terrain:bn,string:gn,formatted:function(t){return 0===gn(t).length?[]:ln(t)},resolvedImage:function(t){return 0===gn(t).length?[]:ln(t)},padding:function(t){const e=t.key,i=t.value;if("array"===Ti(i)){if(i.length<1||i.length>4)return[new at(e,i,`padding requires 1 to 4 values; ${i.length} values found`)];const n={type:"number"};let r=[];for(let s=0;s<i.length;s++)r=r.concat(t.validateSpec({key:`${e}[${s}]`,value:i[s],validateSpec:t.validateSpec,valueSpec:n}));return r}return on({key:e,value:i,valueSpec:{}})},variableAnchorOffsetCollection:function(t){const e=t.key,i=t.value,n=Ti(i),r=t.styleSpec;if("array"!==n||i.length<1||i.length%2!=0)return[new at(e,i,"variableAnchorOffsetCollection requires a non-empty array of even length")];let s=[];for(let o=0;o<i.length;o+=2)s=s.concat(cn({key:`${e}[${o}]`,value:i[o],valueSpec:r.layout_symbol["text-anchor"]})),s=s.concat(sn({key:`${e}[${o+1}]`,value:i[o+1],valueSpec:{length:2,value:"number"},validateSpec:t.validateSpec,style:t.style,styleSpec:r}));return s},sprite:_n};function Sn(t){const e=t.value,i=t.valueSpec,n=t.styleSpec;return t.validateSpec=Sn,i.expression&&ki(en(e))?an(t):i.expression&&Oi(nn(e))?ln(t):i.type&&wn[i.type]?wn[i.type](t):rn(lt({},t,{valueSpec:i.type?n[i.type]:i}))}function Cn(t){const e=t.value,i=t.key,n=gn(t);return n.length||(-1===e.indexOf("{fontstack}")&&n.push(new at(i,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&n.push(new at(i,e,'"glyphs" url must include a "{range}" token'))),n}function Tn(t,e=Y){let i=[];return i=i.concat(Sn({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,validateSpec:Sn,objectElementValidators:{glyphs:Cn,"*":()=>[]}})),t.constants&&(i=i.concat(tn({key:"constants",value:t.constants,style:t,styleSpec:e,validateSpec:Sn}))),An(i)}function kn(t){return function(e){return t({...e,validateSpec:Sn})}}function An(t){return[].concat(t).sort(((t,e)=>t.line-e.line))}function In(t){return function(...e){return An(t.apply(this,e))}}Tn.source=In(kn(xn)),Tn.sprite=In(kn(_n)),Tn.glyphs=In(kn(Cn)),Tn.light=In(kn(vn)),Tn.terrain=In(kn(bn)),Tn.layer=In(kn(mn)),Tn.filter=In(kn(hn)),Tn.paintProperty=In(kn(pn)),Tn.layoutProperty=In(kn(fn));const Mn=Tn,Pn=Mn.light,En=Mn.paintProperty,Dn=Mn.layoutProperty;function Ln(t,e){let i=!1;if(e&&e.length)for(const n of e)t.fire(new W(new Error(n.message))),i=!0;return i}class zn{constructor(t,e,i){const n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;const r=new Int32Array(this.arrayBuffer);t=r[0],this.d=(e=r[1])+2*(i=r[2]);for(let t=0;t<this.d*this.d;t++){const e=r[3+t],i=r[3+t+1];n.push(e===i?null:r.subarray(e,i))}const s=r[3+n.length+1];this.keys=r.subarray(r[3+n.length],s),this.bboxes=r.subarray(s),this.insert=this._insertReadonly}else{this.d=e+2*i;for(let t=0;t<this.d*this.d;t++)n.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=i,this.scale=e/t,this.uid=0;const r=i/e*t;this.min=-r,this.max=t+r}insert(t,e,i,n,r){this._forEachCell(e,i,n,r,this._insertCell,this.uid++,void 0,void 0),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(r)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(t,e,i,n,r,s){this.cells[r].push(s)}query(t,e,i,n,r){const s=this.min,o=this.max;if(t<=s&&e<=s&&o<=i&&o<=n&&!r)return Array.prototype.slice.call(this.keys);{const s=[];return this._forEachCell(t,e,i,n,this._queryCell,s,{},r),s}}_queryCell(t,e,i,n,r,s,o,a){const l=this.cells[r];if(null!==l){const r=this.keys,c=this.bboxes;for(let h=0;h<l.length;h++){const u=l[h];if(void 0===o[u]){const l=4*u;(a?a(c[l+0],c[l+1],c[l+2],c[l+3]):t<=c[l+2]&&e<=c[l+3]&&i>=c[l+0]&&n>=c[l+1])?(o[u]=!0,s.push(r[u])):o[u]=!1}}}}_forEachCell(t,e,i,n,r,s,o,a){const l=this._convertToCellCoord(t),c=this._convertToCellCoord(e),h=this._convertToCellCoord(i),u=this._convertToCellCoord(n);for(let d=l;d<=h;d++)for(let l=c;l<=u;l++){const c=this.d*l+d;if((!a||a(this._convertFromCellCoord(d),this._convertFromCellCoord(l),this._convertFromCellCoord(d+1),this._convertFromCellCoord(l+1)))&&r.call(this,t,e,i,n,c,s,o,a))return}}_convertFromCellCoord(t){return(t-this.padding)/this.scale}_convertToCellCoord(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const t=this.cells,e=3+this.cells.length+1+1;let i=0;for(let s=0;s<this.cells.length;s++)i+=this.cells[s].length;const n=new Int32Array(e+i+this.keys.length+this.bboxes.length);n[0]=this.extent,n[1]=this.n,n[2]=this.padding;let r=e;for(let s=0;s<t.length;s++){const e=t[s];n[3+s]=r,n.set(e,r),r+=e.length}return n[3+t.length]=r,n.set(this.keys,r),r+=this.keys.length,n[3+t.length+1]=r,n.set(this.bboxes,r),r+=this.bboxes.length,n.buffer}static serialize(t,e){const i=t.toArrayBuffer();return e&&e.push(i),{buffer:i}}static deserialize(t){return new zn(t.buffer)}}const On={};function Fn(t,e,i={}){if(On[t])throw new Error(`${t} is already registered.`);Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),On[t]={klass:e,omit:i.omit||[],shallow:i.shallow||[]}}Fn("Object",Object),Fn("TransferableGridIndex",zn),Fn("Color",Zt),Fn("Error",Error),Fn("AJAXError",R),Fn("ResolvedImage",ne),Fn("StylePropertyFunction",ji),Fn("StyleExpression",zi,{omit:["_evaluator"]}),Fn("ZoomDependentExpression",Bi),Fn("ZoomConstantExpression",Ri),Fn("CompoundExpression",Fe,{omit:["_evaluate"]});for(const pu in mi)mi[pu]._classRegistryKey||Fn(`Expression_${pu}`,mi[pu]);function Rn(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function Bn(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof Blob)return t;if(Rn(t))return e&&e.push(t),t;if(I(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){const i=t;return e&&e.push(i.buffer),i}if(t instanceof ImageData)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){const i=[];for(const n of t)i.push(Bn(n,e));return i}if("object"==typeof t){const i=t.constructor,n=i._classRegistryKey;if(!n)throw new Error("can't serialize object of unregistered class");if(!On[n])throw new Error(`${n} is not registered.`);const r=i.serialize?i.serialize(t,e):{};if(i.serialize){if(e&&r===e[e.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const i in t){if(!t.hasOwnProperty(i))continue;if(On[n].omit.indexOf(i)>=0)continue;const s=t[i];r[i]=On[n].shallow.indexOf(i)>=0?s:Bn(s,e)}t instanceof Error&&(r.message=t.message)}if(r.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==n&&(r.$name=n),r}throw new Error("can't serialize object of type "+typeof t)}function Nn(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof Blob||Rn(t)||I(t)||ArrayBuffer.isView(t)||t instanceof ImageData)return t;if(Array.isArray(t))return t.map(Nn);if("object"==typeof t){const e=t.$name||"Object";if(!On[e])throw new Error(`can't deserialize unregistered class ${e}`);const{klass:i}=On[e];if(!i)throw new Error(`can't deserialize unregistered class ${e}`);if(i.deserialize)return i.deserialize(t);const n=Object.create(i.prototype);for(const r of Object.keys(t)){if("$name"===r)continue;const i=t[r];n[r]=On[e].shallow.indexOf(r)>=0?i:Nn(i)}return n}throw new Error("can't deserialize object of type "+typeof t)}class jn{constructor(){this.first=!0}update(t,e){const i=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=i,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=i,!0):(this.lastFloorZoom>i?(this.lastIntegerZoom=i+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<i&&(this.lastIntegerZoom=i,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=i,!0))}}const Un={"Latin-1 Supplement":t=>t>=128&&t<=255,Arabic:t=>t>=1536&&t<=1791,"Arabic Supplement":t=>t>=1872&&t<=1919,"Arabic Extended-A":t=>t>=2208&&t<=2303,"Hangul Jamo":t=>t>=4352&&t<=4607,"Unified Canadian Aboriginal Syllabics":t=>t>=5120&&t<=5759,Khmer:t=>t>=6016&&t<=6143,"Unified Canadian Aboriginal Syllabics Extended":t=>t>=6320&&t<=6399,"General Punctuation":t=>t>=8192&&t<=8303,"Letterlike Symbols":t=>t>=8448&&t<=8527,"Number Forms":t=>t>=8528&&t<=8591,"Miscellaneous Technical":t=>t>=8960&&t<=9215,"Control Pictures":t=>t>=9216&&t<=9279,"Optical Character Recognition":t=>t>=9280&&t<=9311,"Enclosed Alphanumerics":t=>t>=9312&&t<=9471,"Geometric Shapes":t=>t>=9632&&t<=9727,"Miscellaneous Symbols":t=>t>=9728&&t<=9983,"Miscellaneous Symbols and Arrows":t=>t>=11008&&t<=11263,"CJK Radicals Supplement":t=>t>=11904&&t<=12031,"Kangxi Radicals":t=>t>=12032&&t<=12255,"Ideographic Description Characters":t=>t>=12272&&t<=12287,"CJK Symbols and Punctuation":t=>t>=12288&&t<=12351,Hiragana:t=>t>=12352&&t<=12447,Katakana:t=>t>=12448&&t<=12543,Bopomofo:t=>t>=12544&&t<=12591,"Hangul Compatibility Jamo":t=>t>=12592&&t<=12687,Kanbun:t=>t>=12688&&t<=12703,"Bopomofo Extended":t=>t>=12704&&t<=12735,"CJK Strokes":t=>t>=12736&&t<=12783,"Katakana Phonetic Extensions":t=>t>=12784&&t<=12799,"Enclosed CJK Letters and Months":t=>t>=12800&&t<=13055,"CJK Compatibility":t=>t>=13056&&t<=13311,"CJK Unified Ideographs Extension A":t=>t>=13312&&t<=19903,"Yijing Hexagram Symbols":t=>t>=19904&&t<=19967,"CJK Unified Ideographs":t=>t>=19968&&t<=40959,"Yi Syllables":t=>t>=40960&&t<=42127,"Yi Radicals":t=>t>=42128&&t<=42191,"Hangul Jamo Extended-A":t=>t>=43360&&t<=43391,"Hangul Syllables":t=>t>=44032&&t<=55215,"Hangul Jamo Extended-B":t=>t>=55216&&t<=55295,"Private Use Area":t=>t>=57344&&t<=63743,"CJK Compatibility Ideographs":t=>t>=63744&&t<=64255,"Arabic Presentation Forms-A":t=>t>=64336&&t<=65023,"Vertical Forms":t=>t>=65040&&t<=65055,"CJK Compatibility Forms":t=>t>=65072&&t<=65103,"Small Form Variants":t=>t>=65104&&t<=65135,"Arabic Presentation Forms-B":t=>t>=65136&&t<=65279,"Halfwidth and Fullwidth Forms":t=>t>=65280&&t<=65519};function Vn(t){for(const e of t)if(qn(e.charCodeAt(0)))return!0;return!1}function $n(t){for(const e of t)if(!Hn(e.charCodeAt(0)))return!1;return!0}function Hn(t){return!(Un.Arabic(t)||Un["Arabic Supplement"](t)||Un["Arabic Extended-A"](t)||Un["Arabic Presentation Forms-A"](t)||Un["Arabic Presentation Forms-B"](t))}function qn(t){return!(746!==t&&747!==t&&(t<4352||!(Un["Bopomofo Extended"](t)||Un.Bopomofo(t)||Un["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||Un["CJK Compatibility Ideographs"](t)||Un["CJK Compatibility"](t)||Un["CJK Radicals Supplement"](t)||Un["CJK Strokes"](t)||!(!Un["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||Un["CJK Unified Ideographs Extension A"](t)||Un["CJK Unified Ideographs"](t)||Un["Enclosed CJK Letters and Months"](t)||Un["Hangul Compatibility Jamo"](t)||Un["Hangul Jamo Extended-A"](t)||Un["Hangul Jamo Extended-B"](t)||Un["Hangul Jamo"](t)||Un["Hangul Syllables"](t)||Un.Hiragana(t)||Un["Ideographic Description Characters"](t)||Un.Kanbun(t)||Un["Kangxi Radicals"](t)||Un["Katakana Phonetic Extensions"](t)||Un.Katakana(t)&&12540!==t||!(!Un["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!Un["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||Un["Unified Canadian Aboriginal Syllabics"](t)||Un["Unified Canadian Aboriginal Syllabics Extended"](t)||Un["Vertical Forms"](t)||Un["Yijing Hexagram Symbols"](t)||Un["Yi Syllables"](t)||Un["Yi Radicals"](t))))}function Gn(t){return!(qn(t)||function(t){return!!(Un["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||Un["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||Un["Letterlike Symbols"](t)||Un["Number Forms"](t)||Un["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||Un["Control Pictures"](t)&&9251!==t||Un["Optical Character Recognition"](t)||Un["Enclosed Alphanumerics"](t)||Un["Geometric Shapes"](t)||Un["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||Un["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Un["CJK Symbols and Punctuation"](t)||Un.Katakana(t)||Un["Private Use Area"](t)||Un["CJK Compatibility Forms"](t)||Un["Small Form Variants"](t)||Un["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function Wn(t){return t>=1424&&t<=2303||Un["Arabic Presentation Forms-A"](t)||Un["Arabic Presentation Forms-B"](t)}function Xn(t,e){return!(!e&&Wn(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||Un.Khmer(t))}function Yn(t){for(const e of t)if(Wn(e.charCodeAt(0)))return!0;return!1}const Zn="deferred",Kn="loading",Jn="loaded";let Qn=null,tr="unavailable",er=null;const ir=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(tr="error"),Qn&&Qn(t)};function nr(){rr.fire(new G("pluginStateChange",{pluginStatus:tr,pluginURL:er}))}const rr=new X,sr=function(){return tr},or=function(){if(tr!==Zn||!er)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");tr=Kn,nr(),er&&V({url:er},(t=>{t?ir(t):(tr=Jn,nr())}))},ar={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>tr===Jn||null!=ar.applyArabicShaping,isLoading:()=>tr===Kn,setState(t){if(!k())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");tr=t.pluginStatus,er=t.pluginURL},isParsed(){if(!k())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return null!=ar.applyArabicShaping&&null!=ar.processBidirectionalText&&null!=ar.processStyledBidirectionalText},getPluginURL(){if(!k())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return er}};class lr{constructor(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new jn,this.transition={})}isSupportedScript(t){return function(t,e){for(const i of t)if(!Xn(i.charCodeAt(0),e))return!1;return!0}(t,ar.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,e=t-Math.floor(t),i=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*i}:{fromScale:.5,toScale:1,t:1-(1-i)*e}}}class cr{constructor(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(ki(t))return new ji(t,e);if(Oi(t)){const i=Ni(t,e);if("error"===i.result)throw new Error(i.value.map((t=>`${t.key}: ${t.message}`)).join(", "));return i.value}{let i=t;return"color"===e.type&&"string"==typeof t?i=Zt.parse(t):"padding"!==e.type||"number"!=typeof t&&!Array.isArray(t)?"variableAnchorOffsetCollection"===e.type&&Array.isArray(t)&&(i=ie.parse(t)):i=te.parse(t),{kind:"constant",evaluate:()=>i}}}(void 0===e?t.specification.default:e,t.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(t,e,i){return this.property.possiblyEvaluate(this,t,e,i)}}class hr{constructor(t){this.property=t,this.value=new cr(t,void 0)}transitioned(t,e){return new dr(this.property,this.value,e,y({},t.transition,this.transition),t.now)}untransitioned(){return new dr(this.property,this.value,null,{},0)}}class ur{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return _(this._values[t].value.value)}setValue(t,e){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new hr(this._values[t].property)),this._values[t].value=new cr(this._values[t].property,null===e?void 0:_(e))}getTransition(t){return _(this._values[t].transition)}setTransition(t,e){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new hr(this._values[t].property)),this._values[t].transition=_(e)||void 0}serialize(){const t={};for(const e of Object.keys(this._values)){const i=this.getValue(e);void 0!==i&&(t[e]=i);const n=this.getTransition(e);void 0!==n&&(t[`${e}-transition`]=n)}return t}transitioned(t,e){const i=new pr(this._properties);for(const n of Object.keys(this._values))i._values[n]=this._values[n].transitioned(t,e._values[n]);return i}untransitioned(){const t=new pr(this._properties);for(const e of Object.keys(this._values))t._values[e]=this._values[e].untransitioned();return t}}class dr{constructor(t,e,i,n,r){this.property=t,this.value=e,this.begin=r+n.delay||0,this.end=this.begin+n.duration||0,t.specification.transition&&(n.delay||n.duration)&&(this.prior=i)}possiblyEvaluate(t,e,i){const n=t.now||0,r=this.value.possiblyEvaluate(t,e,i),s=this.prior;if(s){if(n>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(n<this.begin)return s.possiblyEvaluate(t,e,i);{const o=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(s.possiblyEvaluate(t,e,i),r,function(t){if(t<=0)return 0;if(t>=1)return 1;const e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)}(o))}}return r}}class pr{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,e,i){const n=new gr(this._properties);for(const r of Object.keys(this._values))n._values[r]=this._values[r].possiblyEvaluate(t,e,i);return n}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class fr{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}hasValue(t){return void 0!==this._values[t].value}getValue(t){return _(this._values[t].value)}setValue(t,e){this._values[t]=new cr(this._values[t].property,null===e?void 0:_(e))}serialize(){const t={};for(const e of Object.keys(this._values)){const i=this.getValue(e);void 0!==i&&(t[e]=i)}return t}possiblyEvaluate(t,e,i){const n=new gr(this._properties);for(const r of Object.keys(this._values))n._values[r]=this._values[r].possiblyEvaluate(t,e,i);return n}}class mr{constructor(t,e,i){this.property=t,this.value=e,this.parameters=i}isConstant(){return"constant"===this.value.kind}constantOr(t){return"constant"===this.value.kind?this.value.value:t}evaluate(t,e,i,n){return this.property.evaluate(this.value,this.parameters,t,e,i,n)}}class gr{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class yr{constructor(t){this.specification=t}possiblyEvaluate(t,e){if(t.isDataDriven())throw new Error("Value should not be data driven");return t.expression.evaluate(e)}interpolate(t,e,i){const n=qe[this.specification.type];return n?n(t,e,i):t}}class xr{constructor(t,e){this.specification=t,this.overrides=e}possiblyEvaluate(t,e,i,n){return new mr(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},i,n)}:t.expression,e)}interpolate(t,e,i){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new mr(this,{kind:"constant",value:void 0},t.parameters);const n=qe[this.specification.type];if(n){const r=n(t.value.value,e.value.value,i);return new mr(this,{kind:"constant",value:r},t.parameters)}return t}evaluate(t,e,i,n,r,s){return"constant"===t.kind?t.value:t.evaluate(e,i,n,r,s)}}class vr extends xr{possiblyEvaluate(t,e,i,n){if(void 0===t.value)return new mr(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){const r=t.expression.evaluate(e,null,{},i,n),s="resolvedImage"===t.property.specification.type&&"string"!=typeof r?r.name:r,o=this._calculate(s,s,s,e);return new mr(this,{kind:"constant",value:o},e)}if("camera"===t.expression.kind){const i=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new mr(this,{kind:"constant",value:i},e)}return new mr(this,t.expression,e)}evaluate(t,e,i,n,r,s){if("source"===t.kind){const o=t.evaluate(e,i,n,r,s);return this._calculate(o,o,o,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},i,n),t.evaluate({zoom:Math.floor(e.zoom)},i,n),t.evaluate({zoom:Math.floor(e.zoom)+1},i,n),e):t.value}_calculate(t,e,i,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:i,to:e}}interpolate(t){return t}}class br{constructor(t){this.specification=t}possiblyEvaluate(t,e,i,n){if(void 0!==t.value){if("constant"===t.expression.kind){const r=t.expression.evaluate(e,null,{},i,n);return this._calculate(r,r,r,e)}return this._calculate(t.expression.evaluate(new lr(Math.floor(e.zoom-1),e)),t.expression.evaluate(new lr(Math.floor(e.zoom),e)),t.expression.evaluate(new lr(Math.floor(e.zoom+1),e)),e)}}_calculate(t,e,i,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:i,to:e}}interpolate(t){return t}}class _r{constructor(t){this.specification=t}possiblyEvaluate(t,e,i,n){return!!t.expression.evaluate(e,null,{},i,n)}interpolate(){return!1}}class wr{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const e in t){const i=t[e];i.specification.overridable&&this.overridableProperties.push(e);const n=this.defaultPropertyValues[e]=new cr(i,void 0),r=this.defaultTransitionablePropertyValues[e]=new hr(i);this.defaultTransitioningPropertyValues[e]=r.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=n.possiblyEvaluate({})}}}Fn("DataDrivenProperty",xr),Fn("DataConstantProperty",yr),Fn("CrossFadedDataDrivenProperty",vr),Fn("CrossFadedProperty",br),Fn("ColorRampProperty",_r);const Sr="-transition";class Cr extends X{constructor(t,e){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==t.type&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),e.layout&&(this._unevaluatedLayout=new fr(e.layout)),e.paint)){this._transitionablePaint=new ur(e.paint);for(const e in t.paint)this.setPaintProperty(e,t.paint[e],{validate:!1});for(const e in t.layout)this.setLayoutProperty(e,t.layout[e],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new gr(e.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,e,i={}){null!=e&&this._validate(Dn,`layers.${this.id}.layout.${t}`,t,e,i)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)}getPaintProperty(t){return t.endsWith(Sr)?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)}setPaintProperty(t,e,i={}){if(null!=e&&this._validate(En,`layers.${this.id}.paint.${t}`,t,e,i))return!1;if(t.endsWith(Sr))return this._transitionablePaint.setTransition(t.slice(0,-11),e||void 0),!1;{const i=this._transitionablePaint._values[t],n="cross-faded-data-driven"===i.property.specification["property-type"],r=i.value.isDataDriven(),s=i.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);const o=this._transitionablePaint._values[t].value;return o.isDataDriven()||r||n||this._handleOverridablePaintPropertyUpdate(t,s,o)}}_handleSpecialPaintPropertyUpdate(t){}_handleOverridablePaintPropertyUpdate(t,e,i){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),b(t,((t,e)=>!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)))}_validate(t,e,i,n,r={}){return(!r||!1!==r.validate)&&Ln(this,t.call(Mn,{key:e,layerType:this.type,objectKey:i,value:n,styleSpec:Y,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const e=this.paint.get(t);if(e instanceof mr&&wi(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1}}const Tr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class kr{constructor(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Ar{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Ir(t,e=1){let i=0,n=0;return{members:t.map((t=>{const r=Tr[t.type].BYTES_PER_ELEMENT,s=i=Mr(i,Math.max(e,r)),o=t.components||1;return n=Math.max(n,r),i+=r*o,{name:t.name,type:t.type,components:o,offset:s}})),size:Mr(i,Math.max(n,e)),alignment:e}}function Mr(t,e){return Math.ceil(t/e)*e}class Pr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e){const i=this.length;return this.resize(i+1),this.emplace(i,t,e)}emplace(t,e,i){const n=2*t;return this.int16[n+0]=e,this.int16[n+1]=i,t}}Pr.prototype.bytesPerElement=4,Fn("StructArrayLayout2i4",Pr);class Er extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,i)}emplace(t,e,i,n){const r=3*t;return this.int16[r+0]=e,this.int16[r+1]=i,this.int16[r+2]=n,t}}Er.prototype.bytesPerElement=6,Fn("StructArrayLayout3i6",Er);class Dr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,i,n)}emplace(t,e,i,n,r){const s=4*t;return this.int16[s+0]=e,this.int16[s+1]=i,this.int16[s+2]=n,this.int16[s+3]=r,t}}Dr.prototype.bytesPerElement=8,Fn("StructArrayLayout4i8",Dr);class Lr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,s){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,i,n,r,s)}emplace(t,e,i,n,r,s,o){const a=6*t;return this.int16[a+0]=e,this.int16[a+1]=i,this.int16[a+2]=n,this.int16[a+3]=r,this.int16[a+4]=s,this.int16[a+5]=o,t}}Lr.prototype.bytesPerElement=12,Fn("StructArrayLayout2i4i12",Lr);class zr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,s){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,i,n,r,s)}emplace(t,e,i,n,r,s,o){const a=4*t,l=8*t;return this.int16[a+0]=e,this.int16[a+1]=i,this.uint8[l+4]=n,this.uint8[l+5]=r,this.uint8[l+6]=s,this.uint8[l+7]=o,t}}zr.prototype.bytesPerElement=8,Fn("StructArrayLayout2i4ub8",zr);class Or extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e){const i=this.length;return this.resize(i+1),this.emplace(i,t,e)}emplace(t,e,i){const n=2*t;return this.float32[n+0]=e,this.float32[n+1]=i,t}}Or.prototype.bytesPerElement=8,Fn("StructArrayLayout2f8",Or);class Fr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,s,o,a,l,c){const h=this.length;return this.resize(h+1),this.emplace(h,t,e,i,n,r,s,o,a,l,c)}emplace(t,e,i,n,r,s,o,a,l,c,h){const u=10*t;return this.uint16[u+0]=e,this.uint16[u+1]=i,this.uint16[u+2]=n,this.uint16[u+3]=r,this.uint16[u+4]=s,this.uint16[u+5]=o,this.uint16[u+6]=a,this.uint16[u+7]=l,this.uint16[u+8]=c,this.uint16[u+9]=h,t}}Fr.prototype.bytesPerElement=20,Fn("StructArrayLayout10ui20",Fr);class Rr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,s,o,a,l,c,h,u){const d=this.length;return this.resize(d+1),this.emplace(d,t,e,i,n,r,s,o,a,l,c,h,u)}emplace(t,e,i,n,r,s,o,a,l,c,h,u,d){const p=12*t;return this.int16[p+0]=e,this.int16[p+1]=i,this.int16[p+2]=n,this.int16[p+3]=r,this.uint16[p+4]=s,this.uint16[p+5]=o,this.uint16[p+6]=a,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=h,this.int16[p+10]=u,this.int16[p+11]=d,t}}Rr.prototype.bytesPerElement=24,Fn("StructArrayLayout4i4ui4i24",Rr);class Br extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,i){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,i)}emplace(t,e,i,n){const r=3*t;return this.float32[r+0]=e,this.float32[r+1]=i,this.float32[r+2]=n,t}}Br.prototype.bytesPerElement=12,Fn("StructArrayLayout3f12",Br);class Nr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint32[1*t+0]=e,t}}Nr.prototype.bytesPerElement=4,Fn("StructArrayLayout1ul4",Nr);class jr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,s,o,a,l){const c=this.length;return this.resize(c+1),this.emplace(c,t,e,i,n,r,s,o,a,l)}emplace(t,e,i,n,r,s,o,a,l,c){const h=10*t,u=5*t;return this.int16[h+0]=e,this.int16[h+1]=i,this.int16[h+2]=n,this.int16[h+3]=r,this.int16[h+4]=s,this.int16[h+5]=o,this.uint32[u+3]=a,this.uint16[h+8]=l,this.uint16[h+9]=c,t}}jr.prototype.bytesPerElement=20,Fn("StructArrayLayout6i1ul2ui20",jr);class Ur extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,s){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,i,n,r,s)}emplace(t,e,i,n,r,s,o){const a=6*t;return this.int16[a+0]=e,this.int16[a+1]=i,this.int16[a+2]=n,this.int16[a+3]=r,this.int16[a+4]=s,this.int16[a+5]=o,t}}Ur.prototype.bytesPerElement=12,Fn("StructArrayLayout2i2i2i12",Ur);class Vr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r){const s=this.length;return this.resize(s+1),this.emplace(s,t,e,i,n,r)}emplace(t,e,i,n,r,s){const o=4*t,a=8*t;return this.float32[o+0]=e,this.float32[o+1]=i,this.float32[o+2]=n,this.int16[a+6]=r,this.int16[a+7]=s,t}}Vr.prototype.bytesPerElement=16,Fn("StructArrayLayout2f1f2i16",Vr);class $r extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,i,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,i,n)}emplace(t,e,i,n,r){const s=12*t,o=3*t;return this.uint8[s+0]=e,this.uint8[s+1]=i,this.float32[o+1]=n,this.float32[o+2]=r,t}}$r.prototype.bytesPerElement=12,Fn("StructArrayLayout2ub2f12",$r);class Hr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,i)}emplace(t,e,i,n){const r=3*t;return this.uint16[r+0]=e,this.uint16[r+1]=i,this.uint16[r+2]=n,t}}Hr.prototype.bytesPerElement=6,Fn("StructArrayLayout3ui6",Hr);class qr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,s,o,a,l,c,h,u,d,p,f,m,g){const y=this.length;return this.resize(y+1),this.emplace(y,t,e,i,n,r,s,o,a,l,c,h,u,d,p,f,m,g)}emplace(t,e,i,n,r,s,o,a,l,c,h,u,d,p,f,m,g,y){const x=24*t,v=12*t,b=48*t;return this.int16[x+0]=e,this.int16[x+1]=i,this.uint16[x+2]=n,this.uint16[x+3]=r,this.uint32[v+2]=s,this.uint32[v+3]=o,this.uint32[v+4]=a,this.uint16[x+10]=l,this.uint16[x+11]=c,this.uint16[x+12]=h,this.float32[v+7]=u,this.float32[v+8]=d,this.uint8[b+36]=p,this.uint8[b+37]=f,this.uint8[b+38]=m,this.uint32[v+10]=g,this.int16[x+22]=y,t}}qr.prototype.bytesPerElement=48,Fn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",qr);class Gr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,s,o,a,l,c,h,u,d,p,f,m,g,y,x,v,b,_,w,S,C,T,k,A){const I=this.length;return this.resize(I+1),this.emplace(I,t,e,i,n,r,s,o,a,l,c,h,u,d,p,f,m,g,y,x,v,b,_,w,S,C,T,k,A)}emplace(t,e,i,n,r,s,o,a,l,c,h,u,d,p,f,m,g,y,x,v,b,_,w,S,C,T,k,A,I){const M=32*t,P=16*t;return this.int16[M+0]=e,this.int16[M+1]=i,this.int16[M+2]=n,this.int16[M+3]=r,this.int16[M+4]=s,this.int16[M+5]=o,this.int16[M+6]=a,this.int16[M+7]=l,this.uint16[M+8]=c,this.uint16[M+9]=h,this.uint16[M+10]=u,this.uint16[M+11]=d,this.uint16[M+12]=p,this.uint16[M+13]=f,this.uint16[M+14]=m,this.uint16[M+15]=g,this.uint16[M+16]=y,this.uint16[M+17]=x,this.uint16[M+18]=v,this.uint16[M+19]=b,this.uint16[M+20]=_,this.uint16[M+21]=w,this.uint16[M+22]=S,this.uint32[P+12]=C,this.float32[P+13]=T,this.float32[P+14]=k,this.uint16[M+30]=A,this.uint16[M+31]=I,t}}Gr.prototype.bytesPerElement=64,Fn("StructArrayLayout8i15ui1ul2f2ui64",Gr);class Wr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.float32[1*t+0]=e,t}}Wr.prototype.bytesPerElement=4,Fn("StructArrayLayout1f4",Wr);class Xr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,i){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,i)}emplace(t,e,i,n){const r=3*t;return this.uint16[6*t+0]=e,this.float32[r+1]=i,this.float32[r+2]=n,t}}Xr.prototype.bytesPerElement=12,Fn("StructArrayLayout1ui2f12",Xr);class Yr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,i)}emplace(t,e,i,n){const r=4*t;return this.uint32[2*t+0]=e,this.uint16[r+2]=i,this.uint16[r+3]=n,t}}Yr.prototype.bytesPerElement=8,Fn("StructArrayLayout1ul2ui8",Yr);class Zr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e){const i=this.length;return this.resize(i+1),this.emplace(i,t,e)}emplace(t,e,i){const n=2*t;return this.uint16[n+0]=e,this.uint16[n+1]=i,t}}Zr.prototype.bytesPerElement=4,Fn("StructArrayLayout2ui4",Zr);class Kr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint16[1*t+0]=e,t}}Kr.prototype.bytesPerElement=2,Fn("StructArrayLayout1ui2",Kr);class Jr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,i,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,i,n)}emplace(t,e,i,n,r){const s=4*t;return this.float32[s+0]=e,this.float32[s+1]=i,this.float32[s+2]=n,this.float32[s+3]=r,t}}Jr.prototype.bytesPerElement=16,Fn("StructArrayLayout4f16",Jr);class Qr extends kr{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new s(this.anchorPointX,this.anchorPointY)}}Qr.prototype.size=20;class ts extends jr{get(t){return new Qr(this,t)}}Fn("CollisionBoxArray",ts);class es extends kr{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(t){this._structArray.uint8[this._pos1+37]=t}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(t){this._structArray.uint8[this._pos1+38]=t}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(t){this._structArray.uint32[this._pos4+10]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}es.prototype.size=48;class is extends qr{get(t){return new es(this,t)}}Fn("PlacedSymbolArray",is);class ns extends kr{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(t){this._structArray.uint32[this._pos4+12]=t}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}ns.prototype.size=64;class rs extends Gr{get(t){return new ns(this,t)}}Fn("SymbolInstanceArray",rs);class ss extends Wr{getoffsetX(t){return this.float32[1*t+0]}}Fn("GlyphOffsetArray",ss);class os extends Er{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}Fn("SymbolLineVertexArray",os);class as extends kr{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}as.prototype.size=12;class ls extends Xr{get(t){return new as(this,t)}}Fn("TextAnchorOffsetArray",ls);class cs extends kr{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}cs.prototype.size=8;class hs extends Yr{get(t){return new cs(this,t)}}Fn("FeatureIndexArray",hs);class us extends Pr{}class ds extends Pr{}class ps extends Pr{}class fs extends Lr{}class ms extends zr{}class gs extends Or{}class ys extends Fr{}class xs extends Rr{}class vs extends Br{}class bs extends Nr{}class _s extends Ur{}class ws extends $r{}class Ss extends Hr{}class Cs extends Zr{}const Ts=Ir([{name:"a_pos",components:2,type:"Int16"}],4),{members:ks}=Ts;class As{constructor(t=[]){this.segments=t}prepareSegment(t,e,i,n){let r=this.segments[this.segments.length-1];return t>As.MAX_VERTEX_ARRAY_LENGTH&&S(`Max vertices per segment is ${As.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!r||r.vertexLength+t>As.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==n)&&(r={vertexOffset:e.length,primitiveOffset:i.length,vertexLength:0,primitiveLength:0},void 0!==n&&(r.sortKey=n),this.segments.push(r)),r}get(){return this.segments}destroy(){for(const t of this.segments)for(const e in t.vaos)t.vaos[e].destroy()}static simpleSegment(t,e,i,n){return new As([{vertexOffset:t,primitiveOffset:e,vertexLength:i,primitiveLength:n,vaos:{},sortKey:0}])}}function Is(t,e){return 256*(t=m(Math.floor(t),0,255))+m(Math.floor(e),0,255)}As.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Fn("SegmentVector",As);const Ms=Ir([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Ps={exports:{}},Es={exports:{}};Es.exports=function(t,e){var i,n,r,s,o,a,l,c;for(n=t.length-(i=3&t.length),r=e,o=3432918353,a=461845907,c=0;c<n;)l=255&t.charCodeAt(c)|(255&t.charCodeAt(++c))<<8|(255&t.charCodeAt(++c))<<16|(255&t.charCodeAt(++c))<<24,++c,r=27492+(65535&(s=5*(65535&(r=(r^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(s>>>16)&65535)<<16);switch(l=0,i){case 3:l^=(255&t.charCodeAt(c+2))<<16;case 2:l^=(255&t.charCodeAt(c+1))<<8;case 1:r^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(c)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*a+(((l>>>16)*a&65535)<<16)&4294967295}return r^=t.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0};var Ds=Es.exports,Ls={exports:{}};Ls.exports=function(t,e){for(var i,n=t.length,r=e^n,s=0;n>=4;)i=1540483477*(65535&(i=255&t.charCodeAt(s)|(255&t.charCodeAt(++s))<<8|(255&t.charCodeAt(++s))<<16|(255&t.charCodeAt(++s))<<24))+((1540483477*(i>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(i=1540483477*(65535&(i^=i>>>24))+((1540483477*(i>>>16)&65535)<<16)),n-=4,++s;switch(n){case 3:r^=(255&t.charCodeAt(s+2))<<16;case 2:r^=(255&t.charCodeAt(s+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(s)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0};var zs=Ds,Os=Ls.exports;Ps.exports=zs,Ps.exports.murmur3=zs,Ps.exports.murmur2=Os;var Fs=i(Ps.exports);class Rs{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,e,i,n){this.ids.push(Bs(t)),this.positions.push(e,i,n)}getPositions(t){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const e=Bs(t);let i=0,n=this.ids.length-1;for(;i<n;){const t=i+n>>1;this.ids[t]>=e?n=t:i=t+1}const r=[];for(;this.ids[i]===e;)r.push({index:this.positions[3*i],start:this.positions[3*i+1],end:this.positions[3*i+2]}),i++;return r}static serialize(t,e){const i=new Float64Array(t.ids),n=new Uint32Array(t.positions);return Ns(i,n,0,i.length-1),e&&e.push(i.buffer,n.buffer),{ids:i,positions:n}}static deserialize(t){const e=new Rs;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e}}function Bs(t){const e=+t;return!isNaN(e)&&e<=Number.MAX_SAFE_INTEGER?e:Fs(String(t))}function Ns(t,e,i,n){for(;i<n;){const r=t[i+n>>1];let s=i-1,o=n+1;for(;;){do{s++}while(t[s]<r);do{o--}while(t[o]>r);if(s>=o)break;js(t,s,o),js(e,3*s,3*o),js(e,3*s+1,3*o+1),js(e,3*s+2,3*o+2)}o-i<n-o?(Ns(t,e,i,o),i=o+1):(Ns(t,e,o+1,n),n=o)}}function js(t,e,i){const n=t[e];t[e]=t[i],t[i]=n}Fn("FeaturePositionMap",Rs);class Us{constructor(t,e){this.gl=t.gl,this.location=e}}class Vs extends Us{constructor(t,e){super(t,e),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))}}class $s extends Us{constructor(t,e){super(t,e),this.current=[0,0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))}}class Hs extends Us{constructor(t,e){super(t,e),this.current=Zt.transparent}set(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))}}const qs=new Float32Array(16);function Gs(t){return[Is(255*t.r,255*t.g),Is(255*t.b,255*t.a)]}class Ws{constructor(t,e,i){this.value=t,this.uniformNames=e.map((t=>`u_${t}`)),this.type=i}setUniform(t,e,i){t.set(i.constantOr(this.value))}getBinding(t,e,i){return"color"===this.type?new Hs(t,e):new Vs(t,e)}}class Xs{constructor(t,e){this.uniformNames=e.map((t=>`u_${t}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tlbr,this.patternTo=t.tlbr}setUniform(t,e,i,n){const r="u_pattern_to"===n?this.patternTo:"u_pattern_from"===n?this.patternFrom:"u_pixel_ratio_to"===n?this.pixelRatioTo:"u_pixel_ratio_from"===n?this.pixelRatioFrom:null;r&&t.set(r)}getBinding(t,e,i){return"u_pattern"===i.substr(0,9)?new $s(t,e):new Vs(t,e)}}class Ys{constructor(t,e,i,n){this.expression=t,this.type=i,this.maxValue=0,this.paintVertexAttributes=e.map((t=>({name:`a_${t}`,type:"Float32",components:"color"===i?2:1,offset:0}))),this.paintVertexArray=new n}populatePaintArray(t,e,i,n,r){const s=this.paintVertexArray.length,o=this.expression.evaluate(new lr(0),e,{},n,[],r);this.paintVertexArray.resize(t),this._setPaintValue(s,t,o)}updatePaintArray(t,e,i,n){const r=this.expression.evaluate({zoom:0},i,n);this._setPaintValue(t,e,r)}_setPaintValue(t,e,i){if("color"===this.type){const n=Gs(i);for(let i=t;i<e;i++)this.paintVertexArray.emplace(i,n[0],n[1])}else{for(let n=t;n<e;n++)this.paintVertexArray.emplace(n,i);this.maxValue=Math.max(this.maxValue,Math.abs(i))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Zs{constructor(t,e,i,n,r,s){this.expression=t,this.uniformNames=e.map((t=>`u_${t}_t`)),this.type=i,this.useIntegerZoom=n,this.zoom=r,this.maxValue=0,this.paintVertexAttributes=e.map((t=>({name:`a_${t}`,type:"Float32",components:"color"===i?4:2,offset:0}))),this.paintVertexArray=new s}populatePaintArray(t,e,i,n,r){const s=this.expression.evaluate(new lr(this.zoom),e,{},n,[],r),o=this.expression.evaluate(new lr(this.zoom+1),e,{},n,[],r),a=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(a,t,s,o)}updatePaintArray(t,e,i,n){const r=this.expression.evaluate({zoom:this.zoom},i,n),s=this.expression.evaluate({zoom:this.zoom+1},i,n);this._setPaintValue(t,e,r,s)}_setPaintValue(t,e,i,n){if("color"===this.type){const r=Gs(i),s=Gs(n);for(let i=t;i<e;i++)this.paintVertexArray.emplace(i,r[0],r[1],s[0],s[1])}else{for(let r=t;r<e;r++)this.paintVertexArray.emplace(r,i,n);this.maxValue=Math.max(this.maxValue,Math.abs(i),Math.abs(n))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,e){const i=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,n=m(this.expression.interpolationFactor(i,this.zoom,this.zoom+1),0,1);t.set(n)}getBinding(t,e,i){return new Vs(t,e)}}class Ks{constructor(t,e,i,n,r,s){this.expression=t,this.type=e,this.useIntegerZoom=i,this.zoom=n,this.layerId=s,this.zoomInPaintVertexArray=new r,this.zoomOutPaintVertexArray=new r}populatePaintArray(t,e,i){const n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(n,t,e.patterns&&e.patterns[this.layerId],i)}updatePaintArray(t,e,i,n,r){this._setPaintValues(t,e,i.patterns&&i.patterns[this.layerId],r)}_setPaintValues(t,e,i,n){if(!n||!i)return;const{min:r,mid:s,max:o}=i,a=n[r],l=n[s],c=n[o];if(a&&l&&c)for(let h=t;h<e;h++)this.zoomInPaintVertexArray.emplace(h,l.tl[0],l.tl[1],l.br[0],l.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],l.pixelRatio,a.pixelRatio),this.zoomOutPaintVertexArray.emplace(h,l.tl[0],l.tl[1],l.br[0],l.br[1],c.tl[0],c.tl[1],c.br[0],c.br[1],l.pixelRatio,c.pixelRatio)}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,Ms.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,Ms.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Js{constructor(t,e,i){this.binders={},this._buffers=[];const n=[];for(const r in t.paint._values){if(!i(r))continue;const s=t.paint.get(r);if(!(s instanceof mr&&wi(s.property.specification)))continue;const o=to(r,t.type),a=s.value,l=s.property.specification.type,c=s.property.useIntegerZoom,h=s.property.specification["property-type"],u="cross-faded"===h||"cross-faded-data-driven"===h;if("constant"===a.kind)this.binders[r]=u?new Xs(a.value,o):new Ws(a.value,o,l),n.push(`/u_${r}`);else if("source"===a.kind||u){const i=eo(r,l,"source");this.binders[r]=u?new Ks(a,l,c,e,i,t.id):new Ys(a,o,l,i),n.push(`/a_${r}`)}else{const t=eo(r,l,"composite");this.binders[r]=new Zs(a,o,l,c,e,t),n.push(`/z_${r}`)}}this.cacheKey=n.sort().join("")}getMaxValue(t){const e=this.binders[t];return e instanceof Ys||e instanceof Zs?e.maxValue:0}populatePaintArrays(t,e,i,n,r){for(const s in this.binders){const o=this.binders[s];(o instanceof Ys||o instanceof Zs||o instanceof Ks)&&o.populatePaintArray(t,e,i,n,r)}}setConstantPatternPositions(t,e){for(const i in this.binders){const n=this.binders[i];n instanceof Xs&&n.setConstantPatternPositions(t,e)}}updatePaintArrays(t,e,i,n,r){let s=!1;for(const o in t){const a=e.getPositions(o);for(const e of a){const a=i.feature(e.index);for(const i in this.binders){const l=this.binders[i];if((l instanceof Ys||l instanceof Zs||l instanceof Ks)&&!0===l.expression.isStateDependent){const c=n.paint.get(i);l.expression=c.value,l.updatePaintArray(e.start,e.end,a,t[o],r),s=!0}}}}return s}defines(){const t=[];for(const e in this.binders){const i=this.binders[e];(i instanceof Ws||i instanceof Xs)&&t.push(...i.uniformNames.map((t=>`#define HAS_UNIFORM_${t}`)))}return t}getBinderAttributes(){const t=[];for(const e in this.binders){const i=this.binders[e];if(i instanceof Ys||i instanceof Zs)for(let e=0;e<i.paintVertexAttributes.length;e++)t.push(i.paintVertexAttributes[e].name);else if(i instanceof Ks)for(let e=0;e<Ms.members.length;e++)t.push(Ms.members[e].name)}return t}getBinderUniforms(){const t=[];for(const e in this.binders){const i=this.binders[e];if(i instanceof Ws||i instanceof Xs||i instanceof Zs)for(const e of i.uniformNames)t.push(e)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t,e){const i=[];for(const n in this.binders){const r=this.binders[n];if(r instanceof Ws||r instanceof Xs||r instanceof Zs)for(const s of r.uniformNames)if(e[s]){const o=r.getBinding(t,e[s],s);i.push({name:s,property:n,binding:o})}}return i}setUniforms(t,e,i,n){for(const{name:r,property:s,binding:o}of e)this.binders[s].setUniform(o,n,i.get(s),r)}updatePaintBuffers(t){this._buffers=[];for(const e in this.binders){const i=this.binders[e];if(t&&i instanceof Ks){const e=2===t.fromScale?i.zoomInPaintVertexBuffer:i.zoomOutPaintVertexBuffer;e&&this._buffers.push(e)}else(i instanceof Ys||i instanceof Zs)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}}upload(t){for(const e in this.binders){const i=this.binders[e];(i instanceof Ys||i instanceof Zs||i instanceof Ks)&&i.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const e=this.binders[t];(e instanceof Ys||e instanceof Zs||e instanceof Ks)&&e.destroy()}}}class Qs{constructor(t,e,i=(()=>!0)){this.programConfigurations={};for(const n of t)this.programConfigurations[n.id]=new Js(n,e,i);this.needsUpload=!1,this._featureMap=new Rs,this._bufferOffset=0}populatePaintArrays(t,e,i,n,r,s){for(const o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(t,e,n,r,s);void 0!==e.id&&this._featureMap.add(e.id,i,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,e,i,n){for(const r of i)this.needsUpload=this.programConfigurations[r.id].updatePaintArrays(t,this._featureMap,e,r,n)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}function to(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(`${e}-`,"").replace(/-/g,"_")]}function eo(t,e,i){const n={color:{source:Or,composite:Jr},number:{source:Wr,composite:Or}},r=function(t){return{"line-pattern":{source:ys,composite:ys},"fill-pattern":{source:ys,composite:ys},"fill-extrusion-pattern":{source:ys,composite:ys}}[t]}(t);return r&&r[i]||n[e][i]}Fn("ConstantBinder",Ws),Fn("CrossFadedConstantBinder",Xs),Fn("SourceExpressionBinder",Ys),Fn("CrossFadedCompositeBinder",Ks),Fn("CompositeExpressionBinder",Zs),Fn("ProgramConfiguration",Js,{omit:["_buffers"]}),Fn("ProgramConfigurationSet",Qs);const io=8192,no=Math.pow(2,14)-1,ro=-no-1;function so(t){const e=io/t.extent,i=t.loadGeometry();for(let n=0;n<i.length;n++){const t=i[n];for(let i=0;i<t.length;i++){const n=t[i],r=Math.round(n.x*e),s=Math.round(n.y*e);n.x=m(r,ro,no),n.y=m(s,ro,no),(r<n.x||r>n.x+1||s<n.y||s>n.y+1)&&S("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return i}function oo(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?so(t):[]}}function ao(t,e,i,n,r){t.emplaceBack(2*e+(n+1)/2,2*i+(r+1)/2)}class lo{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new ds,this.indexArray=new Ss,this.segments=new As,this.programConfigurations=new Qs(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id))}populate(t,e,i){const n=this.layers[0],r=[];let s=null,o=!1;"circle"===n.type&&(s=n.layout.get("circle-sort-key"),o=!s.isConstant());for(const{feature:a,id:l,index:c,sourceLayerIndex:h}of t){const t=this.layers[0]._featureFilter.needGeometry,e=oo(a,t);if(!this.layers[0]._featureFilter.filter(new lr(this.zoom),e,i))continue;const n=o?s.evaluate(e,{},i):void 0,u={id:l,properties:a.properties,type:a.type,sourceLayerIndex:h,index:c,geometry:t?e.geometry:so(a),patterns:{},sortKey:n};r.push(u)}o&&r.sort(((t,e)=>t.sortKey-e.sortKey));for(const a of r){const{geometry:n,index:r,sourceLayerIndex:s}=a,o=t[r].feature;this.addFeature(a,n,r,i),e.featureIndex.insert(o,n,r,s,this.index)}}update(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ks),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,e,i,n){for(const r of e)for(const e of r){const i=e.x,n=e.y;if(i<0||i>=io||n<0||n>=io)continue;const r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),s=r.vertexLength;ao(this.layoutVertexArray,i,n,-1,-1),ao(this.layoutVertexArray,i,n,1,-1),ao(this.layoutVertexArray,i,n,1,1),ao(this.layoutVertexArray,i,n,-1,1),this.indexArray.emplaceBack(s,s+1,s+2),this.indexArray.emplaceBack(s,s+3,s+2),r.vertexLength+=4,r.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,{},n)}}function co(t,e){for(let i=0;i<t.length;i++)if(vo(e,t[i]))return!0;for(let i=0;i<e.length;i++)if(vo(t,e[i]))return!0;return!!fo(t,e)}function ho(t,e,i){return!!vo(t,e)||!!go(e,t,i)}function uo(t,e){if(1===t.length)return xo(e,t[0]);for(let i=0;i<e.length;i++){const n=e[i];for(let e=0;e<n.length;e++)if(vo(t,n[e]))return!0}for(let i=0;i<t.length;i++)if(xo(e,t[i]))return!0;for(let i=0;i<e.length;i++)if(fo(t,e[i]))return!0;return!1}function po(t,e,i){if(t.length>1){if(fo(t,e))return!0;for(let n=0;n<e.length;n++)if(go(e[n],t,i))return!0}for(let n=0;n<t.length;n++)if(go(t[n],e,i))return!0;return!1}function fo(t,e){if(0===t.length||0===e.length)return!1;for(let i=0;i<t.length-1;i++){const n=t[i],r=t[i+1];for(let t=0;t<e.length-1;t++)if(mo(n,r,e[t],e[t+1]))return!0}return!1}function mo(t,e,i,n){return C(t,i,n)!==C(e,i,n)&&C(t,e,i)!==C(t,e,n)}function go(t,e,i){const n=i*i;if(1===e.length)return t.distSqr(e[0])<n;for(let r=1;r<e.length;r++)if(yo(t,e[r-1],e[r])<n)return!0;return!1}function yo(t,e,i){const n=e.distSqr(i);if(0===n)return t.distSqr(e);const r=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;return t.distSqr(r<0?e:r>1?i:i.sub(e)._mult(r)._add(e))}function xo(t,e){let i,n,r,s=!1;for(let o=0;o<t.length;o++){i=t[o];for(let t=0,o=i.length-1;t<i.length;o=t++)n=i[t],r=i[o],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(s=!s)}return s}function vo(t,e){let i=!1;for(let n=0,r=t.length-1;n<t.length;r=n++){const s=t[n],o=t[r];s.y>e.y!=o.y>e.y&&e.x<(o.x-s.x)*(e.y-s.y)/(o.y-s.y)+s.x&&(i=!i)}return i}function bo(t,e,i){const n=i[0],r=i[2];if(t.x<n.x&&e.x<n.x||t.x>r.x&&e.x>r.x||t.y<n.y&&e.y<n.y||t.y>r.y&&e.y>r.y)return!1;const s=C(t,e,i[0]);return s!==C(t,e,i[1])||s!==C(t,e,i[2])||s!==C(t,e,i[3])}function _o(t,e,i){const n=e.paint.get(t).value;return"constant"===n.kind?n.value:i.programConfigurations.get(e.id).getMaxValue(t)}function wo(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function So(t,e,i,n,r){if(!e[0]&&!e[1])return t;const o=s.convert(e)._mult(r);"viewport"===i&&o._rotate(-n);const a=[];for(let s=0;s<t.length;s++)a.push(t[s].sub(o));return a}let Co,To;Fn("CircleBucket",lo,{omit:["layers"]});var ko={get paint(){return To=To||new wr({"circle-radius":new xr(Y.paint_circle["circle-radius"]),"circle-color":new xr(Y.paint_circle["circle-color"]),"circle-blur":new xr(Y.paint_circle["circle-blur"]),"circle-opacity":new xr(Y.paint_circle["circle-opacity"]),"circle-translate":new yr(Y.paint_circle["circle-translate"]),"circle-translate-anchor":new yr(Y.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new yr(Y.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new yr(Y.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new xr(Y.paint_circle["circle-stroke-width"]),"circle-stroke-color":new xr(Y.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new xr(Y.paint_circle["circle-stroke-opacity"])})},get layout(){return Co=Co||new wr({"circle-sort-key":new xr(Y.layout_circle["circle-sort-key"])})}},Ao=1e-6,Io="undefined"!=typeof Float32Array?Float32Array:Array;function Mo(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Po(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],h=e[7],u=e[8],d=e[9],p=e[10],f=e[11],m=e[12],g=e[13],y=e[14],x=e[15],v=i[0],b=i[1],_=i[2],w=i[3];return t[0]=v*n+b*a+_*u+w*m,t[1]=v*r+b*l+_*d+w*g,t[2]=v*s+b*c+_*p+w*y,t[3]=v*o+b*h+_*f+w*x,t[4]=(v=i[4])*n+(b=i[5])*a+(_=i[6])*u+(w=i[7])*m,t[5]=v*r+b*l+_*d+w*g,t[6]=v*s+b*c+_*p+w*y,t[7]=v*o+b*h+_*f+w*x,t[8]=(v=i[8])*n+(b=i[9])*a+(_=i[10])*u+(w=i[11])*m,t[9]=v*r+b*l+_*d+w*g,t[10]=v*s+b*c+_*p+w*y,t[11]=v*o+b*h+_*f+w*x,t[12]=(v=i[12])*n+(b=i[13])*a+(_=i[14])*u+(w=i[15])*m,t[13]=v*r+b*l+_*d+w*g,t[14]=v*s+b*c+_*p+w*y,t[15]=v*o+b*h+_*f+w*x,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Eo,Do=Po;function Lo(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3];return t[0]=i[0]*n+i[4]*r+i[8]*s+i[12]*o,t[1]=i[1]*n+i[5]*r+i[9]*s+i[13]*o,t[2]=i[2]*n+i[6]*r+i[10]*s+i[14]*o,t[3]=i[3]*n+i[7]*r+i[11]*s+i[15]*o,t}Eo=new Io(4),Io!=Float32Array&&(Eo[0]=0,Eo[1]=0,Eo[2]=0,Eo[3]=0);class zo extends Cr{constructor(t){super(t,ko)}createBucket(t){return new lo(t)}queryRadius(t){const e=t;return _o("circle-radius",this,e)+_o("circle-stroke-width",this,e)+wo(this.paint.get("circle-translate"))}queryIntersectsFeature(t,e,i,n,r,s,o,a){const l=So(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),s.angle,o),c=this.paint.get("circle-radius").evaluate(e,i)+this.paint.get("circle-stroke-width").evaluate(e,i),h="map"===this.paint.get("circle-pitch-alignment"),u=h?l:function(t,e){return t.map((t=>Oo(t,e)))}(l,a),d=h?c*o:c;for(const p of n)for(const t of p){const e=h?t:Oo(t,a);let i=d;const n=Lo([],[t.x,t.y,0,1],a);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?i*=n[3]/s.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(i*=s.cameraToCenterDistance/n[3]),ho(u,e,i))return!0}return!1}}function Oo(t,e){const i=Lo([],[t.x,t.y,0,1],e);return new s(i[0]/i[3],i[1]/i[3])}class Fo extends lo{}let Ro;Fn("HeatmapBucket",Fo,{omit:["layers"]});var Bo={get paint(){return Ro=Ro||new wr({"heatmap-radius":new xr(Y.paint_heatmap["heatmap-radius"]),"heatmap-weight":new xr(Y.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new yr(Y.paint_heatmap["heatmap-intensity"]),"heatmap-color":new _r(Y.paint_heatmap["heatmap-color"]),"heatmap-opacity":new yr(Y.paint_heatmap["heatmap-opacity"])})}};function No(t,{width:e,height:i},n,r){if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==e*i*n)throw new RangeError(`mismatched image size. expected: ${r.length} but got: ${e*i*n}`)}else r=new Uint8Array(e*i*n);return t.width=e,t.height=i,t.data=r,t}function jo(t,{width:e,height:i},n){if(e===t.width&&i===t.height)return;const r=No({},{width:e,height:i},n);Uo(t,r,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,e),height:Math.min(t.height,i)},n),t.width=e,t.height=i,t.data=r.data}function Uo(t,e,i,n,r,s){if(0===r.width||0===r.height)return e;if(r.width>t.width||r.height>t.height||i.x>t.width-r.width||i.y>t.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>e.width||r.height>e.height||n.x>e.width-r.width||n.y>e.height-r.height)throw new RangeError("out of range destination coordinates for image copy");const o=t.data,a=e.data;if(o===a)throw new Error("srcData equals dstData, so image is already copied");for(let l=0;l<r.height;l++){const c=((i.y+l)*t.width+i.x)*s,h=((n.y+l)*e.width+n.x)*s;for(let t=0;t<r.width*s;t++)a[h+t]=o[c+t]}return e}class Vo{constructor(t,e){No(this,t,1,e)}resize(t){jo(this,t,1)}clone(){return new Vo({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,i,n,r){Uo(t,e,i,n,r,1)}}class $o{constructor(t,e){No(this,t,4,e)}resize(t){jo(this,t,4)}replace(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new $o({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,i,n,r){Uo(t,e,i,n,r,4)}}function Ho(t){const e={},i=t.resolution||256,n=t.clips?t.clips.length:1,r=t.image||new $o({width:i,height:n});if(Math.log(i)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${i}`);const s=(i,n,s)=>{e[t.evaluationKey]=s;const o=t.expression.evaluate(e);r.data[i+n+0]=Math.floor(255*o.r/o.a),r.data[i+n+1]=Math.floor(255*o.g/o.a),r.data[i+n+2]=Math.floor(255*o.b/o.a),r.data[i+n+3]=Math.floor(255*o.a)};if(t.clips)for(let o=0,a=0;o<n;++o,a+=4*i)for(let e=0,n=0;e<i;e++,n+=4){const r=e/(i-1),{start:l,end:c}=t.clips[o];s(a,n,l*(1-r)+c*r)}else for(let o=0,a=0;o<i;o++,a+=4)s(0,a,o/(i-1));return r}Fn("AlphaImage",Vo),Fn("RGBAImage",$o);class qo extends Cr{createBucket(t){return new Fo(t)}constructor(t){super(t,Bo),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){"heatmap-color"===t&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Ho({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}let Go;var Wo={get paint(){return Go=Go||new wr({"hillshade-illumination-direction":new yr(Y.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new yr(Y.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new yr(Y.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new yr(Y.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new yr(Y.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new yr(Y.paint_hillshade["hillshade-accent-color"])})}};class Xo extends Cr{constructor(t){super(t,Wo)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}const Yo=Ir([{name:"a_pos",components:2,type:"Int16"}],4),{members:Zo}=Yo;var Ko={exports:{}};function Jo(t,e,i){i=i||2;var n,r,s,o,a,l,c,h=e&&e.length,u=h?e[0]*i:t.length,d=Qo(t,0,u,i,!0),p=[];if(!d||d.next===d.prev)return p;if(h&&(d=function(t,e,i,n){var r,s,o,a=[];for(r=0,s=e.length;r<s;r++)(o=Qo(t,e[r]*n,r<s-1?e[r+1]*n:t.length,n,!1))===o.next&&(o.steiner=!0),a.push(ha(o));for(a.sort(oa),r=0;r<a.length;r++)i=aa(a[r],i);return i}(t,e,d,i)),t.length>80*i){n=s=t[0],r=o=t[1];for(var f=i;f<u;f+=i)(a=t[f])<n&&(n=a),(l=t[f+1])<r&&(r=l),a>s&&(s=a),l>o&&(o=l);c=0!==(c=Math.max(s-n,o-r))?32767/c:0}return ea(d,p,i,n,r,c,0),p}function Qo(t,e,i,n,r){var s,o;if(r===Sa(t,e,i,n)>0)for(s=e;s<i;s+=n)o=ba(s,t[s],t[s+1],o);else for(s=i-n;s>=e;s-=n)o=ba(s,t[s],t[s+1],o);return o&&fa(o,o.next)&&(_a(o),o=o.next),o}function ta(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!fa(n,n.next)&&0!==pa(n.prev,n,n.next))n=n.next;else{if(_a(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function ea(t,e,i,n,r,s,o){if(t){!o&&s&&function(t,e,i,n){var r=t;do{0===r.z&&(r.z=ca(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,s,o,a,l,c=1;do{for(i=t,t=null,s=null,o=0;i;){for(o++,n=i,a=0,e=0;e<c&&(a++,n=n.nextZ);e++);for(l=c;a>0||l>0&&n;)0!==a&&(0===l||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;i=n}s.nextZ=null,c*=2}while(o>1)}(r)}(t,n,r,s);for(var a,l,c=t;t.prev!==t.next;)if(a=t.prev,l=t.next,s?na(t,n,r,s):ia(t))e.push(a.i/i|0),e.push(t.i/i|0),e.push(l.i/i|0),_a(t),t=l.next,c=l.next;else if((t=l)===c){o?1===o?ea(t=ra(ta(t),e,i),e,i,n,r,s,2):2===o&&sa(t,e,i,n,r,s):ea(ta(t),e,i,n,r,s,1);break}}}function ia(t){var e=t.prev,i=t,n=t.next;if(pa(e,i,n)>=0)return!1;for(var r=e.x,s=i.x,o=n.x,a=e.y,l=i.y,c=n.y,h=r<s?r<o?r:o:s<o?s:o,u=a<l?a<c?a:c:l<c?l:c,d=r>s?r>o?r:o:s>o?s:o,p=a>l?a>c?a:c:l>c?l:c,f=n.next;f!==e;){if(f.x>=h&&f.x<=d&&f.y>=u&&f.y<=p&&ua(r,a,s,l,o,c,f.x,f.y)&&pa(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function na(t,e,i,n){var r=t.prev,s=t,o=t.next;if(pa(r,s,o)>=0)return!1;for(var a=r.x,l=s.x,c=o.x,h=r.y,u=s.y,d=o.y,p=a<l?a<c?a:c:l<c?l:c,f=h<u?h<d?h:d:u<d?u:d,m=a>l?a>c?a:c:l>c?l:c,g=h>u?h>d?h:d:u>d?u:d,y=ca(p,f,e,i,n),x=ca(m,g,e,i,n),v=t.prevZ,b=t.nextZ;v&&v.z>=y&&b&&b.z<=x;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==r&&v!==o&&ua(a,h,l,u,c,d,v.x,v.y)&&pa(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==r&&b!==o&&ua(a,h,l,u,c,d,b.x,b.y)&&pa(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;v&&v.z>=y;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==r&&v!==o&&ua(a,h,l,u,c,d,v.x,v.y)&&pa(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;b&&b.z<=x;){if(b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==r&&b!==o&&ua(a,h,l,u,c,d,b.x,b.y)&&pa(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function ra(t,e,i){var n=t;do{var r=n.prev,s=n.next.next;!fa(r,s)&&ma(r,n,n.next,s)&&xa(r,s)&&xa(s,r)&&(e.push(r.i/i|0),e.push(n.i/i|0),e.push(s.i/i|0),_a(n),_a(n.next),n=t=s),n=n.next}while(n!==t);return ta(n)}function sa(t,e,i,n,r,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&da(o,a)){var l=va(o,a);return o=ta(o,o.next),l=ta(l,l.next),ea(o,e,i,n,r,s,0),void ea(l,e,i,n,r,s,0)}a=a.next}o=o.next}while(o!==t)}function oa(t,e){return t.x-e.x}function aa(t,e){var i=function(t,e){var i,n=e,r=t.x,s=t.y,o=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var a=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>o&&(o=a,i=n.x<n.next.x?n:n.next,a===r))return i}n=n.next}while(n!==e);if(!i)return null;var l,c=i,h=i.x,u=i.y,d=1/0;n=i;do{r>=n.x&&n.x>=h&&r!==n.x&&ua(s<u?r:o,s,h,u,s<u?o:r,s,n.x,n.y)&&(l=Math.abs(s-n.y)/(r-n.x),xa(n,t)&&(l<d||l===d&&(n.x>i.x||n.x===i.x&&la(i,n)))&&(i=n,d=l)),n=n.next}while(n!==c);return i}(t,e);if(!i)return e;var n=va(i,t);return ta(n,n.next),ta(i,i.next)}function la(t,e){return pa(t.prev,t,e.prev)<0&&pa(e.next,t,t.next)<0}function ca(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function ha(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function ua(t,e,i,n,r,s,o,a){return(r-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(i-o)*(e-a)&&(i-o)*(s-a)>=(r-o)*(n-a)}function da(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&ma(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(xa(t,e)&&xa(e,t)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)&&(pa(t.prev,t,e.prev)||pa(t,e.prev,e))||fa(t,e)&&pa(t.prev,t,t.next)>0&&pa(e.prev,e,e.next)>0)}function pa(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function fa(t,e){return t.x===e.x&&t.y===e.y}function ma(t,e,i,n){var r=ya(pa(t,e,i)),s=ya(pa(t,e,n)),o=ya(pa(i,n,t)),a=ya(pa(i,n,e));return r!==s&&o!==a||!(0!==r||!ga(t,i,e))||!(0!==s||!ga(t,n,e))||!(0!==o||!ga(i,t,n))||!(0!==a||!ga(i,e,n))}function ga(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function ya(t){return t>0?1:t<0?-1:0}function xa(t,e){return pa(t.prev,t,t.next)<0?pa(t,e,t.next)>=0&&pa(t,t.prev,e)>=0:pa(t,e,t.prev)<0||pa(t,t.next,e)<0}function va(t,e){var i=new wa(t.i,t.x,t.y),n=new wa(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}function ba(t,e,i,n){var r=new wa(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function _a(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function wa(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Sa(t,e,i,n){for(var r=0,s=e,o=i-n;s<i;s+=n)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}Ko.exports=Jo,Ko.exports.default=Jo,Jo.deviation=function(t,e,i,n){var r=e&&e.length,s=Math.abs(Sa(t,0,r?e[0]*i:t.length,i));if(r)for(var o=0,a=e.length;o<a;o++)s-=Math.abs(Sa(t,e[o]*i,o<a-1?e[o+1]*i:t.length,i));var l=0;for(o=0;o<n.length;o+=3){var c=n[o]*i,h=n[o+1]*i,u=n[o+2]*i;l+=Math.abs((t[c]-t[u])*(t[h+1]-t[c+1])-(t[c]-t[h])*(t[u+1]-t[c+1]))}return 0===s&&0===l?0:Math.abs((l-s)/s)},Jo.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var s=0;s<t[r].length;s++)for(var o=0;o<e;o++)i.vertices.push(t[r][s][o]);r>0&&i.holes.push(n+=t[r-1].length)}return i};var Ca=i(Ko.exports);function Ta(t,e,i,n,r){ka(t,e,i||0,n||t.length-1,r||Ia)}function ka(t,e,i,n,r){for(;n>i;){if(n-i>600){var s=n-i+1,o=e-i+1,a=Math.log(s),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(s-l)/s)*(o-s/2<0?-1:1);ka(t,e,Math.max(i,Math.floor(e-o*l/s+c)),Math.min(n,Math.floor(e+(s-o)*l/s+c)),r)}var h=t[e],u=i,d=n;for(Aa(t,i,e),r(t[n],h)>0&&Aa(t,i,n);u<d;){for(Aa(t,u,d),u++,d--;r(t[u],h)<0;)u++;for(;r(t[d],h)>0;)d--}0===r(t[i],h)?Aa(t,i,d):Aa(t,++d,n),d<=e&&(i=d+1),e<=d&&(n=d-1)}}function Aa(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function Ia(t,e){return t<e?-1:t>e?1:0}function Ma(t,e){const i=t.length;if(i<=1)return[t];const n=[];let r,s;for(let o=0;o<i;o++){const e=T(t[o]);0!==e&&(t[o].area=Math.abs(e),void 0===s&&(s=e<0),s===e<0?(r&&n.push(r),r=[t[o]]):r.push(t[o]))}if(r&&n.push(r),e>1)for(let o=0;o<n.length;o++)n[o].length<=e||(Ta(n[o],e,1,n[o].length-1,Pa),n[o]=n[o].slice(0,e));return n}function Pa(t,e){return e.area-t.area}function Ea(t,e,i){const n=i.patternDependencies;let r=!1;for(const s of e){const e=s.paint.get(`${t}-pattern`);e.isConstant()||(r=!0);const i=e.constantOr(null);i&&(r=!0,n[i.to]=!0,n[i.from]=!0)}return r}function Da(t,e,i,n,r){const s=r.patternDependencies;for(const o of e){const e=o.paint.get(`${t}-pattern`).value;if("constant"!==e.kind){let t=e.evaluate({zoom:n-1},i,{},r.availableImages),a=e.evaluate({zoom:n},i,{},r.availableImages),l=e.evaluate({zoom:n+1},i,{},r.availableImages);t=t&&t.name?t.name:t,a=a&&a.name?a.name:a,l=l&&l.name?l.name:l,s[t]=!0,s[a]=!0,s[l]=!0,i.patterns[o.id]={min:t,mid:a,max:l}}}return i}class La{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ps,this.indexArray=new Ss,this.indexArray2=new Cs,this.programConfigurations=new Qs(t.layers,t.zoom),this.segments=new As,this.segments2=new As,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id))}populate(t,e,i){this.hasPattern=Ea("fill",this.layers,e);const n=this.layers[0].layout.get("fill-sort-key"),r=!n.isConstant(),s=[];for(const{feature:o,id:a,index:l,sourceLayerIndex:c}of t){const t=this.layers[0]._featureFilter.needGeometry,h=oo(o,t);if(!this.layers[0]._featureFilter.filter(new lr(this.zoom),h,i))continue;const u=r?n.evaluate(h,{},i,e.availableImages):void 0,d={id:a,properties:o.properties,type:o.type,sourceLayerIndex:c,index:l,geometry:t?h.geometry:so(o),patterns:{},sortKey:u};s.push(d)}r&&s.sort(((t,e)=>t.sortKey-e.sortKey));for(const o of s){const{geometry:n,index:r,sourceLayerIndex:s}=o;if(this.hasPattern){const t=Da("fill",this.layers,o,this.zoom,e);this.patternFeatures.push(t)}else this.addFeature(o,n,r,i,{});e.featureIndex.insert(t[r].feature,n,r,s,this.index)}}update(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)}addFeatures(t,e,i){for(const n of this.patternFeatures)this.addFeature(n,n.geometry,n.index,e,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Zo),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,e,i,n,r){for(const s of Ma(e,500)){let t=0;for(const a of s)t+=a.length;const e=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),i=e.vertexLength,n=[],r=[];for(const a of s){if(0===a.length)continue;a!==s[0]&&r.push(n.length/2);const t=this.segments2.prepareSegment(a.length,this.layoutVertexArray,this.indexArray2),e=t.vertexLength;this.layoutVertexArray.emplaceBack(a[0].x,a[0].y),this.indexArray2.emplaceBack(e+a.length-1,e),n.push(a[0].x),n.push(a[0].y);for(let i=1;i<a.length;i++)this.layoutVertexArray.emplaceBack(a[i].x,a[i].y),this.indexArray2.emplaceBack(e+i-1,e+i),n.push(a[i].x),n.push(a[i].y);t.vertexLength+=a.length,t.primitiveLength+=a.length}const o=Ca(n,r);for(let s=0;s<o.length;s+=3)this.indexArray.emplaceBack(i+o[s],i+o[s+1],i+o[s+2]);e.vertexLength+=t,e.primitiveLength+=o.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,r,n)}}let za,Oa;Fn("FillBucket",La,{omit:["layers","patternFeatures"]});var Fa={get paint(){return Oa=Oa||new wr({"fill-antialias":new yr(Y.paint_fill["fill-antialias"]),"fill-opacity":new xr(Y.paint_fill["fill-opacity"]),"fill-color":new xr(Y.paint_fill["fill-color"]),"fill-outline-color":new xr(Y.paint_fill["fill-outline-color"]),"fill-translate":new yr(Y.paint_fill["fill-translate"]),"fill-translate-anchor":new yr(Y.paint_fill["fill-translate-anchor"]),"fill-pattern":new vr(Y.paint_fill["fill-pattern"])})},get layout(){return za=za||new wr({"fill-sort-key":new xr(Y.layout_fill["fill-sort-key"])})}};class Ra extends Cr{constructor(t){super(t,Fa)}recalculate(t,e){super.recalculate(t,e);const i=this.paint._values["fill-outline-color"];"constant"===i.value.kind&&void 0===i.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new La(t)}queryRadius(){return wo(this.paint.get("fill-translate"))}queryIntersectsFeature(t,e,i,n,r,s,o){return uo(So(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),s.angle,o),n)}isTileClipped(){return!0}}const Ba=Ir([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Na=Ir([{name:"a_centroid",components:2,type:"Int16"}],4),{members:ja}=Ba;var Ua={},Va=n,$a=Ha;function Ha(t,e,i,n,r){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=r,t.readFields(qa,this,e)}function qa(t,e,i){1==t?e.id=i.readVarint():2==t?function(t,e){for(var i=t.readVarint()+t.pos;t.pos<i;){var n=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[n]=r}}(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function Ga(t){for(var e,i,n=0,r=0,s=t.length,o=s-1;r<s;o=r++)n+=((i=t[o]).x-(e=t[r]).x)*(e.y+i.y);return n}Ha.types=["Unknown","Point","LineString","Polygon"],Ha.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,n=1,r=0,s=0,o=0,a=[];t.pos<i;){if(r<=0){var l=t.readVarint();n=7&l,r=l>>3}if(r--,1===n||2===n)s+=t.readSVarint(),o+=t.readSVarint(),1===n&&(e&&a.push(e),e=[]),e.push(new Va(s,o));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&a.push(e),a},Ha.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,n=0,r=0,s=0,o=1/0,a=-1/0,l=1/0,c=-1/0;t.pos<e;){if(n<=0){var h=t.readVarint();i=7&h,n=h>>3}if(n--,1===i||2===i)(r+=t.readSVarint())<o&&(o=r),r>a&&(a=r),(s+=t.readSVarint())<l&&(l=s),s>c&&(c=s);else if(7!==i)throw new Error("unknown command "+i)}return[o,l,a,c]},Ha.prototype.toGeoJSON=function(t,e,i){var n,r,s=this.extent*Math.pow(2,i),o=this.extent*t,a=this.extent*e,l=this.loadGeometry(),c=Ha.types[this.type];function h(t){for(var e=0;e<t.length;e++){var i=t[e];t[e]=[360*(i.x+o)/s-180,360/Math.PI*Math.atan(Math.exp((180-360*(i.y+a)/s)*Math.PI/180))-90]}}switch(this.type){case 1:var u=[];for(n=0;n<l.length;n++)u[n]=l[n][0];h(l=u);break;case 2:for(n=0;n<l.length;n++)h(l[n]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return[t];for(var i,n,r=[],s=0;s<e;s++){var o=Ga(t[s]);0!==o&&(void 0===n&&(n=o<0),n===o<0?(i&&r.push(i),i=[t[s]]):i.push(t[s]))}return i&&r.push(i),r}(l),n=0;n<l.length;n++)for(r=0;r<l[n].length;r++)h(l[n][r])}1===l.length?l=l[0]:c="Multi"+c;var d={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var Wa=$a,Xa=Ya;function Ya(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Za,this,e),this.length=this._features.length}function Za(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(function(t){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}(i))}Ya.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Wa(this._pbf,e,this.extent,this._keys,this._values)};var Ka=Xa;function Ja(t,e,i){if(3===t){var n=new Ka(i,i.readVarint()+i.pos);n.length&&(e[n.name]=n)}}Ua.VectorTile=function(t,e){this.layers=t.readFields(Ja,{},e)},Ua.VectorTileFeature=$a,Ua.VectorTileLayer=Xa;const Qa=Ua.VectorTileFeature.types,tl=Math.pow(2,13);function el(t,e,i,n,r,s,o,a){t.emplaceBack(e,i,2*Math.floor(n*tl)+o,r*tl*2,s*tl*2,Math.round(a))}class il{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new fs,this.centroidVertexArray=new us,this.indexArray=new Ss,this.programConfigurations=new Qs(t.layers,t.zoom),this.segments=new As,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id))}populate(t,e,i){this.features=[],this.hasPattern=Ea("fill-extrusion",this.layers,e);for(const{feature:n,id:r,index:s,sourceLayerIndex:o}of t){const t=this.layers[0]._featureFilter.needGeometry,a=oo(n,t);if(!this.layers[0]._featureFilter.filter(new lr(this.zoom),a,i))continue;const l={id:r,sourceLayerIndex:o,index:s,geometry:t?a.geometry:so(n),properties:n.properties,type:n.type,patterns:{}};this.hasPattern?this.features.push(Da("fill-extrusion",this.layers,l,this.zoom,e)):this.addFeature(l,l.geometry,s,i,{}),e.featureIndex.insert(n,l.geometry,s,o,this.index,!0)}}addFeatures(t,e,i){for(const n of this.features){const{geometry:t}=n;this.addFeature(n,t,n.index,e,i)}}update(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ja),this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,Na.members,!0),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(t,e,i,n,r){const s={x:0,y:0,vertexCount:0};for(const o of Ma(e,500)){let e=0;for(const t of o)e+=t.length;let i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const t of o){if(0===t.length)continue;if(rl(t))continue;let e=0;for(let n=0;n<t.length;n++){const r=t[n];if(n>=1){const o=t[n-1];if(!nl(r,o)){i.vertexLength+4>As.MAX_VERTEX_ARRAY_LENGTH&&(i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const t=r.sub(o)._perp()._unit(),n=o.dist(r);e+n>32768&&(e=0),el(this.layoutVertexArray,r.x,r.y,t.x,t.y,0,0,e),el(this.layoutVertexArray,r.x,r.y,t.x,t.y,0,1,e),s.x+=2*r.x,s.y+=2*r.y,s.vertexCount+=2,e+=n,el(this.layoutVertexArray,o.x,o.y,t.x,t.y,0,0,e),el(this.layoutVertexArray,o.x,o.y,t.x,t.y,0,1,e),s.x+=2*o.x,s.y+=2*o.y,s.vertexCount+=2;const a=i.vertexLength;this.indexArray.emplaceBack(a,a+2,a+1),this.indexArray.emplaceBack(a+1,a+2,a+3),i.vertexLength+=4,i.primitiveLength+=2}}}}if(i.vertexLength+e>As.MAX_VERTEX_ARRAY_LENGTH&&(i=this.segments.prepareSegment(e,this.layoutVertexArray,this.indexArray)),"Polygon"!==Qa[t.type])continue;const n=[],r=[],a=i.vertexLength;for(const t of o)if(0!==t.length){t!==o[0]&&r.push(n.length/2);for(let e=0;e<t.length;e++){const i=t[e];el(this.layoutVertexArray,i.x,i.y,0,0,1,1,0),s.x+=i.x,s.y+=i.y,s.vertexCount+=1,n.push(i.x),n.push(i.y)}}const l=Ca(n,r);for(let t=0;t<l.length;t+=3)this.indexArray.emplaceBack(a+l[t],a+l[t+2],a+l[t+1]);i.primitiveLength+=l.length/3,i.vertexLength+=e}for(let o=0;o<s.vertexCount;o++)this.centroidVertexArray.emplaceBack(Math.floor(s.x/s.vertexCount),Math.floor(s.y/s.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,r,n)}}function nl(t,e){return t.x===e.x&&(t.x<0||t.x>io)||t.y===e.y&&(t.y<0||t.y>io)}function rl(t){return t.every((t=>t.x<0))||t.every((t=>t.x>io))||t.every((t=>t.y<0))||t.every((t=>t.y>io))}let sl;Fn("FillExtrusionBucket",il,{omit:["layers","features"]});var ol={get paint(){return sl=sl||new wr({"fill-extrusion-opacity":new yr(Y["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new xr(Y["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new yr(Y["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new yr(Y["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new vr(Y["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new xr(Y["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new xr(Y["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new yr(Y["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class al extends Cr{constructor(t){super(t,ol)}createBucket(t){return new il(t)}queryRadius(){return wo(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(t,e,i,n,r,o,a,l){const c=So(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,a),h=this.paint.get("fill-extrusion-height").evaluate(e,i),u=this.paint.get("fill-extrusion-base").evaluate(e,i),d=function(t,e,i,n){const r=[];for(const o of t){const t=[o.x,o.y,0,1];Lo(t,t,e),r.push(new s(t[0]/t[3],t[1]/t[3]))}return r}(c,l),p=function(t,e,i,n){const r=[],o=[],a=n[8]*e,l=n[9]*e,c=n[10]*e,h=n[11]*e,u=n[8]*i,d=n[9]*i,p=n[10]*i,f=n[11]*i;for(const m of t){const t=[],e=[];for(const i of m){const r=i.x,o=i.y,m=n[0]*r+n[4]*o+n[12],g=n[1]*r+n[5]*o+n[13],y=n[2]*r+n[6]*o+n[14],x=n[3]*r+n[7]*o+n[15],v=y+c,b=x+h,_=m+u,w=g+d,S=y+p,C=x+f,T=new s((m+a)/b,(g+l)/b);T.z=v/b,t.push(T);const k=new s(_/C,w/C);k.z=S/C,e.push(k)}r.push(t),o.push(e)}return[r,o]}(n,u,h,l);return function(t,e,i){let n=1/0;uo(i,e)&&(n=cl(i,e[0]));for(let r=0;r<e.length;r++){const s=e[r],o=t[r];for(let t=0;t<s.length-1;t++){const e=s[t],r=[e,s[t+1],o[t+1],o[t],e];co(i,r)&&(n=Math.min(n,cl(i,r)))}}return n!==1/0&&n}(p[0],p[1],d)}}function ll(t,e){return t.x*e.x+t.y*e.y}function cl(t,e){if(1===t.length){let i=0;const n=e[i++];let r;for(;!r||n.equals(r);)if(r=e[i++],!r)return 1/0;for(;i<e.length;i++){const s=e[i],o=t[0],a=r.sub(n),l=s.sub(n),c=o.sub(n),h=ll(a,a),u=ll(a,l),d=ll(l,l),p=ll(c,a),f=ll(c,l),m=h*d-u*u,g=(d*p-u*f)/m,y=(h*f-u*p)/m,x=n.z*(1-g-y)+r.z*g+s.z*y;if(isFinite(x))return x}return 1/0}{let t=1/0;for(const i of e)t=Math.min(t,i.z);return t}}const hl=Ir([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:ul}=hl,dl=Ir([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:pl}=dl,fl=Ua.VectorTileFeature.types,ml=Math.cos(Math.PI/180*37.5),gl=Math.pow(2,14)/.5;class yl{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((t=>{this.gradients[t.id]={}})),this.layoutVertexArray=new ms,this.layoutVertexArray2=new gs,this.indexArray=new Ss,this.programConfigurations=new Qs(t.layers,t.zoom),this.segments=new As,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id))}populate(t,e,i){this.hasPattern=Ea("line",this.layers,e);const n=this.layers[0].layout.get("line-sort-key"),r=!n.isConstant(),s=[];for(const{feature:o,id:a,index:l,sourceLayerIndex:c}of t){const t=this.layers[0]._featureFilter.needGeometry,e=oo(o,t);if(!this.layers[0]._featureFilter.filter(new lr(this.zoom),e,i))continue;const h=r?n.evaluate(e,{},i):void 0,u={id:a,properties:o.properties,type:o.type,sourceLayerIndex:c,index:l,geometry:t?e.geometry:so(o),patterns:{},sortKey:h};s.push(u)}r&&s.sort(((t,e)=>t.sortKey-e.sortKey));for(const o of s){const{geometry:n,index:r,sourceLayerIndex:s}=o;if(this.hasPattern){const t=Da("line",this.layers,o,this.zoom,e);this.patternFeatures.push(t)}else this.addFeature(o,n,r,i,{});e.featureIndex.insert(t[r].feature,n,r,s,this.index)}}update(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)}addFeatures(t,e,i){for(const n of this.patternFeatures)this.addFeature(n,n.geometry,n.index,e,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,pl)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ul),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,e,i,n,r){const s=this.layers[0].layout,o=s.get("line-join").evaluate(t,{}),a=s.get("line-cap"),l=s.get("line-miter-limit"),c=s.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const h of e)this.addLine(h,t,o,a,l,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,r,n)}addLine(t,e,i,n,r,s){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let e=0;e<t.length-1;e++)this.totalDistance+=t[e].dist(t[e+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const o="Polygon"===fl[e.type];let a=t.length;for(;a>=2&&t[a-1].equals(t[a-2]);)a--;let l=0;for(;l<a-1&&t[l].equals(t[l+1]);)l++;if(a<(o?3:2))return;"bevel"===i&&(r=1.05);const c=this.overscaling<=16?15*io/(512*this.overscaling):0,h=this.segments.prepareSegment(10*a,this.layoutVertexArray,this.indexArray);let u,d,p,f,m;this.e1=this.e2=-1,o&&(u=t[a-2],m=t[l].sub(u)._unit()._perp());for(let g=l;g<a;g++){if(p=g===a-1?o?t[l+1]:void 0:t[g+1],p&&t[g].equals(p))continue;m&&(f=m),u&&(d=u),u=t[g],m=p?p.sub(u)._unit()._perp():f,f=f||m;let e=f.add(m);0===e.x&&0===e.y||e._unit();const y=f.x*m.x+f.y*m.y,x=e.x*m.x+e.y*m.y,v=0!==x?1/x:1/0,b=2*Math.sqrt(2-2*x),_=x<ml&&d&&p,w=f.x*m.y-f.y*m.x>0;if(_&&g>l){const t=u.dist(d);if(t>2*c){const e=u.sub(u.sub(d)._mult(c/t)._round());this.updateDistance(d,e),this.addCurrentVertex(e,f,0,0,h),d=e}}const S=d&&p;let C=S?i:o?"butt":n;if(S&&"round"===C&&(v<s?C="miter":v<=2&&(C="fakeround")),"miter"===C&&v>r&&(C="bevel"),"bevel"===C&&(v>2&&(C="flipbevel"),v<r&&(C="miter")),d&&this.updateDistance(d,u),"miter"===C)e._mult(v),this.addCurrentVertex(u,e,0,0,h);else if("flipbevel"===C){if(v>100)e=m.mult(-1);else{const t=v*f.add(m).mag()/f.sub(m).mag();e._perp()._mult(t*(w?-1:1))}this.addCurrentVertex(u,e,0,0,h),this.addCurrentVertex(u,e.mult(-1),0,0,h)}else if("bevel"===C||"fakeround"===C){const t=-Math.sqrt(v*v-1),e=w?t:0,i=w?0:t;if(d&&this.addCurrentVertex(u,f,e,i,h),"fakeround"===C){const t=Math.round(180*b/Math.PI/20);for(let e=1;e<t;e++){let i=e/t;if(.5!==i){const t=i-.5;i+=i*t*(i-1)*((1.0904+y*(y*(3.55645-1.43519*y)-3.2452))*t*t+(.848013+y*(.215638*y-1.06021)))}const n=m.sub(f)._mult(i)._add(f)._unit()._mult(w?-1:1);this.addHalfVertex(u,n.x,n.y,!1,w,0,h)}}p&&this.addCurrentVertex(u,m,-e,-i,h)}else if("butt"===C)this.addCurrentVertex(u,e,0,0,h);else if("square"===C){const t=d?1:-1;this.addCurrentVertex(u,e,t,t,h)}else"round"===C&&(d&&(this.addCurrentVertex(u,f,0,0,h),this.addCurrentVertex(u,f,1,1,h,!0)),p&&(this.addCurrentVertex(u,m,-1,-1,h,!0),this.addCurrentVertex(u,m,0,0,h)));if(_&&g<a-1){const t=u.dist(p);if(t>2*c){const e=u.add(p.sub(u)._mult(c/t)._round());this.updateDistance(u,e),this.addCurrentVertex(e,m,0,0,h),u=e}}}}addCurrentVertex(t,e,i,n,r,s=!1){const o=e.y*n-e.x,a=-e.y-e.x*n;this.addHalfVertex(t,e.x+e.y*i,e.y-e.x*i,s,!1,i,r),this.addHalfVertex(t,o,a,s,!0,-n,r),this.distance>gl/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(t,e,i,n,r,s))}addHalfVertex({x:t,y:e},i,n,r,s,o,a){const l=.5*(this.lineClips?this.scaledDistance*(gl-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t<<1)+(r?1:0),(e<<1)+(s?1:0),Math.round(63*i)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&l)<<2,l>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const c=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,c),a.primitiveLength++),s?this.e2=c:this.e1=c}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(t,e){this.distance+=t.dist(e),this.updateScaledDistance()}}let xl,vl;Fn("LineBucket",yl,{omit:["layers","patternFeatures"]});var bl={get paint(){return vl=vl||new wr({"line-opacity":new xr(Y.paint_line["line-opacity"]),"line-color":new xr(Y.paint_line["line-color"]),"line-translate":new yr(Y.paint_line["line-translate"]),"line-translate-anchor":new yr(Y.paint_line["line-translate-anchor"]),"line-width":new xr(Y.paint_line["line-width"]),"line-gap-width":new xr(Y.paint_line["line-gap-width"]),"line-offset":new xr(Y.paint_line["line-offset"]),"line-blur":new xr(Y.paint_line["line-blur"]),"line-dasharray":new br(Y.paint_line["line-dasharray"]),"line-pattern":new vr(Y.paint_line["line-pattern"]),"line-gradient":new _r(Y.paint_line["line-gradient"])})},get layout(){return xl=xl||new wr({"line-cap":new yr(Y.layout_line["line-cap"]),"line-join":new xr(Y.layout_line["line-join"]),"line-miter-limit":new yr(Y.layout_line["line-miter-limit"]),"line-round-limit":new yr(Y.layout_line["line-round-limit"]),"line-sort-key":new xr(Y.layout_line["line-sort-key"])})}};class _l extends xr{possiblyEvaluate(t,e){return e=new lr(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),super.possiblyEvaluate(t,e)}evaluate(t,e,i,n){return e=y({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(t,e,i,n)}}let wl;class Sl extends Cr{constructor(t){super(t,bl),this.gradientVersion=0,wl||(wl=new _l(bl.paint.properties["line-width"].specification),wl.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(t){if("line-gradient"===t){const t=this.gradientExpression();this.stepInterpolant=!!function(t){return void 0!==t._styleExpression}(t)&&t._styleExpression.expression instanceof Ve,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(t,e){super.recalculate(t,e),this.paint._values["line-floorwidth"]=wl.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new yl(t)}queryRadius(t){const e=t,i=Cl(_o("line-width",this,e),_o("line-gap-width",this,e)),n=_o("line-offset",this,e);return i/2+Math.abs(n)+wo(this.paint.get("line-translate"))}queryIntersectsFeature(t,e,i,n,r,o,a){const l=So(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,a),c=a/2*Cl(this.paint.get("line-width").evaluate(e,i),this.paint.get("line-gap-width").evaluate(e,i)),h=this.paint.get("line-offset").evaluate(e,i);return h&&(n=function(t,e){const i=[];for(let n=0;n<t.length;n++){const r=t[n],o=[];for(let t=0;t<r.length;t++){const i=r[t-1],n=r[t],a=r[t+1],l=0===t?new s(0,0):n.sub(i)._unit()._perp(),c=t===r.length-1?new s(0,0):a.sub(n)._unit()._perp(),h=l._add(c)._unit(),u=h.x*c.x+h.y*c.y;0!==u&&h._mult(1/u),o.push(h._mult(e)._add(n))}i.push(o)}return i}(n,h*a)),function(t,e,i){for(let n=0;n<e.length;n++){const r=e[n];if(t.length>=3)for(let e=0;e<r.length;e++)if(vo(t,r[e]))return!0;if(po(t,r,i))return!0}return!1}(l,n,c)}isTileClipped(){return!0}}function Cl(t,e){return e>0?e+2*t:t}const Tl=Ir([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),kl=Ir([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ir([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Al=Ir([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Ir([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Il=Ir([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Ml=Ir([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Pl(t,e,i){return t.sections.forEach((t=>{t.text=function(t,e,i){const n=e.layout.get("text-transform").evaluate(i,{});return"uppercase"===n?t=t.toLocaleUpperCase():"lowercase"===n&&(t=t.toLocaleLowerCase()),ar.applyArabicShaping&&(t=ar.applyArabicShaping(t)),t}(t.text,e,i)})),t}Ir([{name:"triangle",components:3,type:"Uint16"}]),Ir([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ir([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Ir([{type:"Float32",name:"offsetX"}]),Ir([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Ir([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const El={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var Dl=24,Ll=Fl,zl=function(t,e,i,n,r){var s,o,a=8*r-n-1,l=(1<<a)-1,c=l>>1,h=-7,u=i?r-1:0,d=i?-1:1,p=t[e+u];for(u+=d,s=p&(1<<-h)-1,p>>=-h,h+=a;h>0;s=256*s+t[e+u],u+=d,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=n;h>0;o=256*o+t[e+u],u+=d,h-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),s-=c}return(p?-1:1)*o*Math.pow(2,s-n)},Ol=function(t,e,i,n,r,s){var o,a,l,c=8*s-r-1,h=(1<<c)-1,u=h>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,f=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=h?(a=0,o=h):o+u>=1?(a=(e*l-1)*Math.pow(2,r),o+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;t[i+p]=255&a,p+=f,a/=256,r-=8);for(o=o<<r|a,c+=r;c>0;t[i+p]=255&o,p+=f,o/=256,c-=8);t[i+p-f]|=128*m};function Fl(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Fl.Varint=0,Fl.Fixed64=1,Fl.Bytes=2,Fl.Fixed32=5;var Rl=4294967296,Bl=1/Rl,Nl="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function jl(t){return t.type===Fl.Bytes?t.readVarint()+t.pos:t.pos+1}function Ul(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Vl(t,e,i){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));i.realloc(n);for(var r=i.pos-1;r>=t;r--)i.buf[r+n]=i.buf[r]}function $l(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function Hl(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function ql(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function Gl(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function Wl(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function Xl(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function Yl(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function Zl(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function Kl(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function Jl(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Ql(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function tc(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}Fl.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var n=this.readVarint(),r=n>>3,s=this.pos;this.type=7&n,t(r,e,this),this.pos===s&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Jl(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=tc(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Jl(this.buf,this.pos)+Jl(this.buf,this.pos+4)*Rl;return this.pos+=8,t},readSFixed64:function(){var t=Jl(this.buf,this.pos)+tc(this.buf,this.pos+4)*Rl;return this.pos+=8,t},readFloat:function(){var t=zl(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=zl(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,n=this.buf;return e=127&(i=n[this.pos++]),i<128?e:(e|=(127&(i=n[this.pos++]))<<7,i<128?e:(e|=(127&(i=n[this.pos++]))<<14,i<128?e:(e|=(127&(i=n[this.pos++]))<<21,i<128?e:function(t,e,i){var n,r,s=i.buf;if(n=(112&(r=s[i.pos++]))>>4,r<128)return Ul(t,n,e);if(n|=(127&(r=s[i.pos++]))<<3,r<128)return Ul(t,n,e);if(n|=(127&(r=s[i.pos++]))<<10,r<128)return Ul(t,n,e);if(n|=(127&(r=s[i.pos++]))<<17,r<128)return Ul(t,n,e);if(n|=(127&(r=s[i.pos++]))<<24,r<128)return Ul(t,n,e);if(n|=(1&(r=s[i.pos++]))<<31,r<128)return Ul(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&Nl?function(t,e,i){return Nl.decode(t.subarray(e,i))}(this.buf,e,t):function(t,e,i){for(var n="",r=e;r<i;){var s,o,a,l=t[r],c=null,h=l>239?4:l>223?3:l>191?2:1;if(r+h>i)break;1===h?l<128&&(c=l):2===h?128==(192&(s=t[r+1]))&&(c=(31&l)<<6|63&s)<=127&&(c=null):3===h?(o=t[r+2],128==(192&(s=t[r+1]))&&128==(192&o)&&((c=(15&l)<<12|(63&s)<<6|63&o)<=2047||c>=55296&&c<=57343)&&(c=null)):4===h&&(o=t[r+2],a=t[r+3],128==(192&(s=t[r+1]))&&128==(192&o)&&128==(192&a)&&((c=(15&l)<<18|(63&s)<<12|(63&o)<<6|63&a)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,h=1):c>65535&&(c-=65536,n+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),n+=String.fromCharCode(c),r+=h}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Fl.Bytes)return t.push(this.readVarint(e));var i=jl(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Fl.Bytes)return t.push(this.readSVarint());var e=jl(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Fl.Bytes)return t.push(this.readBoolean());var e=jl(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Fl.Bytes)return t.push(this.readFloat());var e=jl(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Fl.Bytes)return t.push(this.readDouble());var e=jl(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Fl.Bytes)return t.push(this.readFixed32());var e=jl(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Fl.Bytes)return t.push(this.readSFixed32());var e=jl(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Fl.Bytes)return t.push(this.readFixed64());var e=jl(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Fl.Bytes)return t.push(this.readSFixed64());var e=jl(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Fl.Varint)for(;this.buf[this.pos++]>127;);else if(e===Fl.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Fl.Fixed32)this.pos+=4;else{if(e!==Fl.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Ql(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Ql(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Ql(this.buf,-1&t,this.pos),Ql(this.buf,Math.floor(t*Bl),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Ql(this.buf,-1&t,this.pos),Ql(this.buf,Math.floor(t*Bl),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var i,n;if(t>=0?(i=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(i=~(-t%4294967296))?i=i+1|0:(i=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,i){i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,i.buf[i.pos]=127&(t>>>=7)}(i,0,e),function(t,e){var i=(7&t)<<4;e.buf[e.pos++]|=i|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,i){for(var n,r,s=0;s<e.length;s++){if((n=e.charCodeAt(s))>55295&&n<57344){if(!r){n>56319||s+1===e.length?(t[i++]=239,t[i++]=191,t[i++]=189):r=n;continue}if(n<56320){t[i++]=239,t[i++]=191,t[i++]=189,r=n;continue}n=r-55296<<10|n-56320|65536,r=null}else r&&(t[i++]=239,t[i++]=191,t[i++]=189,r=null);n<128?t[i++]=n:(n<2048?t[i++]=n>>6|192:(n<65536?t[i++]=n>>12|224:(t[i++]=n>>18|240,t[i++]=n>>12&63|128),t[i++]=n>>6&63|128),t[i++]=63&n|128)}return i}(this.buf,t,this.pos);var i=this.pos-e;i>=128&&Vl(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),Ol(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Ol(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var n=this.pos-i;n>=128&&Vl(i,n,this),this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,i){this.writeTag(t,Fl.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,$l,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Hl,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,Wl,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,ql,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Gl,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,Xl,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,Yl,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,Zl,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,Kl,e)},writeBytesField:function(t,e){this.writeTag(t,Fl.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Fl.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Fl.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Fl.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Fl.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Fl.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Fl.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Fl.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Fl.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Fl.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var ec=i(Ll);const ic=3;function nc(t,e,i){1===t&&i.readMessage(rc,e)}function rc(t,e,i){if(3===t){const{id:t,bitmap:n,width:r,height:s,left:o,top:a,advance:l}=i.readMessage(sc,{});e.push({id:t,bitmap:new Vo({width:r+2*ic,height:s+2*ic},n),metrics:{width:r,height:s,left:o,top:a,advance:l}})}}function sc(t,e,i){1===t?e.id=i.readVarint():2===t?e.bitmap=i.readBytes():3===t?e.width=i.readVarint():4===t?e.height=i.readVarint():5===t?e.left=i.readSVarint():6===t?e.top=i.readSVarint():7===t&&(e.advance=i.readVarint())}const oc=ic;function ac(t){let e=0,i=0;for(const o of t)e+=o.w*o.h,i=Math.max(i,o.w);t.sort(((t,e)=>e.h-t.h));const n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),i),h:1/0}];let r=0,s=0;for(const o of t)for(let t=n.length-1;t>=0;t--){const e=n[t];if(!(o.w>e.w||o.h>e.h)){if(o.x=e.x,o.y=e.y,s=Math.max(s,o.y+o.h),r=Math.max(r,o.x+o.w),o.w===e.w&&o.h===e.h){const e=n.pop();t<n.length&&(n[t]=e)}else o.h===e.h?(e.x+=o.w,e.w-=o.w):o.w===e.w?(e.y+=o.h,e.h-=o.h):(n.push({x:e.x+o.w,y:e.y,w:e.w-o.w,h:o.h}),e.y+=o.h,e.h-=o.h);break}}return{w:r,h:s,fill:e/(r*s)||0}}const lc=1;class cc{constructor(t,{pixelRatio:e,version:i,stretchX:n,stretchY:r,content:s}){this.paddedRect=t,this.pixelRatio=e,this.stretchX=n,this.stretchY=r,this.content=s,this.version=i}get tl(){return[this.paddedRect.x+lc,this.paddedRect.y+lc]}get br(){return[this.paddedRect.x+this.paddedRect.w-lc,this.paddedRect.y+this.paddedRect.h-lc]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*lc)/this.pixelRatio,(this.paddedRect.h-2*lc)/this.pixelRatio]}}class hc{constructor(t,e){const i={},n={};this.haveRenderCallbacks=[];const r=[];this.addImages(t,i,r),this.addImages(e,n,r);const{w:s,h:o}=ac(r),a=new $o({width:s||1,height:o||1});for(const l in t){const e=t[l],n=i[l].paddedRect;$o.copy(e.data,a,{x:0,y:0},{x:n.x+lc,y:n.y+lc},e.data)}for(const l in e){const t=e[l],i=n[l].paddedRect,r=i.x+lc,s=i.y+lc,o=t.data.width,c=t.data.height;$o.copy(t.data,a,{x:0,y:0},{x:r,y:s},t.data),$o.copy(t.data,a,{x:0,y:c-1},{x:r,y:s-1},{width:o,height:1}),$o.copy(t.data,a,{x:0,y:0},{x:r,y:s+c},{width:o,height:1}),$o.copy(t.data,a,{x:o-1,y:0},{x:r-1,y:s},{width:1,height:c}),$o.copy(t.data,a,{x:0,y:0},{x:r+o,y:s},{width:1,height:c})}this.image=a,this.iconPositions=i,this.patternPositions=n}addImages(t,e,i){for(const n in t){const r=t[n],s={x:0,y:0,w:r.data.width+2*lc,h:r.data.height+2*lc};i.push(s),e[n]=new cc(s,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(n)}}patchUpdatedImages(t,e){t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const i in t.updatedImages)this.patchUpdatedImage(this.iconPositions[i],t.getImage(i),e),this.patchUpdatedImage(this.patternPositions[i],t.getImage(i),e)}patchUpdatedImage(t,e,i){if(!t||!e)return;if(t.version===e.version)return;t.version=e.version;const[n,r]=t.tl;i.update(e.data,void 0,{x:n,y:r})}}var uc;Fn("ImagePosition",cc),Fn("ImageAtlas",hc),t.ai=void 0,(uc=t.ai||(t.ai={}))[uc.none=0]="none",uc[uc.horizontal=1]="horizontal",uc[uc.vertical=2]="vertical",uc[uc.horizontalOnly=3]="horizontalOnly";const dc=-17;class pc{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(t,e){const i=new pc;return i.scale=t||1,i.fontStack=e,i}static forImage(t){const e=new pc;return e.imageName=t,e}}class fc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,e){const i=new fc;for(let n=0;n<t.sections.length;n++){const r=t.sections[n];r.image?i.addImageSection(r):i.addTextSection(r,e)}return i}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(){this.text=function(t){let e="";for(let i=0;i<t.length;i++){const n=t.charCodeAt(i+1)||null,r=t.charCodeAt(i-1)||null;e+=n&&Gn(n)&&!El[t[i+1]]||r&&Gn(r)&&!El[t[i-1]]||!El[t[i]]?t[i]:El[t[i]]}return e}(this.text)}trim(){let t=0;for(let i=0;i<this.text.length&&gc[this.text.charCodeAt(i)];i++)t++;let e=this.text.length;for(let i=this.text.length-1;i>=0&&i>=t&&gc[this.text.charCodeAt(i)];i--)e--;this.text=this.text.substring(t,e),this.sectionIndex=this.sectionIndex.slice(t,e)}substring(t,e){const i=new fc;return i.text=this.text.substring(t,e),i.sectionIndex=this.sectionIndex.slice(t,e),i.sections=this.sections,i}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((t,e)=>Math.max(t,this.sections[e].scale)),0)}addTextSection(t,e){this.text+=t.text,this.sections.push(pc.forText(t.scale,t.fontStack||e));const i=this.sections.length-1;for(let n=0;n<t.text.length;++n)this.sectionIndex.push(i)}addImageSection(t){const e=t.image?t.image.name:"";if(0===e.length)return void S("Can't add FormattedSection with an empty image.");const i=this.getNextImageSectionCharCode();i?(this.text+=String.fromCharCode(i),this.sections.push(pc.forImage(e)),this.sectionIndex.push(this.sections.length-1)):S("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function mc(e,i,n,r,s,o,a,l,c,h,u,d,p,f,m,g){const y=fc.fromFeature(e,s);let x;d===t.ai.vertical&&y.verticalizePunctuation();const{processBidirectionalText:v,processStyledBidirectionalText:b}=ar;if(v&&1===y.sections.length){x=[];const t=v(y.toString(),Sc(y,h,o,i,r,f,m));for(const e of t){const t=new fc;t.text=e,t.sections=y.sections;for(let i=0;i<e.length;i++)t.sectionIndex.push(0);x.push(t)}}else if(b){x=[];const t=b(y.text,y.sectionIndex,Sc(y,h,o,i,r,f,m));for(const e of t){const t=new fc;t.text=e[0],t.sectionIndex=e[1],t.sections=y.sections,x.push(t)}}else x=function(t,e){const i=[],n=t.text;let r=0;for(const s of e)i.push(t.substring(r,s)),r=s;return r<n.length&&i.push(t.substring(r,n.length)),i}(y,Sc(y,h,o,i,r,f,m));const _=[],w={positionedLines:_,text:y.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:d,iconsInText:!1,verticalizable:!1};return function(e,i,n,r,s,o,a,l,c,h,u,d){let p=0,f=dc,m=0,g=0;const y="right"===l?1:"left"===l?0:.5;let x=0;for(const S of s){S.trim();const s=S.getMaxScale(),a=(s-1)*Dl,l={positionedGlyphs:[],lineOffset:0};e.positionedLines[x]=l;const b=l.positionedGlyphs;let _=0;if(!S.length()){f+=o,++x;continue}for(let o=0;o<S.length();o++){const l=S.getSection(o),m=S.getSectionIndex(o),g=S.getCharCode(o);let y=0,x=null,w=null,C=null,T=Dl;const k=!(c===t.ai.horizontal||!u&&!qn(g)||u&&(gc[g]||(v=g,Un.Arabic(v)||Un["Arabic Supplement"](v)||Un["Arabic Extended-A"](v)||Un["Arabic Presentation Forms-A"](v)||Un["Arabic Presentation Forms-B"](v))));if(l.imageName){const t=r[l.imageName];if(!t)continue;C=l.imageName,e.iconsInText=e.iconsInText||!0,w=t.paddedRect;const i=t.displaySize;l.scale=l.scale*Dl/d,x={width:i[0],height:i[1],left:lc,top:-oc,advance:k?i[1]:i[0]},y=a+(Dl-i[1]*l.scale),T=x.advance;const n=k?i[0]*l.scale-Dl*s:i[1]*l.scale-Dl*s;n>0&&n>_&&(_=n)}else{const t=n[l.fontStack],e=t&&t[g];if(e&&e.rect)w=e.rect,x=e.metrics;else{const t=i[l.fontStack],e=t&&t[g];if(!e)continue;x=e.metrics}y=(s-l.scale)*Dl}k?(e.verticalizable=!0,b.push({glyph:g,imageName:C,x:p,y:f+y,vertical:k,scale:l.scale,fontStack:l.fontStack,sectionIndex:m,metrics:x,rect:w}),p+=T*l.scale+h):(b.push({glyph:g,imageName:C,x:p,y:f+y,vertical:k,scale:l.scale,fontStack:l.fontStack,sectionIndex:m,metrics:x,rect:w}),p+=x.advance*l.scale+h)}0!==b.length&&(m=Math.max(p-h,m),Tc(b,0,b.length-1,y,_)),p=0;const w=o*s+_;l.lineOffset=Math.max(_,a),f+=w,g=Math.max(w,g),++x}var v;const b=f-dc,{horizontalAlign:_,verticalAlign:w}=Cc(a);(function(t,e,i,n,r,s,o,a,l){const c=(e-i)*r;let h=0;h=s!==o?-a*n-dc:(-n*l+.5)*o;for(const u of t)for(const t of u.positionedGlyphs)t.x+=c,t.y+=h})(e.positionedLines,y,_,w,m,g,o,b,s.length),e.top+=-w*b,e.bottom=e.top+b,e.left+=-_*m,e.right=e.left+m}(w,i,n,r,x,a,l,c,d,h,p,g),!function(t){for(const e of t)if(0!==e.positionedGlyphs.length)return!1;return!0}(_)&&w}const gc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},yc={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function xc(t,e,i,n,r,s){if(e.imageName){const t=n[e.imageName];return t?t.displaySize[0]*e.scale*Dl/s+r:0}{const n=i[e.fontStack],s=n&&n[t];return s?s.metrics.advance*e.scale+r:0}}function vc(t,e,i,n){const r=Math.pow(t-e,2);return n?t<e?r/2:2*r:r+Math.abs(i)*i}function bc(t,e,i){let n=0;return 10===t&&(n-=1e4),i&&(n+=150),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function _c(t,e,i,n,r,s){let o=null,a=vc(e,i,r,s);for(const l of n){const t=vc(e-l.x,i,r,s)+l.badness;t<=a&&(o=l,a=t)}return{index:t,x:e,priorBreak:o,badness:a}}function wc(t){return t?wc(t.priorBreak).concat(t.index):[]}function Sc(t,e,i,n,r,s,o){if("point"!==s)return[];if(!t)return[];const a=[],l=function(t,e,i,n,r,s){let o=0;for(let a=0;a<t.length();a++){const i=t.getSection(a);o+=xc(t.getCharCode(a),i,n,r,e,s)}return o/Math.max(1,Math.ceil(o/i))}(t,e,i,n,r,o),c=t.text.indexOf("​")>=0;let h=0;for(let d=0;d<t.length();d++){const i=t.getSection(d),s=t.getCharCode(d);if(gc[s]||(h+=xc(s,i,n,r,e,o)),d<t.length()-1){const e=!((u=s)<11904||!(Un["Bopomofo Extended"](u)||Un.Bopomofo(u)||Un["CJK Compatibility Forms"](u)||Un["CJK Compatibility Ideographs"](u)||Un["CJK Compatibility"](u)||Un["CJK Radicals Supplement"](u)||Un["CJK Strokes"](u)||Un["CJK Symbols and Punctuation"](u)||Un["CJK Unified Ideographs Extension A"](u)||Un["CJK Unified Ideographs"](u)||Un["Enclosed CJK Letters and Months"](u)||Un["Halfwidth and Fullwidth Forms"](u)||Un.Hiragana(u)||Un["Ideographic Description Characters"](u)||Un["Kangxi Radicals"](u)||Un["Katakana Phonetic Extensions"](u)||Un.Katakana(u)||Un["Vertical Forms"](u)||Un["Yi Radicals"](u)||Un["Yi Syllables"](u)));(yc[s]||e||i.imageName)&&a.push(_c(d+1,h,l,a,bc(s,t.getCharCode(d+1),e&&c),!1))}}var u;return wc(_c(t.length(),h,l,a,0,!0))}function Cc(t){let e=.5,i=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:e,verticalAlign:i}}function Tc(t,e,i,n,r){if(!n&&!r)return;const s=t[i],o=(t[i].x+s.metrics.advance*s.scale)*n;for(let a=e;a<=i;a++)t[a].x-=o,t[a].y+=r}function kc(t,e,i){const{horizontalAlign:n,verticalAlign:r}=Cc(i),s=e[0]-t.displaySize[0]*n,o=e[1]-t.displaySize[1]*r;return{image:t,top:o,bottom:o+t.displaySize[1],left:s,right:s+t.displaySize[0]}}function Ac(t,e,i,n,r,s){const o=t.image;let a;if(o.content){const t=o.content,e=o.pixelRatio||1;a=[t[0]/e,t[1]/e,o.displaySize[0]-t[2]/e,o.displaySize[1]-t[3]/e]}const l=e.left*s,c=e.right*s;let h,u,d,p;"width"===i||"both"===i?(p=r[0]+l-n[3],u=r[0]+c+n[1]):(p=r[0]+(l+c-o.displaySize[0])/2,u=p+o.displaySize[0]);const f=e.top*s,m=e.bottom*s;return"height"===i||"both"===i?(h=r[1]+f-n[0],d=r[1]+m+n[2]):(h=r[1]+(f+m-o.displaySize[1])/2,d=h+o.displaySize[1]),{image:o,top:h,right:u,bottom:d,left:p,collisionPadding:a}}const Ic=255,Mc=128,Pc=Ic*Mc;function Ec(t,e){const{expression:i}=e;if("constant"===i.kind)return{kind:"constant",layoutSize:i.evaluate(new lr(t+1))};if("source"===i.kind)return{kind:"source"};{const{zoomStops:e,interpolationType:n}=i;let r=0;for(;r<e.length&&e[r]<=t;)r++;r=Math.max(0,r-1);let s=r;for(;s<e.length&&e[s]<t+1;)s++;s=Math.min(e.length-1,s);const o=e[r],a=e[s];return"composite"===i.kind?{kind:"composite",minZoom:o,maxZoom:a,interpolationType:n}:{kind:"camera",minZoom:o,maxZoom:a,minSize:i.evaluate(new lr(o)),maxSize:i.evaluate(new lr(a)),interpolationType:n}}}function Dc(t,e,i){let n="never";const r=t.get(e);return r?n=r:t.get(i)&&(n="always"),n}const Lc=Ua.VectorTileFeature.types,zc=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Oc(t,e,i,n,r,s,o,a,l,c,h,u,d){const p=a?Math.min(Pc,Math.round(a[0])):0,f=a?Math.min(Pc,Math.round(a[1])):0;t.emplaceBack(e,i,Math.round(32*n),Math.round(32*r),s,o,(p<<1)+(l?1:0),f,16*c,16*h,256*u,256*d)}function Fc(t,e,i){t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i)}function Rc(t){for(const e of t.sections)if(Yn(e.text))return!0;return!1}class Bc{constructor(t){this.layoutVertexArray=new xs,this.indexArray=new Ss,this.programConfigurations=t,this.segments=new As,this.dynamicLayoutVertexArray=new vs,this.opacityVertexArray=new bs,this.hasVisibleVertices=!1,this.placedSymbolArray=new is}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(t,e,i,n){this.isEmpty()||(i&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Tl.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,kl.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,zc,!0),this.opacityVertexBuffer.itemSize=1),(i||n)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Fn("SymbolBuffers",Bc);class Nc{constructor(t,e,i){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new i,this.segments=new As,this.collisionVertexArray=new ws}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Al.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Fn("CollisionBuffers",Nc);class jc{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Mo([]),this.placementViewportMatrix=Mo([]);const i=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ec(this.zoom,i["text-size"]),this.iconSizeData=Ec(this.zoom,i["icon-size"]);const n=this.layers[0].layout,r=n.get("symbol-sort-key"),s=n.get("symbol-z-order");this.canOverlap="never"!==Dc(n,"text-overlap","text-allow-overlap")||"never"!==Dc(n,"icon-overlap","icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==s&&!r.isConstant(),this.sortFeaturesByY=("viewport-y"===s||"auto"===s&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((e=>t.ai[e]))),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.sourceID=e.sourceID}createArrays(){this.text=new Bc(new Qs(this.layers,this.zoom,(t=>/^text/.test(t)))),this.icon=new Bc(new Qs(this.layers,this.zoom,(t=>/^icon/.test(t)))),this.glyphOffsetArray=new ss,this.lineVertexArray=new os,this.symbolInstances=new rs,this.textAnchorOffsets=new ls}calculateGlyphDependencies(t,e,i,n,r){for(let s=0;s<t.length;s++)if(e[t.charCodeAt(s)]=!0,(i||n)&&r){const i=El[t.charAt(s)];i&&(e[i.charCodeAt(0)]=!0)}}populate(e,i,n){const r=this.layers[0],s=r.layout,o=s.get("text-font"),a=s.get("text-field"),l=s.get("icon-image"),c=("constant"!==a.value.kind||a.value.value instanceof Qt&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),h="constant"!==l.value.kind||!!l.value.value||Object.keys(l.parameters).length>0,u=s.get("symbol-sort-key");if(this.features=[],!c&&!h)return;const d=i.iconDependencies,p=i.glyphDependencies,f=i.availableImages,m=new lr(this.zoom);for(const{feature:g,id:y,index:x,sourceLayerIndex:v}of e){const e=r._featureFilter.needGeometry,i=oo(g,e);if(!r._featureFilter.filter(m,i,n))continue;let a,l;if(e||(i.geometry=so(g)),c){const t=r.getValueAndResolveTokens("text-field",i,n,f),e=Qt.factory(t);Rc(e)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===sr()||this.hasRTLText&&ar.isParsed())&&(a=Pl(e,r,i))}if(h){const t=r.getValueAndResolveTokens("icon-image",i,n,f);l=t instanceof ne?t:ne.fromString(t)}if(!a&&!l)continue;const b=this.sortFeaturesByKey?u.evaluate(i,{},n):void 0;if(this.features.push({id:y,text:a,icon:l,index:x,sourceLayerIndex:v,geometry:i.geometry,properties:g.properties,type:Lc[g.type],sortKey:b}),l&&(d[l.name]=!0),a){const e=o.evaluate(i,{},n).join(","),r="viewport"!==s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(t.ai.vertical)>=0;for(const t of a.sections)if(t.image)d[t.image.name]=!0;else{const i=Vn(a.toString()),n=t.fontStack||e,s=p[n]=p[n]||{};this.calculateGlyphDependencies(t.text,s,r,this.allowVerticalPlacement,i)}}}"line"===s.get("symbol-placement")&&(this.features=function(t){const e={},i={},n=[];let r=0;function s(e){n.push(t[e]),r++}function o(t,e,r){const s=i[t];return delete i[t],i[e]=s,n[s].geometry[0].pop(),n[s].geometry[0]=n[s].geometry[0].concat(r[0]),s}function a(t,i,r){const s=e[i];return delete e[i],e[t]=s,n[s].geometry[0].shift(),n[s].geometry[0]=r[0].concat(n[s].geometry[0]),s}function l(t,e,i){const n=i?e[0][e[0].length-1]:e[0][0];return`${t}:${n.x}:${n.y}`}for(let c=0;c<t.length;c++){const h=t[c],u=h.geometry,d=h.text?h.text.toString():null;if(!d){s(c);continue}const p=l(d,u),f=l(d,u,!0);if(p in i&&f in e&&i[p]!==e[f]){const t=a(p,f,u),r=o(p,f,n[t].geometry);delete e[p],delete i[f],i[l(d,n[r].geometry,!0)]=r,n[t].geometry=null}else p in i?o(p,f,u):f in e?a(p,f,u):(s(c),e[p]=r-1,i[f]=r-1)}return n.filter((t=>t.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((t,e)=>t.sortKey-e.sortKey))}update(t,e,i){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,i),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,i))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,e){const i=this.lineVertexArray.length;if(void 0!==t.segment){let i=t.dist(e[t.segment+1]),n=t.dist(e[t.segment]);const r={};for(let s=t.segment+1;s<e.length;s++)r[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s<e.length-1&&(i+=e[s+1].dist(e[s]));for(let s=t.segment||0;s>=0;s--)r[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:n},s>0&&(n+=e[s-1].dist(e[s]));for(let t=0;t<e.length;t++){const e=r[t];this.lineVertexArray.emplaceBack(e.x,e.y,e.tileUnitDistanceFromAnchor)}}return{lineStartIndex:i,lineLength:this.lineVertexArray.length-i}}addSymbols(e,i,n,r,s,o,a,l,c,h,u,d){const p=e.indexArray,f=e.layoutVertexArray,m=e.segments.prepareSegment(4*i.length,f,p,this.canOverlap?o.sortKey:void 0),g=this.glyphOffsetArray.length,y=m.vertexLength,x=this.allowVerticalPlacement&&a===t.ai.vertical?Math.PI/2:0,v=o.text&&o.text.sections;for(let t=0;t<i.length;t++){const{tl:r,tr:s,bl:a,br:c,tex:h,pixelOffsetTL:u,pixelOffsetBR:g,minFontScaleX:y,minFontScaleY:b,glyphOffset:_,isSDF:w,sectionIndex:S}=i[t],C=m.vertexLength,T=_[1];Oc(f,l.x,l.y,r.x,T+r.y,h.x,h.y,n,w,u.x,u.y,y,b),Oc(f,l.x,l.y,s.x,T+s.y,h.x+h.w,h.y,n,w,g.x,u.y,y,b),Oc(f,l.x,l.y,a.x,T+a.y,h.x,h.y+h.h,n,w,u.x,g.y,y,b),Oc(f,l.x,l.y,c.x,T+c.y,h.x+h.w,h.y+h.h,n,w,g.x,g.y,y,b),Fc(e.dynamicLayoutVertexArray,l,x),p.emplaceBack(C,C+1,C+2),p.emplaceBack(C+1,C+2,C+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(_[0]),t!==i.length-1&&S===i[t+1].sectionIndex||e.programConfigurations.populatePaintArrays(f.length,o,o.index,{},d,v&&v[S])}e.placedSymbolArray.emplaceBack(l.x,l.y,g,this.glyphOffsetArray.length-g,y,c,h,l.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,u)}_addCollisionDebugVertex(t,e,i,n,r,s){return e.emplaceBack(0,0),t.emplaceBack(i.x,i.y,n,r,Math.round(s.x),Math.round(s.y))}addCollisionDebugVertices(t,e,i,n,r,o,a){const l=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray),c=l.vertexLength,h=r.layoutVertexArray,u=r.collisionVertexArray,d=a.anchorX,p=a.anchorY;this._addCollisionDebugVertex(h,u,o,d,p,new s(t,e)),this._addCollisionDebugVertex(h,u,o,d,p,new s(i,e)),this._addCollisionDebugVertex(h,u,o,d,p,new s(i,n)),this._addCollisionDebugVertex(h,u,o,d,p,new s(t,n)),l.vertexLength+=4;const f=r.indexArray;f.emplaceBack(c,c+1),f.emplaceBack(c+1,c+2),f.emplaceBack(c+2,c+3),f.emplaceBack(c+3,c),l.primitiveLength+=4}addDebugCollisionBoxes(t,e,i,n){for(let r=t;r<e;r++){const t=this.collisionBoxArray.get(r);this.addCollisionDebugVertices(t.x1,t.y1,t.x2,t.y2,n?this.textCollisionBox:this.iconCollisionBox,t.anchorPoint,i)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Nc(_s,Il.members,Cs),this.iconCollisionBox=new Nc(_s,Il.members,Cs);for(let t=0;t<this.symbolInstances.length;t++){const e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}}_deserializeCollisionBoxesForSymbol(t,e,i,n,r,s,o,a,l){const c={};for(let h=e;h<i;h++){const e=t.get(h);c.textBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,anchorPointX:e.anchorPointX,anchorPointY:e.anchorPointY},c.textFeatureIndex=e.featureIndex;break}for(let h=n;h<r;h++){const e=t.get(h);c.verticalTextBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,anchorPointX:e.anchorPointX,anchorPointY:e.anchorPointY},c.verticalTextFeatureIndex=e.featureIndex;break}for(let h=s;h<o;h++){const e=t.get(h);c.iconBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,anchorPointX:e.anchorPointX,anchorPointY:e.anchorPointY},c.iconFeatureIndex=e.featureIndex;break}for(let h=a;h<l;h++){const e=t.get(h);c.verticalIconBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,anchorPointX:e.anchorPointX,anchorPointY:e.anchorPointY},c.verticalIconFeatureIndex=e.featureIndex;break}return c}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let e=0;e<this.symbolInstances.length;e++){const i=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,i.textBoxStartIndex,i.textBoxEndIndex,i.verticalTextBoxStartIndex,i.verticalTextBoxEndIndex,i.iconBoxStartIndex,i.iconBoxEndIndex,i.verticalIconBoxStartIndex,i.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,e){const i=t.placedSymbolArray.get(e),n=i.vertexStartIndex+4*i.numGlyphs;for(let r=i.vertexStartIndex;r<n;r+=4)t.indexArray.emplaceBack(r,r+1,r+2),t.indexArray.emplaceBack(r+1,r+2,r+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const e=Math.sin(t),i=Math.cos(t),n=[],r=[],s=[];for(let o=0;o<this.symbolInstances.length;++o){s.push(o);const t=this.symbolInstances.get(o);n.push(0|Math.round(e*t.anchorX+i*t.anchorY)),r.push(t.featureIndex)}return s.sort(((t,e)=>n[t]-n[e]||r[e]-r[t])),s}addToSortKeyRanges(t,e){const i=this.sortKeyRanges[this.sortKeyRanges.length-1];i&&i.sortKey===e?i.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const t of this.symbolInstanceIndexes){const e=this.symbolInstances.get(t);this.featureSortOrder.push(e.featureIndex),[e.rightJustifiedTextSymbolIndex,e.centerJustifiedTextSymbolIndex,e.leftJustifiedTextSymbolIndex].forEach(((t,e,i)=>{t>=0&&i.indexOf(t)===e&&this.addIndicesForPlacedSymbol(this.text,t)})),e.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,e.verticalPlacedTextSymbolIndex),e.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.placedIconSymbolIndex),e.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Uc,Vc;Fn("SymbolBucket",jc,{omit:["layers","collisionBoxArray","features","compareText"]}),jc.MAX_GLYPHS=65535,jc.addDynamicAttributes=Fc;var $c={get paint(){return Vc=Vc||new wr({"icon-opacity":new xr(Y.paint_symbol["icon-opacity"]),"icon-color":new xr(Y.paint_symbol["icon-color"]),"icon-halo-color":new xr(Y.paint_symbol["icon-halo-color"]),"icon-halo-width":new xr(Y.paint_symbol["icon-halo-width"]),"icon-halo-blur":new xr(Y.paint_symbol["icon-halo-blur"]),"icon-translate":new yr(Y.paint_symbol["icon-translate"]),"icon-translate-anchor":new yr(Y.paint_symbol["icon-translate-anchor"]),"text-opacity":new xr(Y.paint_symbol["text-opacity"]),"text-color":new xr(Y.paint_symbol["text-color"],{runtimeType:mt,getOverride:t=>t.textColor,hasOverride:t=>!!t.textColor}),"text-halo-color":new xr(Y.paint_symbol["text-halo-color"]),"text-halo-width":new xr(Y.paint_symbol["text-halo-width"]),"text-halo-blur":new xr(Y.paint_symbol["text-halo-blur"]),"text-translate":new yr(Y.paint_symbol["text-translate"]),"text-translate-anchor":new yr(Y.paint_symbol["text-translate-anchor"])})},get layout(){return Uc=Uc||new wr({"symbol-placement":new yr(Y.layout_symbol["symbol-placement"]),"symbol-spacing":new yr(Y.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new yr(Y.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new xr(Y.layout_symbol["symbol-sort-key"]),"symbol-z-order":new yr(Y.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new yr(Y.layout_symbol["icon-allow-overlap"]),"icon-overlap":new yr(Y.layout_symbol["icon-overlap"]),"icon-ignore-placement":new yr(Y.layout_symbol["icon-ignore-placement"]),"icon-optional":new yr(Y.layout_symbol["icon-optional"]),"icon-rotation-alignment":new yr(Y.layout_symbol["icon-rotation-alignment"]),"icon-size":new xr(Y.layout_symbol["icon-size"]),"icon-text-fit":new yr(Y.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new yr(Y.layout_symbol["icon-text-fit-padding"]),"icon-image":new xr(Y.layout_symbol["icon-image"]),"icon-rotate":new xr(Y.layout_symbol["icon-rotate"]),"icon-padding":new xr(Y.layout_symbol["icon-padding"]),"icon-keep-upright":new yr(Y.layout_symbol["icon-keep-upright"]),"icon-offset":new xr(Y.layout_symbol["icon-offset"]),"icon-anchor":new xr(Y.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new yr(Y.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new yr(Y.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new yr(Y.layout_symbol["text-rotation-alignment"]),"text-field":new xr(Y.layout_symbol["text-field"]),"text-font":new xr(Y.layout_symbol["text-font"]),"text-size":new xr(Y.layout_symbol["text-size"]),"text-max-width":new xr(Y.layout_symbol["text-max-width"]),"text-line-height":new yr(Y.layout_symbol["text-line-height"]),"text-letter-spacing":new xr(Y.layout_symbol["text-letter-spacing"]),"text-justify":new xr(Y.layout_symbol["text-justify"]),"text-radial-offset":new xr(Y.layout_symbol["text-radial-offset"]),"text-variable-anchor":new yr(Y.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new xr(Y.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new xr(Y.layout_symbol["text-anchor"]),"text-max-angle":new yr(Y.layout_symbol["text-max-angle"]),"text-writing-mode":new yr(Y.layout_symbol["text-writing-mode"]),"text-rotate":new xr(Y.layout_symbol["text-rotate"]),"text-padding":new yr(Y.layout_symbol["text-padding"]),"text-keep-upright":new yr(Y.layout_symbol["text-keep-upright"]),"text-transform":new xr(Y.layout_symbol["text-transform"]),"text-offset":new xr(Y.layout_symbol["text-offset"]),"text-allow-overlap":new yr(Y.layout_symbol["text-allow-overlap"]),"text-overlap":new yr(Y.layout_symbol["text-overlap"]),"text-ignore-placement":new yr(Y.layout_symbol["text-ignore-placement"]),"text-optional":new yr(Y.layout_symbol["text-optional"])})}};class Hc{constructor(t){if(void 0===t.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=t.property.overrides?t.property.overrides.runtimeType:ut,this.defaultValue=t}evaluate(t){if(t.formattedSection){const e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Fn("FormatSectionOverride",Hc,{omit:["defaultValue"]});class qc extends Cr{constructor(t){super(t,$c)}recalculate(t,e){if(super.recalculate(t,e),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const t=this.layout.get("text-writing-mode");if(t){const e=[];for(const i of t)e.indexOf(i)<0&&e.push(i);this.layout._values["text-writing-mode"]=e}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(t,e,i,n){const r=this.layout.get(t).evaluate(e,{},i,n),s=this._unevaluatedLayout._values[t];return s.isDataDriven()||Oi(s.value)||!r?r:function(t,e){return e.replace(/{([^{}]+)}/g,((e,i)=>t&&i in t?String(t[i]):""))}(e.properties,r)}createBucket(t){return new jc(t)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const t of $c.paint.overridableProperties){if(!qc.hasPaintOverride(this.layout,t))continue;const e=this.paint.get(t),i=new Hc(e),n=new zi(i,e.property.specification);let r=null;r="constant"===e.value.kind||"source"===e.value.kind?new Ri("source",n):new Bi("composite",n,e.value.zoomStops),this.paint._values[t]=new mr(e.property,r,e.parameters)}}_handleOverridablePaintPropertyUpdate(t,e,i){return!(!this.layout||e.isDataDriven()||i.isDataDriven())&&qc.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,e){const i=t.get("text-field"),n=$c.paint.properties[e];let r=!1;const s=t=>{for(const e of t)if(n.overrides&&n.overrides.hasOverride(e))return void(r=!0)};if("constant"===i.value.kind&&i.value.value instanceof Qt)s(i.value.value.sections);else if("source"===i.value.kind){const t=e=>{r||(e instanceof le&&oe(e.value)===vt?s(e.value.sections):e instanceof di?s(e.sections):e.eachChild(t))},e=i.value;e._styleExpression&&t(e._styleExpression.expression)}return r}}let Gc;var Wc={get paint(){return Gc=Gc||new wr({"background-color":new yr(Y.paint_background["background-color"]),"background-pattern":new br(Y.paint_background["background-pattern"]),"background-opacity":new yr(Y.paint_background["background-opacity"])})}};class Xc extends Cr{constructor(t){super(t,Wc)}}let Yc;var Zc={get paint(){return Yc=Yc||new wr({"raster-opacity":new yr(Y.paint_raster["raster-opacity"]),"raster-hue-rotate":new yr(Y.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new yr(Y.paint_raster["raster-brightness-min"]),"raster-brightness-max":new yr(Y.paint_raster["raster-brightness-max"]),"raster-saturation":new yr(Y.paint_raster["raster-saturation"]),"raster-contrast":new yr(Y.paint_raster["raster-contrast"]),"raster-resampling":new yr(Y.paint_raster["raster-resampling"]),"raster-fade-duration":new yr(Y.paint_raster["raster-fade-duration"])})}};class Kc extends Cr{constructor(t){super(t,Zc)}}class Jc extends Cr{constructor(t){super(t,{}),this.onAdd=t=>{this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},this.onRemove=t=>{this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},this.implementation=t}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Qc{constructor(t){this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback()}),0))}remove(){delete this._channel,this._callback=()=>{}}}const th=6371008.8;class eh{constructor(t,e){if(isNaN(t)||isNaN(e))throw new Error(`Invalid LngLat object: (${t}, ${e})`);if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new eh(g(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const e=Math.PI/180,i=this.lat*e,n=t.lat*e,r=Math.sin(i)*Math.sin(n)+Math.cos(i)*Math.cos(n)*Math.cos((t.lng-this.lng)*e);return th*Math.acos(Math.min(r,1))}static convert(t){if(t instanceof eh)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new eh(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new eh(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const ih=2*Math.PI*th;function nh(t){return ih*Math.cos(t*Math.PI/180)}function rh(t){return(180+t)/360}function sh(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function oh(t,e){return t/nh(e)}function ah(t){return 360*t-180}function lh(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}class ch{constructor(t,e,i=0){this.x=+t,this.y=+e,this.z=+i}static fromLngLat(t,e=0){const i=eh.convert(t);return new ch(rh(i.lng),sh(i.lat),oh(e,i.lat))}toLngLat(){return new eh(ah(this.x),lh(this.y))}toAltitude(){return this.z*nh(lh(this.y))}meterInMercatorCoordinateUnits(){return 1/ih*(t=lh(this.y),1/Math.cos(t*Math.PI/180));var t}}function hh(t,e,i){var n=2*Math.PI*6378137/256/Math.pow(2,i);return[t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}class uh{constructor(t,e,i){if(t<0||t>25||i<0||i>=Math.pow(2,t)||e<0||e>=Math.pow(2,t))throw new Error(`x=${e}, y=${i}, z=${t} outside of bounds. 0<=x<${Math.pow(2,t)}, 0<=y<${Math.pow(2,t)} 0<=z<=25 `);this.z=t,this.x=e,this.y=i,this.key=fh(0,t,t,e,i)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,e,i){const n=(s=this.y,o=this.z,a=hh(256*(r=this.x),256*(s=Math.pow(2,o)-s-1),o),l=hh(256*(r+1),256*(s+1),o),a[0]+","+a[1]+","+l[0]+","+l[1]);var r,s,o,a,l;const c=function(t,e,i){let n,r="";for(let s=t;s>0;s--)n=1<<s-1,r+=(e&n?1:0)+(i&n?2:0);return r}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===i?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,e>1?"@2x":"").replace(/{quadkey}/g,c).replace(/{bbox-epsg-3857}/g,n)}isChildOf(t){const e=this.z-t.z;return e>0&&t.x===this.x>>e&&t.y===this.y>>e}getTilePoint(t){const e=Math.pow(2,this.z);return new s((t.x*e-this.x)*io,(t.y*e-this.y)*io)}toString(){return`${this.z}/${this.x}/${this.y}`}}class dh{constructor(t,e){this.wrap=t,this.canonical=e,this.key=fh(t,e.z,e.z,e.x,e.y)}}class ph{constructor(t,e,i,n,r){if(t<i)throw new Error(`overscaledZ should be >= z; overscaledZ = ${t}; z = ${i}`);this.overscaledZ=t,this.wrap=e,this.canonical=new uh(i,+n,+r),this.key=fh(e,t,i,n,r)}clone(){return new ph(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const e=this.canonical.z-t;return t>this.canonical.z?new ph(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ph(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)}calculateScaledKey(t,e){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const i=this.canonical.z-t;return t>this.canonical.z?fh(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y):fh(this.wrap*+e,t,t,this.canonical.x>>i,this.canonical.y>>i)}isChildOf(t){if(t.wrap!==this.wrap)return!1;const e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e}children(t){if(this.overscaledZ>=t)return[new ph(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const e=this.canonical.z+1,i=2*this.canonical.x,n=2*this.canonical.y;return[new ph(e,this.wrap,e,i,n),new ph(e,this.wrap,e,i+1,n),new ph(e,this.wrap,e,i,n+1),new ph(e,this.wrap,e,i+1,n+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new ph(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new ph(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new dh(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(t){return this.canonical.getTilePoint(new ch(t.x-this.wrap,t.y))}}function fh(t,e,i,n,r){(t*=2)<0&&(t=-1*t-1);const s=1<<i;return(s*s*t+s*r+n).toString(36)+i.toString(36)+e.toString(36)}Fn("CanonicalTileID",uh),Fn("OverscaledTileID",ph,{omit:["posMatrix"]});class mh{constructor(t,e,i,n=1,r=1,s=1,o=0){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(i&&!["mapbox","terrarium","custom"].includes(i))return void S(`"${i}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=e.height;const a=this.dim=e.height-2;switch(this.data=new Uint32Array(e.data.buffer),i){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=n,this.greenFactor=r,this.blueFactor=s,this.baseShift=o;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let l=0;l<a;l++)this.data[this._idx(-1,l)]=this.data[this._idx(0,l)],this.data[this._idx(a,l)]=this.data[this._idx(a-1,l)],this.data[this._idx(l,-1)]=this.data[this._idx(l,0)],this.data[this._idx(l,a)]=this.data[this._idx(l,a-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(a,-1)]=this.data[this._idx(a-1,0)],this.data[this._idx(-1,a)]=this.data[this._idx(0,a-1)],this.data[this._idx(a,a)]=this.data[this._idx(a-1,a-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let l=0;l<a;l++)for(let t=0;t<a;t++){const e=this.get(l,t);e>this.max&&(this.max=e),e<this.min&&(this.min=e)}}get(t,e){const i=new Uint8Array(this.data.buffer),n=4*this._idx(t,e);return this.unpack(i[n],i[n+1],i[n+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)}unpack(t,e,i){return t*this.redFactor+e*this.greenFactor+i*this.blueFactor-this.baseShift}getPixels(){return new $o({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t,e,i){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let n=e*this.dim,r=e*this.dim+this.dim,s=i*this.dim,o=i*this.dim+this.dim;switch(e){case-1:n=r-1;break;case 1:r=n+1}switch(i){case-1:s=o-1;break;case 1:o=s+1}const a=-e*this.dim,l=-i*this.dim;for(let c=s;c<o;c++)for(let e=n;e<r;e++)this.data[this._idx(e,c)]=t.data[this._idx(e+a,c+l)]}}Fn("DEMData",mh);class gh{constructor(t){this._stringToNumber={},this._numberToString=[];for(let e=0;e<t.length;e++){const i=t[e];this._stringToNumber[i]=e,this._numberToString[e]=i}}encode(t){return this._stringToNumber[t]}decode(t){if(t>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${t} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[t]}}class yh{constructor(t,e,i,n,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=i,t._y=n,this.properties=t.properties,this.id=r}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={geometry:this.geometry};for(const e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t}}class xh{constructor(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new zn(io,16,0),this.grid3D=new zn(io,16,0),this.featureIndexArray=new hs,this.promoteId=e}insert(t,e,i,n,r,s){const o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(i,n,r);const a=s?this.grid3D:this.grid;for(let l=0;l<e.length;l++){const t=e[l],i=[1/0,1/0,-1/0,-1/0];for(let e=0;e<t.length;e++){const n=t[e];i[0]=Math.min(i[0],n.x),i[1]=Math.min(i[1],n.y),i[2]=Math.max(i[2],n.x),i[3]=Math.max(i[3],n.y)}i[0]<io&&i[1]<io&&i[2]>=0&&i[3]>=0&&a.insert(o,i[0],i[1],i[2],i[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Ua.VectorTile(new ec(this.rawTileData)).layers,this.sourceLayerCoder=new gh(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(t,e,i,n){this.loadVTLayers();const r=t.params||{},o=io/t.tileSize/t.scale,a=Hi(r.filter),l=t.queryGeometry,c=t.queryPadding*o,h=bh(l),u=this.grid.query(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c),d=bh(t.cameraQueryGeometry),p=this.grid3D.query(d.minX-c,d.minY-c,d.maxX+c,d.maxY+c,((e,i,n,r)=>function(t,e,i,n,r){for(const s of t)if(e<=s.x&&i<=s.y&&n>=s.x&&r>=s.y)return!0;const o=[new s(e,i),new s(e,r),new s(n,r),new s(n,i)];if(t.length>2)for(const s of o)if(vo(t,s))return!0;for(let s=0;s<t.length-1;s++)if(bo(t[s],t[s+1],o))return!0;return!1}(t.cameraQueryGeometry,e-c,i-c,n+c,r+c)));for(const s of p)u.push(s);u.sort(_h);const f={};let m;for(let s=0;s<u.length;s++){const c=u[s];if(c===m)continue;m=c;const h=this.featureIndexArray.get(c);let d=null;this.loadMatchingFeature(f,h.bucketIndex,h.sourceLayerIndex,h.featureIndex,a,r.layers,r.availableImages,e,i,n,((e,i,n)=>(d||(d=so(e)),i.queryIntersectsFeature(l,e,n,d,this.z,t.transform,o,t.pixelPosMatrix))))}return f}loadMatchingFeature(t,e,i,n,r,s,o,a,l,c,h){const u=this.bucketLayerIDs[e];if(s&&!function(t,e){for(let i=0;i<t.length;i++)if(e.indexOf(t[i])>=0)return!0;return!1}(s,u))return;const d=this.sourceLayerCoder.decode(i),p=this.vtLayers[d].feature(n);if(r.needGeometry){const t=oo(p,!0);if(!r.filter(new lr(this.tileID.overscaledZ),t,this.tileID.canonical))return}else if(!r.filter(new lr(this.tileID.overscaledZ),p))return;const f=this.getId(p,d);for(let m=0;m<u.length;m++){const e=u[m];if(s&&s.indexOf(e)<0)continue;const i=a[e];if(!i)continue;let r={};f&&c&&(r=c.getState(i.sourceLayer||"_geojsonTileLayer",f));const d=y({},l[e]);d.paint=vh(d.paint,i.paint,p,r,o),d.layout=vh(d.layout,i.layout,p,r,o);const g=!h||h(p,i,r);if(!g)continue;const x=new yh(p,this.z,this.x,this.y,f);x.layer=d;let v=t[e];void 0===v&&(v=t[e]=[]),v.push({featureIndex:n,feature:x,intersectionZ:g})}}lookupSymbolFeatures(t,e,i,n,r,s,o,a){const l={};this.loadVTLayers();const c=Hi(r);for(const h of t)this.loadMatchingFeature(l,i,n,h,c,s,o,a,e);return l}hasLayer(t){for(const e of this.bucketLayerIDs)for(const i of e)if(t===i)return!0;return!1}getId(t,e){let i=t.id;return this.promoteId&&(i=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]],"boolean"==typeof i&&(i=Number(i))),i}}function vh(t,e,i,n,r){return v(t,((t,s)=>{const o=e instanceof gr?e.get(s):null;return o&&o.evaluate?o.evaluate(i,n,r):o}))}function bh(t){let e=1/0,i=1/0,n=-1/0,r=-1/0;for(const s of t)e=Math.min(e,s.x),i=Math.min(i,s.y),n=Math.max(n,s.x),r=Math.max(r,s.y);return{minX:e,minY:i,maxX:n,maxY:r}}function _h(t,e){return e-t}function wh(t,e,i,n,r){const o=[];for(let a=0;a<t.length;a++){const l=t[a];let c;for(let t=0;t<l.length-1;t++){let a=l[t],h=l[t+1];a.x<e&&h.x<e||(a.x<e?a=new s(e,a.y+(e-a.x)/(h.x-a.x)*(h.y-a.y))._round():h.x<e&&(h=new s(e,a.y+(e-a.x)/(h.x-a.x)*(h.y-a.y))._round()),a.y<i&&h.y<i||(a.y<i?a=new s(a.x+(i-a.y)/(h.y-a.y)*(h.x-a.x),i)._round():h.y<i&&(h=new s(a.x+(i-a.y)/(h.y-a.y)*(h.x-a.x),i)._round()),a.x>=n&&h.x>=n||(a.x>=n?a=new s(n,a.y+(n-a.x)/(h.x-a.x)*(h.y-a.y))._round():h.x>=n&&(h=new s(n,a.y+(n-a.x)/(h.x-a.x)*(h.y-a.y))._round()),a.y>=r&&h.y>=r||(a.y>=r?a=new s(a.x+(r-a.y)/(h.y-a.y)*(h.x-a.x),r)._round():h.y>=r&&(h=new s(a.x+(r-a.y)/(h.y-a.y)*(h.x-a.x),r)._round()),c&&a.equals(c[c.length-1])||(c=[a],o.push(c)),c.push(h)))))}}return o}Fn("FeatureIndex",xh,{omit:["rawTileData","sourceLayerCoder"]});class Sh extends s{constructor(t,e,i,n){super(t,e),this.angle=i,void 0!==n&&(this.segment=n)}clone(){return new Sh(this.x,this.y,this.angle,this.segment)}}function Ch(t,e,i,n,r){if(void 0===e.segment||0===i)return!0;let s=e,o=e.segment+1,a=0;for(;a>-i/2;){if(o--,o<0)return!1;a-=t[o].dist(s),s=t[o]}a+=t[o].dist(t[o+1]),o++;const l=[];let c=0;for(;a<i/2;){const e=t[o],i=t[o+1];if(!i)return!1;let s=t[o-1].angleTo(e)-e.angleTo(i);for(s=Math.abs((s+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:a,angleDelta:s}),c+=s;a-l[0].distance>n;)c-=l.shift().angleDelta;if(c>r)return!1;o++,a+=e.dist(i)}return!0}function Th(t){let e=0;for(let i=0;i<t.length-1;i++)e+=t[i].dist(t[i+1]);return e}function kh(t,e,i){return t?.6*e*i:0}function Ah(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function Ih(t,e,i,n,r,s){const o=kh(i,r,s),a=Ah(i,n)*s;let l=0;const c=Th(t)/2;for(let h=0;h<t.length-1;h++){const i=t[h],n=t[h+1],r=i.dist(n);if(l+r>c){const s=(c-l)/r,u=qe.number(i.x,n.x,s),d=qe.number(i.y,n.y,s),p=new Sh(u,d,n.angleTo(i),h);return p._round(),!o||Ch(t,p,a,o,e)?p:void 0}l+=r}}function Mh(t,e,i,n,r,s,o,a,l){const c=kh(n,s,o),h=Ah(n,r),u=h*o,d=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-u<e/4&&(e=u+e/4),Ph(t,d?e/2*a%e:(h/2+2*s)*o*a%e,e,c,i,u,d,!1,l)}function Ph(t,e,i,n,r,s,o,a,l){const c=s/2,h=Th(t);let u=0,d=e-i,p=[];for(let f=0;f<t.length-1;f++){const e=t[f],o=t[f+1],a=e.dist(o),m=o.angleTo(e);for(;d+i<u+a;){d+=i;const g=(d-u)/a,y=qe.number(e.x,o.x,g),x=qe.number(e.y,o.y,g);if(y>=0&&y<l&&x>=0&&x<l&&d-c>=0&&d+c<=h){const e=new Sh(y,x,m,f);e._round(),n&&!Ch(t,e,s,n,r)||p.push(e)}}u+=a}return a||p.length||o||(p=Ph(t,u/2,i,n,r,s,o,!0,l)),p}Fn("Anchor",Sh);const Eh=lc;function Dh(t,e,i,n){const r=[],o=t.image,a=o.pixelRatio,l=o.paddedRect.w-2*Eh,c=o.paddedRect.h-2*Eh,h=t.right-t.left,u=t.bottom-t.top,d=o.stretchX||[[0,l]],p=o.stretchY||[[0,c]],f=(t,e)=>t+e[1]-e[0],m=d.reduce(f,0),g=p.reduce(f,0),y=l-m,x=c-g;let v=0,b=m,_=0,w=g,S=0,C=y,T=0,k=x;if(o.content&&n){const t=o.content;v=Lh(d,0,t[0]),_=Lh(p,0,t[1]),b=Lh(d,t[0],t[2]),w=Lh(p,t[1],t[3]),S=t[0]-v,T=t[1]-_,C=t[2]-t[0]-b,k=t[3]-t[1]-w}const A=(n,r,l,c)=>{const d=Oh(n.stretch-v,b,h,t.left),p=Fh(n.fixed-S,C,n.stretch,m),f=Oh(r.stretch-_,w,u,t.top),y=Fh(r.fixed-T,k,r.stretch,g),x=Oh(l.stretch-v,b,h,t.left),A=Fh(l.fixed-S,C,l.stretch,m),I=Oh(c.stretch-_,w,u,t.top),M=Fh(c.fixed-T,k,c.stretch,g),P=new s(d,f),E=new s(x,f),D=new s(x,I),L=new s(d,I),z=new s(p/a,y/a),O=new s(A/a,M/a),F=e*Math.PI/180;if(F){const t=Math.sin(F),e=Math.cos(F),i=[e,-t,t,e];P._matMult(i),E._matMult(i),L._matMult(i),D._matMult(i)}const R=n.stretch+n.fixed,B=r.stretch+r.fixed;return{tl:P,tr:E,bl:L,br:D,tex:{x:o.paddedRect.x+Eh+R,y:o.paddedRect.y+Eh+B,w:l.stretch+l.fixed-R,h:c.stretch+c.fixed-B},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:z,pixelOffsetBR:O,minFontScaleX:C/a/h,minFontScaleY:k/a/u,isSDF:i}};if(n&&(o.stretchX||o.stretchY)){const t=zh(d,y,m),e=zh(p,x,g);for(let i=0;i<t.length-1;i++){const n=t[i],s=t[i+1];for(let t=0;t<e.length-1;t++)r.push(A(n,e[t],s,e[t+1]))}}else r.push(A({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:c+1}));return r}function Lh(t,e,i){let n=0;for(const r of t)n+=Math.max(e,Math.min(i,r[1]))-Math.max(e,Math.min(i,r[0]));return n}function zh(t,e,i){const n=[{fixed:-Eh,stretch:0}];for(const[r,s]of t){const t=n[n.length-1];n.push({fixed:r-t.stretch,stretch:t.stretch}),n.push({fixed:r-t.stretch,stretch:t.stretch+(s-r)})}return n.push({fixed:e+Eh,stretch:i}),n}function Oh(t,e,i,n){return t/e*i+n}function Fh(t,e,i,n){return t-e*i/n}class Rh{constructor(t,e,i,n,r,o,a,l,c,h){if(this.boxStartIndex=t.length,c){let t=o.top,e=o.bottom;const i=o.collisionPadding;i&&(t-=i[1],e+=i[3]);let n=e-t;n>0&&(n=Math.max(10,n),this.circleDiameter=n)}else{let c=o.top*a-l[0],u=o.bottom*a+l[2],d=o.left*a-l[3],p=o.right*a+l[1];const f=o.collisionPadding;if(f&&(d-=f[0]*a,c-=f[1]*a,p+=f[2]*a,u+=f[3]*a),h){const t=new s(d,c),e=new s(p,c),i=new s(d,u),n=new s(p,u),r=h*Math.PI/180;t._rotate(r),e._rotate(r),i._rotate(r),n._rotate(r),d=Math.min(t.x,e.x,i.x,n.x),p=Math.max(t.x,e.x,i.x,n.x),c=Math.min(t.y,e.y,i.y,n.y),u=Math.max(t.y,e.y,i.y,n.y)}t.emplaceBack(e.x,e.y,d,c,p,u,i,n,r)}this.boxEndIndex=t.length}}class Bh{constructor(t=[],e=Nh){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let i=(this.length>>1)-1;i>=0;i--)this._down(i)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:i}=this,n=e[t];for(;t>0;){const r=t-1>>1,s=e[r];if(i(n,s)>=0)break;e[t]=s,t=r}e[t]=n}_down(t){const{data:e,compare:i}=this,n=this.length>>1,r=e[t];for(;t<n;){let n=1+(t<<1),s=e[n];const o=n+1;if(o<this.length&&i(e[o],s)<0&&(n=o,s=e[o]),i(s,r)>=0)break;e[t]=s,t=n}e[t]=r}}function Nh(t,e){return t<e?-1:t>e?1:0}function jh(t,e=1,i=!1){let n=1/0,r=1/0,o=-1/0,a=-1/0;const l=t[0];for(let s=0;s<l.length;s++){const t=l[s];(!s||t.x<n)&&(n=t.x),(!s||t.y<r)&&(r=t.y),(!s||t.x>o)&&(o=t.x),(!s||t.y>a)&&(a=t.y)}const c=Math.min(o-n,a-r);let h=c/2;const u=new Bh([],Uh);if(0===c)return new s(n,r);for(let s=n;s<o;s+=c)for(let e=r;e<a;e+=c)u.push(new Vh(s+h,e+h,h,t));let d=function(t){let e=0,i=0,n=0;const r=t[0];for(let s=0,o=r.length,a=o-1;s<o;a=s++){const t=r[s],o=r[a],l=t.x*o.y-o.x*t.y;i+=(t.x+o.x)*l,n+=(t.y+o.y)*l,e+=3*l}return new Vh(i/e,n/e,0,t)}(t),p=u.length;for(;u.length;){const n=u.pop();(n.d>d.d||!d.d)&&(d=n,i&&console.log("found best %d after %d probes",Math.round(1e4*n.d)/1e4,p)),n.max-d.d<=e||(h=n.h/2,u.push(new Vh(n.p.x-h,n.p.y-h,h,t)),u.push(new Vh(n.p.x+h,n.p.y-h,h,t)),u.push(new Vh(n.p.x-h,n.p.y+h,h,t)),u.push(new Vh(n.p.x+h,n.p.y+h,h,t)),p+=4)}return i&&(console.log(`num probes: ${p}`),console.log(`best distance: ${d.d}`)),d.p}function Uh(t,e){return e.max-t.max}function Vh(t,e,i,n){this.p=new s(t,e),this.h=i,this.d=function(t,e){let i=!1,n=1/0;for(let r=0;r<e.length;r++){const s=e[r];for(let e=0,r=s.length,o=r-1;e<r;o=e++){const r=s[e],a=s[o];r.y>t.y!=a.y>t.y&&t.x<(a.x-r.x)*(t.y-r.y)/(a.y-r.y)+r.x&&(i=!i),n=Math.min(n,yo(t,r,a))}}return(i?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}var $h;t.aq=void 0,($h=t.aq||(t.aq={}))[$h.center=1]="center",$h[$h.left=2]="left",$h[$h.right=3]="right",$h[$h.top=4]="top",$h[$h.bottom=5]="bottom",$h[$h["top-left"]=6]="top-left",$h[$h["top-right"]=7]="top-right",$h[$h["bottom-left"]=8]="bottom-left",$h[$h["bottom-right"]=9]="bottom-right";const Hh=7,qh=Number.POSITIVE_INFINITY;function Gh(t,e){return e[1]!==qh?function(t,e,i){let n=0,r=0;switch(e=Math.abs(e),i=Math.abs(i),t){case"top-right":case"top-left":case"top":r=i-Hh;break;case"bottom-right":case"bottom-left":case"bottom":r=-i+Hh}switch(t){case"top-right":case"bottom-right":case"right":n=-e;break;case"top-left":case"bottom-left":case"left":n=e}return[n,r]}(t,e[0],e[1]):function(t,e){let i=0,n=0;e<0&&(e=0);const r=e/Math.SQRT2;switch(t){case"top-right":case"top-left":n=r-Hh;break;case"bottom-right":case"bottom-left":n=-r+Hh;break;case"bottom":n=-e+Hh;break;case"top":n=e-Hh}switch(t){case"top-right":case"bottom-right":i=-r;break;case"top-left":case"bottom-left":i=r;break;case"left":i=e;break;case"right":i=-e}return[i,n]}(t,e[0])}function Wh(t,e,i){var n;const r=t.layout,s=null===(n=r.get("text-variable-anchor-offset"))||void 0===n?void 0:n.evaluate(e,{},i);if(s){const t=s.values,e=[];for(let i=0;i<t.length;i+=2){const n=e[i]=t[i],r=t[i+1].map((t=>t*Dl));n.startsWith("top")?r[1]-=Hh:n.startsWith("bottom")&&(r[1]+=Hh),e[i+1]=r}return new ie(e)}const o=r.get("text-variable-anchor");if(o){let n;n=void 0!==t._unevaluatedLayout.getValue("text-radial-offset")?[r.get("text-radial-offset").evaluate(e,{},i)*Dl,qh]:r.get("text-offset").evaluate(e,{},i).map((t=>t*Dl));const s=[];for(const t of o)s.push(t,Gh(t,n));return new ie(s)}return null}function Xh(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Yh(e,i,n,r,s,o,a,l,c,h,u){let d=o.textMaxSize.evaluate(i,{});void 0===d&&(d=a);const p=e.layers[0].layout,f=p.get("icon-offset").evaluate(i,{},u),m=Kh(n.horizontal),g=a/24,y=e.tilePixelRatio*g,x=e.tilePixelRatio*d/24,v=e.tilePixelRatio*l,b=e.tilePixelRatio*p.get("symbol-spacing"),_=p.get("text-padding")*e.tilePixelRatio,w=function(t,e,i,n=1){const r=t.get("icon-padding").evaluate(e,{},i),s=r&&r.values;return[s[0]*n,s[1]*n,s[2]*n,s[3]*n]}(p,i,u,e.tilePixelRatio),C=p.get("text-max-angle")/180*Math.PI,T="viewport"!==p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),k="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),A=p.get("symbol-placement"),I=b/2,M=p.get("icon-text-fit");let P;r&&"none"!==M&&(e.allowVerticalPlacement&&n.vertical&&(P=Ac(r,n.vertical,M,p.get("icon-text-fit-padding"),f,g)),m&&(r=Ac(r,m,M,p.get("icon-text-fit-padding"),f,g)));const E=(l,d)=>{d.x<0||d.x>=io||d.y<0||d.y>=io||function(e,i,n,r,s,o,a,l,c,h,u,d,p,f,m,g,y,x,v,b,_,w,C,T,k){const A=e.addToLineVertexArray(i,n);let I,M,P,E,D=0,L=0,z=0,O=0,F=-1,R=-1;const B={};let N=Fs("");if(e.allowVerticalPlacement&&r.vertical){const t=l.layout.get("text-rotate").evaluate(_,{},T)+90;P=new Rh(c,i,h,u,d,r.vertical,p,f,m,t),a&&(E=new Rh(c,i,h,u,d,a,y,x,m,t))}if(s){const n=l.layout.get("icon-rotate").evaluate(_,{}),r="none"!==l.layout.get("icon-text-fit"),o=Dh(s,n,C,r),p=a?Dh(a,n,C,r):void 0;M=new Rh(c,i,h,u,d,s,y,x,!1,n),D=4*o.length;const f=e.iconSizeData;let m=null;"source"===f.kind?(m=[Mc*l.layout.get("icon-size").evaluate(_,{})],m[0]>Pc&&S(`${e.layerIds[0]}: Value for "icon-size" is >= ${Ic}. Reduce your "icon-size".`)):"composite"===f.kind&&(m=[Mc*w.compositeIconSizes[0].evaluate(_,{},T),Mc*w.compositeIconSizes[1].evaluate(_,{},T)],(m[0]>Pc||m[1]>Pc)&&S(`${e.layerIds[0]}: Value for "icon-size" is >= ${Ic}. Reduce your "icon-size".`)),e.addSymbols(e.icon,o,m,b,v,_,t.ai.none,i,A.lineStartIndex,A.lineLength,-1,T),F=e.icon.placedSymbolArray.length-1,p&&(L=4*p.length,e.addSymbols(e.icon,p,m,b,v,_,t.ai.vertical,i,A.lineStartIndex,A.lineLength,-1,T),R=e.icon.placedSymbolArray.length-1)}const j=Object.keys(r.horizontal);for(const S of j){const n=r.horizontal[S];if(!I){N=Fs(n.text);const t=l.layout.get("text-rotate").evaluate(_,{},T);I=new Rh(c,i,h,u,d,n,p,f,m,t)}const s=1===n.positionedLines.length;if(z+=Zh(e,i,n,o,l,m,_,g,A,r.vertical?t.ai.horizontal:t.ai.horizontalOnly,s?j:[S],B,F,w,T),s)break}r.vertical&&(O+=Zh(e,i,r.vertical,o,l,m,_,g,A,t.ai.vertical,["vertical"],B,R,w,T));const U=I?I.boxStartIndex:e.collisionBoxArray.length,V=I?I.boxEndIndex:e.collisionBoxArray.length,$=P?P.boxStartIndex:e.collisionBoxArray.length,H=P?P.boxEndIndex:e.collisionBoxArray.length,q=M?M.boxStartIndex:e.collisionBoxArray.length,G=M?M.boxEndIndex:e.collisionBoxArray.length,W=E?E.boxStartIndex:e.collisionBoxArray.length,X=E?E.boxEndIndex:e.collisionBoxArray.length;let Y=-1;const Z=(t,e)=>t&&t.circleDiameter?Math.max(t.circleDiameter,e):e;Y=Z(I,Y),Y=Z(P,Y),Y=Z(M,Y),Y=Z(E,Y);const K=Y>-1?1:0;K&&(Y*=k/Dl),e.glyphOffsetArray.length>=jc.MAX_GLYPHS&&S("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==_.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,_.sortKey);const J=Wh(l,_,T),[Q,tt]=function(e,i){const n=e.length,r=null==i?void 0:i.values;if((null==r?void 0:r.length)>0)for(let s=0;s<r.length;s+=2){const i=r[s+1];e.emplaceBack(t.aq[r[s]],i[0],i[1])}return[n,e.length]}(e.textAnchorOffsets,J);e.symbolInstances.emplaceBack(i.x,i.y,B.right>=0?B.right:-1,B.center>=0?B.center:-1,B.left>=0?B.left:-1,B.vertical||-1,F,R,N,U,V,$,H,q,G,W,X,h,z,O,D,L,K,0,p,Y,Q,tt)}(e,d,l,n,r,s,P,e.layers[0],e.collisionBoxArray,i.index,i.sourceLayerIndex,e.index,y,[_,_,_,_],T,c,v,w,k,f,i,o,h,u,a)};if("line"===A)for(const t of wh(i.geometry,0,0,io,io)){const i=Mh(t,b,C,n.vertical||m,r,24,x,e.overscaling,io);for(const n of i)m&&Jh(e,m.text,I,n)||E(t,n)}else if("line-center"===A){for(const t of i.geometry)if(t.length>1){const e=Ih(t,C,n.vertical||m,r,24,x);e&&E(t,e)}}else if("Polygon"===i.type)for(const t of Ma(i.geometry,0)){const e=jh(t,16);E(t[0],new Sh(e.x,e.y,0))}else if("LineString"===i.type)for(const t of i.geometry)E(t,new Sh(t[0].x,t[0].y,0));else if("Point"===i.type)for(const t of i.geometry)for(const e of t)E([e],new Sh(e.x,e.y,0))}function Zh(t,e,i,n,r,o,a,l,c,h,u,d,p,f,m){const g=function(t,e,i,n,r,o,a,l){const c=n.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,h=[];for(const u of e.positionedLines)for(const t of u.positionedGlyphs){if(!t.rect)continue;const n=t.rect||{};let o=oc+1,d=!0,p=1,f=0;const m=(r||l)&&t.vertical,g=t.metrics.advance*t.scale/2;if(l&&e.verticalizable&&(f=u.lineOffset/2-(t.imageName?-(Dl-t.metrics.width*t.scale)/2:(t.scale-1)*Dl)),t.imageName){const e=a[t.imageName];d=e.sdf,p=e.pixelRatio,o=lc/p}const y=r?[t.x+g,t.y]:[0,0];let x=r?[0,0]:[t.x+g+i[0],t.y+i[1]-f],v=[0,0];m&&(v=x,x=[0,0]);const b=t.metrics.isDoubleResolution?2:1,_=(t.metrics.left-o)*t.scale-g+x[0],w=(-t.metrics.top-o)*t.scale+x[1],S=_+n.w/b*t.scale/p,C=w+n.h/b*t.scale/p,T=new s(_,w),k=new s(S,w),A=new s(_,C),I=new s(S,C);if(m){const e=new s(-g,g-dc),i=-Math.PI/2,n=Dl/2-g,r=new s(5-dc-n,-(t.imageName?n:0)),o=new s(...v);T._rotateAround(i,e)._add(r)._add(o),k._rotateAround(i,e)._add(r)._add(o),A._rotateAround(i,e)._add(r)._add(o),I._rotateAround(i,e)._add(r)._add(o)}if(c){const t=Math.sin(c),e=Math.cos(c),i=[e,-t,t,e];T._matMult(i),k._matMult(i),A._matMult(i),I._matMult(i)}const M=new s(0,0),P=new s(0,0);h.push({tl:T,tr:k,bl:A,br:I,tex:n,writingMode:e.writingMode,glyphOffset:y,sectionIndex:t.sectionIndex,isSDF:d,pixelOffsetTL:M,pixelOffsetBR:P,minFontScaleX:0,minFontScaleY:0})}return h}(0,i,l,r,o,a,n,t.allowVerticalPlacement),y=t.textSizeData;let x=null;"source"===y.kind?(x=[Mc*r.layout.get("text-size").evaluate(a,{})],x[0]>Pc&&S(`${t.layerIds[0]}: Value for "text-size" is >= ${Ic}. Reduce your "text-size".`)):"composite"===y.kind&&(x=[Mc*f.compositeTextSizes[0].evaluate(a,{},m),Mc*f.compositeTextSizes[1].evaluate(a,{},m)],(x[0]>Pc||x[1]>Pc)&&S(`${t.layerIds[0]}: Value for "text-size" is >= ${Ic}. Reduce your "text-size".`)),t.addSymbols(t.text,g,x,l,o,a,h,e,c.lineStartIndex,c.lineLength,p,m);for(const s of u)d[s]=t.text.placedSymbolArray.length-1;return 4*g.length}function Kh(t){for(const e in t)return t[e];return null}function Jh(t,e,i,n){const r=t.compareText;if(e in r){const t=r[e];for(let e=t.length-1;e>=0;e--)if(n.dist(t[e])<i)return!0}else r[e]=[];return r[e].push(n),!1}const Qh=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class tu{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[e,i]=new Uint8Array(t,0,2);if(219!==e)throw new Error("Data does not appear to be in a KDBush format.");const n=i>>4;if(1!==n)throw new Error(`Got v${n} data when expected v1.`);const r=Qh[15&i];if(!r)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(t,2,1),[o]=new Uint32Array(t,4,1);return new tu(o,s,r,t)}constructor(t,e=64,i=Float64Array,n){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+e,2),65535),this.ArrayType=i,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const r=Qh.indexOf(this.ArrayType),s=2*t*this.ArrayType.BYTES_PER_ELEMENT,o=t*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-o%8)%8;if(r<0)throw new Error(`Unexpected typed array class: ${i}.`);n&&n instanceof ArrayBuffer?(this.data=n,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+o+a,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+s+o+a),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+o+a,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+r]),new Uint16Array(this.data,2,1)[0]=e,new Uint32Array(this.data,4,1)[0]=t)}add(t,e){const i=this._pos>>1;return this.ids[i]=i,this.coords[this._pos++]=t,this.coords[this._pos++]=e,i}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return eu(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,e,i,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:s,nodeSize:o}=this,a=[0,r.length-1,0],l=[];for(;a.length;){const c=a.pop()||0,h=a.pop()||0,u=a.pop()||0;if(h-u<=o){for(let o=u;o<=h;o++){const a=s[2*o],c=s[2*o+1];a>=t&&a<=i&&c>=e&&c<=n&&l.push(r[o])}continue}const d=u+h>>1,p=s[2*d],f=s[2*d+1];p>=t&&p<=i&&f>=e&&f<=n&&l.push(r[d]),(0===c?t<=p:e<=f)&&(a.push(u),a.push(d-1),a.push(1-c)),(0===c?i>=p:n>=f)&&(a.push(d+1),a.push(h),a.push(1-c))}return l}within(t,e,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:n,coords:r,nodeSize:s}=this,o=[0,n.length-1,0],a=[],l=i*i;for(;o.length;){const c=o.pop()||0,h=o.pop()||0,u=o.pop()||0;if(h-u<=s){for(let i=u;i<=h;i++)su(r[2*i],r[2*i+1],t,e)<=l&&a.push(n[i]);continue}const d=u+h>>1,p=r[2*d],f=r[2*d+1];su(p,f,t,e)<=l&&a.push(n[d]),(0===c?t-i<=p:e-i<=f)&&(o.push(u),o.push(d-1),o.push(1-c)),(0===c?t+i>=p:e+i>=f)&&(o.push(d+1),o.push(h),o.push(1-c))}return a}}function eu(t,e,i,n,r,s){if(r-n<=i)return;const o=n+r>>1;iu(t,e,o,n,r,s),eu(t,e,i,n,o-1,1-s),eu(t,e,i,o+1,r,1-s)}function iu(t,e,i,n,r,s){for(;r>n;){if(r-n>600){const o=r-n+1,a=i-n+1,l=Math.log(o),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(o-c)/o)*(a-o/2<0?-1:1);iu(t,e,i,Math.max(n,Math.floor(i-a*c/o+h)),Math.min(r,Math.floor(i+(o-a)*c/o+h)),s)}const o=e[2*i+s];let a=n,l=r;for(nu(t,e,n,i),e[2*r+s]>o&&nu(t,e,n,r);a<l;){for(nu(t,e,a,l),a++,l--;e[2*a+s]<o;)a++;for(;e[2*l+s]>o;)l--}e[2*n+s]===o?nu(t,e,n,l):(l++,nu(t,e,l,r)),l<=i&&(n=l+1),i<=l&&(r=l-1)}}function nu(t,e,i,n){ru(t,i,n),ru(e,2*i,2*n),ru(e,2*i+1,2*n+1)}function ru(t,e,i){const n=t[e];t[e]=t[i],t[i]=n}function su(t,e,i,n){const r=t-i,s=e-n;return r*r+s*s}var ou;t.bh=void 0,(ou=t.bh||(t.bh={})).create="create",ou.load="load",ou.fullLoad="fullLoad";let au=null,lu=[];const cu=1e3/60,hu="loadTime",uu="fullLoadTime",du={mark(t){performance.mark(t)},frame(t){const e=t;null!=au&&lu.push(e-au),au=e},clearMetrics(){au=null,lu=[],performance.clearMeasures(hu),performance.clearMeasures(uu);for(const e in t.bh)performance.clearMarks(t.bh[e])},getPerformanceMetrics(){performance.measure(hu,t.bh.create,t.bh.load),performance.measure(uu,t.bh.create,t.bh.fullLoad);const e=performance.getEntriesByName(hu)[0].duration,i=performance.getEntriesByName(uu)[0].duration,n=lu.length,r=1/(lu.reduce(((t,e)=>t+e),0)/n/1e3),s=lu.filter((t=>t>cu)).reduce(((t,e)=>t+(e-cu)/cu),0);return{loadTime:e,fullLoadTime:i,fps:r,percentDroppedFrames:s/(n+s)*100,totalFrames:n}}};t.$=function(t,e,i){var n,r,s,o,a,l,c,h,u,d,p,f,m=i[0],g=i[1],y=i[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],h=e[7],u=e[8],d=e[9],p=e[10],f=e[11],t[0]=n=e[0],t[1]=r,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=c,t[7]=h,t[8]=u,t[9]=d,t[10]=p,t[11]=f,t[12]=n*m+a*g+u*y+e[12],t[13]=r*m+l*g+d*y+e[13],t[14]=s*m+c*g+p*y+e[14],t[15]=o*m+h*g+f*y+e[15]),t},t.A=Io,t.B=qe,t.C=class{constructor(t,e,i){this.receive=t=>{const e=t.data,i=e.id;if(i&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[i];const t=this.cancelCallbacks[i];delete this.cancelCallbacks[i],t&&t()}else k()||e.mustQueue?(this.tasks[i]=e,this.taskQueue.push(i),this.invoker.trigger()):this.processTask(i,e)},this.process=()=>{if(!this.taskQueue.length)return;const t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(t,e)},this.target=t,this.parent=e,this.mapId=i,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new Qc(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=k()?t:window}send(t,e,i,n,r=!1){const s=Math.round(1e18*Math.random()).toString(36).substring(0,10);i&&(this.callbacks[s]=i);const o=[],a={id:s,type:t,hasCallback:!!i,targetMapId:n,mustQueue:r,sourceMapId:this.mapId,data:Bn(e,o)};return this.target.postMessage(a,{transfer:o}),{cancel:()=>{i&&delete this.callbacks[s],this.target.postMessage({id:s,type:"<cancel>",targetMapId:n,sourceMapId:this.mapId})}}}processTask(t,e){if("<response>"===e.type){const i=this.callbacks[t];delete this.callbacks[t],i&&(e.error?i(Nn(e.error)):i(null,Nn(e.data)))}else{let i=!1;const n=[],r=e.hasCallback?(e,r)=>{i=!0,delete this.cancelCallbacks[t];const s={id:t,type:"<response>",sourceMapId:this.mapId,error:e?Bn(e):null,data:Bn(r,n)};this.target.postMessage(s,{transfer:n})}:t=>{i=!0};let s=null;const o=Nn(e.data);if(this.parent[e.type])s=this.parent[e.type](e.sourceMapId,o,r);else if("getWorkerSource"in this.parent){const t=e.type.split(".");s=this.parent.getWorkerSource(e.sourceMapId,t[0],o.source)[t[1]](o,r)}else r(new Error(`Could not find function ${e.type}`));!i&&s&&s.cancel&&(this.cancelCallbacks[t]=s.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},t.D=yr,t.E=X,t.F=function(t,e){const i={};for(let n=0;n<e.length;n++){const r=e[n];r in t&&(i[r]=t[r])}return i},t.G=rh,t.H=sh,t.I=cc,t.J=u,t.K=d,t.L=eh,t.M=P,t.N=io,t.O=ph,t.P=s,t.Q=Ir,t.R=$o,t.S=As,t.T=ur,t.U=ch,t.V=class extends Dr{},t.W=uh,t.X=function(t,e){const i=window.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(let n=0;n<t.length;n++){const e=window.document.createElement("source");$(t[n])||(i.crossOrigin="Anonymous"),e.src=t[n],i.appendChild(e)}return{cancel:()=>{}}},t.Y=at,t.Z=function(){var t=new Io(16);return Io!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t._=e,t.a=I,t.a$=class extends Kr{},t.a0=function(t,e,i){var n=i[0],r=i[1],s=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.a1=Po,t.a2=function(){return x++},t.a3=ts,t.a4=jc,t.a5=function(){ar.isLoading()||ar.isLoaded()||"deferred"!==sr()||or()},t.a6=Hi,t.a7=oo,t.a8=lr,t.a9=yh,t.aA=ir,t.aB=function(t){t=t.slice();const e=Object.create(null);for(let i=0;i<t.length;i++)e[t[i].id]=t[i];for(let i=0;i<t.length;i++)"ref"in t[i]&&(t[i]=K(t[i],e[t[i].ref]));return t},t.aC=function(t){if("custom"===t.type)return new Jc(t);switch(t.type){case"background":return new Xc(t);case"circle":return new zo(t);case"fill":return new Ra(t);case"fill-extrusion":return new al(t);case"heatmap":return new qo(t);case"hillshade":return new Xo(t);case"line":return new Sl(t);case"raster":return new Kc(t);case"symbol":return new qc(t)}},t.aD=_,t.aE=function(t,e){if(!t)return[{command:Q.setStyle,args:[e]}];let i=[];try{if(!J(t.version,e.version))return[{command:Q.setStyle,args:[e]}];J(t.center,e.center)||i.push({command:Q.setCenter,args:[e.center]}),J(t.zoom,e.zoom)||i.push({command:Q.setZoom,args:[e.zoom]}),J(t.bearing,e.bearing)||i.push({command:Q.setBearing,args:[e.bearing]}),J(t.pitch,e.pitch)||i.push({command:Q.setPitch,args:[e.pitch]}),J(t.sprite,e.sprite)||i.push({command:Q.setSprite,args:[e.sprite]}),J(t.glyphs,e.glyphs)||i.push({command:Q.setGlyphs,args:[e.glyphs]}),J(t.transition,e.transition)||i.push({command:Q.setTransition,args:[e.transition]}),J(t.light,e.light)||i.push({command:Q.setLight,args:[e.light]});const n={},r=[];!function(t,e,i,n){let r;for(r in e=e||{},t=t||{})Object.prototype.hasOwnProperty.call(t,r)&&(Object.prototype.hasOwnProperty.call(e,r)||et(r,i,n));for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Object.prototype.hasOwnProperty.call(t,r)?J(t[r],e[r])||("geojson"===t[r].type&&"geojson"===e[r].type&&nt(t,e,r)?i.push({command:Q.setGeoJSONSourceData,args:[r,e[r].data]}):it(r,e,i,n)):tt(r,e,i))}(t.sources,e.sources,r,n);const s=[];t.layers&&t.layers.forEach((t=>{n[t.source]?i.push({command:Q.removeLayer,args:[t.id]}):s.push(t)})),i=i.concat(r),function(t,e,i){e=e||[];const n=(t=t||[]).map(st),r=e.map(st),s=t.reduce(ot,{}),o=e.reduce(ot,{}),a=n.slice(),l=Object.create(null);let c,h,u,d,p,f,m;for(c=0,h=0;c<n.length;c++)u=n[c],Object.prototype.hasOwnProperty.call(o,u)?h++:(i.push({command:Q.removeLayer,args:[u]}),a.splice(a.indexOf(u,h),1));for(c=0,h=0;c<r.length;c++)u=r[r.length-1-c],a[a.length-1-c]!==u&&(Object.prototype.hasOwnProperty.call(s,u)?(i.push({command:Q.removeLayer,args:[u]}),a.splice(a.lastIndexOf(u,a.length-h),1)):h++,f=a[a.length-c],i.push({command:Q.addLayer,args:[o[u],f]}),a.splice(a.length-c,0,u),l[u]=!0);for(c=0;c<r.length;c++)if(u=r[c],d=s[u],p=o[u],!l[u]&&!J(d,p))if(J(d.source,p.source)&&J(d["source-layer"],p["source-layer"])&&J(d.type,p.type)){for(m in rt(d.layout,p.layout,i,u,null,Q.setLayoutProperty),rt(d.paint,p.paint,i,u,null,Q.setPaintProperty),J(d.filter,p.filter)||i.push({command:Q.setFilter,args:[u,p.filter]}),J(d.minzoom,p.minzoom)&&J(d.maxzoom,p.maxzoom)||i.push({command:Q.setLayerZoomRange,args:[u,p.minzoom,p.maxzoom]}),d)Object.prototype.hasOwnProperty.call(d,m)&&"layout"!==m&&"paint"!==m&&"filter"!==m&&"metadata"!==m&&"minzoom"!==m&&"maxzoom"!==m&&(0===m.indexOf("paint.")?rt(d[m],p[m],i,u,m.slice(6),Q.setPaintProperty):J(d[m],p[m])||i.push({command:Q.setLayerProperty,args:[u,m,p[m]]}));for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&!Object.prototype.hasOwnProperty.call(d,m)&&"layout"!==m&&"paint"!==m&&"filter"!==m&&"metadata"!==m&&"minzoom"!==m&&"maxzoom"!==m&&(0===m.indexOf("paint.")?rt(d[m],p[m],i,u,m.slice(6),Q.setPaintProperty):J(d[m],p[m])||i.push({command:Q.setLayerProperty,args:[u,m,p[m]]}))}else i.push({command:Q.removeLayer,args:[u]}),f=a[a.lastIndexOf(u)+1],i.push({command:Q.addLayer,args:[p,f]})}(s,e.layers,i)}catch(t){console.warn("Unable to compute style diff:",t),i=[{command:Q.setStyle,args:[e]}]}return i},t.aF=function(t){const e=[],i=t.id;return void 0===i&&e.push({message:`layers.${i}: missing required property "id"`}),void 0===t.render&&e.push({message:`layers.${i}: missing required method "render"`}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:`layers.${i}: property "renderingMode" must be either "2d" or "3d"`}),e},t.aG=function t(e,i){if(Array.isArray(e)){if(!Array.isArray(i)||e.length!==i.length)return!1;for(let n=0;n<e.length;n++)if(!t(e[n],i[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==i){if("object"!=typeof i)return!1;if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const n in e)if(!t(e[n],i[n]))return!1;return!0}return e===i},t.aH=v,t.aI=b,t.aJ=rr,t.aK=function(t){return t({pluginStatus:tr,pluginURL:er}),rr.on("pluginStateChange",t),t},t.aL=class extends Us{constructor(t,e){super(t,e),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))}},t.aM=Vs,t.aN=class extends Us{constructor(t,e){super(t,e),this.current=qs}set(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(let e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}}},t.aO=$s,t.aP=class extends Us{constructor(t,e){super(t,e),this.current=[0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))}},t.aQ=class extends Us{constructor(t,e){super(t,e),this.current=[0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))}},t.aR=Hs,t.aS=function(t,e,i,n,r,s,o){var a=1/(e-i),l=1/(n-r),c=1/(s-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+i)*a,t[13]=(r+n)*l,t[14]=(o+s)*c,t[15]=1,t},t.aT=Zt,t.aU=Do,t.aV=class extends Vr{},t.aW=Ml,t.aX=class extends Hr{},t.aY=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.aZ=Ho,t.a_=us,t.aa=function(t){const e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((t,i,n,r)=>{const s=n||r;return e[i]=!s||s.toLowerCase(),""})),e["max-age"]){const t=parseInt(e["max-age"],10);isNaN(t)?delete e["max-age"]:e["max-age"]=t}return e},t.ab=function(t,e){const i=[];for(const n in t)n in e||i.push(n);return i},t.ac=function(t){if(null==A){const e=t.navigator?t.navigator.userAgent:null;A=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return A},t.ad=m,t.ae=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),s=e[0],o=e[1],a=e[2],l=e[3],c=e[4],h=e[5],u=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*r+c*n,t[1]=o*r+h*n,t[2]=a*r+u*n,t[3]=l*r+d*n,t[4]=c*r-s*n,t[5]=h*r-o*n,t[6]=u*r-a*n,t[7]=d*r-l*n,t},t.af=function(t){var e=new Io(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.ag=Lo,t.ah=function(t,e){let i=0,n=0;if("constant"===t.kind)n=t.layoutSize;else if("source"!==t.kind){const{interpolationType:r,minZoom:s,maxZoom:o}=t,a=r?m(Ge.interpolationFactor(r,e,s,o),0,1):0;"camera"===t.kind?n=qe.number(t.minSize,t.maxSize,a):i=a}return{uSizeT:i,uSize:n}},t.aj=function(t,{uSize:e,uSizeT:i},{lowerSize:n,upperSize:r}){return"source"===t.kind?n/Mc:"composite"===t.kind?qe.number(n/Mc,r/Mc,i):e},t.ak=Fc,t.al=function(t,e,i,n){const r=e.y-t.y,o=e.x-t.x,a=n.y-i.y,l=n.x-i.x,c=a*o-l*r;if(0===c)return null;const h=(l*(t.y-i.y)-a*(t.x-i.x))/c;return new s(t.x+h*o,t.y+h*r)},t.am=wh,t.an=co,t.ao=Mo,t.ap=Dl,t.ar=Dc,t.as=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],u=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],y=e[15],x=i*a-n*o,v=i*l-r*o,b=i*c-s*o,_=n*l-r*a,w=n*c-s*a,S=r*c-s*l,C=h*m-u*f,T=h*g-d*f,k=h*y-p*f,A=u*g-d*m,I=u*y-p*m,M=d*y-p*g,P=x*M-v*I+b*A+_*k-w*T+S*C;return P?(t[0]=(a*M-l*I+c*A)*(P=1/P),t[1]=(r*I-n*M-s*A)*P,t[2]=(m*S-g*w+y*_)*P,t[3]=(d*w-u*S-p*_)*P,t[4]=(l*k-o*M-c*T)*P,t[5]=(i*M-r*k+s*T)*P,t[6]=(g*b-f*S-y*v)*P,t[7]=(h*S-d*b+p*v)*P,t[8]=(o*I-a*k+c*C)*P,t[9]=(n*k-i*I-s*C)*P,t[10]=(f*w-m*b+y*x)*P,t[11]=(u*b-h*w-p*x)*P,t[12]=(a*T-o*A-l*C)*P,t[13]=(i*A-n*T+r*C)*P,t[14]=(m*v-f*_-g*x)*P,t[15]=(h*_-u*v+d*x)*P,t):null},t.at=Xh,t.au=Cc,t.av=tu,t.aw=function(){const t={},e=Y.$version;for(const i in Y.$root){const n=Y.$root[i];if(n.required){let r=null;r="version"===i?e:"array"===n.type?[]:{},null!=r&&(t[i]=r)}}return t},t.ax=Q,t.ay=jn,t.az=B,t.b=function(t,e){const i=new Blob([new Uint8Array(t)],{type:"image/png"});createImageBitmap(i).then((t=>{e(null,t)})).catch((t=>{e(new Error(`Could not load image because of ${t.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))}))},t.b0=Ss,t.b1=function(t,e){var i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],h=t[8],u=t[9],d=t[10],p=t[11],f=t[12],m=t[13],g=t[14],y=t[15],x=e[0],v=e[1],b=e[2],_=e[3],w=e[4],S=e[5],C=e[6],T=e[7],k=e[8],A=e[9],I=e[10],M=e[11],P=e[12],E=e[13],D=e[14],L=e[15];return Math.abs(i-x)<=Ao*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(n-v)<=Ao*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-b)<=Ao*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(s-_)<=Ao*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(o-w)<=Ao*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-S)<=Ao*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(l-C)<=Ao*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(c-T)<=Ao*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(h-k)<=Ao*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(u-A)<=Ao*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(d-I)<=Ao*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(p-M)<=Ao*Math.max(1,Math.abs(p),Math.abs(M))&&Math.abs(f-P)<=Ao*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(m-E)<=Ao*Math.max(1,Math.abs(m),Math.abs(E))&&Math.abs(g-D)<=Ao*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(y-L)<=Ao*Math.max(1,Math.abs(y),Math.abs(L))},t.b2=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.b3=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t},t.b4=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.b5=g,t.b6=dh,t.b7=oh,t.b8=function(t,e,i,n,r){var s,o=1/Math.tan(e/2);return t[0]=o/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(t[10]=(r+n)*(s=1/(n-r)),t[14]=2*r*n*s):(t[10]=-1,t[14]=-2*n),t},t.b9=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),s=e[4],o=e[5],a=e[6],l=e[7],c=e[8],h=e[9],u=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*r+c*n,t[5]=o*r+h*n,t[6]=a*r+u*n,t[7]=l*r+d*n,t[8]=c*r-s*n,t[9]=h*r-o*n,t[10]=u*r-a*n,t[11]=d*r-l*n,t},t.bA=n,t.bB=Ll,t.bC=Fi,t.bD=ar,t.ba=p,t.bb=f,t.bc=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.bd=class extends Er{},t.be=th,t.bf=ah,t.bg=du,t.bi=R,t.bj=function(t,e,i=!1){if(tr===Zn||tr===Kn||tr===Jn)throw new Error("setRTLTextPlugin cannot be called multiple times.");er=O.resolveURL(t),tr=Zn,Qn=e,nr(),i||or()},t.bk=sr,t.bl=function(t,e){const i={};for(let r=0;r<t.length;r++){const n=e&&e[t[r].id]||Qi(t[r]);e&&(e[t[r].id]=n);let s=i[n];s||(s=i[n]=[]),s.push(t[r])}const n=[];for(const r in i)n.push(i[r]);return n},t.bm=Fn,t.bn=gh,t.bo=xh,t.bp=hc,t.bq=function(e){e.bucket.createArrays(),e.bucket.tilePixelRatio=io/(512*e.bucket.overscaling),e.bucket.compareText={},e.bucket.iconsNeedLinear=!1;const i=e.bucket.layers[0],n=i.layout,r=i._unevaluatedLayout._values,s={layoutIconSize:r["icon-size"].possiblyEvaluate(new lr(e.bucket.zoom+1),e.canonical),layoutTextSize:r["text-size"].possiblyEvaluate(new lr(e.bucket.zoom+1),e.canonical),textMaxSize:r["text-size"].possiblyEvaluate(new lr(18))};if("composite"===e.bucket.textSizeData.kind){const{minZoom:t,maxZoom:i}=e.bucket.textSizeData;s.compositeTextSizes=[r["text-size"].possiblyEvaluate(new lr(t),e.canonical),r["text-size"].possiblyEvaluate(new lr(i),e.canonical)]}if("composite"===e.bucket.iconSizeData.kind){const{minZoom:t,maxZoom:i}=e.bucket.iconSizeData;s.compositeIconSizes=[r["icon-size"].possiblyEvaluate(new lr(t),e.canonical),r["icon-size"].possiblyEvaluate(new lr(i),e.canonical)]}const o=n.get("text-line-height")*Dl,a="viewport"!==n.get("text-rotation-alignment")&&"point"!==n.get("symbol-placement"),l=n.get("text-keep-upright"),c=n.get("text-size");for(const h of e.bucket.features){const r=n.get("text-font").evaluate(h,{},e.canonical).join(","),u=c.evaluate(h,{},e.canonical),d=s.layoutTextSize.evaluate(h,{},e.canonical),p=s.layoutIconSize.evaluate(h,{},e.canonical),f={horizontal:{},vertical:void 0},m=h.text;let g,y=[0,0];if(m){const s=m.toString(),c=n.get("text-letter-spacing").evaluate(h,{},e.canonical)*Dl,p=$n(s)?c:0,g=n.get("text-anchor").evaluate(h,{},e.canonical),x=Wh(i,h,e.canonical);if(!x){const t=n.get("text-radial-offset").evaluate(h,{},e.canonical);y=t?Gh(g,[t*Dl,qh]):n.get("text-offset").evaluate(h,{},e.canonical).map((t=>t*Dl))}let v=a?"center":n.get("text-justify").evaluate(h,{},e.canonical);const b=n.get("symbol-placement"),_="point"===b?n.get("text-max-width").evaluate(h,{},e.canonical)*Dl:0,w=()=>{e.bucket.allowVerticalPlacement&&Vn(s)&&(f.vertical=mc(m,e.glyphMap,e.glyphPositions,e.imagePositions,r,_,o,g,"left",p,y,t.ai.vertical,!0,b,d,u))};if(!a&&x){const i=new Set;if("auto"===v)for(let t=0;t<x.values.length;t+=2)i.add(Xh(x.values[t]));else i.add(v);let n=!1;for(const s of i)if(!f.horizontal[s])if(n)f.horizontal[s]=f.horizontal[0];else{const i=mc(m,e.glyphMap,e.glyphPositions,e.imagePositions,r,_,o,"center",s,p,y,t.ai.horizontal,!1,b,d,u);i&&(f.horizontal[s]=i,n=1===i.positionedLines.length)}w()}else{"auto"===v&&(v=Xh(g));const i=mc(m,e.glyphMap,e.glyphPositions,e.imagePositions,r,_,o,g,v,p,y,t.ai.horizontal,!1,b,d,u);i&&(f.horizontal[v]=i),w(),Vn(s)&&a&&l&&(f.vertical=mc(m,e.glyphMap,e.glyphPositions,e.imagePositions,r,_,o,g,v,p,y,t.ai.vertical,!1,b,d,u))}}let x=!1;if(h.icon&&h.icon.name){const t=e.imageMap[h.icon.name];t&&(g=kc(e.imagePositions[h.icon.name],n.get("icon-offset").evaluate(h,{},e.canonical),n.get("icon-anchor").evaluate(h,{},e.canonical)),x=!!t.sdf,void 0===e.bucket.sdfIcons?e.bucket.sdfIcons=x:e.bucket.sdfIcons!==x&&S("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(t.pixelRatio!==e.bucket.pixelRatio||0!==n.get("icon-rotate").constantOr(1))&&(e.bucket.iconsNeedLinear=!0))}const v=Kh(f.horizontal)||f.vertical;e.bucket.iconsInText=!!v&&v.iconsInText,(v||g)&&Yh(e.bucket,h,f,g,e.imageMap,s,d,p,y,x,e.canonical)}e.showCollisionBoxes&&e.bucket.generateCollisionDebugBuffers()},t.br=yl,t.bs=La,t.bt=il,t.bu=class{constructor(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let t=performance.getEntriesByName(this._marks.measure);return 0===t.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),t=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),t}},t.bv=ec,t.bw=Ua,t.bx=function(t,i,n,r,s){return e(this,void 0,void 0,(function*(){if(d())try{return yield P(t,i,n,r,s)}catch(t){}return function(t,e,i,n,r){const s=t.width,o=t.height;E&&D||(E=new OffscreenCanvas(s,o),D=E.getContext("2d",{willReadFrequently:!0})),E.width=s,E.height=o,D.drawImage(t,0,0,s,o);const a=D.getImageData(e,i,n,r);return D.clearRect(0,0,s,o),a.data}(t,i,n,r,s)}))},t.by=mh,t.bz=i,t.c=F,t.d=function(t,e){const i=new Image;i.onload=()=>{e(null,i),URL.revokeObjectURL(i.src),i.onload=null,window.requestAnimationFrame((()=>{i.src=M}))},i.onerror=()=>e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const n=new Blob([new Uint8Array(t)],{type:"image/png"});i.src=t.byteLength?URL.createObjectURL(n):M},t.e=y,t.f=function(t,e){return U(y(t,{type:"json"}),e)},t.g=N,t.h=O,t.i=k,t.j=W,t.k=G,t.l=V,t.m=U,t.n=function(t){return new ec(t).readFields(nc,[])},t.o=function(t,e,i){if(!t.length)return i(null,[]);let n=t.length;const r=new Array(t.length);let s=null;t.forEach(((t,o)=>{e(t,((t,e)=>{t&&(s=t),r[o]=e,0==--n&&i(s,r)}))}))},t.p=ac,t.q=Vo,t.r=wr,t.s=$,t.t=Pn,t.u=Un,t.v=Y,t.w=S,t.x=Ln,t.y=Mn,t.z=function([t,e,i]){return e+=90,e*=Math.PI/180,i*=Math.PI/180,{x:t*Math.cos(e)*Math.sin(i),y:t*Math.sin(e)*Math.sin(i),z:t*Math.cos(i)}}})),n(["./shared"],(function(t){class e{constructor(t){this.keyCache={},t&&this.replace(t)}replace(t){this._layerConfigs={},this._layers={},this.update(t,[])}update(e,i){for(const r of e){this._layerConfigs[r.id]=r;const e=this._layers[r.id]=t.aC(r);e._featureFilter=t.a6(e.filter),this.keyCache[r.id]&&delete this.keyCache[r.id]}for(const t of i)delete this.keyCache[t],delete this._layerConfigs[t],delete this._layers[t];this.familiesBySource={};const n=t.bl(Object.values(this._layerConfigs),this.keyCache);for(const t of n){const e=t.map((t=>this._layers[t.id])),i=e[0];if("none"===i.visibility)continue;const n=i.source||"";let r=this.familiesBySource[n];r||(r=this.familiesBySource[n]={});const s=i.sourceLayer||"_geojsonTileLayer";let o=r[s];o||(o=r[s]=[]),o.push(e)}}}class i{constructor(e){const i={},n=[];for(const t in e){const r=e[t],s=i[t]={};for(const t in r){const e=r[+t];if(!e||0===e.bitmap.width||0===e.bitmap.height)continue;const i={x:0,y:0,w:e.bitmap.width+2,h:e.bitmap.height+2};n.push(i),s[t]={rect:i,metrics:e.metrics}}}const{w:r,h:s}=t.p(n),o=new t.q({width:r||1,height:s||1});for(const a in e){const n=e[a];for(const e in n){const r=n[+e];if(!r||0===r.bitmap.width||0===r.bitmap.height)continue;const s=i[a][e].rect;t.q.copy(r.bitmap,o,{x:0,y:0},{x:s.x+1,y:s.y+1},r.bitmap)}}this.image=o,this.positions=i}}t.bm("GlyphAtlas",i);class n{constructor(e){this.tileID=new t.O(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(e,n,s,o,a){this.status="parsing",this.data=e,this.collisionBoxArray=new t.a3;const l=new t.bn(Object.keys(e.layers).sort()),c=new t.bo(this.tileID,this.promoteId);c.bucketLayerIDs=[];const h={},u={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:s},d=n.familiesBySource[this.source];for(const i in d){const n=e.layers[i];if(!n)continue;1===n.version&&t.w(`Vector tile source "${this.source}" layer "${i}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const o=l.encode(i),a=[];for(let t=0;t<n.length;t++){const e=n.feature(t),r=c.getId(e,i);a.push({feature:e,id:r,index:t,sourceLayerIndex:o})}for(const e of d[i]){const i=e[0];i.source!==this.source&&t.w(`layer.source = ${i.source} does not equal this.source = ${this.source}`),i.minzoom&&this.zoom<Math.floor(i.minzoom)||i.maxzoom&&this.zoom>=i.maxzoom||"none"!==i.visibility&&(r(e,this.zoom,s),(h[i.id]=i.createBucket({index:c.bucketLayerIDs.length,layers:e,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:o,sourceID:this.source})).populate(a,u,this.tileID.canonical),c.bucketLayerIDs.push(e.map((t=>t.id))))}}let p,f,m,g;const y=t.aH(u.glyphDependencies,(t=>Object.keys(t).map(Number)));this.inFlightDependencies.forEach((t=>null==t?void 0:t.cancel())),this.inFlightDependencies=[];const x=++this.dependencySentinel;Object.keys(y).length?this.inFlightDependencies.push(o.send("getGlyphs",{uid:this.uid,stacks:y,source:this.source,tileID:this.tileID,type:"glyphs"},((t,e)=>{x===this.dependencySentinel&&(p||(p=t,f=e,_.call(this)))}))):f={};const v=Object.keys(u.iconDependencies);v.length?this.inFlightDependencies.push(o.send("getImages",{icons:v,source:this.source,tileID:this.tileID,type:"icons"},((t,e)=>{x===this.dependencySentinel&&(p||(p=t,m=e,_.call(this)))}))):m={};const b=Object.keys(u.patternDependencies);function _(){if(p)return a(p);if(f&&m&&g){const e=new i(f),n=new t.bp(m,g);for(const i in h){const o=h[i];o instanceof t.a4?(r(o.layers,this.zoom,s),t.bq({bucket:o,glyphMap:f,glyphPositions:e.positions,imageMap:m,imagePositions:n.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):o.hasPattern&&(o instanceof t.br||o instanceof t.bs||o instanceof t.bt)&&(r(o.layers,this.zoom,s),o.addFeatures(u,this.tileID.canonical,n.patternPositions))}this.status="done",a(null,{buckets:Object.values(h).filter((t=>!t.isEmpty())),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:n,glyphMap:this.returnDependencies?f:null,iconMap:this.returnDependencies?m:null,glyphPositions:this.returnDependencies?e.positions:null})}}b.length?this.inFlightDependencies.push(o.send("getImages",{icons:b,source:this.source,tileID:this.tileID,type:"patterns"},((t,e)=>{x===this.dependencySentinel&&(p||(p=t,g=e,_.call(this)))}))):g={},_.call(this)}}function r(e,i,n){const r=new t.a8(i);for(const t of e)t.recalculate(r,n)}function s(e,i){const n=t.l(e.request,((n,r,s,o)=>{if(n)i(n);else if(r)try{const e=new t.bw.VectorTile(new t.bv(r));i(null,{vectorTile:e,rawData:r,cacheControl:s,expires:o})}catch(t){const s=new Uint8Array(r);let o=`Unable to parse the tile at ${e.request.url}, `;o+=31===s[0]&&139===s[1]?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${t.messge}`,i(new Error(o))}}));return()=>{n.cancel(),i()}}class o{constructor(t,e,i,n){this.actor=t,this.layerIndex=e,this.availableImages=i,this.loadVectorData=n||s,this.fetching={},this.loading={},this.loaded={}}loadTile(e,i){const r=e.uid;this.loading||(this.loading={});const s=!!(e&&e.request&&e.request.collectResourceTiming)&&new t.bu(e.request),o=this.loading[r]=new n(e);o.abort=this.loadVectorData(e,((e,n)=>{if(delete this.loading[r],e||!n)return o.status="done",this.loaded[r]=o,i(e);const a=n.rawData,l={};n.expires&&(l.expires=n.expires),n.cacheControl&&(l.cacheControl=n.cacheControl);const c={};if(s){const t=s.finish();t&&(c.resourceTiming=JSON.parse(JSON.stringify(t)))}o.vectorTile=n.vectorTile,o.parse(n.vectorTile,this.layerIndex,this.availableImages,this.actor,((e,n)=>{if(delete this.fetching[r],e||!n)return i(e);i(null,t.e({rawTileData:a.slice(0)},n,l,c))})),this.loaded=this.loaded||{},this.loaded[r]=o,this.fetching[r]={rawTileData:a,cacheControl:l,resourceTiming:c}}))}reloadTile(e,i){const n=this.loaded,r=e.uid;if(n&&n[r]){const s=n[r];s.showCollisionBoxes=e.showCollisionBoxes,"parsing"===s.status?s.parse(s.vectorTile,this.layerIndex,this.availableImages,this.actor,((e,n)=>{if(e||!n)return i(e,n);let s;if(this.fetching[r]){const{rawTileData:e,cacheControl:i,resourceTiming:o}=this.fetching[r];delete this.fetching[r],s=t.e({rawTileData:e.slice(0)},n,i,o)}else s=n;i(null,s)})):"done"===s.status&&(s.vectorTile?s.parse(s.vectorTile,this.layerIndex,this.availableImages,this.actor,i):i())}}abortTile(t,e){const i=this.loading,n=t.uid;i&&i[n]&&i[n].abort&&(i[n].abort(),delete i[n]),e()}removeTile(t,e){const i=this.loaded,n=t.uid;i&&i[n]&&delete i[n],e()}}class a{constructor(){this.loaded={}}loadTile(e,i){return t._(this,void 0,void 0,(function*(){const{uid:n,encoding:r,rawImageData:s,redFactor:o,greenFactor:a,blueFactor:l,baseShift:c}=e,h=s.width+2,u=s.height+2,d=t.a(s)?new t.R({width:h,height:u},yield t.bx(s,-1,-1,h,u)):s,p=new t.by(n,d,r,o,a,l,c);this.loaded=this.loaded||{},this.loaded[n]=p,i(null,p)}))}removeTile(t){const e=this.loaded,i=t.uid;e&&e[i]&&delete e[i]}}function l(t,e){if(0!==t.length){c(t[0],e);for(var i=1;i<t.length;i++)c(t[i],!e)}}function c(t,e){for(var i=0,n=0,r=0,s=t.length,o=s-1;r<s;o=r++){var a=(t[r][0]-t[o][0])*(t[o][1]+t[r][1]),l=i+a;n+=Math.abs(i)>=Math.abs(a)?i-l+a:a-l+i,i=l}i+n>=0!=!!e&&t.reverse()}var h=t.bz((function t(e,i){var n,r=e&&e.type;if("FeatureCollection"===r)for(n=0;n<e.features.length;n++)t(e.features[n],i);else if("GeometryCollection"===r)for(n=0;n<e.geometries.length;n++)t(e.geometries[n],i);else if("Feature"===r)t(e.geometry,i);else if("Polygon"===r)l(e.coordinates,i);else if("MultiPolygon"===r)for(n=0;n<e.coordinates.length;n++)l(e.coordinates[n],i);return e}));const u=t.bw.VectorTileFeature.prototype.toGeoJSON;var d={exports:{}},p=t.bA,f=t.bw.VectorTileFeature,m=g;function g(t,e){this.options=e||{},this.features=t,this.length=t.length}function y(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}g.prototype.feature=function(t){return new y(this.features[t],this.options.extent)},y.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var i=t[e],n=[],r=0;r<i.length;r++)n.push(new p(i[r][0],i[r][1]));this.geometry.push(n)}return this.geometry},y.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,i=-1/0,n=1/0,r=-1/0,s=0;s<t.length;s++)for(var o=t[s],a=0;a<o.length;a++){var l=o[a];e=Math.min(e,l.x),i=Math.max(i,l.x),n=Math.min(n,l.y),r=Math.max(r,l.y)}return[e,n,i,r]},y.prototype.toGeoJSON=f.prototype.toGeoJSON;var x=t.bB,v=m;function b(t){var e=new x;return function(t,e){for(var i in t.layers)e.writeMessage(3,_,t.layers[i])}(t,e),e.finish()}function _(t,e){var i;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(i=0;i<t.length;i++)n.feature=t.feature(i),e.writeMessage(2,w,n);var r=n.keys;for(i=0;i<r.length;i++)e.writeStringField(3,r[i]);var s=n.values;for(i=0;i<s.length;i++)e.writeMessage(4,A,s[i])}function w(t,e){var i=t.feature;void 0!==i.id&&e.writeVarintField(1,i.id),e.writeMessage(2,S,t),e.writeVarintField(3,i.type),e.writeMessage(4,k,i)}function S(t,e){var i=t.feature,n=t.keys,r=t.values,s=t.keycache,o=t.valuecache;for(var a in i.properties){var l=i.properties[a],c=s[a];if(null!==l){void 0===c&&(n.push(a),s[a]=c=n.length-1),e.writeVarint(c);var h=typeof l;"string"!==h&&"boolean"!==h&&"number"!==h&&(l=JSON.stringify(l));var u=h+":"+l,d=o[u];void 0===d&&(r.push(l),o[u]=d=r.length-1),e.writeVarint(d)}}}function C(t,e){return(e<<3)+(7&t)}function T(t){return t<<1^t>>31}function k(t,e){for(var i=t.loadGeometry(),n=t.type,r=0,s=0,o=i.length,a=0;a<o;a++){var l=i[a],c=1;1===n&&(c=l.length),e.writeVarint(C(1,c));for(var h=3===n?l.length-1:l.length,u=0;u<h;u++){1===u&&1!==n&&e.writeVarint(C(2,h-1));var d=l[u].x-r,p=l[u].y-s;e.writeVarint(T(d)),e.writeVarint(T(p)),r+=d,s+=p}3===n&&e.writeVarint(C(7,1))}}function A(t,e){var i=typeof t;"string"===i?e.writeStringField(1,t):"boolean"===i?e.writeBooleanField(7,t):"number"===i&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}d.exports=b,d.exports.fromVectorTileJs=b,d.exports.fromGeojsonVt=function(t,e){e=e||{};var i={};for(var n in t)i[n]=new v(t[n].features,e),i[n].name=n,i[n].version=e.version,i[n].extent=e.extent;return b({layers:i})},d.exports.GeoJSONWrapper=v;var I=t.bz(d.exports);const M={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},P=Math.fround||(E=new Float32Array(1),t=>(E[0]=+t,E[0]));var E;const D=3,L=5,z=6;class O{constructor(t){this.options=Object.assign(Object.create(M),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:e,minZoom:i,maxZoom:n}=this.options;e&&console.time("total time");const r=`prepare ${t.length} points`;e&&console.time(r),this.points=t;const s=[];for(let a=0;a<t.length;a++){const e=t[a];if(!e.geometry)continue;const[i,n]=e.geometry.coordinates,r=P(B(i)),o=P(N(n));s.push(r,o,1/0,a,-1,1),this.options.reduce&&s.push(0)}let o=this.trees[n+1]=this._createTree(s);e&&console.timeEnd(r);for(let a=n;a>=i;a--){const t=+Date.now();o=this.trees[a]=this._createTree(this._cluster(o,a)),e&&console.log("z%d: %d clusters in %dms",a,o.numItems,+Date.now()-t)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let i=((t[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,t[1]));let r=180===t[2]?180:((t[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)i=-180,r=180;else if(i>r){const t=this.getClusters([i,n,180,s],e),o=this.getClusters([-180,n,r,s],e);return t.concat(o)}const o=this.trees[this._limitZoom(e)],a=o.range(B(i),N(s),B(r),N(n)),l=o.data,c=[];for(const h of a){const t=this.stride*h;c.push(l[t+L]>1?F(l,t,this.clusterProps):this.points[l[t+D]])}return c}getChildren(t){const e=this._getOriginId(t),i=this._getOriginZoom(t),n="No cluster with the specified id.",r=this.trees[i];if(!r)throw new Error(n);const s=r.data;if(e*this.stride>=s.length)throw new Error(n);const o=this.options.radius/(this.options.extent*Math.pow(2,i-1)),a=r.within(s[e*this.stride],s[e*this.stride+1],o),l=[];for(const c of a){const e=c*this.stride;s[e+4]===t&&l.push(s[e+L]>1?F(s,e,this.clusterProps):this.points[s[e+D]])}if(0===l.length)throw new Error(n);return l}getLeaves(t,e,i){const n=[];return this._appendLeaves(n,t,e=e||10,i=i||0,0),n}getTile(t,e,i){const n=this.trees[this._limitZoom(t)],r=Math.pow(2,t),{extent:s,radius:o}=this.options,a=o/s,l=(i-a)/r,c=(i+1+a)/r,h={features:[]};return this._addTileFeatures(n.range((e-a)/r,l,(e+1+a)/r,c),n.data,e,i,r,h),0===e&&this._addTileFeatures(n.range(1-a/r,l,1,c),n.data,r,i,r,h),e===r-1&&this._addTileFeatures(n.range(0,l,a/r,c),n.data,-1,i,r,h),h.features.length?h:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const i=this.getChildren(t);if(e++,1!==i.length)break;t=i[0].properties.cluster_id}return e}_appendLeaves(t,e,i,n,r){const s=this.getChildren(e);for(const o of s){const e=o.properties;if(e&&e.cluster?r+e.point_count<=n?r+=e.point_count:r=this._appendLeaves(t,e.cluster_id,i,n,r):r<n?r++:t.push(o),t.length===i)break}return r}_createTree(e){const i=new t.av(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let t=0;t<e.length;t+=this.stride)i.add(e[t],e[t+1]);return i.finish(),i.data=e,i}_addTileFeatures(t,e,i,n,r,s){for(const o of t){const t=o*this.stride,a=e[t+L]>1;let l,c,h;if(a)l=R(e,t,this.clusterProps),c=e[t],h=e[t+1];else{const i=this.points[e[t+D]];l=i.properties;const[n,r]=i.geometry.coordinates;c=B(n),h=N(r)}const u={type:1,geometry:[[Math.round(this.options.extent*(c*r-i)),Math.round(this.options.extent*(h*r-n))]],tags:l};let d;d=a||this.options.generateId?e[t+D]:this.points[e[t+D]].id,void 0!==d&&(u.id=d),s.features.push(u)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,e){const{radius:i,extent:n,reduce:r,minPoints:s}=this.options,o=i/(n*Math.pow(2,e)),a=t.data,l=[],c=this.stride;for(let h=0;h<a.length;h+=c){if(a[h+2]<=e)continue;a[h+2]=e;const i=a[h],n=a[h+1],u=t.within(a[h],a[h+1],o),d=a[h+L];let p=d;for(const t of u){const i=t*c;a[i+2]>e&&(p+=a[i+L])}if(p>d&&p>=s){let t,s=i*d,o=n*d,f=-1;const m=((h/c|0)<<5)+(e+1)+this.points.length;for(const i of u){const n=i*c;if(a[n+2]<=e)continue;a[n+2]=e;const l=a[n+L];s+=a[n]*l,o+=a[n+1]*l,a[n+4]=m,r&&(t||(t=this._map(a,h,!0),f=this.clusterProps.length,this.clusterProps.push(t)),r(t,this._map(a,n)))}a[h+4]=m,l.push(s/p,o/p,1/0,m,-1,p),r&&l.push(f)}else{for(let t=0;t<c;t++)l.push(a[h+t]);if(p>1)for(const t of u){const i=t*c;if(!(a[i+2]<=e)){a[i+2]=e;for(let t=0;t<c;t++)l.push(a[i+t])}}}}return l}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e,i){if(t[e+L]>1){const n=this.clusterProps[t[e+z]];return i?Object.assign({},n):n}const n=this.points[t[e+D]].properties,r=this.options.map(n);return i&&r===n?Object.assign({},r):r}}function F(t,e,i){return{type:"Feature",id:t[e+D],properties:R(t,e,i),geometry:{type:"Point",coordinates:[(n=t[e],360*(n-.5)),j(t[e+1])]}};var n}function R(t,e,i){const n=t[e+L],r=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?Math.round(n/100)/10+"k":n,s=t[e+z],o=-1===s?{}:Object.assign({},i[s]);return Object.assign(o,{cluster:!0,cluster_id:t[e+D],point_count:n,point_count_abbreviated:r})}function B(t){return t/360+.5}function N(t){const e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:i>1?1:i}function j(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function U(t,e,i,n){for(var r,s=n,o=i-e>>1,a=i-e,l=t[e],c=t[e+1],h=t[i],u=t[i+1],d=e+3;d<i;d+=3){var p=V(t[d],t[d+1],l,c,h,u);if(p>s)r=d,s=p;else if(p===s){var f=Math.abs(d-o);f<a&&(r=d,a=f)}}s>n&&(r-e>3&&U(t,e,r,n),t[r+2]=s,i-r>3&&U(t,r,i,n))}function V(t,e,i,n,r,s){var o=r-i,a=s-n;if(0!==o||0!==a){var l=((t-i)*o+(e-n)*a)/(o*o+a*a);l>1?(i=r,n=s):l>0&&(i+=o*l,n+=a*l)}return(o=t-i)*o+(a=e-n)*a}function $(t,e,i,n){var r={id:void 0===t?null:t,type:e,geometry:i,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,i=t.type;if("Point"===i||"MultiPoint"===i||"LineString"===i)H(t,e);else if("Polygon"===i||"MultiLineString"===i)for(var n=0;n<e.length;n++)H(t,e[n]);else if("MultiPolygon"===i)for(n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)H(t,e[n][r])}(r),r}function H(t,e){for(var i=0;i<e.length;i+=3)t.minX=Math.min(t.minX,e[i]),t.minY=Math.min(t.minY,e[i+1]),t.maxX=Math.max(t.maxX,e[i]),t.maxY=Math.max(t.maxY,e[i+1])}function q(t,e,i,n){if(e.geometry){var r=e.geometry.coordinates,s=e.geometry.type,o=Math.pow(i.tolerance/((1<<i.maxZoom)*i.extent),2),a=[],l=e.id;if(i.promoteId?l=e.properties[i.promoteId]:i.generateId&&(l=n||0),"Point"===s)G(r,a);else if("MultiPoint"===s)for(var c=0;c<r.length;c++)G(r[c],a);else if("LineString"===s)W(r,a,o,!1);else if("MultiLineString"===s){if(i.lineMetrics){for(c=0;c<r.length;c++)W(r[c],a=[],o,!1),t.push($(l,"LineString",a,e.properties));return}X(r,a,o,!1)}else if("Polygon"===s)X(r,a,o,!0);else{if("MultiPolygon"!==s){if("GeometryCollection"===s){for(c=0;c<e.geometry.geometries.length;c++)q(t,{id:l,geometry:e.geometry.geometries[c],properties:e.properties},i,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<r.length;c++){var h=[];X(r[c],h,o,!0),a.push(h)}}t.push($(l,s,a,e.properties))}}function G(t,e){e.push(Y(t[0])),e.push(Z(t[1])),e.push(0)}function W(t,e,i,n){for(var r,s,o=0,a=0;a<t.length;a++){var l=Y(t[a][0]),c=Z(t[a][1]);e.push(l),e.push(c),e.push(0),a>0&&(o+=n?(r*c-l*s)/2:Math.sqrt(Math.pow(l-r,2)+Math.pow(c-s,2))),r=l,s=c}var h=e.length-3;e[2]=1,U(e,0,h,i),e[h+2]=1,e.size=Math.abs(o),e.start=0,e.end=e.size}function X(t,e,i,n){for(var r=0;r<t.length;r++){var s=[];W(t[r],s,i,n),e.push(s)}}function Y(t){return t/360+.5}function Z(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:i>1?1:i}function K(t,e,i,n,r,s,o,a){if(n/=e,s>=(i/=e)&&o<n)return t;if(o<i||s>=n)return null;for(var l=[],c=0;c<t.length;c++){var h=t[c],u=h.geometry,d=h.type,p=0===r?h.minX:h.minY,f=0===r?h.maxX:h.maxY;if(p>=i&&f<n)l.push(h);else if(!(f<i||p>=n)){var m=[];if("Point"===d||"MultiPoint"===d)J(u,m,i,n,r);else if("LineString"===d)Q(u,m,i,n,r,!1,a.lineMetrics);else if("MultiLineString"===d)et(u,m,i,n,r,!1);else if("Polygon"===d)et(u,m,i,n,r,!0);else if("MultiPolygon"===d)for(var g=0;g<u.length;g++){var y=[];et(u[g],y,i,n,r,!0),y.length&&m.push(y)}if(m.length){if(a.lineMetrics&&"LineString"===d){for(g=0;g<m.length;g++)l.push($(h.id,d,m[g],h.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===m.length?(d="LineString",m=m[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===m.length?"Point":"MultiPoint"),l.push($(h.id,d,m,h.tags))}}}return l.length?l:null}function J(t,e,i,n,r){for(var s=0;s<t.length;s+=3){var o=t[s+r];o>=i&&o<=n&&(e.push(t[s]),e.push(t[s+1]),e.push(t[s+2]))}}function Q(t,e,i,n,r,s,o){for(var a,l,c=tt(t),h=0===r?nt:rt,u=t.start,d=0;d<t.length-3;d+=3){var p=t[d],f=t[d+1],m=t[d+2],g=t[d+3],y=t[d+4],x=0===r?p:f,v=0===r?g:y,b=!1;o&&(a=Math.sqrt(Math.pow(p-g,2)+Math.pow(f-y,2))),x<i?v>i&&(l=h(c,p,f,g,y,i),o&&(c.start=u+a*l)):x>n?v<n&&(l=h(c,p,f,g,y,n),o&&(c.start=u+a*l)):it(c,p,f,m),v<i&&x>=i&&(l=h(c,p,f,g,y,i),b=!0),v>n&&x<=n&&(l=h(c,p,f,g,y,n),b=!0),!s&&b&&(o&&(c.end=u+a*l),e.push(c),c=tt(t)),o&&(u+=a)}var _=t.length-3;p=t[_],f=t[_+1],m=t[_+2],(x=0===r?p:f)>=i&&x<=n&&it(c,p,f,m),_=c.length-3,s&&_>=3&&(c[_]!==c[0]||c[_+1]!==c[1])&&it(c,c[0],c[1],c[2]),c.length&&e.push(c)}function tt(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function et(t,e,i,n,r,s){for(var o=0;o<t.length;o++)Q(t[o],e,i,n,r,s,!1)}function it(t,e,i,n){t.push(e),t.push(i),t.push(n)}function nt(t,e,i,n,r,s){var o=(s-e)/(n-e);return t.push(s),t.push(i+(r-i)*o),t.push(1),o}function rt(t,e,i,n,r,s){var o=(s-i)/(r-i);return t.push(e+(n-e)*o),t.push(s),t.push(1),o}function st(t,e){for(var i=[],n=0;n<t.length;n++){var r,s=t[n],o=s.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)r=ot(s.geometry,e);else if("MultiLineString"===o||"Polygon"===o){r=[];for(var a=0;a<s.geometry.length;a++)r.push(ot(s.geometry[a],e))}else if("MultiPolygon"===o)for(r=[],a=0;a<s.geometry.length;a++){for(var l=[],c=0;c<s.geometry[a].length;c++)l.push(ot(s.geometry[a][c],e));r.push(l)}i.push($(s.id,o,r,s.tags))}return i}function ot(t,e){var i=[];i.size=t.size,void 0!==t.start&&(i.start=t.start,i.end=t.end);for(var n=0;n<t.length;n+=3)i.push(t[n]+e,t[n+1],t[n+2]);return i}function at(t,e){if(t.transformed)return t;var i,n,r,s=1<<t.z,o=t.x,a=t.y;for(i=0;i<t.features.length;i++){var l=t.features[i],c=l.geometry,h=l.type;if(l.geometry=[],1===h)for(n=0;n<c.length;n+=2)l.geometry.push(lt(c[n],c[n+1],e,s,o,a));else for(n=0;n<c.length;n++){var u=[];for(r=0;r<c[n].length;r+=2)u.push(lt(c[n][r],c[n][r+1],e,s,o,a));l.geometry.push(u)}}return t.transformed=!0,t}function lt(t,e,i,n,r,s){return[Math.round(i*(t*n-r)),Math.round(i*(e*n-s))]}function ct(t,e,i,n,r){for(var s=e===r.maxZoom?0:r.tolerance/((1<<e)*r.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:n,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},a=0;a<t.length;a++){o.numFeatures++,ht(o,t[a],s,r);var l=t[a].minX,c=t[a].minY,h=t[a].maxX,u=t[a].maxY;l<o.minX&&(o.minX=l),c<o.minY&&(o.minY=c),h>o.maxX&&(o.maxX=h),u>o.maxY&&(o.maxY=u)}return o}function ht(t,e,i,n){var r=e.geometry,s=e.type,o=[];if("Point"===s||"MultiPoint"===s)for(var a=0;a<r.length;a+=3)o.push(r[a]),o.push(r[a+1]),t.numPoints++,t.numSimplified++;else if("LineString"===s)ut(o,r,t,i,!1,!1);else if("MultiLineString"===s||"Polygon"===s)for(a=0;a<r.length;a++)ut(o,r[a],t,i,"Polygon"===s,0===a);else if("MultiPolygon"===s)for(var l=0;l<r.length;l++){var c=r[l];for(a=0;a<c.length;a++)ut(o,c[a],t,i,!0,0===a)}if(o.length){var h=e.tags||null;if("LineString"===s&&n.lineMetrics){for(var u in h={},e.tags)h[u]=e.tags[u];h.mapbox_clip_start=r.start/r.size,h.mapbox_clip_end=r.end/r.size}var d={geometry:o,type:"Polygon"===s||"MultiPolygon"===s?3:"LineString"===s||"MultiLineString"===s?2:1,tags:h};null!==e.id&&(d.id=e.id),t.features.push(d)}}function ut(t,e,i,n,r,s){var o=n*n;if(n>0&&e.size<(r?o:n))i.numPoints+=e.length/3;else{for(var a=[],l=0;l<e.length;l+=3)(0===n||e[l+2]>o)&&(i.numSimplified++,a.push(e[l]),a.push(e[l+1])),i.numPoints++;r&&function(t,e){for(var i=0,n=0,r=t.length,s=r-2;n<r;s=n,n+=2)i+=(t[n]-t[s])*(t[n+1]+t[s+1]);if(i>0===e)for(n=0,r=t.length;n<r/2;n+=2){var o=t[n],a=t[n+1];t[n]=t[r-2-n],t[n+1]=t[r-1-n],t[r-2-n]=o,t[r-1-n]=a}}(a,s),t.push(a)}}function dt(t,e){var i=(e=this.options=function(t,e){for(var i in e)t[i]=e[i];return t}(Object.create(this.options),e)).debug;if(i&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(t,e){var i=[];if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)q(i,t.features[n],e,n);else q(i,"Feature"===t.type?t:{geometry:t},e);return i}(t,e);this.tiles={},this.tileCoords=[],i&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),n=function(t,e){var i=e.buffer/e.extent,n=t,r=K(t,1,-1-i,i,0,-1,2,e),s=K(t,1,1-i,2+i,0,-1,2,e);return(r||s)&&(n=K(t,1,-i,1+i,0,-1,2,e)||[],r&&(n=st(r,1).concat(n)),s&&(n=n.concat(st(s,-1)))),n}(n,e),n.length&&this.splitTile(n,0,0,0),i&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function pt(t,e,i){return 32*((1<<t)*i+e)+t}function ft(t,e){return e?t.properties[e]:t.id}function mt(t,e){if(null==t)return!0;if("Feature"===t.type)return null!=ft(t,e);if("FeatureCollection"===t.type){const i=new Set;for(const n of t.features){const t=ft(n,e);if(null==t)return!1;if(i.has(t))return!1;i.add(t)}return!0}return!1}function gt(t,e){const i=new Map;if(null==t);else if("Feature"===t.type)i.set(ft(t,e),t);else for(const n of t.features)i.set(ft(n,e),n);return i}dt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},dt.prototype.splitTile=function(t,e,i,n,r,s,o){for(var a=[t,e,i,n],l=this.options,c=l.debug;a.length;){n=a.pop(),i=a.pop(),e=a.pop(),t=a.pop();var h=1<<e,u=pt(e,i,n),d=this.tiles[u];if(!d&&(c>1&&console.time("creation"),d=this.tiles[u]=ct(t,e,i,n,l),this.tileCoords.push({z:e,x:i,y:n}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,i,n,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var p="z"+e;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(d.source=t,r){if(e===l.maxZoom||e===r)continue;var f=1<<r-e;if(i!==Math.floor(s/f)||n!==Math.floor(o/f))continue}else if(e===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==t.length){c>1&&console.time("clipping");var m,g,y,x,v,b,_=.5*l.buffer/l.extent,w=.5-_,S=.5+_,C=1+_;m=g=y=x=null,v=K(t,h,i-_,i+S,0,d.minX,d.maxX,l),b=K(t,h,i+w,i+C,0,d.minX,d.maxX,l),t=null,v&&(m=K(v,h,n-_,n+S,1,d.minY,d.maxY,l),g=K(v,h,n+w,n+C,1,d.minY,d.maxY,l),v=null),b&&(y=K(b,h,n-_,n+S,1,d.minY,d.maxY,l),x=K(b,h,n+w,n+C,1,d.minY,d.maxY,l),b=null),c>1&&console.timeEnd("clipping"),a.push(m||[],e+1,2*i,2*n),a.push(g||[],e+1,2*i,2*n+1),a.push(y||[],e+1,2*i+1,2*n),a.push(x||[],e+1,2*i+1,2*n+1)}}},dt.prototype.getTile=function(t,e,i){var n=this.options,r=n.extent,s=n.debug;if(t<0||t>24)return null;var o=1<<t,a=pt(t,e=(e%o+o)%o,i);if(this.tiles[a])return at(this.tiles[a],r);s>1&&console.log("drilling down to z%d-%d-%d",t,e,i);for(var l,c=t,h=e,u=i;!l&&c>0;)c--,h=Math.floor(h/2),u=Math.floor(u/2),l=this.tiles[pt(c,h,u)];return l&&l.source?(s>1&&console.log("found parent tile z%d-%d-%d",c,h,u),s>1&&console.time("drilling down"),this.splitTile(l.source,c,h,u,t,e,i),s>1&&console.timeEnd("drilling down"),this.tiles[a]?at(this.tiles[a],r):null):null};class yt extends o{constructor(e,i,n,r){super(e,i,n),this._dataUpdateable=new Map,this.loadGeoJSON=(e,i)=>{const{promoteId:n}=e;if(e.request)return t.f(e.request,((t,e,r,s)=>{this._dataUpdateable=mt(e,n)?gt(e,n):void 0,i(t,e,r,s)}));if("string"==typeof e.data)try{const t=JSON.parse(e.data);this._dataUpdateable=mt(t,n)?gt(t,n):void 0,i(null,t)}catch(t){i(new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`))}else e.dataDiff?this._dataUpdateable?(function(t,e,i){var n,r,s,o;if(e.removeAll&&t.clear(),e.remove)for(const a of e.remove)t.delete(a);if(e.add)for(const a of e.add){const e=ft(a,i);null!=e&&t.set(e,a)}if(e.update)for(const a of e.update){let e=t.get(a.id);if(null==e)continue;const i=!a.removeAllProperties&&((null===(n=a.removeProperties)||void 0===n?void 0:n.length)>0||(null===(r=a.addOrUpdateProperties)||void 0===r?void 0:r.length)>0);if((a.newGeometry||a.removeAllProperties||i)&&(e=Object.assign({},e),t.set(a.id,e),i&&(e.properties=Object.assign({},e.properties))),a.newGeometry&&(e.geometry=a.newGeometry),a.removeAllProperties)e.properties={};else if((null===(s=a.removeProperties)||void 0===s?void 0:s.length)>0)for(const t of a.removeProperties)Object.prototype.hasOwnProperty.call(e.properties,t)&&delete e.properties[t];if((null===(o=a.addOrUpdateProperties)||void 0===o?void 0:o.length)>0)for(const{key:t,value:n}of a.addOrUpdateProperties)e.properties[t]=n}}(this._dataUpdateable,e.dataDiff,n),i(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):i(new Error(`Cannot update existing geojson data in ${e.source}`)):i(new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,r&&(this.loadGeoJSON=r)}loadGeoJSONTile(e,i){const n=e.tileID.canonical;if(!this._geoJSONIndex)return i(null,null);const r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return i(null,null);const s=new class{constructor(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.N,this.length=e.length,this._features=e}feature(e){return new class{constructor(e){this._feature=e,this.extent=t.N,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))}loadGeometry(){if(1===this._feature.type){const e=[];for(const i of this._feature.geometry)e.push([new t.P(i[0],i[1])]);return e}{const e=[];for(const i of this._feature.geometry){const n=[];for(const e of i)n.push(new t.P(e[0],e[1]));e.push(n)}return e}}toGeoJSON(t,e,i){return u.call(this,t,e,i)}}(this._features[e])}}(r.features);let o=I(s);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),i(null,{vectorTile:s,rawData:o.buffer})}loadData(e,i){var n;null===(n=this._pendingRequest)||void 0===n||n.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const r=!!(e&&e.request&&e.request.collectResourceTiming)&&new t.bu(e.request);this._pendingCallback=i,this._pendingRequest=this.loadGeoJSON(e,((n,s)=>{if(delete this._pendingCallback,delete this._pendingRequest,n||!s)return i(n);if("object"!=typeof s)return i(new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`));{h(s,!0);try{if(e.filter){const i=t.bC(e.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===i.result)throw new Error(i.value.map((t=>`${t.key}: ${t.message}`)).join(", "));const n=s.features.filter((t=>i.value.evaluate({zoom:0},t)));s={type:"FeatureCollection",features:n}}this._geoJSONIndex=e.cluster?new O(function({superclusterOptions:e,clusterProperties:i}){if(!i||!e)return e;const n={},r={},s={accumulated:null,zoom:0},o={properties:null},a=Object.keys(i);for(const l of a){const[e,s]=i[l],o=t.bC(s),a=t.bC("string"==typeof e?[e,["accumulated"],["get",l]]:e);n[l]=o.value,r[l]=a.value}return e.map=t=>{o.properties=t;const e={};for(const i of a)e[i]=n[i].evaluate(s,o);return e},e.reduce=(t,e)=>{o.properties=e;for(const i of a)s.accumulated=t[i],t[i]=r[i].evaluate(s,o)},e}(e)).load(s.features):function(t,e){return new dt(t,e)}(s,e.geojsonVtOptions)}catch(n){return i(n)}this.loaded={};const o={};if(r){const t=r.finish();t&&(o.resourceTiming={},o.resourceTiming[e.source]=JSON.parse(JSON.stringify(t)))}i(null,o)}}))}reloadTile(t,e){const i=this.loaded;return i&&i[t.uid]?super.reloadTile(t,e):this.loadTile(t,e)}removeSource(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()}getClusterExpansionZoom(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}}getClusterChildren(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}}getClusterLeaves(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}}}class xt{constructor(e){this.self=e,this.actor=new t.C(e,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:o,geojson:yt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(t,e)=>{if(this.workerSourceTypes[t])throw new Error(`Worker source with name "${t}" already registered.`);this.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=e=>{if(t.bD.isParsed())throw new Error("RTL text plugin already registered.");t.bD.applyArabicShaping=e.applyArabicShaping,t.bD.processBidirectionalText=e.processBidirectionalText,t.bD.processStyledBidirectionalText=e.processStyledBidirectionalText}}setReferrer(t,e){this.referrer=e}setImages(t,e,i){this.availableImages[t]=e;for(const n in this.workerSources[t]){const i=this.workerSources[t][n];for(const t in i)i[t].availableImages=e}i()}setLayers(t,e,i){this.getLayerIndex(t).replace(e),i()}updateLayers(t,e,i){this.getLayerIndex(t).update(e.layers,e.removedIds),i()}loadTile(t,e,i){this.getWorkerSource(t,e.type,e.source).loadTile(e,i)}loadDEMTile(t,e,i){this.getDEMWorkerSource(t,e.source).loadTile(e,i)}reloadTile(t,e,i){this.getWorkerSource(t,e.type,e.source).reloadTile(e,i)}abortTile(t,e,i){this.getWorkerSource(t,e.type,e.source).abortTile(e,i)}removeTile(t,e,i){this.getWorkerSource(t,e.type,e.source).removeTile(e,i)}removeDEMTile(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)}removeSource(t,e,i){if(!this.workerSources[t]||!this.workerSources[t][e.type]||!this.workerSources[t][e.type][e.source])return;const n=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==n.removeSource?n.removeSource(e,i):i()}loadWorkerSource(t,e,i){try{this.self.importScripts(e.url),i()}catch(t){i(t.toString())}}syncRTLPluginState(e,i,n){try{t.bD.setState(i);const e=t.bD.getPluginURL();if(t.bD.isLoaded()&&!t.bD.isParsed()&&null!=e){this.self.importScripts(e);const i=t.bD.isParsed();n(i?void 0:new Error(`RTL Text Plugin failed to import scripts from ${e}`),i)}}catch(t){n(t.toString())}}getAvailableImages(t){let e=this.availableImages[t];return e||(e=[]),e}getLayerIndex(t){let i=this.layerIndexes[t];return i||(i=this.layerIndexes[t]=new e),i}getWorkerSource(t,e,i){return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][i]||(this.workerSources[t][e][i]=new this.workerSourceTypes[e]({send:(e,i,n)=>{this.actor.send(e,i,n,t)}},this.getLayerIndex(t),this.getAvailableImages(t))),this.workerSources[t][e][i]}getDEMWorkerSource(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new a),this.demWorkerSources[t][e]}}return t.i()&&(self.worker=new xt(self)),xt})),n(["./shared"],(function(t){var e="3.6.2";class i{static testProp(t){if(!i.docStyle)return t[0];for(let e=0;e<t.length;e++)if(t[e]in i.docStyle)return t[e];return t[0]}static create(t,e,i){const n=window.document.createElement(t);return void 0!==e&&(n.className=e),i&&i.appendChild(n),n}static createNS(t,e){return window.document.createElementNS(t,e)}static disableDrag(){i.docStyle&&i.selectProp&&(i.userSelect=i.docStyle[i.selectProp],i.docStyle[i.selectProp]="none")}static enableDrag(){i.docStyle&&i.selectProp&&(i.docStyle[i.selectProp]=i.userSelect)}static setTransform(t,e){t.style[i.transformProp]=e}static addEventListener(t,e,i,n={}){t.addEventListener(e,i,"passive"in n?n:n.capture)}static removeEventListener(t,e,i,n={}){t.removeEventListener(e,i,"passive"in n?n:n.capture)}static suppressClickInternal(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener("click",i.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",i.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",i.suppressClickInternal,!0)}),0)}static mousePos(e,i){const n=e.getBoundingClientRect();return new t.P(i.clientX-n.left-e.clientLeft,i.clientY-n.top-e.clientTop)}static touchPos(e,i){const n=e.getBoundingClientRect(),r=[];for(let s=0;s<i.length;s++)r.push(new t.P(i[s].clientX-n.left-e.clientLeft,i[s].clientY-n.top-e.clientTop));return r}static mouseButton(t){return t.button}static remove(t){t.parentNode&&t.parentNode.removeChild(t)}}i.docStyle="undefined"!=typeof window&&window.document&&window.document.documentElement.style,i.selectProp=i.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),i.transformProp=i.testProp(["transform","WebkitTransform"]);const n={supported:!1,testSupport:function(t){!o&&s&&(a?l(t):r=t)}};let r,s,o=!1,a=!1;function l(t){const e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,s),t.isContextLost())return;n.supported=!0}catch(t){}t.deleteTexture(e),o=!0}var c,h;"undefined"!=typeof document&&(s=document.createElement("img"),s.onload=function(){r&&l(r),r=null,a=!0},s.onerror=function(){o=!0,r=null},s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(e){let i,r,s,o;e.resetRequestQueue=()=>{i=[],r=0,s=0,o={}},e.addThrottleControl=t=>{const e=s++;return o[e]=t,e},e.removeThrottleControl=t=>{delete o[t],c()},e.getImage=(t,e,s=!0)=>{n.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*");const o={requestParameters:t,supportImageRefresh:s,callback:e,cancelled:!1,completed:!1,cancel:()=>{o.completed||o.cancelled||(o.cancelled=!0,o.innerRequest&&(o.innerRequest.cancel(),r--),c())}};return i.push(o),c(),o};const a=e=>{const{requestParameters:i,supportImageRefresh:n,callback:r}=e;return t.e(i,{type:"image"}),(!1!==n||t.i()||t.g(i.url)||i.headers&&!Object.keys(i.headers).reduce(((t,e)=>t&&"accept"===e),!0)?t.m:h)(i,((t,i,n,s)=>{l(e,r,t,i,n,s)}))},l=(e,i,n,s,o,a)=>{n?i(n):s instanceof HTMLImageElement||t.a(s)?i(null,s):s&&((e,i)=>{"function"==typeof createImageBitmap?t.b(e,i):t.d(e,i)})(s,((t,e)=>{null!=t?i(t):null!=e&&i(null,e,{cacheControl:o,expires:a})})),e.cancelled||(e.completed=!0,r--,c())},c=()=>{const e=(()=>{const t=Object.keys(o);let e=!1;if(t.length>0)for(const i of t)if(e=o[i](),e)break;return e})()?t.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:t.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let t=r;t<e&&i.length>0;t++){const e=i.shift();if(e.cancelled){t--;continue}const n=a(e);r++,e.innerRequest=n}},h=(e,i)=>{const n=new Image,r=e.url;let s=!1;const o=e.credentials;return o&&"include"===o?n.crossOrigin="use-credentials":(o&&"same-origin"===o||!t.s(r))&&(n.crossOrigin="anonymous"),n.fetchPriority="high",n.onload=()=>{i(null,n),n.onerror=n.onload=null},n.onerror=()=>{s||i(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),n.onerror=n.onload=null},n.src=r,{cancel:()=>{s=!0,n.src=""}}}}(c||(c={})),c.resetRequestQueue(),function(t){t.Glyphs="Glyphs",t.Image="Image",t.Source="Source",t.SpriteImage="SpriteImage",t.SpriteJSON="SpriteJSON",t.Style="Style",t.Tile="Tile",t.Unknown="Unknown"}(h||(h={}));class u{constructor(t){this._transformRequestFn=t}transformRequest(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}}normalizeSpriteURL(t,e,i){const n=function(t){const e=t.match(d);if(!e)throw new Error(`Unable to parse URL "${t}"`);return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}(t);return n.path+=`${e}${i}`,function(t){const e=t.params.length?`?${t.params.join("&")}`:"";return`${t.protocol}://${t.authority}${t.path}${e}`}(n)}setTransformRequest(t){this._transformRequestFn=t}}const d=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function p(e){var i=new t.A(3);return i[0]=e[0],i[1]=e[1],i[2]=e[2],i}var f,m=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t};f=new t.A(3),t.A!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);var g=function(t){var e=t[0],i=t[1];return e*e+i*i};function y(t){const e=[];if("string"==typeof t)e.push({id:"default",url:t});else if(t&&t.length>0){const i=[];for(const{id:n,url:r}of t){const t=`${n}${r}`;-1===i.indexOf(t)&&(i.push(t),e.push({id:n,url:r}))}}return e}function x(e,i,n,r,s){if(r)return void e(r);if(s!==Object.values(i).length||s!==Object.values(n).length)return;const o={};for(const a in i){o[a]={};const e=t.h.getImageCanvasContext(n[a]),r=i[a];for(const t in r){const{width:i,height:n,x:s,y:l,sdf:c,pixelRatio:h,stretchX:u,stretchY:d,content:p}=r[t];o[a][t]={data:null,pixelRatio:h,sdf:c,stretchX:u,stretchY:d,content:p,spriteData:{width:i,height:n,x:s,y:l,context:e}}}}e(null,o)}!function(){var e=new t.A(2);t.A!=Float32Array&&(e[0]=0,e[1]=0)}();class v{constructor(t,e,i,n){this.context=t,this.format=i,this.texture=t.gl.createTexture(),this.update(e,n)}update(e,i,n){const{width:r,height:s}=e,o=!(this.size&&this.size[0]===r&&this.size[1]===s||n),{context:a}=this,{gl:l}=a;if(this.useMipmap=Boolean(i&&i.useMipmap),l.bindTexture(l.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===l.RGBA&&(!i||!1!==i.premultiply)),o)this.size=[r,s],e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||t.a(e)?l.texImage2D(l.TEXTURE_2D,0,this.format,this.format,l.UNSIGNED_BYTE,e):l.texImage2D(l.TEXTURE_2D,0,this.format,r,s,0,this.format,l.UNSIGNED_BYTE,e.data);else{const{x:i,y:o}=n||{x:0,y:0};e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||t.a(e)?l.texSubImage2D(l.TEXTURE_2D,0,i,o,l.RGBA,l.UNSIGNED_BYTE,e):l.texSubImage2D(l.TEXTURE_2D,0,i,o,r,s,l.RGBA,l.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&l.generateMipmap(l.TEXTURE_2D)}bind(t,e,i){const{context:n}=this,{gl:r}=n;r.bindTexture(r.TEXTURE_2D,this.texture),i!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(i=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,i||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null}}function b(t){const{userImage:e}=t;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}class _ extends t.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(t){if(this.loaded!==t&&(this.loaded=t,t)){for(const{ids:t,callback:e}of this.requestors)this._notify(t,e);this.requestors=[]}}getImage(e){const i=this.images[e];if(i&&!i.data&&i.spriteData){const e=i.spriteData;i.data=new t.R({width:e.width,height:e.height},e.context.getImageData(e.x,e.y,e.width,e.height).data),i.spriteData=null}return i}addImage(t,e){if(this.images[t])throw new Error(`Image id ${t} already exist, use updateImage instead`);this._validate(t,e)&&(this.images[t]=e)}_validate(e,i){let n=!0;const r=i.data||i.spriteData;return this._validateStretch(i.stretchX,r&&r.width)||(this.fire(new t.j(new Error(`Image "${e}" has invalid "stretchX" value`))),n=!1),this._validateStretch(i.stretchY,r&&r.height)||(this.fire(new t.j(new Error(`Image "${e}" has invalid "stretchY" value`))),n=!1),this._validateContent(i.content,i)||(this.fire(new t.j(new Error(`Image "${e}" has invalid "content" value`))),n=!1),n}_validateStretch(t,e){if(!t)return!0;let i=0;for(const n of t){if(n[0]<i||n[1]<n[0]||e<n[1])return!1;i=n[1]}return!0}_validateContent(t,e){if(!t)return!0;if(4!==t.length)return!1;const i=e.spriteData,n=i&&i.width||e.data.width,r=i&&i.height||e.data.height;return!(t[0]<0||n<t[0]||t[1]<0||r<t[1]||t[2]<0||n<t[2]||t[3]<0||r<t[3]||t[2]<t[0]||t[3]<t[1])}updateImage(t,e,i=!0){const n=this.getImage(t);if(i&&(n.data.width!==e.data.width||n.data.height!==e.data.height))throw new Error(`size mismatch between old image (${n.data.width}x${n.data.height}) and new image (${e.data.width}x${e.data.height}).`);e.version=n.version+1,this.images[t]=e,this.updatedImages[t]=!0}removeImage(t){const e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(t,e){let i=!0;if(!this.isLoaded())for(const n of t)this.images[n]||(i=!1);this.isLoaded()||i?this._notify(t,e):this.requestors.push({ids:t,callback:e})}_notify(e,i){const n={};for(const r of e){let e=this.getImage(r);e||(this.fire(new t.k("styleimagemissing",{id:r})),e=this.getImage(r)),e?n[r]={data:e.data.clone(),pixelRatio:e.pixelRatio,sdf:e.sdf,version:e.version,stretchX:e.stretchX,stretchY:e.stretchY,content:e.content,hasRenderCallback:Boolean(e.userImage&&e.userImage.render)}:t.w(`Image "${r}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}i(null,n)}getPixelSize(){const{width:t,height:e}=this.atlasImage;return{width:t,height:e}}getPattern(e){const i=this.patterns[e],n=this.getImage(e);if(!n)return null;if(i&&i.position.version===n.version)return i.position;if(i)i.position.version=n.version;else{const i={w:n.data.width+2,h:n.data.height+2,x:0,y:0},r=new t.I(i,n);this.patterns[e]={bin:i,position:r}}return this._updatePatternAtlas(),this.patterns[e].position}bind(t){const e=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new v(t,this.atlasImage,e.RGBA),this.atlasTexture.bind(e.LINEAR,e.CLAMP_TO_EDGE)}_updatePatternAtlas(){const e=[];for(const t in this.patterns)e.push(this.patterns[t].bin);const{w:i,h:n}=t.p(e),r=this.atlasImage;r.resize({width:i||1,height:n||1});for(const s in this.patterns){const{bin:e}=this.patterns[s],i=e.x+1,n=e.y+1,o=this.getImage(s).data,a=o.width,l=o.height;t.R.copy(o,r,{x:0,y:0},{x:i,y:n},{width:a,height:l}),t.R.copy(o,r,{x:0,y:l-1},{x:i,y:n-1},{width:a,height:1}),t.R.copy(o,r,{x:0,y:0},{x:i,y:n+l},{width:a,height:1}),t.R.copy(o,r,{x:a-1,y:0},{x:i-1,y:n},{width:1,height:l}),t.R.copy(o,r,{x:0,y:0},{x:i+a,y:n},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const i of e){if(this.callbackDispatchedThisFrame[i])continue;this.callbackDispatchedThisFrame[i]=!0;const e=this.getImage(i);e||t.w(`Image with ID: "${i}" was not found`),b(e)&&this.updateImage(i,e)}}}const w=1e20;function S(t,e,i,n,r,s,o,a,l){for(let c=e;c<e+n;c++)C(t,i*s+c,s,r,o,a,l);for(let c=i;c<i+r;c++)C(t,c*s+e,1,n,o,a,l)}function C(t,e,i,n,r,s,o){s[0]=0,o[0]=-w,o[1]=w,r[0]=t[e];for(let a=1,l=0,c=0;a<n;a++){r[a]=t[e+a*i];const n=a*a;do{const t=s[l];c=(r[a]-r[t]+n-t*t)/(a-t)/2}while(c<=o[l]&&--l>-1);l++,s[l]=a,o[l]=c,o[l+1]=w}for(let a=0,l=0;a<n;a++){for(;o[l+1]<a;)l++;const n=s[l],c=a-n;t[e+a*i]=r[n]+c*c}}class T{constructor(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}}setURL(t){this.url=t}getGlyphs(e,i){const n=[];for(const t in e)for(const i of e[t])n.push({stack:t,id:i});t.o(n,(({stack:t,id:e},i)=>{let n=this.entries[t];n||(n=this.entries[t]={glyphs:{},requests:{},ranges:{}});let r=n.glyphs[e];if(void 0!==r)return void i(null,{stack:t,id:e,glyph:r});if(r=this._tinySDF(n,t,e),r)return n.glyphs[e]=r,void i(null,{stack:t,id:e,glyph:r});const s=Math.floor(e/256);if(256*s>65535)return void i(new Error("glyphs > 65535 not supported"));if(n.ranges[s])return void i(null,{stack:t,id:e,glyph:r});if(!this.url)return void i(new Error("glyphsUrl is not set"));let o=n.requests[s];o||(o=n.requests[s]=[],T.loadGlyphRange(t,s,this.url,this.requestManager,((t,e)=>{if(e){for(const t in e)this._doesCharSupportLocalGlyph(+t)||(n.glyphs[+t]=e[+t]);n.ranges[s]=!0}for(const i of o)i(t,e);delete n.requests[s]}))),o.push(((n,r)=>{n?i(n):r&&i(null,{stack:t,id:e,glyph:r[e]||null})}))}),((t,e)=>{if(t)i(t);else if(e){const t={};for(const{stack:i,id:n,glyph:r}of e)(t[i]||(t[i]={}))[n]=r&&{id:r.id,bitmap:r.bitmap.clone(),metrics:r.metrics};i(null,t)}}))}_doesCharSupportLocalGlyph(e){return!!this.localIdeographFontFamily&&(t.u["CJK Unified Ideographs"](e)||t.u["Hangul Syllables"](e)||t.u.Hiragana(e)||t.u.Katakana(e))}_tinySDF(e,i,n){const r=this.localIdeographFontFamily;if(!r)return;if(!this._doesCharSupportLocalGlyph(n))return;let s=e.tinySDF;if(!s){let t="400";/bold/i.test(i)?t="900":/medium/i.test(i)?t="500":/light/i.test(i)&&(t="200"),s=e.tinySDF=new T.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:r,fontWeight:t})}const o=s.draw(String.fromCharCode(n));return{id:n,bitmap:new t.q({width:o.width||60,height:o.height||60},o.data),metrics:{width:o.glyphWidth/2||24,height:o.glyphHeight/2||24,left:o.glyphLeft/2+.5||0,top:o.glyphTop/2-27.5||-8,advance:o.glyphAdvance/2||24,isDoubleResolution:!0}}}}T.loadGlyphRange=function(e,i,n,r,s){const o=256*i,a=o+255,l=r.transformRequest(n.replace("{fontstack}",e).replace("{range}",`${o}-${a}`),h.Glyphs);t.l(l,((e,i)=>{if(e)s(e);else if(i){const e={};for(const n of t.n(i))e[n.id]=n;s(null,e)}}))},T.TinySDF=class{constructor({fontSize:t=24,buffer:e=3,radius:i=8,cutoff:n=.25,fontFamily:r="sans-serif",fontWeight:s="normal",fontStyle:o="normal"}={}){this.buffer=e,this.cutoff=n,this.radius=i;const a=this.size=t+4*e,l=this._createCanvas(a),c=this.ctx=l.getContext("2d",{willReadFrequently:!0});c.font=`${o} ${s} ${t}px ${r}`,c.textBaseline="alphabetic",c.textAlign="left",c.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Uint16Array(a)}_createCanvas(t){const e=document.createElement("canvas");return e.width=e.height=t,e}draw(t){const{width:e,actualBoundingBoxAscent:i,actualBoundingBoxDescent:n,actualBoundingBoxLeft:r,actualBoundingBoxRight:s}=this.ctx.measureText(t),o=Math.ceil(i),a=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(s-r))),l=Math.min(this.size-this.buffer,o+Math.ceil(n)),c=a+2*this.buffer,h=l+2*this.buffer,u=Math.max(c*h,0),d=new Uint8ClampedArray(u),p={data:d,width:c,height:h,glyphWidth:a,glyphHeight:l,glyphTop:o,glyphLeft:0,glyphAdvance:e};if(0===a||0===l)return p;const{ctx:f,buffer:m,gridInner:g,gridOuter:y}=this;f.clearRect(m,m,a,l),f.fillText(t,m,m+o);const x=f.getImageData(m,m,a,l);y.fill(w,0,u),g.fill(0,0,u);for(let v=0;v<l;v++)for(let t=0;t<a;t++){const e=x.data[4*(v*a+t)+3]/255;if(0===e)continue;const i=(v+m)*c+t+m;if(1===e)y[i]=0,g[i]=w;else{const t=.5-e;y[i]=t>0?t*t:0,g[i]=t<0?t*t:0}}S(y,0,0,c,h,c,this.f,this.v,this.z),S(g,m,m,a,l,c,this.f,this.v,this.z);for(let v=0;v<u;v++){const t=Math.sqrt(y[v])-Math.sqrt(g[v]);d[v]=Math.round(255-255*(t/this.radius+this.cutoff))}return p}};class k{constructor(){this.specification=t.v.light.position}possiblyEvaluate(e,i){return t.z(e.expression.evaluate(i))}interpolate(e,i,n){return{x:t.B.number(e.x,i.x,n),y:t.B.number(e.y,i.y,n),z:t.B.number(e.z,i.z,n)}}}let A;class I extends t.E{constructor(e){super(),A=A||new t.r({anchor:new t.D(t.v.light.anchor),position:new k,color:new t.D(t.v.light.color),intensity:new t.D(t.v.light.intensity)}),this._transitionable=new t.T(A),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(e,i={}){if(!this._validate(t.t,e,i))for(const t in e){const i=e[t];t.endsWith("-transition")?this._transitionable.setTransition(t.slice(0,-11),i):this._transitionable.setValue(t,i)}}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}_validate(e,i,n){return(!n||!1!==n.validate)&&t.x(this,e.call(t.y,t.e({value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.v})))}}class M{constructor(t,e){this.width=t,this.height=e,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(t,e){const i=t.join(",")+String(e);return this.dashEntry[i]||(this.dashEntry[i]=this.addDash(t,e)),this.dashEntry[i]}getDashRanges(t,e,i){const n=[];let r=t.length%2==1?-t[t.length-1]*i:0,s=t[0]*i,o=!0;n.push({left:r,right:s,isDash:o,zeroLength:0===t[0]});let a=t[0];for(let l=1;l<t.length;l++){o=!o;const e=t[l];r=a*i,a+=e,s=a*i,n.push({left:r,right:s,isDash:o,zeroLength:0===e})}return n}addRoundDash(t,e,i){const n=e/2;for(let r=-i;r<=i;r++){const e=this.width*(this.nextRow+i+r);let s=0,o=t[s];for(let a=0;a<this.width;a++){a/o.right>1&&(o=t[++s]);const l=Math.abs(a-o.left),c=Math.abs(a-o.right),h=Math.min(l,c);let u;const d=r/i*(n+1);if(o.isDash){const t=n-Math.abs(d);u=Math.sqrt(h*h+t*t)}else u=n-Math.sqrt(h*h+d*d);this.data[e+a]=Math.max(0,Math.min(255,u+128))}}}addRegularDash(t){for(let o=t.length-1;o>=0;--o){const e=t[o],i=t[o+1];e.zeroLength?t.splice(o,1):i&&i.isDash===e.isDash&&(i.left=e.left,t.splice(o,1))}const e=t[0],i=t[t.length-1];e.isDash===i.isDash&&(e.left=i.left-this.width,i.right=e.right+this.width);const n=this.width*this.nextRow;let r=0,s=t[r];for(let o=0;o<this.width;o++){o/s.right>1&&(s=t[++r]);const e=Math.abs(o-s.left),i=Math.abs(o-s.right),a=Math.min(e,i);this.data[n+o]=Math.max(0,Math.min(255,(s.isDash?a:-a)+128))}}addDash(e,i){const n=i?7:0,r=2*n+1;if(this.nextRow+r>this.height)return t.w("LineAtlas out of space"),null;let s=0;for(let t=0;t<e.length;t++)s+=e[t];if(0!==s){const t=this.width/s,r=this.getDashRanges(e,this.width,t);i?this.addRoundDash(r,t,n):this.addRegularDash(r)}const o={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:s};return this.nextRow+=r,this.dirty=!0,o}bind(t){const e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,this.data))}}class P{constructor(e,i,n){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=n;const r=this.workerPool.acquire(n);for(let s=0;s<r.length;s++){const e=new t.C(r[s],i,n);e.name=`Worker ${s}`,this.actors.push(e)}if(!this.actors.length)throw new Error("No actors found")}broadcast(e,i,n){t.o(this.actors,((t,n)=>{t.send(e,i,n)}),n=n||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(t=!0){this.actors.forEach((t=>{t.remove()})),this.actors=[],t&&this.workerPool.release(this.id)}}function E(e,i,n){const r=function(i,r){if(i)return n(i);if(r){const i=t.F(t.e(r,e),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);r.vector_layers&&(i.vectorLayers=r.vector_layers,i.vectorLayerIds=i.vectorLayers.map((t=>t.id))),n(null,i)}};return e.url?t.f(i.transformRequest(e.url,h.Source),r):t.h.frame((()=>r(null,e)))}class D{constructor(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):Array.isArray(t)&&(4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1])))}setNorthEast(e){return this._ne=e instanceof t.L?new t.L(e.lng,e.lat):t.L.convert(e),this}setSouthWest(e){return this._sw=e instanceof t.L?new t.L(e.lng,e.lat):t.L.convert(e),this}extend(e){const i=this._sw,n=this._ne;let r,s;if(e instanceof t.L)r=e,s=e;else{if(!(e instanceof D))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(D.convert(e)):this.extend(t.L.convert(e)):e&&("lng"in e||"lon"in e)&&"lat"in e?this.extend(t.L.convert(e)):this;if(r=e._sw,s=e._ne,!r||!s)return this}return i||n?(i.lng=Math.min(r.lng,i.lng),i.lat=Math.min(r.lat,i.lat),n.lng=Math.max(s.lng,n.lng),n.lat=Math.max(s.lat,n.lat)):(this._sw=new t.L(r.lng,r.lat),this._ne=new t.L(s.lng,s.lat)),this}getCenter(){return new t.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new t.L(this.getWest(),this.getNorth())}getSouthEast(){return new t.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:i,lat:n}=t.L.convert(e);let r=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(r=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&r}static convert(t){return t instanceof D?t:t?new D(t):t}static fromLngLat(e,i=0){const n=360*i/40075017,r=n/Math.cos(Math.PI/180*e.lat);return new D(new t.L(e.lng-r,e.lat-n),new t.L(e.lng+r,e.lat+n))}}class L{constructor(t,e,i){this.bounds=D.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=i||24}validateBounds(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]}contains(e){const i=Math.pow(2,e.z),n=Math.floor(t.G(this.bounds.getWest())*i),r=Math.floor(t.H(this.bounds.getNorth())*i),s=Math.ceil(t.G(this.bounds.getEast())*i),o=Math.ceil(t.H(this.bounds.getSouth())*i);return e.x>=n&&e.x<s&&e.y>=r&&e.y<o}}class z extends t.E{constructor(e,i,n,r){if(super(),this.load=()=>{this._loaded=!1,this.fire(new t.k("dataloading",{dataType:"source"})),this._tileJSONRequest=E(this._options,this.map._requestManager,((e,i)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),e?this.fire(new t.j(e)):i&&(t.e(this,i),i.bounds&&(this.tileBounds=new L(i.bounds,this.minzoom,this.maxzoom)),this.fire(new t.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.k("data",{dataType:"source",sourceDataType:"content"})))}))},this.serialize=()=>t.e({},this._options),this.id=e,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.e(this,t.F(i,["url","scheme","tileSize","promoteId"])),this._options=t.e({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r)}loaded(){return this._loaded}hasTile(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}onAdd(t){this.map=t,this.load()}setSourceProperty(t){this._tileJSONRequest&&this._tileJSONRequest.cancel(),t(),this.load()}setTiles(t){return this.setSourceProperty((()=>{this._options.tiles=t})),this}setUrl(t){return this.setSourceProperty((()=>{this.url=t,this._options.url=t})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(t,e){const i=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),n={request:this.map._requestManager.transformRequest(i,h.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function r(i,n){return delete t.request,t.aborted?e(null):i&&404!==i.status?e(i):(n&&n.resourceTiming&&(t.resourceTiming=n.resourceTiming),this.map._refreshExpiredTiles&&n&&t.setExpiryData(n),t.loadVectorData(n,this.map.painter),e(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}n.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=e:t.request=t.actor.send("reloadTile",n,r.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",n,r.bind(this)))}abortTile(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)}unloadTile(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class O extends t.E{constructor(e,i,n,r){super(),this.id=e,this.dispatcher=n,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.e({type:"raster"},i),t.e(this,t.F(i,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new t.k("dataloading",{dataType:"source"})),this._tileJSONRequest=E(this._options,this.map._requestManager,((e,i)=>{this._tileJSONRequest=null,this._loaded=!0,e?this.fire(new t.j(e)):i&&(t.e(this,i),i.bounds&&(this.tileBounds=new L(i.bounds,this.minzoom,this.maxzoom)),this.fire(new t.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.k("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}onAdd(t){this.map=t,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(t){this._tileJSONRequest&&this._tileJSONRequest.cancel(),t(),this.load()}setTiles(t){return this.setSourceProperty((()=>{this._options.tiles=t})),this}serialize(){return t.e({},this._options)}hasTile(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}loadTile(t,e){const i=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);t.request=c.getImage(this.map._requestManager.transformRequest(i,h.Tile),((i,n,r)=>{if(delete t.request,t.aborted)t.state="unloaded",e(null);else if(i)t.state="errored",e(i);else if(n){this.map._refreshExpiredTiles&&r&&t.setExpiryData(r);const i=this.map.painter.context,s=i.gl;t.texture=this.map.painter.getTileTexture(n.width),t.texture?t.texture.update(n,{useMipmap:!0}):(t.texture=new v(i,n,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),i.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,i.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,i.extTextureFilterAnisotropicMax)),t.state="loaded",e(null)}}),this.map._refreshExpiredTiles)}abortTile(t,e){t.request&&(t.request.cancel(),delete t.request),e()}unloadTile(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()}hasTransition(){return!1}}class F extends O{constructor(e,i,n,r){super(e,i,n,r),this.type="raster-dem",this.maxzoom=22,this._options=t.e({type:"raster-dem"},i),this.encoding=i.encoding||"mapbox",this.redFactor=i.redFactor,this.greenFactor=i.greenFactor,this.blueFactor=i.blueFactor,this.baseShift=i.baseShift}loadTile(e,i){const n=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),r=this.map._requestManager.transformRequest(n,h.Tile);function s(t,n){t&&(e.state="errored",i(t)),n&&(e.dem=n,e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0,e.state="loaded",i(null))}e.neighboringTiles=this._getNeighboringTiles(e.tileID),e.request=c.getImage(r,((n,r,o)=>t._(this,void 0,void 0,(function*(){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(n)e.state="errored",i(n);else if(r){this.map._refreshExpiredTiles&&e.setExpiryData(o);const i=t.a(r)&&t.J()?r:yield function(e){return t._(this,void 0,void 0,(function*(){if("undefined"!=typeof VideoFrame&&t.K()){const i=e.width+2,n=e.height+2;try{return new t.R({width:i,height:n},yield t.M(e,-1,-1,i,n))}catch(t){}}return t.h.getImageData(e,1)}))}(r),n={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:i,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",n,s))}}))),this.map._refreshExpiredTiles)}_getNeighboringTiles(e){const i=e.canonical,n=Math.pow(2,i.z),r=(i.x-1+n)%n,s=0===i.x?e.wrap-1:e.wrap,o=(i.x+1+n)%n,a=i.x+1===n?e.wrap+1:e.wrap,l={};return l[new t.O(e.overscaledZ,s,i.z,r,i.y).key]={backfilled:!1},l[new t.O(e.overscaledZ,a,i.z,o,i.y).key]={backfilled:!1},i.y>0&&(l[new t.O(e.overscaledZ,s,i.z,r,i.y-1).key]={backfilled:!1},l[new t.O(e.overscaledZ,e.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new t.O(e.overscaledZ,a,i.z,o,i.y-1).key]={backfilled:!1}),i.y+1<n&&(l[new t.O(e.overscaledZ,s,i.z,r,i.y+1).key]={backfilled:!1},l[new t.O(e.overscaledZ,e.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new t.O(e.overscaledZ,a,i.z,o,i.y+1).key]={backfilled:!1}),l}unloadTile(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&t.actor.send("removeDEMTile",{uid:t.uid,source:this.id})}}class R extends t.E{constructor(e,i,n,r){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>t.e({},this._options,{type:this.type,data:this._data}),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=n.getActor(),this.setEventedParent(r),this._data=i.data,this._options=t.e({},i),this._collectResourceTiming=i.collectResourceTiming,void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId;const s=t.N/this.tileSize;this.workerOptions=t.e({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*s,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*s,extent:t.N,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?i.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:t.N,radius:(i.clusterRadius||50)*s,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}onAdd(t){this.map=t,this.load()}setData(t){return this._data=t,this._updateWorkerData(),this}updateData(t){return this._updateWorkerData(t),this}setClusterOptions(t){return this.workerOptions.cluster=t.cluster,t&&(void 0!==t.clusterRadius&&(this.workerOptions.superclusterOptions.radius=t.clusterRadius),void 0!==t.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=t.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this}getClusterChildren(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this}getClusterLeaves(t,e,i,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:i},n),this}_updateWorkerData(e){const i=t.e({},this.workerOptions);e?i.dataDiff=e:"string"==typeof this._data?(i.request=this.map._requestManager.transformRequest(t.h.resolveURL(this._data),h.Source),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new t.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,i,((e,i)=>{if(this._pendingLoads--,this._removed||i&&i.abandoned)return void this.fire(new t.k("dataabort",{dataType:"source"}));let n=null;if(i&&i.resourceTiming&&i.resourceTiming[this.id]&&(n=i.resourceTiming[this.id].slice(0)),e)return void this.fire(new t.j(e));const r={dataType:"source"};this._collectResourceTiming&&n&&n.length>0&&t.e(r,{resourceTiming:n}),this.fire(new t.k("data",Object.assign(Object.assign({},r),{sourceDataType:"metadata"}))),this.fire(new t.k("data",Object.assign(Object.assign({},r),{sourceDataType:"content"})))}))}loaded(){return 0===this._pendingLoads}loadTile(t,e){const i=t.actor?"reloadTile":"loadTile";t.actor=this.actor;const n={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};t.request=this.actor.send(i,n,((n,r)=>(delete t.request,t.unloadVectorData(),t.aborted?e(null):n?e(n):(t.loadVectorData(r,this.map.painter,"reloadTile"===i),e(null)))))}abortTile(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0}unloadTile(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var B=t.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class N extends t.E{constructor(e,i,n,r){super(),this.load=(e,i)=>{this._loaded=!1,this.fire(new t.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=c.getImage(this.map._requestManager.transformRequest(this.url,h.Image),((n,r)=>{this._request=null,this._loaded=!0,n?this.fire(new t.j(n)):r&&(this.image=r,e&&(this.coordinates=e),i&&i(),this._finishLoading())}))},this.prepare=()=>{if(0===Object.keys(this.tiles).length||!this.image)return;const e=this.map.painter.context,i=e.gl;this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,B.members)),this.boundsSegments||(this.boundsSegments=t.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new v(e,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));let n=!1;for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture,n=!0)}n&&this.fire(new t.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=e,this.dispatcher=n,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(r),this.options=i}loaded(){return this._loaded}updateImage(t){return t.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=t.url,this.load(t.coordinates,(()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(t){this.map=t,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(e){this.coordinates=e;const i=e.map(t.U.fromLngLat);this.tileID=function(e){let i=1/0,n=1/0,r=-1/0,s=-1/0;for(const t of e)i=Math.min(i,t.x),n=Math.min(n,t.y),r=Math.max(r,t.x),s=Math.max(s,t.y);const o=Math.max(r-i,s-n),a=Math.max(0,Math.floor(-Math.log(o)/Math.LN2)),l=Math.pow(2,a);return new t.W(a,Math.floor((i+r)/2*l),Math.floor((n+s)/2*l))}(i),this.minzoom=this.maxzoom=this.tileID.z;const n=i.map((t=>this.tileID.getTilePoint(t)._round()));return this._boundsArray=new t.V,this._boundsArray.emplaceBack(n[0].x,n[0].y,0,0),this._boundsArray.emplaceBack(n[1].x,n[1].y,t.N,0),this._boundsArray.emplaceBack(n[3].x,n[3].y,0,t.N),this._boundsArray.emplaceBack(n[2].x,n[2].y,t.N,t.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))}hasTransition(){return!1}}class j extends N{constructor(e,i,n,r){super(e,i,n,r),this.load=()=>{this._loaded=!1;const e=this.options;this.urls=[];for(const t of e.urls)this.urls.push(this.map._requestManager.transformRequest(t,h.Source).url);t.X(this.urls,((e,i)=>{this._loaded=!0,e?this.fire(new t.j(e)):i&&(this.video=i,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))},this.prepare=()=>{if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const e=this.map.painter.context,i=e.gl;this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,B.members)),this.boundsSegments||(this.boundsSegments=t.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new v(e,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));let n=!1;for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture,n=!0)}n&&this.fire(new t.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=i}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(e){if(this.video){const i=this.video.seekable;e<i.start(0)||e>i.end(0)?this.fire(new t.j(new t.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${i.start(0)} and ${i.end(0)}-second mark.`))):this.video.currentTime=e}}getVideo(){return this.video}onAdd(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class U extends N{constructor(e,i,n,r){super(e,i,n,r),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const i=this.map.painter.context,n=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,B.members)),this.boundsSegments||(this.boundsSegments=t.S.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new v(i,this.canvas,n.RGBA,{premultiply:!0});let r=!1;for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture,r=!0)}r&&this.fire(new t.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((t=>!Array.isArray(t)||2!==t.length||t.some((t=>"number"!=typeof t))))||this.fire(new t.j(new t.Y(`sources.${e}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.j(new t.Y(`sources.${e}`,null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&this.fire(new t.j(new t.Y(`sources.${e}`,null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof HTMLCanvasElement||this.fire(new t.j(new t.Y(`sources.${e}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.j(new t.Y(`sources.${e}`,null,'missing required property "canvas"'))),this.options=i,this.animate=void 0===i.animate||i.animate}getCanvas(){return this.canvas}onAdd(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const t of[this.canvas.width,this.canvas.height])if(isNaN(t)||t<=0)return!0;return!1}}const V={},$=t=>{switch(t){case"geojson":return R;case"image":return N;case"raster":return O;case"raster-dem":return F;case"vector":return z;case"video":return j;case"canvas":return U}return V[t]};function H(e,i){const n=t.Z();return t.$(n,n,[1,1,0]),t.a0(n,n,[.5*e.width,.5*e.height,1]),t.a1(n,n,e.calculatePosMatrix(i.toUnwrapped()))}function q(t,e,i,n,r,s){const o=function(t,e,i){if(t)for(const n of t){const t=e[n];if(t&&t.source===i&&"fill-extrusion"===t.type)return!0}else for(const n in e){const t=e[n];if(t.source===i&&"fill-extrusion"===t.type)return!0}return!1}(r&&r.layers,e,t.id),a=s.maxPitchScaleFactor(),l=t.tilesIn(n,a,o);l.sort(G);const c=[];for(const u of l)c.push({wrappedTileID:u.tileID.wrapped().key,queryResults:u.tile.queryRenderedFeatures(e,i,t._state,u.queryGeometry,u.cameraQueryGeometry,u.scale,r,s,a,H(t.transform,u.tileID))});const h=function(t){const e={},i={};for(const n of t){const t=n.queryResults,r=n.wrappedTileID,s=i[r]=i[r]||{};for(const i in t){const n=t[i],r=s[i]=s[i]||{},o=e[i]=e[i]||[];for(const t of n)r[t.featureIndex]||(r[t.featureIndex]=!0,o.push(t))}}return e}(c);for(const u in h)h[u].forEach((e=>{const i=e.feature,n=t.getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=n}));return h}function G(t,e){const i=t.tileID,n=e.tileID;return i.overscaledZ-n.overscaledZ||i.canonical.y-n.canonical.y||i.wrap-n.wrap||i.canonical.x-n.canonical.x}class W{constructor(e,i){this.timeAdded=0,this.fadeEndTime=0,this.tileID=e,this.uid=t.a2(),this.uses=0,this.tileSize=i,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(t){const e=t+this.timeAdded;e<this.fadeEndTime||(this.fadeEndTime=e)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(t){this.demTexture&&t.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(e,i,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(t,e){const i={};if(!e)return i;for(const n of t){const t=n.layerIds.map((t=>e.getLayer(t))).filter(Boolean);if(0!==t.length){n.layers=t,n.stateDependentLayerIds&&(n.stateDependentLayers=n.stateDependentLayerIds.map((e=>t.filter((t=>t.id===e))[0])));for(const e of t)i[e.id]=n}}return i}(e.buckets,i.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const i=this.buckets[e];if(i instanceof t.a4){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const i=this.buckets[e];if(i instanceof t.a4&&i.hasRTLText){this.hasRTLText=!0,t.a5();break}}this.queryPadding=0;for(const t in this.buckets){const e=this.buckets[t];this.queryPadding=Math.max(this.queryPadding,i.style.getLayer(t).queryRadius(e))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new t.a3}unloadVectorData(){for(const t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(t){return this.buckets[t.id]}upload(t){for(const i in this.buckets){const e=this.buckets[i];e.uploadPending()&&e.upload(t)}const e=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new v(t,this.imageAtlas.image,e.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new v(t,this.glyphAtlasImage,e.ALPHA),this.glyphAtlasImage=null)}prepare(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)}queryRenderedFeatures(t,e,i,n,r,s,o,a,l,c){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:r,scale:s,tileSize:this.tileSize,pixelPosMatrix:c,transform:a,params:o,queryPadding:this.queryPadding*l},t,e,i):{}}querySourceFeatures(e,i){const n=this.latestFeatureIndex;if(!n||!n.rawTileData)return;const r=n.loadVTLayers(),s=i&&i.sourceLayer?i.sourceLayer:"",o=r._geojsonTileLayer||r[s];if(!o)return;const a=t.a6(i&&i.filter),{z:l,x:c,y:h}=this.tileID.canonical,u={z:l,x:c,y:h};for(let d=0;d<o.length;d++){const i=o.feature(d);if(a.needGeometry){const e=t.a7(i,!0);if(!a.filter(new t.a8(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!a.filter(new t.a8(this.tileID.overscaledZ),i))continue;const r=n.getId(i,s),p=new t.a9(i,l,c,h,r);p.tile=u,e.push(p)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const i=this.expirationTime;if(e.cacheControl){const i=t.aa(e.cacheControl);i["max-age"]&&(this.expirationTime=Date.now()+1e3*i["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const t=Date.now();let e=!1;if(this.expirationTime>t)e=!1;else if(i)if(this.expirationTime<i)e=!0;else{const n=this.expirationTime-i;n?this.expirationTime=t+Math.max(n,3e4):e=!0}else e=!0;e?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(t,e){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(t).length)return;const i=this.latestFeatureIndex.loadVTLayers();for(const n in this.buckets){if(!e.style.hasLayer(n))continue;const r=this.buckets[n],s=r.layers[0].sourceLayer||"_geojsonTileLayer",o=i[s],a=t[s];if(!o||!a||0===Object.keys(a).length)continue;r.update(a,o,this.imageAtlas&&this.imageAtlas.patternPositions||{});const l=e&&e.style&&e.style.getLayer(n);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(r)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<t.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=t.h.now()+e}setDependencies(t,e){const i={};for(const n of e)i[n]=!0;this.dependencies[t]=i}hasDependency(t,e){for(const i of t){const t=this.dependencies[i];if(t)for(const i of e)if(t[i])return!0}return!1}}class X{constructor(t,e){this.max=t,this.onRemove=e,this.reset()}reset(){for(const t in this.data)for(const e of this.data[t])e.timeout&&clearTimeout(e.timeout),this.onRemove(e.value);return this.data={},this.order=[],this}add(t,e,i){const n=t.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);const r={value:e,timeout:void 0};if(void 0!==i&&(r.timeout=setTimeout((()=>{this.remove(t,r)}),i)),this.data[n].push(r),this.order.push(n),this.order.length>this.max){const t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}has(t){return t.wrapped().key in this.data}getAndRemove(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null}_getAndRemoveByKey(t){const e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value}getByKey(t){const e=this.data[t];return e?e[0].value:null}get(t){return this.has(t)?this.data[t.wrapped().key][0].value:null}remove(t,e){if(!this.has(t))return this;const i=t.wrapped().key,n=void 0===e?0:this.data[i].indexOf(e),r=this.data[i][n];return this.data[i].splice(n,1),r.timeout&&clearTimeout(r.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(r.value),this.order.splice(this.order.indexOf(i),1),this}setMaxSize(t){for(this.max=t;this.order.length>this.max;){const t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}filter(t){const e=[];for(const i in this.data)for(const n of this.data[i])t(n.value)||e.push(n);for(const i of e)this.remove(i.value.tileID,i)}}class Y{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,i,n){const r=String(i);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},t.e(this.stateChanges[e][r],n),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==r&&(this.deletedStates[e][t]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][r]){this.deletedStates[e][r]={};for(const t in this.state[e][r])n[t]||(this.deletedStates[e][r][t]=null)}else for(const t in n)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][t]&&delete this.deletedStates[e][r][t]}removeFeatureState(t,e,i){if(null===this.deletedStates[t])return;const n=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},i&&void 0!==e)null!==this.deletedStates[t][n]&&(this.deletedStates[t][n]=this.deletedStates[t][n]||{},this.deletedStates[t][n][i]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][n])for(i in this.deletedStates[t][n]={},this.stateChanges[t][n])this.deletedStates[t][n][i]=null;else this.deletedStates[t][n]=null;else this.deletedStates[t]=null}getState(e,i){const n=String(i),r=t.e({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const t=this.deletedStates[e][i];if(null===t)return{};for(const e in t)delete r[e]}return r}initializeTileState(t,e){t.setFeatureState(this.state,e)}coalesceChanges(e,i){const n={};for(const r in this.stateChanges){this.state[r]=this.state[r]||{};const e={};for(const i in this.stateChanges[r])this.state[r][i]||(this.state[r][i]={}),t.e(this.state[r][i],this.stateChanges[r][i]),e[i]=this.state[r][i];n[r]=e}for(const r in this.deletedStates){this.state[r]=this.state[r]||{};const e={};if(null===this.deletedStates[r])for(const t in this.state[r])e[t]={},this.state[r][t]={};else for(const t in this.deletedStates[r]){if(null===this.deletedStates[r][t])this.state[r][t]={};else for(const e of Object.keys(this.deletedStates[r][t]))delete this.state[r][t][e];e[t]=this.state[r][t]}n[r]=n[r]||{},t.e(n[r],e)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(const t in e)e[t].setFeatureState(n,i)}}class Z extends t.E{constructor(t,e,i){super(),this.id=t,this.dispatcher=i,this.on("data",(t=>{"source"===t.dataType&&"metadata"===t.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)})),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((t,e,i,n)=>{const r=new($(e.type))(t,e,i,n);if(r.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${r.id}`);return r})(t,e,i,this),this._tiles={},this._cache=new X(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Y,this._didEmitContent=!1,this._updated=!1}onAdd(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._maxTileCacheZoomLevels=t?t._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(t)}onRemove(t){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(t)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const t in this._tiles){const e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(t,e){return this._source.loadTile(t,e)}_unloadTile(t){if(this._source.unloadTile)return this._source.unloadTile(t,(()=>{}))}_abortTile(e){this._source.abortTile&&this._source.abortTile(e,(()=>{})),this._source.fire(new t.k("dataabort",{tile:e,coord:e.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(t){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const e in this._tiles){const i=this._tiles[e];i.upload(t),i.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((t=>t.tileID)).sort(K).map((t=>t.key))}getRenderableIds(e){const i=[];for(const t in this._tiles)this._isIdRenderable(t,e)&&i.push(this._tiles[t]);return e?i.sort(((e,i)=>{const n=e.tileID,r=i.tileID,s=new t.P(n.canonical.x,n.canonical.y)._rotate(this.transform.angle),o=new t.P(r.canonical.x,r.canonical.y)._rotate(this.transform.angle);return n.overscaledZ-r.overscaledZ||o.y-s.y||o.x-s.x})).map((t=>t.tileID.key)):i.map((t=>t.tileID)).sort(K).map((t=>t.key))}hasRenderableParent(t){const e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)}_isIdRenderable(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const t in this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")}}_reloadTile(t,e){const i=this._tiles[t];i&&("loading"!==i.state&&(i.state=e),this._loadTile(i,this._tileLoaded.bind(this,i,t,e)))}_tileLoaded(e,i,n,r){if(r)return e.state="errored",void(404!==r.status?this._source.fire(new t.j(r,{tile:e})):this.update(this.transform,this.terrain));e.timeAdded=t.h.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),e.aborted||this._source.fire(new t.k("data",{dataType:"source",tile:e,coord:e.tileID}))}_backfillDEM(t){const e=this.getRenderableIds();for(let n=0;n<e.length;n++){const r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){const e=this.getTileByID(r);i(t,e),i(e,t)}}function i(t,e){t.needsHillshadePrepare=!0,t.needsTerrainPrepare=!0;let i=e.tileID.canonical.x-t.tileID.canonical.x;const n=e.tileID.canonical.y-t.tileID.canonical.y,r=Math.pow(2,t.tileID.canonical.z),s=e.tileID.key;0===i&&0===n||Math.abs(n)>1||(Math.abs(i)>1&&(1===Math.abs(i+r)?i+=r:1===Math.abs(i-r)&&(i-=r)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,i,n),t.neighboringTiles&&t.neighboringTiles[s]&&(t.neighboringTiles[s].backfilled=!0)))}}getTile(t){return this.getTileByID(t.key)}getTileByID(t){return this._tiles[t]}_retainLoadedChildren(t,e,i,n){for(const r in this._tiles){let s=this._tiles[r];if(n[r]||!s.hasData()||s.tileID.overscaledZ<=e||s.tileID.overscaledZ>i)continue;let o=s.tileID;for(;s&&s.tileID.overscaledZ>e+1;){const t=s.tileID.scaledTo(s.tileID.overscaledZ-1);s=this._tiles[t.key],s&&s.hasData()&&(o=t)}let a=o;for(;a.overscaledZ>e;)if(a=a.scaledTo(a.overscaledZ-1),t[a.key]){n[o.key]=o;break}}}findLoadedParent(t,e){if(t.key in this._loadedParentTiles){const i=this._loadedParentTiles[t.key];return i&&i.tileID.overscaledZ>=e?i:null}for(let i=t.overscaledZ-1;i>=e;i--){const e=t.scaledTo(i),n=this._getLoadedTile(e);if(n)return n}}_getLoadedTile(t){const e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(t.wrapped().key)}updateCacheSize(e){const i=Math.ceil(e.width/this._source.tileSize)+1,n=Math.ceil(e.height/this._source.tileSize)+1,r=Math.floor(i*n*(null===this._maxTileCacheZoomLevels?t.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),s="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(s)}handleWrapJump(t){const e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){const t={};for(const i in this._tiles){const n=this._tiles[i];n.tileID=n.tileID.unwrapTo(n.tileID.wrap+e),t[n.tileID.key]=n}this._tiles=t;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(e,this._tiles[e])}}update(e,i){if(this.transform=e,this.terrain=i,!this._sourceLoaded||this._paused)return;let n;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?n=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((e=>new t.O(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y))):(n=e.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:i}),this._source.hasTile&&(n=n.filter((t=>this._source.hasTile(t))))):n=[];const r=e.coveringZoomLevel(this._source),s=Math.max(r-Z.maxOverzooming,this._source.minzoom),o=Math.max(r+Z.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const t={};for(const e of n)if(e.canonical.z>this._source.minzoom){const i=e.scaledTo(e.canonical.z-1);t[i.key]=i;const n=e.scaledTo(Math.max(this._source.minzoom,Math.min(e.canonical.z,5)));t[n.key]=n}n=n.concat(Object.values(t))}const a=0===n.length&&!this._updated&&this._didEmitContent;this._updated=!0,a&&this.fire(new t.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const l=this._updateRetainedTiles(n,r);if(J(this._source.type)){const e={},a={},c=Object.keys(l),h=t.h.now();for(const t of c){const i=l[t],n=this._tiles[t];if(!n||0!==n.fadeEndTime&&n.fadeEndTime<=h)continue;const r=this.findLoadedParent(i,s);r&&(this._addTile(r.tileID),e[r.tileID.key]=r.tileID),a[t]=i}this._retainLoadedChildren(a,r,o,l);for(const t in e)l[t]||(this._coveredTiles[t]=!0,l[t]=e[t]);if(i){const t={},e={};for(const i of n)this._tiles[i.key].hasData()?t[i.key]=i:e[i.key]=i;for(const i in e){const n=e[i].children(this._source.maxzoom);this._tiles[n[0].key]&&this._tiles[n[1].key]&&this._tiles[n[2].key]&&this._tiles[n[3].key]&&(t[n[0].key]=l[n[0].key]=n[0],t[n[1].key]=l[n[1].key]=n[1],t[n[2].key]=l[n[2].key]=n[2],t[n[3].key]=l[n[3].key]=n[3],delete e[i])}for(const i in e){const n=this.findLoadedParent(e[i],this._source.minzoom);if(n){t[n.tileID.key]=l[n.tileID.key]=n.tileID;for(const e in t)t[e].isChildOf(n.tileID)&&delete t[e]}}for(const i in this._tiles)t[i]||(this._coveredTiles[i]=!0)}}for(const t in l)this._tiles[t].clearFadeHold();const c=t.ab(this._tiles,l);for(const t of c){const e=this._tiles[t];e.hasSymbolBuckets&&!e.holdingForFade()?e.setHoldDuration(this.map._fadeDuration):e.hasSymbolBuckets&&!e.symbolFadeFinished()||this._removeTile(t)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)}_updateRetainedTiles(t,e){const i={},n={},r=Math.max(e-Z.maxOverzooming,this._source.minzoom),s=Math.max(e+Z.maxUnderzooming,this._source.minzoom),o={};for(const a of t){const t=this._addTile(a);i[a.key]=a,t.hasData()||e<this._source.maxzoom&&(o[a.key]=a)}this._retainLoadedChildren(o,e,s,i);for(const a of t){let t=this._tiles[a.key];if(t.hasData())continue;if(e+1>this._source.maxzoom){const t=a.children(this._source.maxzoom)[0],e=this.getTile(t);if(e&&e.hasData()){i[t.key]=t;continue}}else{const t=a.children(this._source.maxzoom);if(i[t[0].key]&&i[t[1].key]&&i[t[2].key]&&i[t[3].key])continue}let s=t.wasRequested();for(let e=a.overscaledZ-1;e>=r;--e){const r=a.scaledTo(e);if(n[r.key])break;if(n[r.key]=!0,t=this.getTile(r),!t&&s&&(t=this._addTile(r)),t){const e=t.hasData();if((s||e)&&(i[r.key]=r),s=t.wasRequested(),e)break}}}return i}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const t in this._tiles){const e=[];let i,n=this._tiles[t].tileID;for(;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){i=this._loadedParentTiles[n.key];break}e.push(n.key);const t=n.scaledTo(n.overscaledZ-1);if(i=this._getLoadedTile(t),i)break;n=t}for(const t of e)this._loadedParentTiles[t]=i}}_addTile(e){let i=this._tiles[e.key];if(i)return i;i=this._cache.getAndRemove(e),i&&(this._setTileReloadTimer(e.key,i),i.tileID=e,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i)));const n=i;return i||(i=new W(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(i,this._tileLoaded.bind(this,i,e.key,i.state))),i.uses++,this._tiles[e.key]=i,n||this._source.fire(new t.k("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i}_setTileReloadTimer(t,e){t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);const i=e.getExpiryTimeout();i&&(this._timers[t]=setTimeout((()=>{this._reloadTile(t,"expired"),delete this._timers[t]}),i))}_removeTile(t){const e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const t in this._tiles)this._removeTile(t);this._cache.reset()}tilesIn(e,i,n){const r=[],s=this.transform;if(!s)return r;const o=n?s.getCameraQueryGeometry(e):e,a=e.map((t=>s.pointCoordinate(t,this.terrain))),l=o.map((t=>s.pointCoordinate(t,this.terrain))),c=this.getIds();let h=1/0,u=1/0,d=-1/0,p=-1/0;for(const t of l)h=Math.min(h,t.x),u=Math.min(u,t.y),d=Math.max(d,t.x),p=Math.max(p,t.y);for(let f=0;f<c.length;f++){const e=this._tiles[c[f]];if(e.holdingForFade())continue;const n=e.tileID,o=Math.pow(2,s.zoom-e.tileID.overscaledZ),m=i*e.queryPadding*t.N/e.tileSize/o,g=[n.getTilePoint(new t.U(h,u)),n.getTilePoint(new t.U(d,p))];if(g[0].x-m<t.N&&g[0].y-m<t.N&&g[1].x+m>=0&&g[1].y+m>=0){const t=a.map((t=>n.getTilePoint(t))),i=l.map((t=>n.getTilePoint(t)));r.push({tile:e,tileID:n,queryGeometry:t,cameraQueryGeometry:i,scale:o})}}return r}getVisibleCoordinates(t){const e=this.getRenderableIds(t).map((t=>this._tiles[t].tileID));for(const i of e)i.posMatrix=this.transform.calculatePosMatrix(i.toUnwrapped());return e}hasTransition(){if(this._source.hasTransition())return!0;if(J(this._source.type)){const e=t.h.now();for(const t in this._tiles)if(this._tiles[t].fadeEndTime>=e)return!0}return!1}setFeatureState(t,e,i){this._state.updateState(t=t||"_geojsonTileLayer",e,i)}removeFeatureState(t,e,i){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,i)}getFeatureState(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)}setDependencies(t,e,i){const n=this._tiles[t];n&&n.setDependencies(e,i)}reloadTilesForDependencies(t,e){for(const i in this._tiles)this._tiles[i].hasDependency(t,e)&&this._reloadTile(i,"reloading");this._cache.filter((i=>!i.hasDependency(t,e)))}}function K(t,e){const i=Math.abs(2*t.wrap)-+(t.wrap<0),n=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||n-i||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function J(t){return"raster"===t||"image"===t||"video"===t}Z.maxOverzooming=10,Z.maxUnderzooming=3;const Q="mapboxgl_preloaded_worker_pool";class tt{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<tt.workerCount;)this.workers.push(new Worker(t.c.WORKER_URL));return this.active[e]=!0,this.workers.slice()}release(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach((t=>{t.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Q]}numActive(){return Object.keys(this.active).length}}const et=Math.floor(t.h.hardwareConcurrency/2);let it;function nt(){return it||(it=new tt),it}tt.workerCount=t.ac(globalThis)?Math.max(Math.min(et,3),1):1;class rt{constructor(t,e){this.reset(t,e)}reset(t,e){this.points=t||[],this._distances=[0];for(let i=1;i<this.points.length;i++)this._distances[i]=this._distances[i-1]+this.points[i].dist(this.points[i-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(e||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(e){if(1===this.points.length)return this.points[0];e=t.ad(e,0,1);let i=1,n=this._distances[i];const r=e*this.paddedLength+this.padding;for(;n<r&&i<this._distances.length;)n=this._distances[++i];const s=i-1,o=this._distances[s],a=n-o,l=a>0?(r-o)/a:0;return this.points[s].mult(1-l).add(this.points[i].mult(l))}}function st(t,e){let i=!0;return"always"===t||"never"!==t&&"never"!==e||(i=!1),i}class ot{constructor(t,e,i){const n=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(t/i),this.yCellCount=Math.ceil(e/i);for(let s=0;s<this.xCellCount*this.yCellCount;s++)n.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(t,e,i,n,r){this._forEachCell(e,i,n,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(r)}insertCircle(t,e,i,n){this._forEachCell(e-n,i-n,e+n,i+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(i),this.circles.push(n)}_insertBoxCell(t,e,i,n,r,s){this.boxCells[r].push(s)}_insertCircleCell(t,e,i,n,r,s){this.circleCells[r].push(s)}_query(t,e,i,n,r,s,o){if(i<0||t>this.width||n<0||e>this.height)return[];const a=[];if(t<=0&&e<=0&&this.width<=i&&this.height<=n){if(r)return[{key:null,x1:t,y1:e,x2:i,y2:n}];for(let t=0;t<this.boxKeys.length;t++)a.push({key:this.boxKeys[t],x1:this.bboxes[4*t],y1:this.bboxes[4*t+1],x2:this.bboxes[4*t+2],y2:this.bboxes[4*t+3]});for(let t=0;t<this.circleKeys.length;t++){const e=this.circles[3*t],i=this.circles[3*t+1],n=this.circles[3*t+2];a.push({key:this.circleKeys[t],x1:e-n,y1:i-n,x2:e+n,y2:i+n})}}else this._forEachCell(t,e,i,n,this._queryCell,a,{hitTest:r,overlapMode:s,seenUids:{box:{},circle:{}}},o);return a}query(t,e,i,n){return this._query(t,e,i,n,!1,null)}hitTest(t,e,i,n,r,s){return this._query(t,e,i,n,!0,r,s).length>0}hitTestCircle(t,e,i,n,r){const s=t-i,o=t+i,a=e-i,l=e+i;if(o<0||s>this.width||l<0||a>this.height)return!1;const c=[];return this._forEachCell(s,a,o,l,this._queryCellCircle,c,{hitTest:!0,overlapMode:n,circle:{x:t,y:e,radius:i},seenUids:{box:{},circle:{}}},r),c.length>0}_queryCell(t,e,i,n,r,s,o,a){const{seenUids:l,hitTest:c,overlapMode:h}=o,u=this.boxCells[r];if(null!==u){const r=this.bboxes;for(const o of u)if(!l.box[o]){l.box[o]=!0;const u=4*o,d=this.boxKeys[o];if(t<=r[u+2]&&e<=r[u+3]&&i>=r[u+0]&&n>=r[u+1]&&(!a||a(d))&&(!c||!st(h,d.overlapMode))&&(s.push({key:d,x1:r[u],y1:r[u+1],x2:r[u+2],y2:r[u+3]}),c))return!0}}const d=this.circleCells[r];if(null!==d){const r=this.circles;for(const o of d)if(!l.circle[o]){l.circle[o]=!0;const u=3*o,d=this.circleKeys[o];if(this._circleAndRectCollide(r[u],r[u+1],r[u+2],t,e,i,n)&&(!a||a(d))&&(!c||!st(h,d.overlapMode))){const t=r[u],e=r[u+1],i=r[u+2];if(s.push({key:d,x1:t-i,y1:e-i,x2:t+i,y2:e+i}),c)return!0}}}return!1}_queryCellCircle(t,e,i,n,r,s,o,a){const{circle:l,seenUids:c,overlapMode:h}=o,u=this.boxCells[r];if(null!==u){const t=this.bboxes;for(const e of u)if(!c.box[e]){c.box[e]=!0;const i=4*e,n=this.boxKeys[e];if(this._circleAndRectCollide(l.x,l.y,l.radius,t[i+0],t[i+1],t[i+2],t[i+3])&&(!a||a(n))&&!st(h,n.overlapMode))return s.push(!0),!0}}const d=this.circleCells[r];if(null!==d){const t=this.circles;for(const e of d)if(!c.circle[e]){c.circle[e]=!0;const i=3*e,n=this.circleKeys[e];if(this._circlesCollide(t[i],t[i+1],t[i+2],l.x,l.y,l.radius)&&(!a||a(n))&&!st(h,n.overlapMode))return s.push(!0),!0}}}_forEachCell(t,e,i,n,r,s,o,a){const l=this._convertToXCellCoord(t),c=this._convertToYCellCoord(e),h=this._convertToXCellCoord(i),u=this._convertToYCellCoord(n);for(let d=l;d<=h;d++)for(let l=c;l<=u;l++)if(r.call(this,t,e,i,n,this.xCellCount*l+d,s,o,a))return}_convertToXCellCoord(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))}_convertToYCellCoord(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))}_circlesCollide(t,e,i,n,r,s){const o=n-t,a=r-e,l=i+s;return l*l>o*o+a*a}_circleAndRectCollide(t,e,i,n,r,s,o){const a=(s-n)/2,l=Math.abs(t-(n+a));if(l>a+i)return!1;const c=(o-r)/2,h=Math.abs(e-(r+c));if(h>c+i)return!1;if(l<=a||h<=c)return!0;const u=l-a,d=h-c;return u*u+d*d<=i*i}}function at(e,i,n,r,s){const o=t.Z();return i?(t.a0(o,o,[1/s,1/s,1]),n||t.ae(o,o,r.angle)):t.a1(o,r.labelPlaneMatrix,e),o}function lt(e,i,n,r,s){if(i){const i=t.af(e);return t.a0(i,i,[s,s,1]),n||t.ae(i,i,-r.angle),i}return r.glCoordMatrix}function ct(e,i,n){let r;n?(r=[e.x,e.y,n(e.x,e.y),1],t.ag(r,r,i)):(r=[e.x,e.y,0,1],St(r,r,i));const s=r[3];return{point:new t.P(r[0]/s,r[1]/s),signedDistanceFromCamera:s}}function ht(t,e){return.5+t/e*.5}function ut(t,e){const i=t[0]/t[3],n=t[1]/t[3];return i>=-e[0]&&i<=e[0]&&n>=-e[1]&&n<=e[1]}function dt(e,i,n,r,s,o,a,l,c,h){const u=r?e.textSizeData:e.iconSizeData,d=t.ah(u,n.transform.zoom),p=[256/n.width*2+1,256/n.height*2+1],f=r?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;f.clear();const m=e.lineVertexArray,g=r?e.text.placedSymbolArray:e.icon.placedSymbolArray,y=n.transform.width/n.transform.height;let x=!1;for(let v=0;v<g.length;v++){const r=g.get(v);if(r.hidden||r.writingMode===t.ai.vertical&&!x){wt(r.numGlyphs,f);continue}let b;if(x=!1,h?(b=[r.anchorX,r.anchorY,h(r.anchorX,r.anchorY),1],t.ag(b,b,i)):(b=[r.anchorX,r.anchorY,0,1],St(b,b,i)),!ut(b,p)){wt(r.numGlyphs,f);continue}const _=ht(n.transform.cameraToCenterDistance,b[3]),w=t.aj(u,d,r),S=a?w/_:w*_,C=new t.P(r.anchorX,r.anchorY),T=ct(C,s,h).point,k={projections:{},offsets:{}},A=mt(r,S,!1,l,i,s,o,e.glyphOffsetArray,m,f,T,C,k,y,c,h);x=A.useVertical,(A.notEnoughRoom||x||A.needsFlipping&&mt(r,S,!0,l,i,s,o,e.glyphOffsetArray,m,f,T,C,k,y,c,h).notEnoughRoom)&&wt(r.numGlyphs,f)}r?e.text.dynamicLayoutVertexBuffer.updateData(f):e.icon.dynamicLayoutVertexBuffer.updateData(f)}function pt(t,e,i,n,r,s,o,a,l,c,h,u,d){const p=a.glyphStartIndex+a.numGlyphs,f=a.lineStartIndex,m=a.lineStartIndex+a.lineLength,g=e.getoffsetX(a.glyphStartIndex),y=e.getoffsetX(p-1),x=bt(t*g,i,n,r,s,o,a.segment,f,m,l,c,h,u,d);if(!x)return null;const v=bt(t*y,i,n,r,s,o,a.segment,f,m,l,c,h,u,d);return v?{first:x,last:v}:null}function ft(e,i,n,r){return e===t.ai.horizontal&&Math.abs(n.y-i.y)>Math.abs(n.x-i.x)*r?{useVertical:!0}:(e===t.ai.vertical?i.y<n.y:i.x>n.x)?{needsFlipping:!0}:null}function mt(e,i,n,r,s,o,a,l,c,h,u,d,p,f,m,g){const y=i/24,x=e.lineOffsetX*y,v=e.lineOffsetY*y;let b;if(e.numGlyphs>1){const t=e.glyphStartIndex+e.numGlyphs,i=e.lineStartIndex,s=e.lineStartIndex+e.lineLength,h=pt(y,l,x,v,n,u,d,e,c,o,p,m,g);if(!h)return{notEnoughRoom:!0};const _=ct(h.first.point,a,g).point,w=ct(h.last.point,a,g).point;if(r&&!n){const t=ft(e.writingMode,_,w,f);if(t)return t}b=[h.first];for(let r=e.glyphStartIndex+1;r<t-1;r++)b.push(bt(y*l.getoffsetX(r),x,v,n,u,d,e.segment,i,s,c,o,p,m,g));b.push(h.last)}else{if(r&&!n){const i=ct(d,s,g).point,n=e.lineStartIndex+e.segment+1,r=new t.P(c.getx(n),c.gety(n)),o=ct(r,s,g),a=o.signedDistanceFromCamera>0?o.point:gt(d,r,i,1,s,g),l=ft(e.writingMode,i,a,f);if(l)return l}const i=bt(y*l.getoffsetX(e.glyphStartIndex),x,v,n,u,d,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,c,o,p,m,g);if(!i)return{notEnoughRoom:!0};b=[i]}for(const _ of b)t.ak(h,_.point,_.angle);return{}}function gt(t,e,i,n,r,s){const o=ct(t.add(t.sub(e)._unit()),r,s).point,a=i.sub(o);return i.add(a._mult(n/a.mag()))}function yt(e,i){const{projectionCache:n,lineVertexArray:r,labelPlaneMatrix:s,tileAnchorPoint:o,distanceFromAnchor:a,getElevation:l,previousVertex:c,direction:h,absOffsetX:u}=i;if(n.projections[e])return n.projections[e];const d=new t.P(r.getx(e),r.gety(e)),p=ct(d,s,l);if(p.signedDistanceFromCamera>0)return n.projections[e]=p.point,p.point;const f=e-h;return gt(0===a?o:new t.P(r.getx(f),r.gety(f)),d,c,u-a+1,s,l)}function xt(t,e,i){return t._unit()._perp()._mult(e*i)}function vt(e,i,n,r,s,o,a,l){const{projectionCache:c,direction:h}=l;if(c.offsets[e])return c.offsets[e];const u=n.add(i);if(e+h<r||e+h>=s)return c.offsets[e]=u,u;const d=yt(e+h,l),p=xt(d.sub(n),a,h),f=n.add(p),m=d.add(p);return c.offsets[e]=t.al(o,u,f,m)||u,c.offsets[e]}function bt(t,e,i,n,r,s,o,a,l,c,h,u,d,p){const f=n?t-e:t+e;let m=f>0?1:-1,g=0;n&&(m*=-1,g=Math.PI),m<0&&(g+=Math.PI);let y,x,v=m>0?a+o:a+o+1,b=r,_=r,w=0,S=0;const C=Math.abs(f),T=[];let k;for(;w+S<=C;){if(v+=m,v<a||v>=l)return null;w+=S,_=b,x=y;const t={projectionCache:u,lineVertexArray:c,labelPlaneMatrix:h,tileAnchorPoint:s,distanceFromAnchor:w,getElevation:p,previousVertex:_,direction:m,absOffsetX:C};if(b=yt(v,t),0===i)T.push(_),k=b.sub(_);else{let e;const n=b.sub(_);e=0===n.mag()?xt(yt(v+m,t).sub(b),i,m):xt(n,i,m),x||(x=_.add(e)),y=vt(v,e,b,a,l,x,i,t),T.push(x),k=y.sub(x)}S=k.mag()}const A=k._mult((C-w)/S)._add(x||_),I=g+Math.atan2(b.y-_.y,b.x-_.x);return T.push(A),{point:A,angle:d?I:0,path:T}}const _t=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function wt(t,e){for(let i=0;i<t;i++){const t=e.length;e.resize(t+4),e.float32.set(_t,3*t)}}function St(t,e,i){const n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t[3]=i[3]*n+i[7]*r+i[15],t}const Ct=100;class Tt{constructor(t,e=new ot(t.width+200,t.height+200,25),i=new ot(t.width+200,t.height+200,25)){this.transform=t,this.grid=e,this.ignoredGrid=i,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+Ct,this.screenBottomBoundary=t.height+Ct,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(t,e,i,n,r,s){const o=this.projectAndGetPerspectiveRatio(n,t.anchorPointX,t.anchorPointY,s),a=i*o.perspectiveRatio,l=t.x1*a+o.point.x,c=t.y1*a+o.point.y,h=t.x2*a+o.point.x,u=t.y2*a+o.point.y;return!this.isInsideGrid(l,c,h,u)||"always"!==e&&this.grid.hitTest(l,c,h,u,e,r)||o.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[l,c,h,u],offscreen:this.isOffscreen(l,c,h,u)}}placeCollisionCircles(e,i,n,r,s,o,a,l,c,h,u,d,p,f){const m=[],g=new t.P(i.anchorX,i.anchorY),y=ct(g,o,f),x=ht(this.transform.cameraToCenterDistance,y.signedDistanceFromCamera),v=(h?s/x:s*x)/t.ap,b=ct(g,a,f).point,_=pt(v,r,i.lineOffsetX*v,i.lineOffsetY*v,!1,b,g,i,n,a,{projections:{},offsets:{}},!1,f);let w=!1,S=!1,C=!0;if(_){const i=.5*d*x+p,n=new t.P(-100,-100),r=new t.P(this.screenRightBoundary,this.screenBottomBoundary),s=new rt,o=_.first,a=_.last;let h=[];for(let t=o.path.length-1;t>=1;t--)h.push(o.path[t]);for(let t=1;t<a.path.length;t++)h.push(a.path[t]);const g=2.5*i;if(l){const t=h.map((t=>ct(t,l,f)));h=t.some((t=>t.signedDistanceFromCamera<=0))?[]:t.map((t=>t.point))}let y=[];if(h.length>0){const e=h[0].clone(),i=h[0].clone();for(let t=1;t<h.length;t++)e.x=Math.min(e.x,h[t].x),e.y=Math.min(e.y,h[t].y),i.x=Math.max(i.x,h[t].x),i.y=Math.max(i.y,h[t].y);y=e.x>=n.x&&i.x<=r.x&&e.y>=n.y&&i.y<=r.y?[h]:i.x<n.x||e.x>r.x||i.y<n.y||e.y>r.y?[]:t.am([h],n.x,n.y,r.x,r.y)}for(const t of y){s.reset(t,.25*i);let n=0;n=s.length<=.5*i?1:Math.ceil(s.paddedLength/g)+1;for(let t=0;t<n;t++){const r=t/Math.max(n-1,1),o=s.lerp(r),a=o.x+Ct,l=o.y+Ct;m.push(a,l,i,0);const h=a-i,d=l-i,p=a+i,f=l+i;if(C=C&&this.isOffscreen(h,d,p,f),S=S||this.isInsideGrid(h,d,p,f),"always"!==e&&this.grid.hitTestCircle(a,l,i,e,u)&&(w=!0,!c))return{circles:[],offscreen:!1,collisionDetected:w}}}}return{circles:!c&&w||!S||x<this.perspectiveRatioCutoff?[]:m,offscreen:C,collisionDetected:w}}queryRenderedSymbols(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const i=[];let n=1/0,r=1/0,s=-1/0,o=-1/0;for(const h of e){const e=new t.P(h.x+Ct,h.y+Ct);n=Math.min(n,e.x),r=Math.min(r,e.y),s=Math.max(s,e.x),o=Math.max(o,e.y),i.push(e)}const a=this.grid.query(n,r,s,o).concat(this.ignoredGrid.query(n,r,s,o)),l={},c={};for(const h of a){const e=h.key;if(void 0===l[e.bucketInstanceId]&&(l[e.bucketInstanceId]={}),l[e.bucketInstanceId][e.featureIndex])continue;const n=[new t.P(h.x1,h.y1),new t.P(h.x2,h.y1),new t.P(h.x2,h.y2),new t.P(h.x1,h.y2)];t.an(i,n)&&(l[e.bucketInstanceId][e.featureIndex]=!0,void 0===c[e.bucketInstanceId]&&(c[e.bucketInstanceId]=[]),c[e.bucketInstanceId].push(e.featureIndex))}return c}insertCollisionBox(t,e,i,n,r,s){(i?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:s,overlapMode:e},t[0],t[1],t[2],t[3])}insertCollisionCircles(t,e,i,n,r,s){const o=i?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:s,overlapMode:e};for(let l=0;l<t.length;l+=4)o.insertCircle(a,t[l],t[l+1],t[l+2])}projectAndGetPerspectiveRatio(e,i,n,r){let s;return r?(s=[i,n,r(i,n),1],t.ag(s,s,e)):(s=[i,n,0,1],St(s,s,e)),{point:new t.P((s[0]/s[3]+1)/2*this.transform.width+Ct,(-s[1]/s[3]+1)/2*this.transform.height+Ct),perspectiveRatio:.5+this.transform.cameraToCenterDistance/s[3]*.5}}isOffscreen(t,e,i,n){return i<Ct||t>=this.screenRightBoundary||n<Ct||e>this.screenBottomBoundary}isInsideGrid(t,e,i,n){return i>=0&&t<this.gridRightBoundary&&n>=0&&e<this.gridBottomBoundary}getViewportMatrix(){const e=t.ao([]);return t.$(e,e,[-100,-100,0]),e}}function kt(e,i,n){return i*(t.N/(e.tileSize*Math.pow(2,n-e.tileID.overscaledZ)))}class At{constructor(t,e,i,n){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):n&&i?1:0,this.placed=i}isHidden(){return 0===this.opacity&&!this.placed}}class It{constructor(t,e,i,n,r){this.text=new At(t?t.text:null,e,i,r),this.icon=new At(t?t.icon:null,e,n,r)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Mt{constructor(t,e,i){this.text=t,this.icon=e,this.skipFade=i}}class Pt{constructor(){this.invProjMatrix=t.Z(),this.viewportMatrix=t.Z(),this.circles=[]}}class Et{constructor(t,e,i,n,r){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=i,this.bucketIndex=n,this.tileID=r}}class Dt{constructor(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}get(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){const e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:t=>t.collisionGroupID===e}}return this.collisionGroups[t]}}function Lt(e,i,n,r,s){const{horizontalAlign:o,verticalAlign:a}=t.au(e);return new t.P(-(o-.5)*i+r[0]*s,-(a-.5)*n+r[1]*s)}function zt(e,i,n,r,s,o){const{x1:a,x2:l,y1:c,y2:h,anchorPointX:u,anchorPointY:d}=e,p=new t.P(i,n);return r&&p._rotate(s?o:-o),{x1:a+p.x,y1:c+p.y,x2:l+p.x,y2:h+p.y,anchorPointX:u,anchorPointY:d}}class Ot{constructor(t,e,i,n,r){this.transform=t.clone(),this.terrain=e,this.collisionIndex=new Tt(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=i,this.retainedQueryData={},this.collisionGroups=new Dt(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(e,i,n,r){const s=n.getBucket(i),o=n.latestFeatureIndex;if(!s||!o||i.id!==s.layerIds[0])return;const a=n.collisionBoxArray,l=s.layers[0].layout,c=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),h=n.tileSize/t.N,u=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),d="map"===l.get("text-pitch-alignment"),p="map"===l.get("text-rotation-alignment"),f=kt(n,1,this.transform.zoom),m=at(u,d,p,this.transform,f);let g=null;if(d){const e=lt(u,d,p,this.transform,f);g=t.a1([],this.transform.labelPlaneMatrix,e)}this.retainedQueryData[s.bucketInstanceId]=new Et(s.bucketInstanceId,o,s.sourceLayerIndex,s.index,n.tileID);const y={bucket:s,layout:l,posMatrix:u,textLabelPlaneMatrix:m,labelToScreenMatrix:g,scale:c,textPixelRatio:h,holdingForFade:n.holdingForFade(),collisionBoxArray:a,partiallyEvaluatedTextSize:t.ah(s.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(s.sourceID)};if(r)for(const t of s.sortKeyRanges){const{sortKey:i,symbolInstanceStart:n,symbolInstanceEnd:r}=t;e.push({sortKey:i,symbolInstanceStart:n,symbolInstanceEnd:r,parameters:y})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:s.symbolInstances.length,parameters:y})}attemptAnchorPlacement(e,i,n,r,s,o,a,l,c,h,u,d,p,f,m,g){const y=t.aq[e.textAnchor],x=[e.textOffset0,e.textOffset1],v=Lt(y,n,r,x,s),b=this.collisionIndex.placeCollisionBox(zt(i,v.x,v.y,o,a,this.transform.angle),u,l,c,h.predicate,g);if((!m||0!==this.collisionIndex.placeCollisionBox(zt(m,v.x,v.y,o,a,this.transform.angle),u,l,c,h.predicate,g).box.length)&&b.box.length>0){let t;if(this.prevPlacement&&this.prevPlacement.variableOffsets[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID].text&&(t=this.prevPlacement.variableOffsets[d.crossTileID].anchor),0===d.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[d.crossTileID]={textOffset:x,width:n,height:r,anchor:y,textBoxScale:s,prevAnchor:t},this.markUsedJustification(p,y,d,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,d),this.placedOrientations[d.crossTileID]=f),{shift:v,placedGlyphBoxes:b}}}placeLayerBucketPart(e,i,n){const{bucket:r,layout:s,posMatrix:o,textLabelPlaneMatrix:a,labelToScreenMatrix:l,textPixelRatio:c,holdingForFade:h,collisionBoxArray:u,partiallyEvaluatedTextSize:d,collisionGroup:p}=e.parameters,f=s.get("text-optional"),m=s.get("icon-optional"),g=t.ar(s,"text-overlap","text-allow-overlap"),y="always"===g,x=t.ar(s,"icon-overlap","icon-allow-overlap"),v="always"===x,b="map"===s.get("text-rotation-alignment"),_="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),S="viewport-y"===s.get("symbol-z-order"),C=y&&(v||!r.hasIconData()||m),T=v&&(y||!r.hasTextData()||f);!r.collisionArrays&&u&&r.deserializeCollisionBoxes(u);const k=this.retainedQueryData[r.bucketInstanceId].tileID,A=this.terrain?(t,e)=>this.terrain.getElevation(k,t,e):null,I=(e,u)=>{var v,S;if(i[e.crossTileID])return;if(h)return void(this.placements[e.crossTileID]=new Mt(!1,!1,!1));let k=!1,I=!1,M=!0,P=null,E={box:null,offscreen:null},D={box:null,offscreen:null},L=null,z=null,O=null,F=0,R=0,B=0;u.textFeatureIndex?F=u.textFeatureIndex:e.useRuntimeCollisionCircles&&(F=e.featureIndex),u.verticalTextFeatureIndex&&(R=u.verticalTextFeatureIndex);const N=u.textBox;if(N){const i=i=>{let n=t.ai.horizontal;if(r.allowVerticalPlacement&&!i&&this.prevPlacement){const t=this.prevPlacement.placedOrientations[e.crossTileID];t&&(this.placedOrientations[e.crossTileID]=t,n=t,this.markUsedOrientation(r,n,e))}return n},n=(i,n)=>{if(r.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&u.verticalTextBox){for(const e of r.writingModes)if(e===t.ai.vertical?(E=n(),D=E):E=i(),E&&E.box&&E.box.length)break}else E=i()},s=e.textAnchorOffsetStartIndex,a=e.textAnchorOffsetEndIndex;if(a===s){const s=(t,i)=>{const n=this.collisionIndex.placeCollisionBox(t,g,c,o,p.predicate,A);return n&&n.box&&n.box.length&&(this.markUsedOrientation(r,i,e),this.placedOrientations[e.crossTileID]=i),n};n((()=>s(N,t.ai.horizontal)),(()=>{const i=u.verticalTextBox;return r.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&i?s(i,t.ai.vertical):{box:null,offscreen:null}})),i(E&&E.box&&E.box.length)}else{let l=t.aq[null===(S=null===(v=this.prevPlacement)||void 0===v?void 0:v.variableOffsets[e.crossTileID])||void 0===S?void 0:S.anchor];const h=(t,i,n)=>{const h=t.x2-t.x1,u=t.y2-t.y1,d=e.textBoxScale,f=w&&"never"===x?i:null;let m={box:[],offscreen:!1},y="never"===g?1:2,v="never";l&&y++;for(let x=0;x<y;x++){for(let i=s;i<a;i++){const s=r.textAnchorOffsets.get(i);if(l&&s.textAnchor!==l)continue;const a=this.attemptAnchorPlacement(s,t,h,u,d,b,_,c,o,p,v,e,r,n,f,A);if(a&&(m=a.placedGlyphBoxes,m&&m.box&&m.box.length))return k=!0,P=a.shift,m}l?l=null:v=g}return m};n((()=>h(N,u.iconBox,t.ai.horizontal)),(()=>{const i=u.verticalTextBox;return r.allowVerticalPlacement&&!(E&&E.box&&E.box.length)&&e.numVerticalGlyphVertices>0&&i?h(i,u.verticalIconBox,t.ai.vertical):{box:null,offscreen:null}})),E&&(k=E.box,M=E.offscreen);const d=i(E&&E.box);if(!k&&this.prevPlacement){const t=this.prevPlacement.variableOffsets[e.crossTileID];t&&(this.variableOffsets[e.crossTileID]=t,this.markUsedJustification(r,t.anchor,e,d))}}}if(L=E,k=L&&L.box&&L.box.length>0,M=L&&L.offscreen,e.useRuntimeCollisionCircles){const i=r.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),c=t.aj(r.textSizeData,d,i),h=s.get("text-padding");z=this.collisionIndex.placeCollisionCircles(g,i,r.lineVertexArray,r.glyphOffsetArray,c,o,a,l,n,_,p.predicate,e.collisionCircleDiameter,h,A),z.circles.length&&z.collisionDetected&&!n&&t.w("Collisions detected, but collision boxes are not shown"),k=y||z.circles.length>0&&!z.collisionDetected,M=M&&z.offscreen}if(u.iconFeatureIndex&&(B=u.iconFeatureIndex),u.iconBox){const t=t=>{const e=w&&P?zt(t,P.x,P.y,b,_,this.transform.angle):t;return this.collisionIndex.placeCollisionBox(e,x,c,o,p.predicate,A)};D&&D.box&&D.box.length&&u.verticalIconBox?(O=t(u.verticalIconBox),I=O.box.length>0):(O=t(u.iconBox),I=O.box.length>0),M=M&&O.offscreen}const j=f||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,U=m||0===e.numIconVertices;if(j||U?U?j||(I=I&&k):k=I&&k:I=k=I&&k,k&&L&&L.box&&this.collisionIndex.insertCollisionBox(L.box,g,s.get("text-ignore-placement"),r.bucketInstanceId,D&&D.box&&R?R:F,p.ID),I&&O&&this.collisionIndex.insertCollisionBox(O.box,x,s.get("icon-ignore-placement"),r.bucketInstanceId,B,p.ID),z&&(k&&this.collisionIndex.insertCollisionCircles(z.circles,g,s.get("text-ignore-placement"),r.bucketInstanceId,F,p.ID),n)){const t=r.bucketInstanceId;let e=this.collisionCircleArrays[t];void 0===e&&(e=this.collisionCircleArrays[t]=new Pt);for(let i=0;i<z.circles.length;i+=4)e.circles.push(z.circles[i+0]),e.circles.push(z.circles[i+1]),e.circles.push(z.circles[i+2]),e.circles.push(z.collisionDetected?1:0)}if(0===e.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===r.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[e.crossTileID]=new Mt(k||C,I||T,M||r.justReloaded),i[e.crossTileID]=!0};if(S){if(0!==e.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const t=r.getSortedSymbolIndexes(this.transform.angle);for(let e=t.length-1;e>=0;--e){const i=t[e];I(r.symbolInstances.get(i),r.collisionArrays[i])}}else for(let t=e.symbolInstanceStart;t<e.symbolInstanceEnd;t++)I(r.symbolInstances.get(t),r.collisionArrays[t]);if(n&&r.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[r.bucketInstanceId];t.as(e.invProjMatrix,o),e.viewportMatrix=this.collisionIndex.getViewportMatrix()}r.justReloaded=!1}markUsedJustification(e,i,n,r){let s;s=r===t.ai.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[t.at(i)];const o=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];for(const t of o)t>=0&&(e.text.placedSymbolArray.get(t).crossTileID=s>=0&&t!==s?0:n.crossTileID)}markUsedOrientation(e,i,n){const r=i===t.ai.horizontal||i===t.ai.horizontalOnly?i:0,s=i===t.ai.vertical?i:0,o=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];for(const t of o)e.text.placedSymbolArray.get(t).placedOrientation=r;n.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=s)}commit(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;const e=this.prevPlacement;let i=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;const n=e?e.symbolFadeChange(t):1,r=e?e.opacities:{},s=e?e.variableOffsets:{},o=e?e.placedOrientations:{};for(const a in this.placements){const t=this.placements[a],e=r[a];e?(this.opacities[a]=new It(e,n,t.text,t.icon),i=i||t.text!==e.text.placed||t.icon!==e.icon.placed):(this.opacities[a]=new It(null,n,t.text,t.icon,t.skipFade),i=i||t.text||t.icon)}for(const a in r){const t=r[a];if(!this.opacities[a]){const e=new It(t,n,!1,!1);e.isHidden()||(this.opacities[a]=e,i=i||t.text.placed||t.icon.placed)}}for(const a in s)this.variableOffsets[a]||!this.opacities[a]||this.opacities[a].isHidden()||(this.variableOffsets[a]=s[a]);for(const a in o)this.placedOrientations[a]||!this.opacities[a]||this.opacities[a].isHidden()||(this.placedOrientations[a]=o[a]);if(e&&void 0===e.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");i?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)}updateLayerOpacities(t,e){const i={};for(const n of e){const e=n.getBucket(t);e&&n.latestFeatureIndex&&t.id===e.layerIds[0]&&this.updateBucketOpacities(e,i,n.collisionBoxArray)}}updateBucketOpacities(e,i,n){e.hasTextData()&&(e.text.opacityVertexArray.clear(),e.text.hasVisibleVertices=!1),e.hasIconData()&&(e.icon.opacityVertexArray.clear(),e.icon.hasVisibleVertices=!1),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();const r=e.layers[0],s=r.layout,o=new It(null,0,!1,!1,!0),a=s.get("text-allow-overlap"),l=s.get("icon-allow-overlap"),c=r._unevaluatedLayout.hasValue("text-variable-anchor")||r._unevaluatedLayout.hasValue("text-variable-anchor-offset"),h="map"===s.get("text-rotation-alignment"),u="map"===s.get("text-pitch-alignment"),d="none"!==s.get("icon-text-fit"),p=new It(null,0,a&&(l||!e.hasIconData()||s.get("icon-optional")),l&&(a||!e.hasTextData()||s.get("text-optional")),!0);!e.collisionArrays&&n&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(n);const f=(t,e,i)=>{for(let n=0;n<e/4;n++)t.opacityVertexArray.emplaceBack(i);t.hasVisibleVertices=t.hasVisibleVertices||i!==qt};for(let m=0;m<e.symbolInstances.length;m++){const n=e.symbolInstances.get(m),{numHorizontalGlyphVertices:r,numVerticalGlyphVertices:s,crossTileID:a}=n;let l=this.opacities[a];i[a]?l=o:l||(l=p,this.opacities[a]=l),i[a]=!0;const g=n.numIconVertices>0,y=this.placedOrientations[n.crossTileID],x=y===t.ai.vertical,v=y===t.ai.horizontal||y===t.ai.horizontalOnly;if(r>0||s>0){const t=Ht(l.text);f(e.text,r,x?qt:t),f(e.text,s,v?qt:t);const i=l.text.isHidden();[n.rightJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.leftJustifiedTextSymbolIndex].forEach((t=>{t>=0&&(e.text.placedSymbolArray.get(t).hidden=i||x?1:0)})),n.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).hidden=i||v?1:0);const o=this.variableOffsets[n.crossTileID];o&&this.markUsedJustification(e,o.anchor,n,y);const a=this.placedOrientations[n.crossTileID];a&&(this.markUsedJustification(e,"left",n,a),this.markUsedOrientation(e,a,n))}if(g){const t=Ht(l.icon),i=!(d&&n.verticalPlacedIconSymbolIndex&&x);n.placedIconSymbolIndex>=0&&(f(e.icon,n.numIconVertices,i?t:qt),e.icon.placedSymbolArray.get(n.placedIconSymbolIndex).hidden=l.icon.isHidden()),n.verticalPlacedIconSymbolIndex>=0&&(f(e.icon,n.numVerticalIconVertices,i?qt:t),e.icon.placedSymbolArray.get(n.verticalPlacedIconSymbolIndex).hidden=l.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){const i=e.collisionArrays[m];if(i){let n=new t.P(0,0);if(i.textBox||i.verticalTextBox){let t=!0;if(c){const e=this.variableOffsets[a];e?(n=Lt(e.anchor,e.width,e.height,e.textOffset,e.textBoxScale),h&&n._rotate(u?this.transform.angle:-this.transform.angle)):t=!1}i.textBox&&Ft(e.textCollisionBox.collisionVertexArray,l.text.placed,!t||x,n.x,n.y),i.verticalTextBox&&Ft(e.textCollisionBox.collisionVertexArray,l.text.placed,!t||v,n.x,n.y)}const r=Boolean(!v&&i.verticalIconBox);i.iconBox&&Ft(e.iconCollisionBox.collisionVertexArray,l.icon.placed,r,d?n.x:0,d?n.y:0),i.verticalIconBox&&Ft(e.iconCollisionBox.collisionVertexArray,l.icon.placed,!r,d?n.x:0,d?n.y:0)}}}if(e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.text.opacityVertexArray.length!==e.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${e.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${e.text.layoutVertexArray.length}) / 4`);if(e.icon.opacityVertexArray.length!==e.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${e.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${e.icon.layoutVertexArray.length}) / 4`);if(e.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=t.invProjMatrix,e.placementViewportMatrix=t.viewportMatrix,e.collisionCircleArray=t.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}}symbolFadeChange(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(t){return Math.max(0,(this.transform.zoom-t)/1.5)}hasTransitions(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(t,e){const i=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*i>t}setStale(){this.stale=!0}}function Ft(t,e,i,n,r){t.emplaceBack(e?1:0,i?1:0,n||0,r||0),t.emplaceBack(e?1:0,i?1:0,n||0,r||0),t.emplaceBack(e?1:0,i?1:0,n||0,r||0),t.emplaceBack(e?1:0,i?1:0,n||0,r||0)}const Rt=Math.pow(2,25),Bt=Math.pow(2,24),Nt=Math.pow(2,17),jt=Math.pow(2,16),Ut=Math.pow(2,9),Vt=Math.pow(2,8),$t=Math.pow(2,1);function Ht(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;const e=t.placed?1:0,i=Math.floor(127*t.opacity);return i*Rt+e*Bt+i*Nt+e*jt+i*Ut+e*Vt+i*$t+e}const qt=0;class Gt{constructor(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&!t.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(t,e,i,n,r){const s=this._bucketParts;for(;this._currentTileIndex<t.length;)if(e.getBucketParts(s,n,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,s.sort(((t,e)=>t.sortKey-e.sortKey)));this._currentPartIndex<s.length;)if(e.placeLayerBucketPart(s[this._currentPartIndex],this._seenCrossTileIDs,i),this._currentPartIndex++,r())return!0;return!1}}class Wt{constructor(t,e,i,n,r,s,o,a){this.placement=new Ot(t,e,s,o,a),this._currentPlacementIndex=i.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1}isDone(){return this._done}continuePlacement(e,i,n){const r=t.h.now(),s=()=>!this._forceFullPlacement&&t.h.now()-r>2;for(;this._currentPlacementIndex>=0;){const t=i[e[this._currentPlacementIndex]],r=this.placement.collisionIndex.transform.zoom;if("symbol"===t.type&&(!t.minzoom||t.minzoom<=r)&&(!t.maxzoom||t.maxzoom>r)){if(this._inProgressLayer||(this._inProgressLayer=new Gt(t)),this._inProgressLayer.continuePlacement(n[t.source],this.placement,this._showCollisionBoxes,t,s))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(t){return this.placement.commit(t),this.placement}}const Xt=512/t.N/2;class Yt{constructor(e,i,n){this.tileID=e,this.bucketInstanceId=n,this._symbolsByKey={};const r=new Map;for(let t=0;t<i.length;t++){const e=i.get(t),n=e.key,s=r.get(n);s?s.push(e):r.set(n,[e])}for(const[s,o]of r){const e={positions:o.map((t=>({x:Math.floor(t.anchorX*Xt),y:Math.floor(t.anchorY*Xt)}))),crossTileIDs:o.map((t=>t.crossTileID))};if(e.positions.length>128){const i=new t.av(e.positions.length,16,Uint16Array);for(const{x:t,y:n}of e.positions)i.add(t,n);i.finish(),delete e.positions,e.index=i}this._symbolsByKey[s]=e}}getScaledCoordinates(e,i){const{x:n,y:r,z:s}=this.tileID.canonical,{x:o,y:a,z:l}=i.canonical,c=Xt/Math.pow(2,l-s),h=(a*t.N+e.anchorY)*c,u=r*t.N*Xt;return{x:Math.floor((o*t.N+e.anchorX)*c-n*t.N*Xt),y:Math.floor(h-u)}}findMatches(t,e,i){const n=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z);for(let r=0;r<t.length;r++){const s=t.get(r);if(s.crossTileID)continue;const o=this._symbolsByKey[s.key];if(!o)continue;const a=this.getScaledCoordinates(s,e);if(o.index){const t=o.index.range(a.x-n,a.y-n,a.x+n,a.y+n).sort();for(const e of t){const t=o.crossTileIDs[e];if(!i[t]){i[t]=!0,s.crossTileID=t;break}}}else if(o.positions)for(let t=0;t<o.positions.length;t++){const e=o.positions[t],r=o.crossTileIDs[t];if(Math.abs(e.x-a.x)<=n&&Math.abs(e.y-a.y)<=n&&!i[r]){i[r]=!0,s.crossTileID=r;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:t})=>t))}}class Zt{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Kt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(t){const e=Math.round((t-this.lng)/360);if(0!==e)for(const i in this.indexes){const t=this.indexes[i],n={};for(const i in t){const r=t[i];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+e),n[r.tileID.key]=r}this.indexes[i]=n}this.lng=t}addBucket(t,e,i){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(let r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});const n=this.usedCrossTileIDs[t.overscaledZ];for(const r in this.indexes){const i=this.indexes[r];if(Number(r)>t.overscaledZ)for(const r in i){const s=i[r];s.tileID.isChildOf(t)&&s.findMatches(e.symbolInstances,t,n)}else{const s=i[t.scaledTo(Number(r)).key];s&&s.findMatches(e.symbolInstances,t,n)}}for(let r=0;r<e.symbolInstances.length;r++){const t=e.symbolInstances.get(r);t.crossTileID||(t.crossTileID=i.generate(),n[t.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Yt(t,e.symbolInstances,e.bucketInstanceId),!0}removeBucketCrossTileIDs(t,e){for(const i of e.getCrossTileIDsLists())for(const e of i)delete this.usedCrossTileIDs[t][e]}removeStaleBuckets(t){let e=!1;for(const i in this.indexes){const n=this.indexes[i];for(const r in n)t[n[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,n[r]),delete n[r],e=!0)}return e}}class Jt{constructor(){this.layerIndexes={},this.crossTileIDs=new Zt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(t,e,i){let n=this.layerIndexes[t.id];void 0===n&&(n=this.layerIndexes[t.id]=new Kt);let r=!1;const s={};n.handleWrapJump(i);for(const o of e){const e=o.getBucket(t);e&&t.id===e.layerIds[0]&&(e.bucketInstanceId||(e.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(o.tileID,e,this.crossTileIDs)&&(r=!0),s[e.bucketInstanceId]=!0)}return n.removeStaleBuckets(s)&&(r=!0),r}pruneUnusedLayers(t){const e={};t.forEach((t=>{e[t]=!0}));for(const i in this.layerIndexes)e[i]||delete this.layerIndexes[i]}}const Qt=(e,i)=>t.x(e,i&&i.filter((t=>"source.canvas"!==t.identifier))),te=t.F(t.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),ee=t.F(t.ax,["setCenter","setZoom","setBearing","setPitch"]),ie=t.aw();class ne extends t.E{constructor(e,i={}){super(),this.map=e,this.dispatcher=new P(nt(),this,e._getMapId()),this.imageManager=new _,this.imageManager.setEventedParent(this),this.glyphManager=new T(e._requestManager,i.localIdeographFontFamily),this.lineAtlas=new M(256,512),this.crossTileSymbolIndex=new Jt,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.az());const n=this;this._rtlTextPluginCallback=ne.registerForPluginStateChange((e=>{n.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},((e,i)=>{if(t.aA(e),i&&i.every((t=>t)))for(const t in n.sourceCaches){const e=n.sourceCaches[t].getSource().type;"vector"!==e&&"geojson"!==e||n.sourceCaches[t].reload()}}))})),this.on("data",(t=>{if("source"!==t.dataType||"metadata"!==t.sourceDataType)return;const e=this.sourceCaches[t.sourceId];if(!e)return;const i=e.getSource();if(i&&i.vectorLayerIds)for(const n in this._layers){const t=this._layers[n];t.source===i.id&&this._validateLayer(t)}}))}loadURL(e,i={},n){this.fire(new t.k("dataloading",{dataType:"style"})),i.validate="boolean"!=typeof i.validate||i.validate;const r=this.map._requestManager.transformRequest(e,h.Style);this._request=t.f(r,((e,r)=>{this._request=null,e?this.fire(new t.j(e)):r&&this._load(r,i,n)}))}loadJSON(e,i={},n){this.fire(new t.k("dataloading",{dataType:"style"})),this._request=t.h.frame((()=>{this._request=null,i.validate=!1!==i.validate,this._load(e,i,n)}))}loadEmpty(){this.fire(new t.k("dataloading",{dataType:"style"})),this._load(ie,{validate:!1})}_load(e,i,n){var r;const s=i.transformStyle?i.transformStyle(n,e):e;if(!i.validate||!Qt(this,t.y(s))){this._loaded=!0,this.stylesheet=s;for(const t in s.sources)this.addSource(t,s.sources[t],{validate:!1});s.sprite?this._loadSprite(s.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(s.glyphs),this._createLayers(),this.light=new I(this.stylesheet.light),this.map.setTerrain(null!==(r=this.stylesheet.terrain)&&void 0!==r?r:null),this.fire(new t.k("data",{dataType:"style"})),this.fire(new t.k("style.load"))}}_createLayers(){const e=t.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",e),this._order=e.map((t=>t.id)),this._layers={},this._serializedLayers=null;for(const i of e){const e=t.aC(i);e.setEventedParent(this,{layer:{id:i.id}}),this._layers[i.id]=e}}_loadSprite(e,i=!1,n=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(e,i,n,r){const s=y(e),o=s.length,a=n>1?"@2x":"",l={},u={},d={};for(const{id:p,url:f}of s){const e=i.transformRequest(i.normalizeSpriteURL(f,a,".json"),h.SpriteJSON),n=`${p}_${e.url}`;l[n]=t.f(e,((t,e)=>{delete l[n],u[p]=e,x(r,u,d,t,o)}));const s=i.transformRequest(i.normalizeSpriteURL(f,a,".png"),h.SpriteImage),m=`${p}_${s.url}`;l[m]=c.getImage(s,((t,e)=>{delete l[m],d[p]=e,x(r,u,d,t,o)}))}return{cancel(){for(const t of Object.values(l))t.cancel()}}}(e,this.map._requestManager,this.map.getPixelRatio(),((e,r)=>{if(this._spriteRequest=null,e)this.fire(new t.j(e));else if(r)for(const t in r){this._spritesImagesIds[t]=[];const e=this._spritesImagesIds[t]?this._spritesImagesIds[t].filter((t=>!(t in r))):[];for(const t of e)this.imageManager.removeImage(t),this._changedImages[t]=!0;for(const n in r[t]){const e="default"===t?n:`${t}:${n}`;this._spritesImagesIds[t].push(e),e in this.imageManager.images?this.imageManager.updateImage(e,r[t][n],!1):this.imageManager.addImage(e,r[t][n]),i&&(this._changedImages[e]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),i&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.k("data",{dataType:"style"})),n&&n(e)}))}_unloadSprite(){for(const t of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(t),this._changedImages[t]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.k("data",{dataType:"style"}))}_validateLayer(e){const i=this.sourceCaches[e.source];if(!i)return;const n=e.sourceLayer;if(!n)return;const r=i.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(n))&&this.fire(new t.j(new Error(`Source layer "${n}" does not exist on source "${r.id}" as specified by style layer "${e.id}".`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(t){const e=this._serializedAllLayers();if(!t||0===t.length)return Object.values(e);const i=[];for(const n of t)e[n]&&i.push(e[n]);return i}_serializedAllLayers(){let t=this._serializedLayers;if(t)return t;t=this._serializedLayers={};const e=Object.keys(this._layers);for(const i of e){const e=this._layers[i];"custom"!==e.type&&(t[i]=e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(const t in this._layers)if(this._layers[t].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(e){if(!this._loaded)return;const i=this._changed;if(this._changed){const t=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);(t.length||i.length)&&this._updateWorkerLayers(t,i);for(const e in this._updatedSources){const t=this._updatedSources[e];if("reload"===t)this._reloadSource(e);else{if("clear"!==t)throw new Error(`Invalid action ${t}`);this._clearSource(e)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const n in this._updatedPaintProps)this._layers[n].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}const n={};for(const t in this.sourceCaches){const e=this.sourceCaches[t];n[t]=e.used,e.used=!1}for(const t of this._order){const i=this._layers[t];i.recalculate(e,this._availableImages),!i.isHidden(e.zoom)&&i.source&&(this.sourceCaches[i.source].used=!0)}for(const r in n){const e=this.sourceCaches[r];n[r]!==e.used&&e.fire(new t.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:r}))}this.light.recalculate(e),this.z=e.zoom,i&&this.fire(new t.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const t=Object.keys(this._changedImages);if(t.length){for(const e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(t),removedIds:e})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(e,i={}){this._checkLoaded();const n=this.serialize();if(e=i.transformStyle?i.transformStyle(n,e):e,Qt(this,t.y(e)))return!1;(e=t.aD(e)).layers=t.aB(e.layers);const r=t.aE(n,e).filter((t=>!(t.command in ee)));if(0===r.length)return!1;const s=r.filter((t=>!(t.command in te)));if(s.length>0)throw new Error(`Unimplemented: ${s.map((t=>t.command)).join(", ")}.`);for(const t of r)"setTransition"!==t.command&&this[t.command].apply(this,t.args);return this.stylesheet=e,this._serializedLayers=null,!0}addImage(e,i){if(this.getImage(e))return this.fire(new t.j(new Error(`An image named "${e}" already exists.`)));this.imageManager.addImage(e,i),this._afterImageUpdated(e)}updateImage(t,e){this.imageManager.updateImage(t,e)}getImage(t){return this.imageManager.getImage(t)}removeImage(e){if(!this.getImage(e))return this.fire(new t.j(new Error(`An image named "${e}" does not exist.`)));this.imageManager.removeImage(e),this._afterImageUpdated(e)}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(e,i,n={}){if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error(`Source "${e}" already exists.`);if(!i.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(i).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(i.type)>=0&&this._validate(t.y.source,`sources.${e}`,i,null,n))return;this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);const r=this.sourceCaches[e]=new Z(e,i,this.dispatcher);r.style=this,r.setEventedParent(this,(()=>({isSourceLoaded:r.loaded(),source:r.serialize(),sourceId:e}))),r.onAdd(this.map),this._changed=!0}removeSource(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(const n in this._layers)if(this._layers[n].source===e)return this.fire(new t.j(new Error(`Source "${e}" cannot be removed while layer "${n}" is using it.`)));const i=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],i.fire(new t.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),i.setEventedParent(null),i.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(t,e){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error(`There is no source with this ID=${t}`);const i=this.sourceCaches[t].getSource();if("geojson"!==i.type)throw new Error(`geojsonSource.type is ${i.type}, which is !== 'geojson`);i.setData(e),this._changed=!0}getSource(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()}addLayer(e,i,n={}){this._checkLoaded();const r=e.id;if(this.getLayer(r))return void this.fire(new t.j(new Error(`Layer "${r}" already exists on this map.`)));let s;if("custom"===e.type){if(Qt(this,t.aF(e)))return;s=t.aC(e)}else{if("source"in e&&"object"==typeof e.source&&(this.addSource(r,e.source),e=t.aD(e),e=t.e(e,{source:r})),this._validate(t.y.layer,`layers.${r}`,e,{arrayIndex:-1},n))return;s=t.aC(e),this._validateLayer(s),s.setEventedParent(this,{layer:{id:r}})}const o=i?this._order.indexOf(i):this._order.length;if(i&&-1===o)this.fire(new t.j(new Error(`Cannot add layer "${r}" before non-existing layer "${i}".`)));else{if(this._order.splice(o,0,r),this._layerOrderChanged=!0,this._layers[r]=s,this._removedLayers[r]&&s.source&&"custom"!==s.type){const t=this._removedLayers[r];delete this._removedLayers[r],t.type!==s.type?this._updatedSources[s.source]="clear":(this._updatedSources[s.source]="reload",this.sourceCaches[s.source].pause())}this._updateLayer(s),s.onAdd&&s.onAdd(this.map)}}moveLayer(e,i){if(this._checkLoaded(),this._changed=!0,!this._layers[e])return void this.fire(new t.j(new Error(`The layer '${e}' does not exist in the map's style and cannot be moved.`)));if(e===i)return;const n=this._order.indexOf(e);this._order.splice(n,1);const r=i?this._order.indexOf(i):this._order.length;i&&-1===r?this.fire(new t.j(new Error(`Cannot move layer "${e}" before non-existing layer "${i}".`))):(this._order.splice(r,0,e),this._layerOrderChanged=!0)}removeLayer(e){this._checkLoaded();const i=this._layers[e];if(!i)return void this.fire(new t.j(new Error(`Cannot remove non-existing layer "${e}".`)));i.setEventedParent(null);const n=this._order.indexOf(e);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=i,delete this._layers[e],this._serializedLayers&&delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],i.onRemove&&i.onRemove(this.map)}getLayer(t){return this._layers[t]}getLayersOrder(){return[...this._order]}hasLayer(t){return t in this._layers}setLayerZoomRange(e,i,n){this._checkLoaded();const r=this.getLayer(e);r?r.minzoom===i&&r.maxzoom===n||(null!=i&&(r.minzoom=i),null!=n&&(r.maxzoom=n),this._updateLayer(r)):this.fire(new t.j(new Error(`Cannot set the zoom range of non-existing layer "${e}".`)))}setFilter(e,i,n={}){this._checkLoaded();const r=this.getLayer(e);if(r){if(!t.aG(r.filter,i))return null==i?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(t.y.filter,`layers.${r.id}.filter`,i,null,n)||(r.filter=t.aD(i),this._updateLayer(r)))}else this.fire(new t.j(new Error(`Cannot filter non-existing layer "${e}".`)))}getFilter(e){return t.aD(this.getLayer(e).filter)}setLayoutProperty(e,i,n,r={}){this._checkLoaded();const s=this.getLayer(e);s?t.aG(s.getLayoutProperty(i),n)||(s.setLayoutProperty(i,n,r),this._updateLayer(s)):this.fire(new t.j(new Error(`Cannot style non-existing layer "${e}".`)))}getLayoutProperty(e,i){const n=this.getLayer(e);if(n)return n.getLayoutProperty(i);this.fire(new t.j(new Error(`Cannot get style of non-existing layer "${e}".`)))}setPaintProperty(e,i,n,r={}){this._checkLoaded();const s=this.getLayer(e);s?t.aG(s.getPaintProperty(i),n)||(s.setPaintProperty(i,n,r)&&this._updateLayer(s),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.j(new Error(`Cannot style non-existing layer "${e}".`)))}getPaintProperty(t,e){return this.getLayer(t).getPaintProperty(e)}setFeatureState(e,i){this._checkLoaded();const n=e.source,r=e.sourceLayer,s=this.sourceCaches[n];if(void 0===s)return void this.fire(new t.j(new Error(`The source '${n}' does not exist in the map's style.`)));const o=s.getSource().type;"geojson"===o&&r?this.fire(new t.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==o||r?(void 0===e.id&&this.fire(new t.j(new Error("The feature id parameter must be provided."))),s.setFeatureState(r,e.id,i)):this.fire(new t.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(e,i){this._checkLoaded();const n=e.source,r=this.sourceCaches[n];if(void 0===r)return void this.fire(new t.j(new Error(`The source '${n}' does not exist in the map's style.`)));const s=r.getSource().type,o="vector"===s?e.sourceLayer:void 0;"vector"!==s||o?i&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.j(new Error("A feature id is required to remove its specific state property."))):r.removeFeatureState(o,e.id,i):this.fire(new t.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(e){this._checkLoaded();const i=e.source,n=e.sourceLayer,r=this.sourceCaches[i];if(void 0!==r)return"vector"!==r.getSource().type||n?(void 0===e.id&&this.fire(new t.j(new Error("The feature id parameter must be provided."))),r.getFeatureState(n,e.id)):void this.fire(new t.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new t.j(new Error(`The source '${i}' does not exist in the map's style.`)))}getTransition(){return t.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const e=t.aH(this.sourceCaches,(t=>t.serialize())),i=this._serializeByIds(this._order),n=this.map.getTerrain()||void 0,r=this.stylesheet;return t.aI({version:r.version,name:r.name,metadata:r.metadata,light:r.light,center:r.center,zoom:r.zoom,bearing:r.bearing,pitch:r.pitch,sprite:r.sprite,glyphs:r.glyphs,transition:r.transition,sources:e,layers:i,terrain:n},(t=>void 0!==t))}_updateLayer(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&"raster"!==this.sourceCaches[t.source].getSource().type&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(t){const e=t=>"fill-extrusion"===this._layers[t].type,i={},n=[];for(let s=this._order.length-1;s>=0;s--){const r=this._order[s];if(e(r)){i[r]=s;for(const e of t){const t=e[r];if(t)for(const e of t)n.push(e)}}}n.sort(((t,e)=>e.intersectionZ-t.intersectionZ));const r=[];for(let s=this._order.length-1;s>=0;s--){const o=this._order[s];if(e(o))for(let t=n.length-1;t>=0;t--){const e=n[t].feature;if(i[e.layer.id]<s)break;r.push(e),n.pop()}else for(const e of t){const t=e[o];if(t)for(const e of t)r.push(e.feature)}}return r}queryRenderedFeatures(e,i,n){i&&i.filter&&this._validate(t.y.filter,"queryRenderedFeatures.filter",i.filter,null,i);const r={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new t.j(new Error("parameters.layers must be an Array."))),[];for(const e of i.layers){const i=this._layers[e];if(!i)return this.fire(new t.j(new Error(`The layer '${e}' does not exist in the map's style and cannot be queried for features.`))),[];r[i.source]=!0}}const s=[];i.availableImages=this._availableImages;const o=this._serializedAllLayers();for(const t in this.sourceCaches)i.layers&&!r[t]||s.push(q(this.sourceCaches[t],this._layers,o,e,i,n));return this.placement&&s.push(function(t,e,i,n,r,s,o){const a={},l=s.queryRenderedSymbols(n),c=[];for(const h of Object.keys(l).map(Number))c.push(o[h]);c.sort(G);for(const h of c){const i=h.featureIndex.lookupSymbolFeatures(l[h.bucketInstanceId],e,h.bucketIndex,h.sourceLayerIndex,r.filter,r.layers,r.availableImages,t);for(const t in i){const e=a[t]=a[t]||[],n=i[t];n.sort(((t,e)=>{const i=h.featureSortOrder;if(i){const n=i.indexOf(t.featureIndex);return i.indexOf(e.featureIndex)-n}return e.featureIndex-t.featureIndex}));for(const t of n)e.push(t)}}for(const h in a)a[h].forEach((e=>{const n=e.feature,r=i[t[h].source].getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return a}(this._layers,o,this.sourceCaches,e,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(s)}querySourceFeatures(e,i){i&&i.filter&&this._validate(t.y.filter,"querySourceFeatures.filter",i.filter,null,i);const n=this.sourceCaches[e];return n?function(t,e){const i=t.getRenderableIds().map((e=>t.getTileByID(e))),n=[],r={};for(let s=0;s<i.length;s++){const t=i[s],o=t.tileID.canonical.key;r[o]||(r[o]=!0,t.querySourceFeatures(n,e))}return n}(n,i):[]}addSourceType(t,e,i){return $(t)?i(new Error(`A source type called "${t}" already exists.`)):(((t,e)=>{V[t]=e})(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},i):i(null,null))}getLight(){return this.light.getLight()}setLight(e,i={}){this._checkLoaded();const n=this.light.getLight();let r=!1;for(const o in e)if(!t.aG(e[o],n[o])){r=!0;break}if(!r)return;const s={now:t.h.now(),transition:t.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,i),this.light.updateTransitions(s)}_validate(e,i,n,r,s={}){return(!s||!1!==s.validate)&&Qt(this,e.call(t.y,t.e({key:i,style:this.serialize(),value:n,styleSpec:t.v},r)))}_remove(e=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const t in this._layers)this._layers[t].setEventedParent(null);for(const t in this.sourceCaches){const e=this.sourceCaches[t];e.setEventedParent(null),e.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(e)}_clearSource(t){this.sourceCaches[t].clearTiles()}_reloadSource(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()}_updateSources(t){for(const e in this.sourceCaches)this.sourceCaches[e].update(t,this.map.terrain)}_generateCollisionBoxes(){for(const t in this.sourceCaches)this._reloadSource(t)}_updatePlacement(e,i,n,r,s=!1){let o=!1,a=!1;const l={};for(const t of this._order){const i=this._layers[t];if("symbol"!==i.type)continue;if(!l[i.source]){const t=this.sourceCaches[i.source];l[i.source]=t.getRenderableIds(!0).map((e=>t.getTileByID(e))).sort(((t,e)=>e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)))}const n=this.crossTileSymbolIndex.addLayer(i,l[i.source],e.center.lng);o=o||n}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((s=s||this._layerOrderChanged||0===n)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.h.now(),e.zoom))&&(this.pauseablePlacement=new Wt(e,this.map.terrain,this._order,s,i,n,r,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.h.now()),a=!0),o&&this.pauseablePlacement.placement.setStale()),a||o)for(const t of this._order){const e=this._layers[t];"symbol"===e.type&&this.placement.updateLayerOpacities(e,l[e.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.h.now())}_releaseSymbolFadeTiles(){for(const t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()}getImages(t,e,i){this.imageManager.getImages(e.icons,i),this._updateTilesForChangedImages();const n=this.sourceCaches[e.source];n&&n.setDependencies(e.tileID.key,e.type,e.icons)}getGlyphs(t,e,i){this.glyphManager.getGlyphs(e.stacks,i);const n=this.sourceCaches[e.source];n&&n.setDependencies(e.tileID.key,e.type,[""])}getResource(e,i,n){return t.m(i,n)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(e,i={}){this._checkLoaded(),e&&this._validate(t.y.glyphs,"glyphs",e,null,i)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=e,this.glyphManager.entries={},this.glyphManager.setURL(e))}addSprite(e,i,n={},r){this._checkLoaded();const s=[{id:e,url:i}],o=[...y(this.stylesheet.sprite),...s];this._validate(t.y.sprite,"sprite",o,null,n)||(this.stylesheet.sprite=o,this._loadSprite(s,!0,r))}removeSprite(e){this._checkLoaded();const i=y(this.stylesheet.sprite);if(i.find((t=>t.id===e))){if(this._spritesImagesIds[e])for(const t of this._spritesImagesIds[e])this.imageManager.removeImage(t),this._changedImages[t]=!0;i.splice(i.findIndex((t=>t.id===e)),1),this.stylesheet.sprite=i.length>0?i:void 0,delete this._spritesImagesIds[e],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.k("data",{dataType:"style"}))}else this.fire(new t.j(new Error(`Sprite "${e}" doesn't exists on this map.`)))}getSprite(){return y(this.stylesheet.sprite)}setSprite(e,i={},n){this._checkLoaded(),e&&this._validate(t.y.sprite,"sprite",e,null,i)||(this.stylesheet.sprite=e,e?this._loadSprite(e,!0,n):(this._unloadSprite(),n&&n(null)))}}ne.registerForPluginStateChange=t.aK;var re=t.Q([{name:"a_pos",type:"Int16",components:2}]),se="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const oe={prelude:ae("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:ae("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:ae("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:ae("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:ae("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:ae("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:ae("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:ae("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:ae("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:ae("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:ae("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:ae("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:ae("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:ae("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:ae("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:ae("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:ae("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:ae("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:ae("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:ae("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:ae("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:ae("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:ae("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:ae("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:ae("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:ae("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:ae("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",se),terrainDepth:ae("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",se),terrainCoords:ae("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",se)};function ae(t,e){const i=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n=e.match(/attribute ([\w]+) ([\w]+)/g),r=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),s=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=s?s.concat(r):r,a={};return{fragmentSource:t=t.replace(i,((t,e,i,n,r)=>(a[r]=!0,"define"===e?`\n#ifndef HAS_UNIFORM_u_${r}\nvarying ${i} ${n} ${r};\n#else\nuniform ${i} ${n} u_${r};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${r}\n    ${i} ${n} ${r} = u_${r};\n#endif\n`))),vertexSource:e=e.replace(i,((t,e,i,n,r)=>{const s="float"===n?"vec2":"vec4",o=r.match(/color/)?"color":s;return a[r]?"define"===e?`\n#ifndef HAS_UNIFORM_u_${r}\nuniform lowp float u_${r}_t;\nattribute ${i} ${s} a_${r};\nvarying ${i} ${n} ${r};\n#else\nuniform ${i} ${n} u_${r};\n#endif\n`:"vec4"===o?`\n#ifndef HAS_UNIFORM_u_${r}\n    ${r} = a_${r};\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${r}\n    ${r} = unpack_mix_${o}(a_${r}, u_${r}_t);\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`:"define"===e?`\n#ifndef HAS_UNIFORM_u_${r}\nuniform lowp float u_${r}_t;\nattribute ${i} ${s} a_${r};\n#else\nuniform ${i} ${n} u_${r};\n#endif\n`:"vec4"===o?`\n#ifndef HAS_UNIFORM_u_${r}\n    ${i} ${n} ${r} = a_${r};\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${r}\n    ${i} ${n} ${r} = unpack_mix_${o}(a_${r}, u_${r}_t);\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`})),staticAttributes:n,staticUniforms:o}}class le{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(t,e,i,n,r,s,o,a,l){this.context=t;let c=this.boundPaintVertexBuffers.length!==n.length;for(let h=0;!c&&h<n.length;h++)this.boundPaintVertexBuffers[h]!==n[h]&&(c=!0);!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==i||c||this.boundIndexBuffer!==r||this.boundVertexOffset!==s||this.boundDynamicVertexBuffer!==o||this.boundDynamicVertexBuffer2!==a||this.boundDynamicVertexBuffer3!==l?this.freshBind(e,i,n,r,s,o,a,l):(t.bindVertexArray.set(this.vao),o&&o.bind(),r&&r.dynamicDraw&&r.bind(),a&&a.bind(),l&&l.bind())}freshBind(t,e,i,n,r,s,o,a){const l=t.numAttributes,c=this.context,h=c.gl;this.vao&&this.destroy(),this.vao=c.createVertexArray(),c.bindVertexArray.set(this.vao),this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=n,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=s,this.boundDynamicVertexBuffer2=o,this.boundDynamicVertexBuffer3=a,e.enableAttributes(h,t);for(const u of i)u.enableAttributes(h,t);s&&s.enableAttributes(h,t),o&&o.enableAttributes(h,t),a&&a.enableAttributes(h,t),e.bind(),e.setVertexAttribPointers(h,t,r);for(const u of i)u.bind(),u.setVertexAttribPointers(h,t,r);s&&(s.bind(),s.setVertexAttribPointers(h,t,r)),n&&n.bind(),o&&(o.bind(),o.setVertexAttribPointers(h,t,r)),a&&(a.bind(),a.setVertexAttribPointers(h,t,r)),c.currentNumAttributes=l}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function ce(t){const e=[];for(let i=0;i<t.length;i++){if(null===t[i])continue;const n=t[i].split(" ");e.push(n.pop())}return e}class he{constructor(e,i,n,r,s,o){const a=e.gl;this.program=a.createProgram();const l=ce(i.staticAttributes),c=n?n.getBinderAttributes():[],h=l.concat(c),u=oe.prelude.staticUniforms?ce(oe.prelude.staticUniforms):[],d=i.staticUniforms?ce(i.staticUniforms):[],p=n?n.getBinderUniforms():[],f=u.concat(d).concat(p),m=[];for(const t of f)m.indexOf(t)<0&&m.push(t);const g=n?n.defines():[];s&&g.push("#define OVERDRAW_INSPECTOR;"),o&&g.push("#define TERRAIN3D;");const y=g.concat(oe.prelude.fragmentSource,i.fragmentSource).join("\n"),x=g.concat(oe.prelude.vertexSource,i.vertexSource).join("\n"),v=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())return void(this.failedToCreate=!0);if(a.shaderSource(v,y),a.compileShader(v),!a.getShaderParameter(v,a.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${a.getShaderInfoLog(v)}`);a.attachShader(this.program,v);const b=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())return void(this.failedToCreate=!0);if(a.shaderSource(b,x),a.compileShader(b),!a.getShaderParameter(b,a.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${a.getShaderInfoLog(b)}`);a.attachShader(this.program,b),this.attributes={};const _={};this.numAttributes=h.length;for(let t=0;t<this.numAttributes;t++)h[t]&&(a.bindAttribLocation(this.program,t,h[t]),this.attributes[h[t]]=t);if(a.linkProgram(this.program),!a.getProgramParameter(this.program,a.LINK_STATUS))throw new Error(`Program failed to link: ${a.getProgramInfoLog(this.program)}`);a.deleteShader(b),a.deleteShader(v);for(let t=0;t<m.length;t++){const e=m[t];if(e&&!_[e]){const t=a.getUniformLocation(this.program,e);t&&(_[e]=t)}}this.fixedUniforms=r(e,_),this.terrainUniforms=((e,i)=>({u_depth:new t.aL(e,i.u_depth),u_terrain:new t.aL(e,i.u_terrain),u_terrain_dim:new t.aM(e,i.u_terrain_dim),u_terrain_matrix:new t.aN(e,i.u_terrain_matrix),u_terrain_unpack:new t.aO(e,i.u_terrain_unpack),u_terrain_exaggeration:new t.aM(e,i.u_terrain_exaggeration)}))(e,_),this.binderUniforms=n?n.getUniforms(e,_):[]}draw(t,e,i,n,r,s,o,a,l,c,h,u,d,p,f,m,g,y){const x=t.gl;if(this.failedToCreate)return;if(t.program.set(this.program),t.setDepthMode(i),t.setStencilMode(n),t.setColorMode(r),t.setCullFace(s),a){t.activeTexture.set(x.TEXTURE2),x.bindTexture(x.TEXTURE_2D,a.depthTexture),t.activeTexture.set(x.TEXTURE3),x.bindTexture(x.TEXTURE_2D,a.texture);for(const t in this.terrainUniforms)this.terrainUniforms[t].set(a[t])}for(const b in this.fixedUniforms)this.fixedUniforms[b].set(o[b]);f&&f.setUniforms(t,this.binderUniforms,d,{zoom:p});let v=0;switch(e){case x.LINES:v=2;break;case x.TRIANGLES:v=3;break;case x.LINE_STRIP:v=1}for(const b of u.get()){const i=b.vaos||(b.vaos={});(i[l]||(i[l]=new le)).bind(t,this,c,f?f.getPaintVertexBuffers():[],h,b.vertexOffset,m,g,y),x.drawElements(e,b.primitiveLength*v,x.UNSIGNED_SHORT,b.primitiveOffset*v*2)}}}function ue(t,e,i){const n=1/kt(i,1,e.transform.tileZoom),r=Math.pow(2,i.tileID.overscaledZ),s=i.tileSize*Math.pow(2,e.transform.tileZoom)/r,o=s*(i.tileID.canonical.x+i.tileID.wrap*r),a=s*i.tileID.canonical.y;return{u_image:0,u_texsize:i.imageAtlasTexture.size,u_scale:[n,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[o>>16,a>>16],u_pixel_coord_lower:[65535&o,65535&a]}}const de=(e,i,n,r)=>{const s=i.style.light,o=s.properties.get("position"),a=[o.x,o.y,o.z],l=function(){var e=new t.A(9);return t.A!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}();"viewport"===s.properties.get("anchor")&&function(t,e){var i=Math.sin(e),n=Math.cos(e);t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1}(l,-i.transform.angle),function(t,e,i){var n=e[0],r=e[1],s=e[2];t[0]=n*i[0]+r*i[3]+s*i[6],t[1]=n*i[1]+r*i[4]+s*i[7],t[2]=n*i[2]+r*i[5]+s*i[8]}(a,a,l);const c=s.properties.get("color");return{u_matrix:e,u_lightpos:a,u_lightintensity:s.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+n,u_opacity:r}},pe=(e,i,n,r,s,o,a)=>t.e(de(e,i,n,r),ue(o,i,a),{u_height_factor:-Math.pow(2,s.overscaledZ)/a.tileSize/8}),fe=t=>({u_matrix:t}),me=(e,i,n,r)=>t.e(fe(e),ue(n,i,r)),ge=(t,e)=>({u_matrix:t,u_world:e}),ye=(e,i,n,r,s)=>t.e(me(e,i,n,r),{u_world:s}),xe=(t,e,i,n)=>{const r=t.transform;let s,o;if("map"===n.paint.get("circle-pitch-alignment")){const t=kt(i,1,r.zoom);s=!0,o=[t,t]}else s=!1,o=r.pixelsToGLUnits;return{u_camera_to_center_distance:r.cameraToCenterDistance,u_scale_with_map:+("map"===n.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(e.posMatrix,i,n.paint.get("circle-translate"),n.paint.get("circle-translate-anchor")),u_pitch_with_map:+s,u_device_pixel_ratio:t.pixelRatio,u_extrude_scale:o}},ve=(t,e,i)=>{const n=kt(i,1,e.zoom),r=Math.pow(2,e.zoom-i.tileID.overscaledZ),s=i.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:n,u_extrude_scale:[e.pixelsToGLUnits[0]/(n*r),e.pixelsToGLUnits[1]/(n*r)],u_overscale_factor:s}},be=(t,e,i=1)=>({u_matrix:t,u_color:e,u_overlay:0,u_overlay_scale:i}),_e=t=>({u_matrix:t}),we=(t,e,i,n)=>({u_matrix:t,u_extrude_scale:kt(e,1,i),u_intensity:n});function Se(e,i){const n=Math.pow(2,i.canonical.z),r=i.canonical.y;return[new t.U(0,r/n).toLngLat().lat,new t.U(0,(r+1)/n).toLngLat().lat]}const Ce=(t,e,i,n)=>{const r=t.transform;return{u_matrix:Me(t,e,i,n),u_ratio:1/kt(e,1,r.zoom),u_device_pixel_ratio:t.pixelRatio,u_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},Te=(e,i,n,r,s)=>t.e(Ce(e,i,n,s),{u_image:0,u_image_height:r}),ke=(t,e,i,n,r)=>{const s=t.transform,o=Ie(e,s);return{u_matrix:Me(t,e,i,r),u_texsize:e.imageAtlasTexture.size,u_ratio:1/kt(e,1,s.zoom),u_device_pixel_ratio:t.pixelRatio,u_image:0,u_scale:[o,n.fromScale,n.toScale],u_fade:n.t,u_units_to_pixels:[1/s.pixelsToGLUnits[0],1/s.pixelsToGLUnits[1]]}},Ae=(e,i,n,r,s,o)=>{const a=e.lineAtlas,l=Ie(i,e.transform),c="round"===n.layout.get("line-cap"),h=a.getDash(r.from,c),u=a.getDash(r.to,c),d=h.width*s.fromScale,p=u.width*s.toScale;return t.e(Ce(e,i,n,o),{u_patternscale_a:[l/d,-h.height/2],u_patternscale_b:[l/p,-u.height/2],u_sdfgamma:a.width/(256*Math.min(d,p)*e.pixelRatio)/2,u_image:0,u_tex_y_a:h.y,u_tex_y_b:u.y,u_mix:s.t})};function Ie(t,e){return 1/kt(t,1,e.tileZoom)}function Me(t,e,i,n){return t.translatePosMatrix(n?n.posMatrix:e.tileID.posMatrix,e,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}const Pe=(t,e,i,n,r)=>{return{u_matrix:t,u_tl_parent:e,u_scale_parent:i,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(o=r.paint.get("raster-saturation"),o>0?1-1/(1.001-o):-o),u_contrast_factor:(s=r.paint.get("raster-contrast"),s>0?1/(1-s):1+s),u_spin_weights:Ee(r.paint.get("raster-hue-rotate"))};var s,o};function Ee(t){t*=Math.PI/180;const e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}const De=(t,e,i,n,r,s,o,a,l,c)=>{const h=r.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:h.cameraToCenterDistance,u_pitch:h.pitch/360*2*Math.PI,u_rotate_symbol:+i,u_aspect_ratio:h.width/h.height,u_fade_change:r.options.fadeDuration?r.symbolFadeChange:1,u_matrix:s,u_label_plane_matrix:o,u_coord_matrix:a,u_is_text:+l,u_pitch_with_map:+n,u_texsize:c,u_texture:0}},Le=(e,i,n,r,s,o,a,l,c,h,u)=>{const d=s.transform;return t.e(De(e,i,n,r,s,o,a,l,c,h),{u_gamma_scale:r?Math.cos(d._pitch)*d.cameraToCenterDistance:1,u_device_pixel_ratio:s.pixelRatio,u_is_halo:+u})},ze=(e,i,n,r,s,o,a,l,c,h)=>t.e(Le(e,i,n,r,s,o,a,l,!0,c,!0),{u_texsize_icon:h,u_texture_icon:1}),Oe=(t,e,i)=>({u_matrix:t,u_opacity:e,u_color:i}),Fe=(e,i,n,r,s,o)=>t.e(function(t,e,i,n){const r=i.imageManager.getPattern(t.from.toString()),s=i.imageManager.getPattern(t.to.toString()),{width:o,height:a}=i.imageManager.getPixelSize(),l=Math.pow(2,n.tileID.overscaledZ),c=n.tileSize*Math.pow(2,i.transform.tileZoom)/l,h=c*(n.tileID.canonical.x+n.tileID.wrap*l),u=c*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:r.tl,u_pattern_br_a:r.br,u_pattern_tl_b:s.tl,u_pattern_br_b:s.br,u_texsize:[o,a],u_mix:e.t,u_pattern_size_a:r.displaySize,u_pattern_size_b:s.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/kt(n,1,i.transform.tileZoom),u_pixel_coord_upper:[h>>16,u>>16],u_pixel_coord_lower:[65535&h,65535&u]}}(r,o,n,s),{u_matrix:e,u_opacity:i}),Re={fillExtrusion:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_lightpos:new t.aP(e,i.u_lightpos),u_lightintensity:new t.aM(e,i.u_lightintensity),u_lightcolor:new t.aP(e,i.u_lightcolor),u_vertical_gradient:new t.aM(e,i.u_vertical_gradient),u_opacity:new t.aM(e,i.u_opacity)}),fillExtrusionPattern:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_lightpos:new t.aP(e,i.u_lightpos),u_lightintensity:new t.aM(e,i.u_lightintensity),u_lightcolor:new t.aP(e,i.u_lightcolor),u_vertical_gradient:new t.aM(e,i.u_vertical_gradient),u_height_factor:new t.aM(e,i.u_height_factor),u_image:new t.aL(e,i.u_image),u_texsize:new t.aQ(e,i.u_texsize),u_pixel_coord_upper:new t.aQ(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.aQ(e,i.u_pixel_coord_lower),u_scale:new t.aP(e,i.u_scale),u_fade:new t.aM(e,i.u_fade),u_opacity:new t.aM(e,i.u_opacity)}),fill:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix)}),fillPattern:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_image:new t.aL(e,i.u_image),u_texsize:new t.aQ(e,i.u_texsize),u_pixel_coord_upper:new t.aQ(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.aQ(e,i.u_pixel_coord_lower),u_scale:new t.aP(e,i.u_scale),u_fade:new t.aM(e,i.u_fade)}),fillOutline:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_world:new t.aQ(e,i.u_world)}),fillOutlinePattern:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_world:new t.aQ(e,i.u_world),u_image:new t.aL(e,i.u_image),u_texsize:new t.aQ(e,i.u_texsize),u_pixel_coord_upper:new t.aQ(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.aQ(e,i.u_pixel_coord_lower),u_scale:new t.aP(e,i.u_scale),u_fade:new t.aM(e,i.u_fade)}),circle:(e,i)=>({u_camera_to_center_distance:new t.aM(e,i.u_camera_to_center_distance),u_scale_with_map:new t.aL(e,i.u_scale_with_map),u_pitch_with_map:new t.aL(e,i.u_pitch_with_map),u_extrude_scale:new t.aQ(e,i.u_extrude_scale),u_device_pixel_ratio:new t.aM(e,i.u_device_pixel_ratio),u_matrix:new t.aN(e,i.u_matrix)}),collisionBox:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_camera_to_center_distance:new t.aM(e,i.u_camera_to_center_distance),u_pixels_to_tile_units:new t.aM(e,i.u_pixels_to_tile_units),u_extrude_scale:new t.aQ(e,i.u_extrude_scale),u_overscale_factor:new t.aM(e,i.u_overscale_factor)}),collisionCircle:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_inv_matrix:new t.aN(e,i.u_inv_matrix),u_camera_to_center_distance:new t.aM(e,i.u_camera_to_center_distance),u_viewport_size:new t.aQ(e,i.u_viewport_size)}),debug:(e,i)=>({u_color:new t.aR(e,i.u_color),u_matrix:new t.aN(e,i.u_matrix),u_overlay:new t.aL(e,i.u_overlay),u_overlay_scale:new t.aM(e,i.u_overlay_scale)}),clippingMask:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix)}),heatmap:(e,i)=>({u_extrude_scale:new t.aM(e,i.u_extrude_scale),u_intensity:new t.aM(e,i.u_intensity),u_matrix:new t.aN(e,i.u_matrix)}),heatmapTexture:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_world:new t.aQ(e,i.u_world),u_image:new t.aL(e,i.u_image),u_color_ramp:new t.aL(e,i.u_color_ramp),u_opacity:new t.aM(e,i.u_opacity)}),hillshade:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_image:new t.aL(e,i.u_image),u_latrange:new t.aQ(e,i.u_latrange),u_light:new t.aQ(e,i.u_light),u_shadow:new t.aR(e,i.u_shadow),u_highlight:new t.aR(e,i.u_highlight),u_accent:new t.aR(e,i.u_accent)}),hillshadePrepare:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_image:new t.aL(e,i.u_image),u_dimension:new t.aQ(e,i.u_dimension),u_zoom:new t.aM(e,i.u_zoom),u_unpack:new t.aO(e,i.u_unpack)}),line:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_ratio:new t.aM(e,i.u_ratio),u_device_pixel_ratio:new t.aM(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.aQ(e,i.u_units_to_pixels)}),lineGradient:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_ratio:new t.aM(e,i.u_ratio),u_device_pixel_ratio:new t.aM(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.aQ(e,i.u_units_to_pixels),u_image:new t.aL(e,i.u_image),u_image_height:new t.aM(e,i.u_image_height)}),linePattern:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_texsize:new t.aQ(e,i.u_texsize),u_ratio:new t.aM(e,i.u_ratio),u_device_pixel_ratio:new t.aM(e,i.u_device_pixel_ratio),u_image:new t.aL(e,i.u_image),u_units_to_pixels:new t.aQ(e,i.u_units_to_pixels),u_scale:new t.aP(e,i.u_scale),u_fade:new t.aM(e,i.u_fade)}),lineSDF:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_ratio:new t.aM(e,i.u_ratio),u_device_pixel_ratio:new t.aM(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.aQ(e,i.u_units_to_pixels),u_patternscale_a:new t.aQ(e,i.u_patternscale_a),u_patternscale_b:new t.aQ(e,i.u_patternscale_b),u_sdfgamma:new t.aM(e,i.u_sdfgamma),u_image:new t.aL(e,i.u_image),u_tex_y_a:new t.aM(e,i.u_tex_y_a),u_tex_y_b:new t.aM(e,i.u_tex_y_b),u_mix:new t.aM(e,i.u_mix)}),raster:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_tl_parent:new t.aQ(e,i.u_tl_parent),u_scale_parent:new t.aM(e,i.u_scale_parent),u_buffer_scale:new t.aM(e,i.u_buffer_scale),u_fade_t:new t.aM(e,i.u_fade_t),u_opacity:new t.aM(e,i.u_opacity),u_image0:new t.aL(e,i.u_image0),u_image1:new t.aL(e,i.u_image1),u_brightness_low:new t.aM(e,i.u_brightness_low),u_brightness_high:new t.aM(e,i.u_brightness_high),u_saturation_factor:new t.aM(e,i.u_saturation_factor),u_contrast_factor:new t.aM(e,i.u_contrast_factor),u_spin_weights:new t.aP(e,i.u_spin_weights)}),symbolIcon:(e,i)=>({u_is_size_zoom_constant:new t.aL(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.aL(e,i.u_is_size_feature_constant),u_size_t:new t.aM(e,i.u_size_t),u_size:new t.aM(e,i.u_size),u_camera_to_center_distance:new t.aM(e,i.u_camera_to_center_distance),u_pitch:new t.aM(e,i.u_pitch),u_rotate_symbol:new t.aL(e,i.u_rotate_symbol),u_aspect_ratio:new t.aM(e,i.u_aspect_ratio),u_fade_change:new t.aM(e,i.u_fade_change),u_matrix:new t.aN(e,i.u_matrix),u_label_plane_matrix:new t.aN(e,i.u_label_plane_matrix),u_coord_matrix:new t.aN(e,i.u_coord_matrix),u_is_text:new t.aL(e,i.u_is_text),u_pitch_with_map:new t.aL(e,i.u_pitch_with_map),u_texsize:new t.aQ(e,i.u_texsize),u_texture:new t.aL(e,i.u_texture)}),symbolSDF:(e,i)=>({u_is_size_zoom_constant:new t.aL(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.aL(e,i.u_is_size_feature_constant),u_size_t:new t.aM(e,i.u_size_t),u_size:new t.aM(e,i.u_size),u_camera_to_center_distance:new t.aM(e,i.u_camera_to_center_distance),u_pitch:new t.aM(e,i.u_pitch),u_rotate_symbol:new t.aL(e,i.u_rotate_symbol),u_aspect_ratio:new t.aM(e,i.u_aspect_ratio),u_fade_change:new t.aM(e,i.u_fade_change),u_matrix:new t.aN(e,i.u_matrix),u_label_plane_matrix:new t.aN(e,i.u_label_plane_matrix),u_coord_matrix:new t.aN(e,i.u_coord_matrix),u_is_text:new t.aL(e,i.u_is_text),u_pitch_with_map:new t.aL(e,i.u_pitch_with_map),u_texsize:new t.aQ(e,i.u_texsize),u_texture:new t.aL(e,i.u_texture),u_gamma_scale:new t.aM(e,i.u_gamma_scale),u_device_pixel_ratio:new t.aM(e,i.u_device_pixel_ratio),u_is_halo:new t.aL(e,i.u_is_halo)}),symbolTextAndIcon:(e,i)=>({u_is_size_zoom_constant:new t.aL(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.aL(e,i.u_is_size_feature_constant),u_size_t:new t.aM(e,i.u_size_t),u_size:new t.aM(e,i.u_size),u_camera_to_center_distance:new t.aM(e,i.u_camera_to_center_distance),u_pitch:new t.aM(e,i.u_pitch),u_rotate_symbol:new t.aL(e,i.u_rotate_symbol),u_aspect_ratio:new t.aM(e,i.u_aspect_ratio),u_fade_change:new t.aM(e,i.u_fade_change),u_matrix:new t.aN(e,i.u_matrix),u_label_plane_matrix:new t.aN(e,i.u_label_plane_matrix),u_coord_matrix:new t.aN(e,i.u_coord_matrix),u_is_text:new t.aL(e,i.u_is_text),u_pitch_with_map:new t.aL(e,i.u_pitch_with_map),u_texsize:new t.aQ(e,i.u_texsize),u_texsize_icon:new t.aQ(e,i.u_texsize_icon),u_texture:new t.aL(e,i.u_texture),u_texture_icon:new t.aL(e,i.u_texture_icon),u_gamma_scale:new t.aM(e,i.u_gamma_scale),u_device_pixel_ratio:new t.aM(e,i.u_device_pixel_ratio),u_is_halo:new t.aL(e,i.u_is_halo)}),background:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_opacity:new t.aM(e,i.u_opacity),u_color:new t.aR(e,i.u_color)}),backgroundPattern:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_opacity:new t.aM(e,i.u_opacity),u_image:new t.aL(e,i.u_image),u_pattern_tl_a:new t.aQ(e,i.u_pattern_tl_a),u_pattern_br_a:new t.aQ(e,i.u_pattern_br_a),u_pattern_tl_b:new t.aQ(e,i.u_pattern_tl_b),u_pattern_br_b:new t.aQ(e,i.u_pattern_br_b),u_texsize:new t.aQ(e,i.u_texsize),u_mix:new t.aM(e,i.u_mix),u_pattern_size_a:new t.aQ(e,i.u_pattern_size_a),u_pattern_size_b:new t.aQ(e,i.u_pattern_size_b),u_scale_a:new t.aM(e,i.u_scale_a),u_scale_b:new t.aM(e,i.u_scale_b),u_pixel_coord_upper:new t.aQ(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.aQ(e,i.u_pixel_coord_lower),u_tile_units_to_pixels:new t.aM(e,i.u_tile_units_to_pixels)}),terrain:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_texture:new t.aL(e,i.u_texture),u_ele_delta:new t.aM(e,i.u_ele_delta)}),terrainDepth:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_ele_delta:new t.aM(e,i.u_ele_delta)}),terrainCoords:(e,i)=>({u_matrix:new t.aN(e,i.u_matrix),u_texture:new t.aL(e,i.u_texture),u_terrain_coords_id:new t.aM(e,i.u_terrain_coords_id),u_ele_delta:new t.aM(e,i.u_ele_delta)})};class Be{constructor(t,e,i){this.context=t;const n=t.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(t){const e=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ne={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class je{constructor(t,e,i,n){this.length=e.length,this.attributes=i,this.itemSize=e.bytesPerElement,this.dynamicDraw=n,this.context=t;const r=t.gl;this.buffer=r.createBuffer(),t.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(t){if(t.length!==this.length)throw new Error(`Length of new data is ${t.length}, which doesn't match current length of ${this.length}`);const e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)}enableAttributes(t,e){for(let i=0;i<this.attributes.length;i++){const n=e.attributes[this.attributes[i].name];void 0!==n&&t.enableVertexAttribArray(n)}}setVertexAttribPointers(t,e,i){for(let n=0;n<this.attributes.length;n++){const r=this.attributes[n],s=e.attributes[r.name];void 0!==s&&t.vertexAttribPointer(s,r.components,t[Ne[r.type]],!1,this.itemSize,r.offset+this.itemSize*(i||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ue=new WeakMap;function Ve(t){var e;if(Ue.has(t))return Ue.get(t);{const i=null===(e=t.getParameter(t.VERSION))||void 0===e?void 0:e.startsWith("WebGL 2.0");return Ue.set(t,i),i}}class $e{constructor(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(t){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class He extends $e{getDefault(){return t.aT.transparent}set(t){const e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}class qe extends $e{getDefault(){return 1}set(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)}}class Ge extends $e{getDefault(){return 0}set(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)}}class We extends $e{getDefault(){return[!0,!0,!0,!0]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}class Xe extends $e{getDefault(){return!0}set(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)}}class Ye extends $e{getDefault(){return 255}set(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)}}class Ze extends $e{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(t){const e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)}}class Ke extends $e{getDefault(){const t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)}}class Je extends $e{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}}class Qe extends $e{getDefault(){return[0,1]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)}}class ti extends $e{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}}class ei extends $e{getDefault(){return this.gl.LESS}set(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)}}class ii extends $e{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}}class ni extends $e{getDefault(){const t=this.gl;return[t.ONE,t.ZERO]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)}}class ri extends $e{getDefault(){return t.aT.transparent}set(t){const e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}class si extends $e{getDefault(){return this.gl.FUNC_ADD}set(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)}}class oi extends $e{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}}class ai extends $e{getDefault(){return this.gl.BACK}set(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)}}class li extends $e{getDefault(){return this.gl.CCW}set(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)}}class ci extends $e{getDefault(){return null}set(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)}}class hi extends $e{getDefault(){return this.gl.TEXTURE0}set(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)}}class ui extends $e{getDefault(){const t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}class di extends $e{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}}class pi extends $e{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class fi extends $e{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}}class mi extends $e{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}class gi extends $e{getDefault(){return null}set(t){const e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}class yi extends $e{getDefault(){return null}set(t){var e;if(t===this.current&&!this.dirty)return;const i=this.gl;Ve(i)?i.bindVertexArray(t):null===(e=i.getExtension("OES_vertex_array_object"))||void 0===e||e.bindVertexArrayOES(t),this.current=t,this.dirty=!1}}class xi extends $e{getDefault(){return 4}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}}class vi extends $e{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}}class bi extends $e{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}}class _i extends $e{constructor(t,e){super(t),this.context=t,this.parent=e}getDefault(){return null}}class wi extends _i{setDirty(){this.dirty=!0}set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}}class Si extends _i{set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class Ci extends _i{set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class Ti{constructor(t,e,i,n,r){this.context=t,this.width=e,this.height=i;const s=t.gl,o=this.framebuffer=s.createFramebuffer();if(this.colorAttachment=new wi(t,o),n)this.depthAttachment=r?new Ci(t,o):new Si(t,o);else if(r)throw new Error("Stencil cannot be setted without depth");if(s.checkFramebufferStatus(s.FRAMEBUFFER)!==s.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const t=this.context.gl,e=this.colorAttachment.get();if(e&&t.deleteTexture(e),this.depthAttachment){const e=this.depthAttachment.get();e&&t.deleteRenderbuffer(e)}t.deleteFramebuffer(this.framebuffer)}}class ki{constructor(t,e,i){this.blendFunction=t,this.blendColor=e,this.mask=i}}ki.Replace=[1,0],ki.disabled=new ki(ki.Replace,t.aT.transparent,[!1,!1,!1,!1]),ki.unblended=new ki(ki.Replace,t.aT.transparent,[!0,!0,!0,!0]),ki.alphaBlended=new ki([1,771],t.aT.transparent,[!0,!0,!0,!0]);class Ai{constructor(t){var e,i;if(this.gl=t,this.clearColor=new He(this),this.clearDepth=new qe(this),this.clearStencil=new Ge(this),this.colorMask=new We(this),this.depthMask=new Xe(this),this.stencilMask=new Ye(this),this.stencilFunc=new Ze(this),this.stencilOp=new Ke(this),this.stencilTest=new Je(this),this.depthRange=new Qe(this),this.depthTest=new ti(this),this.depthFunc=new ei(this),this.blend=new ii(this),this.blendFunc=new ni(this),this.blendColor=new ri(this),this.blendEquation=new si(this),this.cullFace=new oi(this),this.cullFaceSide=new ai(this),this.frontFace=new li(this),this.program=new ci(this),this.activeTexture=new hi(this),this.viewport=new ui(this),this.bindFramebuffer=new di(this),this.bindRenderbuffer=new pi(this),this.bindTexture=new fi(this),this.bindVertexBuffer=new mi(this),this.bindElementBuffer=new gi(this),this.bindVertexArray=new yi(this),this.pixelStoreUnpack=new xi(this),this.pixelStoreUnpackPremultiplyAlpha=new vi(this),this.pixelStoreUnpackFlipY=new bi(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),Ve(t)){this.HALF_FLOAT=t.HALF_FLOAT;const n=t.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(e=t.RGBA16F)&&void 0!==e?e:null==n?void 0:n.RGBA16F_EXT,this.RGB16F=null!==(i=t.RGB16F)&&void 0!==i?i:null==n?void 0:n.RGB16F_EXT,t.getExtension("EXT_color_buffer_float")}else{t.getExtension("EXT_color_buffer_half_float"),t.getExtension("OES_texture_half_float_linear");const e=t.getExtension("OES_texture_half_float");this.HALF_FLOAT=null==e?void 0:e.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(t,e){return new Be(this,t,e)}createVertexBuffer(t,e,i){return new je(this,t,e,i)}createRenderbuffer(t,e,i){const n=this.gl,r=n.createRenderbuffer();return this.bindRenderbuffer.set(r),n.renderbufferStorage(n.RENDERBUFFER,t,e,i),this.bindRenderbuffer.set(null),r}createFramebuffer(t,e,i,n){return new Ti(this,t,e,i,n)}clear({color:t,depth:e,stencil:i}){const n=this.gl;let r=0;t&&(r|=n.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==e&&(r|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(e),this.depthMask.set(!0)),void 0!==i&&(r|=n.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),n.clear(r)}setCullFace(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))}setDepthMode(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)}setStencilMode(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)}setColorMode(e){t.aG(e.blendFunction,ki.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}createVertexArray(){var t;return Ve(this.gl)?this.gl.createVertexArray():null===(t=this.gl.getExtension("OES_vertex_array_object"))||void 0===t?void 0:t.createVertexArrayOES()}deleteVertexArray(t){var e;return Ve(this.gl)?this.gl.deleteVertexArray(t):null===(e=this.gl.getExtension("OES_vertex_array_object"))||void 0===e?void 0:e.deleteVertexArrayOES(t)}unbindVAO(){this.bindVertexArray.set(null)}}class Ii{constructor(t,e,i){this.func=t,this.mask=e,this.range=i}}Ii.ReadOnly=!1,Ii.ReadWrite=!0,Ii.disabled=new Ii(519,Ii.ReadOnly,[0,1]);const Mi=7680;class Pi{constructor(t,e,i,n,r,s){this.test=t,this.ref=e,this.mask=i,this.fail=n,this.depthFail=r,this.pass=s}}Pi.disabled=new Pi({func:519,mask:0},0,0,Mi,Mi,Mi);class Ei{constructor(t,e,i){this.enable=t,this.mode=e,this.frontFace=i}}let Di;function Li(e,i,n,r,s,o,a){const l=e.context,c=l.gl,h=e.useProgram("collisionBox"),u=[];let d=0,p=0;for(let b=0;b<r.length;b++){const f=r[b],m=i.getTile(f),g=m.getBucket(n);if(!g)continue;let y=f.posMatrix;0===s[0]&&0===s[1]||(y=e.translatePosMatrix(f.posMatrix,m,s,o));const x=a?g.textCollisionBox:g.iconCollisionBox,v=g.collisionCircleArray;if(v.length>0){const i=t.Z(),n=y;t.aU(i,g.placementInvProjMatrix,e.transform.glCoordMatrix),t.aU(i,i,g.placementViewportMatrix),u.push({circleArray:v,circleOffset:p,transform:n,invTransform:i,coord:f}),d+=v.length/4,p=d}x&&h.draw(l,c.LINES,Ii.disabled,Pi.disabled,e.colorModeForRenderPass(),Ei.disabled,ve(y,e.transform,m),e.style.map.terrain&&e.style.map.terrain.getTerrainData(f),n.id,x.layoutVertexBuffer,x.indexBuffer,x.segments,null,e.transform.zoom,null,null,x.collisionVertexBuffer)}if(!a||!u.length)return;const f=e.useProgram("collisionCircle"),m=new t.aV;m.resize(4*d),m._trim();let g=0;for(const t of u)for(let e=0;e<t.circleArray.length/4;e++){const i=4*e,n=t.circleArray[i+0],r=t.circleArray[i+1],s=t.circleArray[i+2],o=t.circleArray[i+3];m.emplace(g++,n,r,s,o,0),m.emplace(g++,n,r,s,o,1),m.emplace(g++,n,r,s,o,2),m.emplace(g++,n,r,s,o,3)}(!Di||Di.length<2*d)&&(Di=function(e){const i=2*e,n=new t.aX;n.resize(i),n._trim();for(let t=0;t<i;t++){const e=6*t;n.uint16[e+0]=4*t+0,n.uint16[e+1]=4*t+1,n.uint16[e+2]=4*t+2,n.uint16[e+3]=4*t+2,n.uint16[e+4]=4*t+3,n.uint16[e+5]=4*t+0}return n}(d));const y=l.createIndexBuffer(Di,!0),x=l.createVertexBuffer(m,t.aW.members,!0);for(const b of u){const i={u_matrix:b.transform,u_inv_matrix:b.invTransform,u_camera_to_center_distance:(v=e.transform).cameraToCenterDistance,u_viewport_size:[v.width,v.height]};f.draw(l,c.TRIANGLES,Ii.disabled,Pi.disabled,e.colorModeForRenderPass(),Ei.disabled,i,e.style.map.terrain&&e.style.map.terrain.getTerrainData(b.coord),n.id,x,y,t.S.simpleSegment(0,2*b.circleOffset,b.circleArray.length,b.circleArray.length/2),null,e.transform.zoom,null,null,null)}var v;x.destroy(),y.destroy()}Ei.disabled=new Ei(!1,1029,2305),Ei.backCCW=new Ei(!0,1029,2305);const zi=t.ao(new Float32Array(16));function Oi(e,i,n,r,s,o){const{horizontalAlign:a,verticalAlign:l}=t.au(e);return new t.P((-(a-.5)*i/s+r[0])*o,(-(l-.5)*n/s+r[1])*o)}function Fi(e,i,n,r,s,o,a,l,c,h,u){const d=e.text.placedSymbolArray,p=e.text.dynamicLayoutVertexArray,f=e.icon.dynamicLayoutVertexArray,m={};p.clear();for(let g=0;g<d.length;g++){const f=d.get(g),y=f.hidden||!f.crossTileID||e.allowVerticalPlacement&&!f.placedOrientation?null:r[f.crossTileID];if(y){const r=new t.P(f.anchorX,f.anchorY),d=ct(r,n?a:o,u),g=ht(s.cameraToCenterDistance,d.signedDistanceFromCamera);let x=t.aj(e.textSizeData,c,f)*g/t.ap;n&&(x*=e.tilePixelRatio/l);const{width:v,height:b,anchor:_,textOffset:w,textBoxScale:S}=y,C=Oi(_,v,b,w,S,x),T=n?ct(r.add(C),o,u).point:d.point.add(i?C.rotate(-s.angle):C),k=e.allowVerticalPlacement&&f.placedOrientation===t.ai.vertical?Math.PI/2:0;for(let e=0;e<f.numGlyphs;e++)t.ak(p,T,k);h&&f.associatedIconIndex>=0&&(m[f.associatedIconIndex]={shiftedAnchor:T,angle:k})}else wt(f.numGlyphs,p)}if(h){f.clear();const i=e.icon.placedSymbolArray;for(let e=0;e<i.length;e++){const n=i.get(e);if(n.hidden)wt(n.numGlyphs,f);else{const i=m[e];if(i)for(let e=0;e<n.numGlyphs;e++)t.ak(f,i.shiftedAnchor,i.angle);else wt(n.numGlyphs,f)}}e.icon.dynamicLayoutVertexBuffer.updateData(f)}e.text.dynamicLayoutVertexBuffer.updateData(p)}function Ri(t,e,i){return i.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function Bi(e,i,n,r,s,o,a,l,c,h,u,d){const p=e.context,f=p.gl,m=e.transform,g="map"===l,y="map"===c,x="viewport"!==l&&"point"!==n.layout.get("symbol-placement"),v=g&&!y&&!x,b=!n.layout.get("symbol-sort-key").isConstant();let _=!1;const w=e.depthModeForSublayer(0,Ii.ReadOnly),S=n._unevaluatedLayout.hasValue("text-variable-anchor")||n._unevaluatedLayout.hasValue("text-variable-anchor-offset"),C=[];for(const T of r){const r=i.getTile(T),l=r.getBucket(n);if(!l)continue;const c=s?l.text:l.icon;if(!c||!c.segments.get().length||!c.hasVisibleVertices)continue;const u=c.programConfigurations.get(n.id),d=s||l.sdfIcons,p=s?l.textSizeData:l.iconSizeData,w=y||0!==m.pitch,k=e.useProgram(Ri(d,s,l),u),A=t.ah(p,m.zoom),I=e.style.map.terrain&&e.style.map.terrain.getTerrainData(T);let M,P,E,D,L=[0,0],z=null;if(s)P=r.glyphAtlasTexture,E=f.LINEAR,M=r.glyphAtlasTexture.size,l.iconsInText&&(L=r.imageAtlasTexture.size,z=r.imageAtlasTexture,D=w||e.options.rotating||e.options.zooming||"composite"===p.kind||"camera"===p.kind?f.LINEAR:f.NEAREST);else{const t=1!==n.layout.get("icon-size").constantOr(0)||l.iconsNeedLinear;P=r.imageAtlasTexture,E=d||e.options.rotating||e.options.zooming||t||w?f.LINEAR:f.NEAREST,M=r.imageAtlasTexture.size}const O=kt(r,1,e.transform.zoom),F=at(T.posMatrix,y,g,e.transform,O),R=lt(T.posMatrix,y,g,e.transform,O),B=S&&l.hasTextData(),N="none"!==n.layout.get("icon-text-fit")&&B&&l.hasIconData();if(x){const t=e.style.map.terrain?(t,i)=>e.style.map.terrain.getElevation(T,t,i):null,i="map"===n.layout.get("text-rotation-alignment");dt(l,T.posMatrix,e,s,F,R,y,h,i,t)}const j=e.translatePosMatrix(T.posMatrix,r,o,a),U=x||s&&S||N?zi:F,V=e.translatePosMatrix(R,r,o,a,!0),$=d&&0!==n.paint.get(s?"text-halo-width":"icon-halo-width").constantOr(1);let H;H=d?l.iconsInText?ze(p.kind,A,v,y,e,j,U,V,M,L):Le(p.kind,A,v,y,e,j,U,V,s,M,!0):De(p.kind,A,v,y,e,j,U,V,s,M);const q={program:k,buffers:c,uniformValues:H,atlasTexture:P,atlasTextureIcon:z,atlasInterpolation:E,atlasInterpolationIcon:D,isSDF:d,hasHalo:$};if(b&&l.canOverlap){_=!0;const e=c.segments.get();for(const i of e)C.push({segments:new t.S([i]),sortKey:i.sortKey,state:q,terrainData:I})}else C.push({segments:c.segments,sortKey:0,state:q,terrainData:I})}_&&C.sort(((t,e)=>t.sortKey-e.sortKey));for(const t of C){const i=t.state;if(p.activeTexture.set(f.TEXTURE0),i.atlasTexture.bind(i.atlasInterpolation,f.CLAMP_TO_EDGE),i.atlasTextureIcon&&(p.activeTexture.set(f.TEXTURE1),i.atlasTextureIcon&&i.atlasTextureIcon.bind(i.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),i.isSDF){const r=i.uniformValues;i.hasHalo&&(r.u_is_halo=1,Ni(i.buffers,t.segments,n,e,i.program,w,u,d,r,t.terrainData)),r.u_is_halo=0}Ni(i.buffers,t.segments,n,e,i.program,w,u,d,i.uniformValues,t.terrainData)}}function Ni(t,e,i,n,r,s,o,a,l,c){const h=n.context;r.draw(h,h.gl.TRIANGLES,s,o,a,Ei.disabled,l,c,i.id,t.layoutVertexBuffer,t.indexBuffer,e,i.paint,n.transform.zoom,t.programConfigurations.get(i.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function ji(t,e,i,n,r){if(!i||!n||!n.imageAtlas)return;const s=n.imageAtlas.patternPositions;let o=s[i.to.toString()],a=s[i.from.toString()];if(!o&&a&&(o=a),!a&&o&&(a=o),!o||!a){const t=r.getPaintProperty(e);o=s[t],a=s[t]}o&&a&&t.setConstantPatternPositions(o,a)}function Ui(t,e,i,n,r,s,o){const a=t.context.gl,l="fill-pattern",c=i.paint.get(l),h=c&&c.constantOr(1),u=i.getCrossfadeParameters();let d,p,f,m,g;o?(p=h&&!i.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",d=a.LINES):(p=h?"fillPattern":"fill",d=a.TRIANGLES);const y=c.constantOr(null);for(const x of n){const n=e.getTile(x);if(h&&!n.patternsLoaded())continue;const c=n.getBucket(i);if(!c)continue;const v=c.programConfigurations.get(i.id),b=t.useProgram(p,v),_=t.style.map.terrain&&t.style.map.terrain.getTerrainData(x);h&&(t.context.activeTexture.set(a.TEXTURE0),n.imageAtlasTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),v.updatePaintBuffers(u)),ji(v,l,y,n,i);const w=_?x:null,S=t.translatePosMatrix(w?w.posMatrix:x.posMatrix,n,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"));if(o){m=c.indexBuffer2,g=c.segments2;const e=[a.drawingBufferWidth,a.drawingBufferHeight];f="fillOutlinePattern"===p&&h?ye(S,t,u,n,e):ge(S,e)}else m=c.indexBuffer,g=c.segments,f=h?me(S,t,u,n):fe(S);b.draw(t.context,d,r,t.stencilModeForClipping(x),s,Ei.disabled,f,_,i.id,c.layoutVertexBuffer,m,g,i.paint,t.transform.zoom,v)}}function Vi(t,e,i,n,r,s,o){const a=t.context,l=a.gl,c="fill-extrusion-pattern",h=i.paint.get(c),u=h.constantOr(1),d=i.getCrossfadeParameters(),p=i.paint.get("fill-extrusion-opacity"),f=h.constantOr(null);for(const m of n){const n=e.getTile(m),h=n.getBucket(i);if(!h)continue;const g=t.style.map.terrain&&t.style.map.terrain.getTerrainData(m),y=h.programConfigurations.get(i.id),x=t.useProgram(u?"fillExtrusionPattern":"fillExtrusion",y);u&&(t.context.activeTexture.set(l.TEXTURE0),n.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePaintBuffers(d)),ji(y,c,f,n,i);const v=t.translatePosMatrix(m.posMatrix,n,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor")),b=i.paint.get("fill-extrusion-vertical-gradient"),_=u?pe(v,t,b,p,m,d,n):de(v,t,b,p);x.draw(a,a.gl.TRIANGLES,r,s,o,Ei.backCCW,_,g,i.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,i.paint,t.transform.zoom,y,t.style.map.terrain&&h.centroidVertexBuffer)}}function $i(t,e,i,n,r,s,o){const a=t.context,l=a.gl,c=i.fbo;if(!c)return;const h=t.useProgram("hillshade"),u=t.style.map.terrain&&t.style.map.terrain.getTerrainData(e);a.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,c.colorAttachment.get()),h.draw(a,l.TRIANGLES,r,s,o,Ei.disabled,((t,e,i,n)=>{const r=i.paint.get("hillshade-shadow-color"),s=i.paint.get("hillshade-highlight-color"),o=i.paint.get("hillshade-accent-color");let a=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(a-=t.transform.angle);const l=!t.options.moving;return{u_matrix:n?n.posMatrix:t.transform.calculatePosMatrix(e.tileID.toUnwrapped(),l),u_image:0,u_latrange:Se(0,e.tileID),u_light:[i.paint.get("hillshade-exaggeration"),a],u_shadow:r,u_highlight:s,u_accent:o}})(t,i,n,u?e:null),u,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}function Hi(e,i,n,r,s,o){const a=e.context,l=a.gl,c=i.dem;if(c&&c.data){const h=c.dim,u=c.stride,d=c.getPixels();if(a.activeTexture.set(l.TEXTURE1),a.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||e.getTileTexture(u),i.demTexture){const t=i.demTexture;t.update(d,{premultiply:!1}),t.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else i.demTexture=new v(a,d,l.RGBA,{premultiply:!1}),i.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);a.activeTexture.set(l.TEXTURE0);let p=i.fbo;if(!p){const t=new v(a,{width:h,height:h,data:null},l.RGBA);t.bind(l.LINEAR,l.CLAMP_TO_EDGE),p=i.fbo=a.createFramebuffer(h,h,!0,!1),p.colorAttachment.set(t.texture)}a.bindFramebuffer.set(p.framebuffer),a.viewport.set([0,0,h,h]),e.useProgram("hillshadePrepare").draw(a,l.TRIANGLES,r,s,o,Ei.disabled,((e,i)=>{const n=i.stride,r=t.Z();return t.aS(r,0,t.N,-t.N,0,0,1),t.$(r,r,[0,-t.N,0]),{u_matrix:r,u_image:1,u_dimension:[n,n],u_zoom:e.overscaledZ,u_unpack:i.getUnpackVector()}})(i.tileID,c),null,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function qi(e,i,n,r,s,o){const a=r.paint.get("raster-fade-duration");if(!o&&a>0){const r=t.h.now(),o=(r-e.timeAdded)/a,l=i?(r-i.timeAdded)/a:-1,c=n.getSource(),h=s.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),u=!i||Math.abs(i.tileID.overscaledZ-h)>Math.abs(e.tileID.overscaledZ-h),d=u&&e.refreshedUponExpiration?1:t.ad(u?o:1-l,0,1);return e.refreshedUponExpiration&&o>=1&&(e.refreshedUponExpiration=!1),i?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}const Gi=new t.aT(1,0,0,1),Wi=new t.aT(0,1,0,1),Xi=new t.aT(0,0,1,1),Yi=new t.aT(1,0,1,1),Zi=new t.aT(0,1,1,1);function Ki(t,e,i,n){Qi(t,0,e+i/2,t.transform.width,i,n)}function Ji(t,e,i,n){Qi(t,e-i/2,0,i,t.transform.height,n)}function Qi(t,e,i,n,r,s){const o=t.context,a=o.gl;a.enable(a.SCISSOR_TEST),a.scissor(e*t.pixelRatio,i*t.pixelRatio,n*t.pixelRatio,r*t.pixelRatio),o.clear({color:s}),a.disable(a.SCISSOR_TEST)}function tn(e,i,n){const r=e.context,s=r.gl,o=n.posMatrix,a=e.useProgram("debug"),l=Ii.disabled,c=Pi.disabled,h=e.colorModeForRenderPass(),u="$debug",d=e.style.map.terrain&&e.style.map.terrain.getTerrainData(n);r.activeTexture.set(s.TEXTURE0);const p=i.getTileByID(n.key).latestRawTileData,f=Math.floor((p&&p.byteLength||0)/1024),m=i.getTile(n).tileSize,g=512/Math.min(m,512)*(n.overscaledZ/e.transform.zoom)*.5;let y=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(y+=` => ${n.overscaledZ}`),function(t,e){t.initDebugOverlayCanvas();const i=t.debugOverlayCanvas,n=t.context.gl,r=t.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,i.width,i.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(e,5,5),r.strokeText(e,5,5),t.debugOverlayTexture.update(i),t.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(e,`${y} ${f}kB`),a.draw(r,s.TRIANGLES,l,c,ki.alphaBlended,Ei.disabled,be(o,t.aT.transparent,g),null,u,e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments),a.draw(r,s.LINE_STRIP,l,c,h,Ei.disabled,be(o,t.aT.red),d,u,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments)}function en(t,e,i){const n=t.context,r=n.gl,s=t.colorModeForRenderPass(),o=new Ii(r.LEQUAL,Ii.ReadWrite,t.depthRangeFor3D),a=t.useProgram("terrain"),l=e.getTerrainMesh();n.bindFramebuffer.set(null),n.viewport.set([0,0,t.width,t.height]);for(const c of i){const i=t.renderToTexture.getTexture(c),h=e.getTerrainData(c.tileID);n.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,i.texture);const u={u_matrix:t.transform.calculatePosMatrix(c.tileID.toUnwrapped()),u_texture:0,u_ele_delta:e.getMeshFrameDelta(t.transform.zoom)};a.draw(n,r.TRIANGLES,o,Pi.disabled,s,Ei.backCCW,u,h,"terrain",l.vertexBuffer,l.indexBuffer,l.segments)}}class nn{constructor(e,i){this.context=new Ai(e),this.transform=i,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:t.Z(),renderTime:0},this.setup(),this.numSublayers=Z.maxUnderzooming+Z.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Jt}resize(t,e,i){if(this.width=Math.floor(t*i),this.height=Math.floor(e*i),this.pixelRatio=i,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const n of this.style._order)this.style._layers[n].resize()}setup(){const e=this.context,i=new t.a_;i.emplaceBack(0,0),i.emplaceBack(t.N,0),i.emplaceBack(0,t.N),i.emplaceBack(t.N,t.N),this.tileExtentBuffer=e.createVertexBuffer(i,re.members),this.tileExtentSegments=t.S.simpleSegment(0,0,4,2);const n=new t.a_;n.emplaceBack(0,0),n.emplaceBack(t.N,0),n.emplaceBack(0,t.N),n.emplaceBack(t.N,t.N),this.debugBuffer=e.createVertexBuffer(n,re.members),this.debugSegments=t.S.simpleSegment(0,0,4,5);const r=new t.V;r.emplaceBack(0,0,0,0),r.emplaceBack(t.N,0,t.N,0),r.emplaceBack(0,t.N,0,t.N),r.emplaceBack(t.N,t.N,t.N,t.N),this.rasterBoundsBuffer=e.createVertexBuffer(r,B.members),this.rasterBoundsSegments=t.S.simpleSegment(0,0,4,2);const s=new t.a_;s.emplaceBack(0,0),s.emplaceBack(1,0),s.emplaceBack(0,1),s.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(s,re.members),this.viewportSegments=t.S.simpleSegment(0,0,4,2);const o=new t.a$;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(o);const a=new t.b0;a.emplaceBack(0,1,2),a.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(a);const l=this.context.gl;this.stencilClearMode=new Pi({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)}clearStencil(){const e=this.context,i=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const n=t.Z();t.aS(n,0,this.width,this.height,0,0,1),t.a0(n,n,[i.drawingBufferWidth,i.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,i.TRIANGLES,Ii.disabled,this.stencilClearMode,ki.disabled,Ei.disabled,_e(n),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(t,e){if(this.currentStencilSource===t.source||!t.isTileClipped()||!e||!e.length)return;this.currentStencilSource=t.source;const i=this.context,n=i.gl;this.nextStencilID+e.length>256&&this.clearStencil(),i.setColorMode(ki.disabled),i.setDepthMode(Ii.disabled);const r=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const s of e){const t=this._tileClippingMaskIDs[s.key]=this.nextStencilID++,e=this.style.map.terrain&&this.style.map.terrain.getTerrainData(s);r.draw(i,n.TRIANGLES,Ii.disabled,new Pi({func:n.ALWAYS,mask:0},t,255,n.KEEP,n.KEEP,n.REPLACE),ki.disabled,Ei.disabled,_e(s.posMatrix),e,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,e=this.context.gl;return new Pi({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)}stencilModeForClipping(t){const e=this.context.gl;return new Pi({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)}stencilConfigForOverlap(t){const e=this.context.gl,i=t.sort(((t,e)=>e.overscaledZ-t.overscaledZ)),n=i[i.length-1].overscaledZ,r=i[0].overscaledZ-n+1;if(r>1){this.currentStencilSource=void 0,this.nextStencilID+r>256&&this.clearStencil();const t={};for(let i=0;i<r;i++)t[i+n]=new Pi({func:e.GEQUAL,mask:255},i+this.nextStencilID,255,e.KEEP,e.KEEP,e.REPLACE);return this.nextStencilID+=r,[t,i]}return[{[n]:Pi.disabled},i]}colorModeForRenderPass(){const e=this.context.gl;if(this._showOverdrawInspector){const i=1/8;return new ki([e.CONSTANT_COLOR,e.ONE],new t.aT(i,i,i,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?ki.unblended:ki.alphaBlended}depthModeForSublayer(t,e,i){if(!this.opaquePassEnabledForLayer())return Ii.disabled;const n=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new Ii(i||this.context.gl.LEQUAL,e,[n,n])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,i){this.style=e,this.options=i,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.h.now()),this.imageManager.beginFrame();const n=this.style._order,r=this.style.sourceCaches,s={},o={},a={};for(const t in r){const e=r[t];e.used&&e.prepare(this.context),s[t]=e.getVisibleCoordinates(),o[t]=s[t].slice().reverse(),a[t]=e.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let t=0;t<n.length;t++)if(this.style._layers[n[t]].is3D()){this.opaquePassCutoff=t;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const e=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!t.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||e.length)&&(t.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(e,i){const n=e.context,r=n.gl,s=ki.unblended,o=new Ii(r.LEQUAL,Ii.ReadWrite,[0,1]),a=i.getTerrainMesh(),l=i.sourceCache.getRenderableTiles(),c=e.useProgram("terrainDepth");n.bindFramebuffer.set(i.getFramebuffer("depth").framebuffer),n.viewport.set([0,0,e.width/devicePixelRatio,e.height/devicePixelRatio]),n.clear({color:t.aT.transparent,depth:1});for(const t of l){const l=i.getTerrainData(t.tileID),h={u_matrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped()),u_ele_delta:i.getMeshFrameDelta(e.transform.zoom)};c.draw(n,r.TRIANGLES,o,Pi.disabled,s,Ei.backCCW,h,l,"terrain",a.vertexBuffer,a.indexBuffer,a.segments)}n.bindFramebuffer.set(null),n.viewport.set([0,0,e.width,e.height])}(this,this.style.map.terrain),function(e,i){const n=e.context,r=n.gl,s=ki.unblended,o=new Ii(r.LEQUAL,Ii.ReadWrite,[0,1]),a=i.getTerrainMesh(),l=i.getCoordsTexture(),c=i.sourceCache.getRenderableTiles(),h=e.useProgram("terrainCoords");n.bindFramebuffer.set(i.getFramebuffer("coords").framebuffer),n.viewport.set([0,0,e.width/devicePixelRatio,e.height/devicePixelRatio]),n.clear({color:t.aT.transparent,depth:1}),i.coordsIndex=[];for(const t of c){const c=i.getTerrainData(t.tileID);n.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,l.texture);const u={u_matrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped()),u_terrain_coords_id:(255-i.coordsIndex.length)/255,u_texture:0,u_ele_delta:i.getMeshFrameDelta(e.transform.zoom)};h.draw(n,r.TRIANGLES,o,Pi.disabled,s,Ei.backCCW,u,c,"terrain",a.vertexBuffer,a.indexBuffer,a.segments),i.coordsIndex.push(t.tileID.key)}n.bindFramebuffer.set(null),n.viewport.set([0,0,e.width,e.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const t of n){const e=this.style._layers[t];if(!e.hasOffscreenPass()||e.isHidden(this.transform.zoom))continue;const i=o[e.source];("custom"===e.type||i.length)&&this.renderLayer(this,r[e.source],e,i)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:i.showOverdrawInspector?t.aT.black:t.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=i.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){const t=this.style._layers[n[this.currentLayer]],e=r[t.source],i=s[t.source];this._renderTileClippingMasks(t,i),this.renderLayer(this,e,t,i)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){const t=this.style._layers[n[this.currentLayer]],e=r[t.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(t))continue;const i=("symbol"===t.type?a:o)[t.source];this._renderTileClippingMasks(t,s[t.source]),this.renderLayer(this,e,t,i)}if(this.options.showTileBoundaries){const t=function(t,e){let i=null;const n=Object.values(t._layers).flatMap((i=>i.source&&!i.isHidden(e)?[t.sourceCaches[i.source]]:[])),r=n.filter((t=>"vector"===t.getSource().type)),s=n.filter((t=>"vector"!==t.getSource().type)),o=t=>{(!i||i.getSource().maxzoom<t.getSource().maxzoom)&&(i=t)};return r.forEach((t=>o(t))),i||s.forEach((t=>o(t))),i}(this.style,this.transform.zoom);t&&function(t,e,i){for(let n=0;n<i.length;n++)tn(t,e,i[n])}(this,t,t.getVisibleCoordinates())}this.options.showPadding&&function(t){const e=t.transform.padding;Ki(t,t.transform.height-(e.top||0),3,Gi),Ki(t,e.bottom||0,3,Wi),Ji(t,e.left||0,3,Xi),Ji(t,t.transform.width-(e.right||0),3,Yi);const i=t.transform.centerPoint;!function(t,e,i,n){Qi(t,e-1,i-10,2,20,n),Qi(t,e-10,i-1,20,2,n)}(t,i.x,t.transform.height-i.y,Zi)}(this),this.context.setDefault()}renderLayer(e,i,n,r){if(!n.isHidden(this.transform.zoom)&&("background"===n.type||"custom"===n.type||(r||[]).length))switch(this.id=n.id,n.type){case"symbol":!function(e,i,n,r,s){if("translucent"!==e.renderPass)return;const o=Pi.disabled,a=e.colorModeForRenderPass();(n._unevaluatedLayout.hasValue("text-variable-anchor")||n._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(e,i,n,r,s,o,a){const l=i.transform,c="map"===s,h="map"===o;for(const u of e){const e=r.getTile(u),s=e.getBucket(n);if(!s||!s.text||!s.text.segments.get().length)continue;const o=t.ah(s.textSizeData,l.zoom),d=kt(e,1,i.transform.zoom),p=at(u.posMatrix,h,c,i.transform,d),f="none"!==n.layout.get("icon-text-fit")&&s.hasIconData();if(o){const t=Math.pow(2,l.zoom-e.tileID.overscaledZ);Fi(s,c,h,a,l,p,u.posMatrix,t,o,f,i.style.map.terrain?(t,e)=>i.style.map.terrain.getElevation(u,t,e):null)}}}(r,e,n,i,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),s),0!==n.paint.get("icon-opacity").constantOr(1)&&Bi(e,i,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),o,a),0!==n.paint.get("text-opacity").constantOr(1)&&Bi(e,i,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),o,a),i.map.showCollisionBoxes&&(Li(e,i,n,r,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),Li(e,i,n,r,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))}(e,i,n,r,this.style.placement.variableOffsets);break;case"circle":!function(e,i,n,r){if("translucent"!==e.renderPass)return;const s=n.paint.get("circle-opacity"),o=n.paint.get("circle-stroke-width"),a=n.paint.get("circle-stroke-opacity"),l=!n.layout.get("circle-sort-key").isConstant();if(0===s.constantOr(1)&&(0===o.constantOr(1)||0===a.constantOr(1)))return;const c=e.context,h=c.gl,u=e.depthModeForSublayer(0,Ii.ReadOnly),d=Pi.disabled,p=e.colorModeForRenderPass(),f=[];for(let m=0;m<r.length;m++){const s=r[m],o=i.getTile(s),a=o.getBucket(n);if(!a)continue;const c=a.programConfigurations.get(n.id),h=e.useProgram("circle",c),u=a.layoutVertexBuffer,d=a.indexBuffer,p=e.style.map.terrain&&e.style.map.terrain.getTerrainData(s),g={programConfiguration:c,program:h,layoutVertexBuffer:u,indexBuffer:d,uniformValues:xe(e,s,o,n),terrainData:p};if(l){const e=a.segments.get();for(const i of e)f.push({segments:new t.S([i]),sortKey:i.sortKey,state:g})}else f.push({segments:a.segments,sortKey:0,state:g})}l&&f.sort(((t,e)=>t.sortKey-e.sortKey));for(const t of f){const{programConfiguration:i,program:r,layoutVertexBuffer:s,indexBuffer:o,uniformValues:a,terrainData:l}=t.state;r.draw(c,h.TRIANGLES,u,d,p,Ei.disabled,a,l,n.id,s,o,t.segments,n.paint,e.transform.zoom,i)}}(e,i,n,r);break;case"heatmap":!function(e,i,n,r){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){const s=e.context,o=s.gl,a=Pi.disabled,l=new ki([o.ONE,o.ONE],t.aT.transparent,[!0,!0,!0,!0]);!function(t,e,i){const n=t.gl;t.activeTexture.set(n.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);let r=i.heatmapFbo;if(r)n.bindTexture(n.TEXTURE_2D,r.colorAttachment.get()),t.bindFramebuffer.set(r.framebuffer);else{const s=n.createTexture();n.bindTexture(n.TEXTURE_2D,s),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),r=i.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4,!1,!1),function(t,e,i,n){var r,s;const o=t.gl,a=null!==(r=t.HALF_FLOAT)&&void 0!==r?r:o.UNSIGNED_BYTE,l=null!==(s=t.RGBA16F)&&void 0!==s?s:o.RGBA;o.texImage2D(o.TEXTURE_2D,0,l,e.width/4,e.height/4,0,o.RGBA,a,null),n.colorAttachment.set(i)}(t,e,s,r)}}(s,e,n),s.clear({color:t.aT.transparent});for(let t=0;t<r.length;t++){const c=r[t];if(i.hasRenderableParent(c))continue;const h=i.getTile(c),u=h.getBucket(n);if(!u)continue;const d=u.programConfigurations.get(n.id),p=e.useProgram("heatmap",d),{zoom:f}=e.transform;p.draw(s,o.TRIANGLES,Ii.disabled,a,l,Ei.disabled,we(c.posMatrix,h,f,n.paint.get("heatmap-intensity")),null,n.id,u.layoutVertexBuffer,u.indexBuffer,u.segments,n.paint,e.transform.zoom,d)}s.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,i){const n=e.context,r=n.gl,s=i.heatmapFbo;if(!s)return;n.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,s.colorAttachment.get()),n.activeTexture.set(r.TEXTURE1);let o=i.colorRampTexture;o||(o=i.colorRampTexture=new v(n,i.colorRamp,r.RGBA)),o.bind(r.LINEAR,r.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(n,r.TRIANGLES,Ii.disabled,Pi.disabled,e.colorModeForRenderPass(),Ei.disabled,((e,i,n,r)=>{const s=t.Z();t.aS(s,0,e.width,e.height,0,0,1);const o=e.context.gl;return{u_matrix:s,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:i.paint.get("heatmap-opacity")}})(e,i),null,i.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,i.paint,e.transform.zoom)}(e,n))}(e,i,n,r);break;case"line":!function(e,i,n,r){if("translucent"!==e.renderPass)return;const s=n.paint.get("line-opacity"),o=n.paint.get("line-width");if(0===s.constantOr(1)||0===o.constantOr(1))return;const a=e.depthModeForSublayer(0,Ii.ReadOnly),l=e.colorModeForRenderPass(),c=n.paint.get("line-dasharray"),h=n.paint.get("line-pattern"),u=h.constantOr(1),d=n.paint.get("line-gradient"),p=n.getCrossfadeParameters(),f=u?"linePattern":c?"lineSDF":d?"lineGradient":"line",m=e.context,g=m.gl;let y=!0;for(const x of r){const r=i.getTile(x);if(u&&!r.patternsLoaded())continue;const s=r.getBucket(n);if(!s)continue;const o=s.programConfigurations.get(n.id),b=e.context.program.get(),_=e.useProgram(f,o),w=y||_.program!==b,S=e.style.map.terrain&&e.style.map.terrain.getTerrainData(x),C=h.constantOr(null);if(C&&r.imageAtlas){const t=r.imageAtlas,e=t.patternPositions[C.to.toString()],i=t.patternPositions[C.from.toString()];e&&i&&o.setConstantPatternPositions(e,i)}const T=S?x:null,k=u?ke(e,r,n,p,T):c?Ae(e,r,n,c,p,T):d?Te(e,r,n,s.lineClipsArray.length,T):Ce(e,r,n,T);if(u)m.activeTexture.set(g.TEXTURE0),r.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),o.updatePaintBuffers(p);else if(c&&(w||e.lineAtlas.dirty))m.activeTexture.set(g.TEXTURE0),e.lineAtlas.bind(m);else if(d){const r=s.gradients[n.id];let o=r.texture;if(n.gradientVersion!==r.version){let a=256;if(n.stepInterpolant){const n=i.getSource().maxzoom,r=x.canonical.z===n?Math.ceil(1<<e.transform.maxZoom-x.canonical.z):1;a=t.ad(t.aY(s.maxLineLength/t.N*1024*r),256,m.maxTextureSize)}r.gradient=t.aZ({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:a,image:r.gradient||void 0,clips:s.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new v(m,r.gradient,g.RGBA),r.version=n.gradientVersion,o=r.texture}m.activeTexture.set(g.TEXTURE0),o.bind(n.stepInterpolant?g.NEAREST:g.LINEAR,g.CLAMP_TO_EDGE)}_.draw(m,g.TRIANGLES,a,e.stencilModeForClipping(x),l,Ei.disabled,k,S,n.id,s.layoutVertexBuffer,s.indexBuffer,s.segments,n.paint,e.transform.zoom,o,s.layoutVertexBuffer2),y=!1}}(e,i,n,r);break;case"fill":!function(e,i,n,r){const s=n.paint.get("fill-color"),o=n.paint.get("fill-opacity");if(0===o.constantOr(1))return;const a=e.colorModeForRenderPass(),l=n.paint.get("fill-pattern"),c=e.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===s.constantOr(t.aT.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(e.renderPass===c){const t=e.depthModeForSublayer(1,"opaque"===e.renderPass?Ii.ReadWrite:Ii.ReadOnly);Ui(e,i,n,r,t,a,!1)}if("translucent"===e.renderPass&&n.paint.get("fill-antialias")){const t=e.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,Ii.ReadOnly);Ui(e,i,n,r,t,a,!0)}}(e,i,n,r);break;case"fill-extrusion":!function(t,e,i,n){const r=i.paint.get("fill-extrusion-opacity");if(0!==r&&"translucent"===t.renderPass){const s=new Ii(t.context.gl.LEQUAL,Ii.ReadWrite,t.depthRangeFor3D);if(1!==r||i.paint.get("fill-extrusion-pattern").constantOr(1))Vi(t,e,i,n,s,Pi.disabled,ki.disabled),Vi(t,e,i,n,s,t.stencilModeFor3D(),t.colorModeForRenderPass());else{const r=t.colorModeForRenderPass();Vi(t,e,i,n,s,Pi.disabled,r)}}}(e,i,n,r);break;case"hillshade":!function(t,e,i,n){if("offscreen"!==t.renderPass&&"translucent"!==t.renderPass)return;const r=t.context,s=t.depthModeForSublayer(0,Ii.ReadOnly),o=t.colorModeForRenderPass(),[a,l]="translucent"===t.renderPass?t.stencilConfigForOverlap(n):[{},n];for(const c of l){const n=e.getTile(c);void 0!==n.needsHillshadePrepare&&n.needsHillshadePrepare&&"offscreen"===t.renderPass?Hi(t,n,i,s,Pi.disabled,o):"translucent"===t.renderPass&&$i(t,c,n,i,s,a[c.overscaledZ],o)}r.viewport.set([0,0,t.width,t.height])}(e,i,n,r);break;case"raster":!function(t,e,i,n){if("translucent"!==t.renderPass)return;if(0===i.paint.get("raster-opacity"))return;if(!n.length)return;const r=t.context,s=r.gl,o=e.getSource(),a=t.useProgram("raster"),l=t.colorModeForRenderPass(),[c,h]=o instanceof N?[{},n]:t.stencilConfigForOverlap(n),u=h[h.length-1].overscaledZ,d=!t.options.moving;for(const p of h){const n=t.depthModeForSublayer(p.overscaledZ-u,1===i.paint.get("raster-opacity")?Ii.ReadWrite:Ii.ReadOnly,s.LESS),h=e.getTile(p);h.registerFadeDuration(i.paint.get("raster-fade-duration"));const f=e.findLoadedParent(p,0),m=qi(h,f,e,i,t.transform,t.style.map.terrain);let g,y;const x="nearest"===i.paint.get("raster-resampling")?s.NEAREST:s.LINEAR;r.activeTexture.set(s.TEXTURE0),h.texture.bind(x,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),r.activeTexture.set(s.TEXTURE1),f?(f.texture.bind(x,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),g=Math.pow(2,f.tileID.overscaledZ-h.tileID.overscaledZ),y=[h.tileID.canonical.x*g%1,h.tileID.canonical.y*g%1]):h.texture.bind(x,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST);const v=t.style.map.terrain&&t.style.map.terrain.getTerrainData(p),b=v?p:null,_=b?b.posMatrix:t.transform.calculatePosMatrix(p.toUnwrapped(),d),w=Pe(_,y||[0,0],g||1,m,i);o instanceof N?a.draw(r,s.TRIANGLES,n,Pi.disabled,l,Ei.disabled,w,v,i.id,o.boundsBuffer,t.quadTriangleIndexBuffer,o.boundsSegments):a.draw(r,s.TRIANGLES,n,c[p.overscaledZ],l,Ei.disabled,w,v,i.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}(e,i,n,r);break;case"background":!function(t,e,i,n){const r=i.paint.get("background-color"),s=i.paint.get("background-opacity");if(0===s)return;const o=t.context,a=o.gl,l=t.transform,c=l.tileSize,h=i.paint.get("background-pattern");if(t.isPatternMissing(h))return;const u=!h&&1===r.a&&1===s&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass!==u)return;const d=Pi.disabled,p=t.depthModeForSublayer(0,"opaque"===u?Ii.ReadWrite:Ii.ReadOnly),f=t.colorModeForRenderPass(),m=t.useProgram(h?"backgroundPattern":"background"),g=n||l.coveringTiles({tileSize:c,terrain:t.style.map.terrain});h&&(o.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));const y=i.getCrossfadeParameters();for(const x of g){const e=n?x.posMatrix:t.transform.calculatePosMatrix(x.toUnwrapped()),l=h?Fe(e,s,t,h,{tileID:x,tileSize:c},y):Oe(e,s,r),u=t.style.map.terrain&&t.style.map.terrain.getTerrainData(x);m.draw(o,a.TRIANGLES,p,d,f,Ei.disabled,l,u,i.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}(e,0,n,r);break;case"custom":!function(t,e,i){const n=t.context,r=i.implementation;if("offscreen"===t.renderPass){const e=r.prerender;e&&(t.setCustomLayerDefaults(),n.setColorMode(t.colorModeForRenderPass()),e.call(r,n.gl,t.transform.customLayerMatrix()),n.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),n.setColorMode(t.colorModeForRenderPass()),n.setStencilMode(Pi.disabled);const e="3d"===r.renderingMode?new Ii(t.context.gl.LEQUAL,Ii.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,Ii.ReadOnly);n.setDepthMode(e),r.render(n.gl,t.transform.customLayerMatrix()),n.setDirty(),t.setBaseState(),n.bindFramebuffer.set(null)}}(e,0,n)}}translatePosMatrix(e,i,n,r,s){if(!n[0]&&!n[1])return e;const o=s?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(o){const t=Math.sin(o),e=Math.cos(o);n=[n[0]*e-n[1]*t,n[0]*t+n[1]*e]}const a=[s?n[0]:kt(i,n[0],this.transform.zoom),s?n[1]:kt(i,n[1],this.transform.zoom),0],l=new Float32Array(16);return t.$(l,e,a),l}saveTileTexture(t){const e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]}getTileTexture(t){const e=this._tileTextures[t];return e&&e.length>0?e.pop():null}isPatternMissing(t){if(!t)return!1;if(!t.from||!t.to)return!0;const e=this.imageManager.getPattern(t.from.toString()),i=this.imageManager.getPattern(t.to.toString());return!e||!i}useProgram(t,e){this.cache=this.cache||{};const i=t+(e?e.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[i]||(this.cache[i]=new he(this.context,oe[t],e,Re[t],this._showOverdrawInspector,this.style.map.terrain)),this.cache[i]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new v(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:t,drawingBufferHeight:e}=this.context.gl;return this.width!==t||this.height!==e}}class rn{constructor(t,e){this.points=t,this.planes=e}static fromInvProjectionMatrix(e,i,n){const r=Math.pow(2,n),s=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((n=>{const s=1/(n=t.ag([],n,e))[3]/i*r;return t.b3(n,n,[s,s,1/n[3],s])})),o=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((t=>{const e=function(t,e){var i=e[0],n=e[1],r=e[2],s=i*i+n*n+r*r;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}([],function(t,e,i){var n=e[0],r=e[1],s=e[2],o=i[0],a=i[1],l=i[2];return t[0]=r*l-s*a,t[1]=s*o-n*l,t[2]=n*a-r*o,t}([],m([],s[t[0]],s[t[1]]),m([],s[t[2]],s[t[1]]))),i=-((n=e)[0]*(r=s[t[1]])[0]+n[1]*r[1]+n[2]*r[2]);var n,r;return e.concat(i)}));return new rn(s,o)}}class sn{constructor(t,e){this.min=t,this.max=e,this.center=function(t,e,i){return t[0]=.5*e[0],t[1]=.5*e[1],t[2]=.5*e[2],t}([],function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}([],this.min,this.max))}quadrant(t){const e=[t%2==0,t<2],i=p(this.min),n=p(this.max);for(let r=0;r<e.length;r++)i[r]=e[r]?this.min[r]:this.center[r],n[r]=e[r]?this.center[r]:this.max[r];return n[2]=this.max[2],new sn(i,n)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}intersects(e){const i=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let n=!0;for(let r=0;r<e.planes.length;r++){const s=e.planes[r];let o=0;for(let e=0;e<i.length;e++)t.b4(s,i[e])>=0&&o++;if(0===o)return 0;o!==i.length&&(n=!1)}if(n)return 2;for(let t=0;t<3;t++){let i=Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let r=0;r<e.points.length;r++){const s=e.points[r][t]-this.min[t];i=Math.min(i,s),n=Math.max(n,s)}if(n<0||i>this.max[t]-this.min[t])return 0}return 1}}class on{constructor(t=0,e=0,i=0,n=0){if(isNaN(t)||t<0||isNaN(e)||e<0||isNaN(i)||i<0||isNaN(n)||n<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=e,this.left=i,this.right=n}interpolate(e,i,n){return null!=i.top&&null!=e.top&&(this.top=t.B.number(e.top,i.top,n)),null!=i.bottom&&null!=e.bottom&&(this.bottom=t.B.number(e.bottom,i.bottom,n)),null!=i.left&&null!=e.left&&(this.left=t.B.number(e.left,i.left,n)),null!=i.right&&null!=e.right&&(this.right=t.B.number(e.right,i.right,n)),this}getCenter(e,i){const n=t.ad((this.left+e-this.right)/2,0,e),r=t.ad((this.top+i-this.bottom)/2,0,i);return new t.P(n,r)}equals(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right}clone(){return new on(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class an{constructor(e,i,n,r,s){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===s||!!s,this._minZoom=e||0,this._maxZoom=i||22,this._minPitch=null==n?0:n,this._maxPitch=null==r?60:r,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new on,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const t=new an(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t.apply(this),t}apply(t){this.tileSize=t.tileSize,this.latRange=t.latRange,this.width=t.width,this.height=t.height,this._center=t._center,this._elevation=t._elevation,this._minEleveationForCurrentTile=t._minEleveationForCurrentTile,this.zoom=t.zoom,this.angle=t.angle,this._fov=t._fov,this._pitch=t._pitch,this._unmodified=t._unmodified,this._edgeInsets=t._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))}get maxZoom(){return this._maxZoom}set maxZoom(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))}get minPitch(){return this._minPitch}set minPitch(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))}get maxPitch(){return this._maxPitch}set maxPitch(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new t.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(e){const i=-t.b5(e,-180,180)*Math.PI/180;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=function(){var e=new t.A(4);return t.A!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}(),function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=Math.sin(i),l=Math.cos(i);t[0]=n*l+s*a,t[1]=r*l+o*a,t[2]=n*-a+s*l,t[3]=r*-a+o*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(e){const i=t.ad(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(t){const e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.tileZoom=Math.max(0,Math.floor(e)),this.scale=this.zoomScale(e),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(t){t!==this._elevation&&(this._elevation=t,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(t){return this._edgeInsets.equals(t)}interpolatePadding(t,e,i){this._unmodified=!1,this._edgeInsets.interpolate(t,e,i),this._constrain(),this._calcMatrices()}coveringZoomLevel(t){const e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)}getVisibleUnwrappedCoordinates(e){const i=[new t.b6(0,e)];if(this._renderWorldCopies){const n=this.pointCoordinate(new t.P(0,0)),r=this.pointCoordinate(new t.P(this.width,0)),s=this.pointCoordinate(new t.P(this.width,this.height)),o=this.pointCoordinate(new t.P(0,this.height)),a=Math.floor(Math.min(n.x,r.x,s.x,o.x)),l=Math.floor(Math.max(n.x,r.x,s.x,o.x)),c=1;for(let h=a-c;h<=l+c;h++)0!==h&&i.push(new t.b6(h,e))}return i}coveringTiles(e){var i,n;let r=this.coveringZoomLevel(e);const s=r;if(void 0!==e.minzoom&&r<e.minzoom)return[];void 0!==e.maxzoom&&r>e.maxzoom&&(r=e.maxzoom);const o=this.pointCoordinate(this.getCameraPoint()),a=t.U.fromLngLat(this.center),l=Math.pow(2,r),c=[l*o.x,l*o.y,0],h=[l*a.x,l*a.y,0],u=rn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r);let d=e.minzoom||0;!e.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(d=r);const p=e.terrain?2/Math.min(this.tileSize,e.tileSize)*this.tileSize:3,f=t=>({aabb:new sn([t*l,0,0],[(t+1)*l,l,0]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}),m=[],y=[],x=r,v=e.reparseOverscaled?s:r;if(this._renderWorldCopies)for(let t=1;t<=3;t++)m.push(f(-t)),m.push(f(t));for(m.push(f(0));m.length>0;){const r=m.pop(),s=r.x,o=r.y;let a=r.fullyVisible;if(!a){const t=r.aabb.intersects(u);if(0===t)continue;a=2===t}const l=e.terrain?c:h,f=r.aabb.distanceX(l),b=r.aabb.distanceY(l),_=Math.max(Math.abs(f),Math.abs(b));if(r.zoom===x||_>p+(1<<x-r.zoom)-2&&r.zoom>=d){const e=x-r.zoom,i=c[0]-.5-(s<<e),n=c[1]-.5-(o<<e);y.push({tileID:new t.O(r.zoom===x?v:r.zoom,r.wrap,r.zoom,s,o),distanceSq:g([h[0]-.5-s,h[1]-.5-o]),tileDistanceToCamera:Math.sqrt(i*i+n*n)})}else for(let c=0;c<4;c++){const l=(s<<1)+c%2,h=(o<<1)+(c>>1),u=r.zoom+1;let d=r.aabb.quadrant(c);if(e.terrain){const s=new t.O(u,r.wrap,u,l,h),o=e.terrain.getMinMaxElevation(s),a=null!==(i=o.minElevation)&&void 0!==i?i:this.elevation,c=null!==(n=o.maxElevation)&&void 0!==n?n:this.elevation;d=new sn([d.min[0],d.min[1],a],[d.max[0],d.max[1],c])}m.push({aabb:d,zoom:u,x:l,y:h,wrap:r.wrap,fullyVisible:a})}}return y.sort(((t,e)=>t.distanceSq-e.distanceSq)).map((t=>t.tileID))}resize(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(t){return Math.pow(2,t)}scaleZoom(t){return Math.log(t)/Math.LN2}project(e){const i=t.ad(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.P(t.G(e.lng)*this.worldSize,t.H(i)*this.worldSize)}unproject(e){return new t.U(e.x/this.worldSize,e.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(e){const i=this.pointLocation(this.centerPoint,e),n=e.getElevationForLngLatZoom(i,this.tileZoom);if(!(this.elevation-n))return;const r=this.getCameraPosition(),s=t.U.fromLngLat(r.lngLat,r.altitude),o=t.U.fromLngLat(i,n),a=s.x-o.x,l=s.y-o.y,c=s.z-o.z,h=Math.sqrt(a*a+l*l+c*c),u=this.scaleZoom(this.cameraToCenterDistance/h/this.tileSize);this._elevation=n,this._center=i,this.zoom=u}setLocationAtPoint(e,i){const n=this.pointCoordinate(i),r=this.pointCoordinate(this.centerPoint),s=this.locationCoordinate(e),o=new t.U(s.x-(n.x-r.x),s.y-(n.y-r.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(t,e){return e?this.coordinatePoint(this.locationCoordinate(t),e.getElevationForLngLatZoom(t,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(t))}pointLocation(t,e){return this.coordinateLocation(this.pointCoordinate(t,e))}locationCoordinate(e){return t.U.fromLngLat(e)}coordinateLocation(t){return t&&t.toLngLat()}pointCoordinate(e,i){if(i){const t=i.pointCoordinate(e);if(null!=t)return t}const n=[e.x,e.y,0,1],r=[e.x,e.y,1,1];t.ag(n,n,this.pixelMatrixInverse),t.ag(r,r,this.pixelMatrixInverse);const s=n[3],o=r[3],a=n[1]/s,l=r[1]/o,c=n[2]/s,h=r[2]/o,u=c===h?0:(0-c)/(h-c);return new t.U(t.B.number(n[0]/s,r[0]/o,u)/this.worldSize,t.B.number(a,l,u)/this.worldSize)}coordinatePoint(e,i=0,n=this.pixelMatrix){const r=[e.x*this.worldSize,e.y*this.worldSize,i,1];return t.ag(r,r,n),new t.P(r[0]/r[3],r[1]/r[3])}getBounds(){const e=Math.max(0,this.height/2-this.getHorizon());return(new D).extend(this.pointLocation(new t.P(0,e))).extend(this.pointLocation(new t.P(this.width,e))).extend(this.pointLocation(new t.P(this.width,this.height))).extend(this.pointLocation(new t.P(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new D([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(e,i=!1){const n=e.key,r=i?this._alignedPosMatrixCache:this._posMatrixCache;if(r[n])return r[n];const s=e.canonical,o=this.worldSize/this.zoomScale(s.z),a=s.x+Math.pow(2,s.z)*e.wrap,l=t.ao(new Float64Array(16));return t.$(l,l,[a*o,s.y*o,0]),t.a0(l,l,[o/t.N,o/t.N,1]),t.a1(l,i?this.alignedProjMatrix:this.projMatrix,l),r[n]=new Float32Array(l),r[n]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let e,i,n,r,s=-90,o=90,a=-180,l=180;const c=this.size,h=this._unmodified;if(this.latRange){const i=this.latRange;s=t.H(i[1])*this.worldSize,o=t.H(i[0])*this.worldSize,e=o-s<c.y?c.y/(o-s):0}if(this.lngRange){const e=this.lngRange;a=t.b5(t.G(e[0])*this.worldSize,0,this.worldSize),l=t.b5(t.G(e[1])*this.worldSize,0,this.worldSize),l<a&&(l+=this.worldSize),i=l-a<c.x?c.x/(l-a):0}const u=this.point,d=Math.max(i||0,e||0);if(d)return this.center=this.unproject(new t.P(i?(l+a)/2:u.x,e?(o+s)/2:u.y)),this.zoom+=this.scaleZoom(d),this._unmodified=h,void(this._constraining=!1);if(this.latRange){const t=u.y,e=c.y/2;t-e<s&&(r=s+e),t+e>o&&(r=o-e)}if(this.lngRange){const e=(a+l)/2,i=t.b5(u.x,e-this.worldSize/2,e+this.worldSize/2),r=c.x/2;i-r<a&&(n=a+r),i+r>l&&(n=l-r)}void 0===n&&void 0===r||(this.center=this.unproject(new t.P(void 0!==n?n:u.x,void 0!==r?r:u.y)).wrap()),this._unmodified=h,this._constraining=!1}_calcMatrices(){if(!this.height)return;const e=this.centerOffset,i=this.point.x,n=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=t.b7(1,this.center.lat)*this.worldSize;let r=t.ao(new Float64Array(16));t.a0(r,r,[this.width/2,-this.height/2,1]),t.$(r,r,[1,-1,0]),this.labelPlaneMatrix=r,r=t.ao(new Float64Array(16)),t.a0(r,r,[1,-1,1]),t.$(r,r,[-1,-1,0]),t.a0(r,r,[2/this.width,2/this.height,1]),this.glCoordMatrix=r;const s=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),o=Math.min(this.elevation,this._minEleveationForCurrentTile),a=s-o*this._pixelPerMeter/Math.cos(this._pitch),l=o<0?a:s,c=Math.PI/2+this._pitch,h=this._fov*(.5+e.y/this.height),u=Math.sin(h)*l/Math.sin(t.ad(Math.PI-c-h,.01,Math.PI-.01)),d=this.getHorizon(),p=2*Math.atan(d/this.cameraToCenterDistance)*(.5+e.y/(2*d)),f=Math.sin(p)*l/Math.sin(t.ad(Math.PI-c-p,.01,Math.PI-.01)),m=Math.min(u,f),g=1.01*(Math.cos(Math.PI/2-this._pitch)*m+l),y=this.height/50;r=new Float64Array(16),t.b8(r,this._fov,this.width/this.height,y,g),r[8]=2*-e.x/this.width,r[9]=2*e.y/this.height,t.a0(r,r,[1,-1,1]),t.$(r,r,[0,0,-this.cameraToCenterDistance]),t.b9(r,r,this._pitch),t.ae(r,r,this.angle),t.$(r,r,[-i,-n,0]),this.mercatorMatrix=t.a0([],r,[this.worldSize,this.worldSize,this.worldSize]),t.a0(r,r,[1,1,this._pixelPerMeter]),this.pixelMatrix=t.a1(new Float64Array(16),this.labelPlaneMatrix,r),t.$(r,r,[0,0,-this.elevation]),this.projMatrix=r,this.invProjMatrix=t.as([],r),this.pixelMatrix3D=t.a1(new Float64Array(16),this.labelPlaneMatrix,r);const x=this.width%2/2,v=this.height%2/2,b=Math.cos(this.angle),_=Math.sin(this.angle),w=i-Math.round(i)+b*x+_*v,S=n-Math.round(n)+b*v+_*x,C=new Float64Array(r);if(t.$(C,C,[w>.5?w-1:w,S>.5?S-1:S,0]),this.alignedProjMatrix=C,r=t.as(new Float64Array(16),this.pixelMatrix),!r)throw new Error("failed to invert matrix");this.pixelMatrixInverse=r,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const e=this.pointCoordinate(new t.P(0,0)),i=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.ag(i,i,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.P(0,e))}getCameraQueryGeometry(e){const i=this.getCameraPoint();if(1===e.length)return[e[0],i];{let n=i.x,r=i.y,s=i.x,o=i.y;for(const t of e)n=Math.min(n,t.x),r=Math.min(r,t.y),s=Math.max(s,t.x),o=Math.max(o,t.y);return[new t.P(n,r),new t.P(s,r),new t.P(s,o),new t.P(n,o),new t.P(n,r)]}}}function ln(t,e){let i,n=!1,r=null,s=null;const o=()=>{r=null,n&&(t.apply(s,i),r=setTimeout(o,e),n=!1)};return(...t)=>(n=!0,s=this,i=t,r||o(),r)}class cn{constructor(t){this._getCurrentHash=()=>{const t=window.location.hash.replace("#","");if(this._hashName){let e;return t.split("&").map((t=>t.split("="))).forEach((t=>{t[0]===this._hashName&&(e=t)})),(e&&e[1]||"").split("/")}return t.split("/")},this._onHashChange=()=>{const t=this._getCurrentHash();if(t.length>=3&&!t.some((t=>isNaN(t)))){const e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const t=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,t)}catch(t){}},this._updateHash=ln(this._updateHashUnthrottled,300),this._hashName=t&&encodeURIComponent(t)}addTo(t){return this._map=t,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(t){const e=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,n=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),r=Math.pow(10,n),s=Math.round(e.lng*r)/r,o=Math.round(e.lat*r)/r,a=this._map.getBearing(),l=this._map.getPitch();let c="";if(c+=t?`/${s}/${o}/${i}`:`${i}/${o}/${s}`,(a||l)&&(c+="/"+Math.round(10*a)/10),l&&(c+=`/${Math.round(l)}`),this._hashName){const t=this._hashName;let e=!1;const i=window.location.hash.slice(1).split("&").map((i=>{const n=i.split("=")[0];return n===t?(e=!0,`${n}=${c}`):i})).filter((t=>t));return e||i.push(`${t}=${c}`),`#${i.join("&")}`}return`#${c}`}}const hn={linearity:.3,easing:t.ba(0,0,.3,1)},un=t.e({deceleration:2500,maxSpeed:1400},hn),dn=t.e({deceleration:20,maxSpeed:1400},hn),pn=t.e({deceleration:1e3,maxSpeed:360},hn),fn=t.e({deceleration:1e3,maxSpeed:90},hn);class mn{constructor(t){this._map=t,this.clear()}clear(){this._inertiaBuffer=[]}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.h.now(),settings:e})}_drainInertiaBuffer(){const e=this._inertiaBuffer,i=t.h.now();for(;e.length>0&&i-e[0].time>160;)e.shift()}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const i={zoom:0,bearing:0,pitch:0,pan:new t.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:t}of this._inertiaBuffer)i.zoom+=t.zoomDelta||0,i.bearing+=t.bearingDelta||0,i.pitch+=t.pitchDelta||0,t.panDelta&&i.pan._add(t.panDelta),t.around&&(i.around=t.around),t.pinchAround&&(i.pinchAround=t.pinchAround);const n=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(i.pan.mag()){const s=yn(i.pan.mag(),n,t.e({},un,e||{}));r.offset=i.pan.mult(s.amount/i.pan.mag()),r.center=this._map.transform.center,gn(r,s)}if(i.zoom){const t=yn(i.zoom,n,dn);r.zoom=this._map.transform.zoom+t.amount,gn(r,t)}if(i.bearing){const e=yn(i.bearing,n,pn);r.bearing=this._map.transform.bearing+t.ad(e.amount,-179,179),gn(r,e)}if(i.pitch){const t=yn(i.pitch,n,fn);r.pitch=this._map.transform.pitch+t.amount,gn(r,t)}if(r.zoom||r.bearing){const t=void 0===i.pinchAround?i.around:i.pinchAround;r.around=t?this._map.unproject(t):this._map.getCenter()}return this.clear(),t.e(r,{noMoveStart:!0})}}function gn(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function yn(e,i,n){const{maxSpeed:r,linearity:s,deceleration:o}=n,a=t.ad(e*s/(i/1e3),-r,r),l=Math.abs(a)/(o*s);return{easing:n.easing,duration:1e3*l,amount:a*(l/2)}}class xn extends t.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,n,r,s={}){const o=i.mousePos(n.getCanvasContainer(),r),a=n.unproject(o);super(e,t.e({point:o,lngLat:a,originalEvent:r},s)),this._defaultPrevented=!1,this.target=n}}class vn extends t.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,n,r){const s="touchend"===e?r.changedTouches:r.touches,o=i.touchPos(n.getCanvasContainer(),s),a=o.map((t=>n.unproject(t))),l=o.reduce(((t,e,i,n)=>t.add(e.div(n.length))),new t.P(0,0));super(e,{points:o,point:l,lngLats:a,lngLat:n.unproject(l),originalEvent:r}),this._defaultPrevented=!1}}class bn extends t.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,e,i){super(t,{originalEvent:i}),this._defaultPrevented=!1}}class _n{constructor(t,e){this._map=t,this._clickTolerance=e.clickTolerance}reset(){delete this._mousedownPos}wheel(t){return this._firePreventable(new bn(t.type,this._map,t))}mousedown(t,e){return this._mousedownPos=e,this._firePreventable(new xn(t.type,this._map,t))}mouseup(t){this._map.fire(new xn(t.type,this._map,t))}click(t,e){this._mousedownPos&&this._mousedownPos.dist(e)>=this._clickTolerance||this._map.fire(new xn(t.type,this._map,t))}dblclick(t){return this._firePreventable(new xn(t.type,this._map,t))}mouseover(t){this._map.fire(new xn(t.type,this._map,t))}mouseout(t){this._map.fire(new xn(t.type,this._map,t))}touchstart(t){return this._firePreventable(new vn(t.type,this._map,t))}touchmove(t){this._map.fire(new vn(t.type,this._map,t))}touchend(t){this._map.fire(new vn(t.type,this._map,t))}touchcancel(t){this._map.fire(new vn(t.type,this._map,t))}_firePreventable(t){if(this._map.fire(t),t.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class wn{constructor(t){this._map=t}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(t){this._map.fire(new xn(t.type,this._map,t))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new xn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(t){this._delayContextMenu?this._contextMenuEvent=t:this._ignoreContextMenu||this._map.fire(new xn(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Sn{constructor(t){this._map=t}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(e){return this.transform.pointLocation(t.P.convert(e),this._map.terrain)}}class Cn{constructor(t,e){this._map=t,this._tr=new Sn(t),this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(t,e){this.isEnabled()&&t.shiftKey&&0===t.button&&(i.disableDrag(),this._startPos=this._lastPos=e,this._active=!0)}mousemoveWindow(t,e){if(!this._active)return;const n=e;if(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)return;const r=this._startPos;this._lastPos=n,this._box||(this._box=i.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",t));const s=Math.min(r.x,n.x),o=Math.max(r.x,n.x),a=Math.min(r.y,n.y),l=Math.max(r.y,n.y);i.setTransform(this._box,`translate(${s}px,${a}px)`),this._box.style.width=o-s+"px",this._box.style.height=l-a+"px"}mouseupWindow(e,n){if(!this._active)return;if(0!==e.button)return;const r=this._startPos,s=n;if(this.reset(),i.suppressClick(),r.x!==s.x||r.y!==s.y)return this._map.fire(new t.k("boxzoomend",{originalEvent:e})),{cameraAnimation:t=>t.fitScreenCoordinates(r,s,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",e)}keydown(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(i.remove(this._box),this._box=null),i.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e,i){return this._map.fire(new t.k(e,{originalEvent:i}))}}function Tn(t,e){if(t.length!==e.length)throw new Error(`The number of touches and points are not equal - touches ${t.length}, points ${e.length}`);const i={};for(let n=0;n<t.length;n++)i[t[n].identifier]=e[n];return i}class kn{constructor(t){this.reset(),this.numTouches=t.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e,i,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),n.length===this.numTouches&&(this.centroid=function(e){const i=new t.P(0,0);for(const t of e)i._add(t);return i.div(e.length)}(i),this.touches=Tn(n,i)))}touchmove(t,e,i){if(this.aborted||!this.centroid)return;const n=Tn(i,e);for(const r in this.touches){const t=n[r];(!t||t.dist(this.touches[r])>30)&&(this.aborted=!0)}}touchend(t,e,i){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===i.length){const t=!this.aborted&&this.centroid;if(this.reset(),t)return t}}}class An{constructor(t){this.singleTap=new kn(t),this.numTaps=t.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(t,e,i){this.singleTap.touchstart(t,e,i)}touchmove(t,e,i){this.singleTap.touchmove(t,e,i)}touchend(t,e,i){const n=this.singleTap.touchend(t,e,i);if(n){const e=t.timeStamp-this.lastTime<500,i=!this.lastTap||this.lastTap.dist(n)<30;if(e&&i||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}}}class In{constructor(t){this._tr=new Sn(t),this._zoomIn=new An({numTouches:1,numTaps:2}),this._zoomOut=new An({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(t,e,i){this._zoomIn.touchstart(t,e,i),this._zoomOut.touchstart(t,e,i)}touchmove(t,e,i){this._zoomIn.touchmove(t,e,i),this._zoomOut.touchmove(t,e,i)}touchend(t,e,i){const n=this._zoomIn.touchend(t,e,i),r=this._zoomOut.touchend(t,e,i),s=this._tr;return n?(this._active=!0,t.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:e=>e.easeTo({duration:300,zoom:s.zoom+1,around:s.unproject(n)},{originalEvent:t})}):r?(this._active=!0,t.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:e=>e.easeTo({duration:300,zoom:s.zoom-1,around:s.unproject(r)},{originalEvent:t})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Mn{constructor(t){this._enabled=!!t.enable,this._moveStateManager=t.moveStateManager,this._clickTolerance=t.clickTolerance||1,this._moveFunction=t.move,this._activateOnStart=!!t.activateOnStart,t.assignEvents(this),this.reset()}reset(t){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(t)}_move(...t){const e=this._moveFunction(...t);if(e.bearingDelta||e.pitchDelta||e.around||e.panDelta)return this._active=!0,e}dragStart(t,e){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(t)&&(this._moveStateManager.startMove(t),this._lastPoint=e.length?e[0]:e,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(t,e){if(!this.isEnabled())return;const i=this._lastPoint;if(!i)return;if(t.preventDefault(),!this._moveStateManager.isValidMoveEvent(t))return void this.reset(t);const n=e.length?e[0]:e;return!this._moved&&n.dist(i)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=n,this._move(i,n))}dragEnd(t){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(t)&&(this._moved&&i.suppressClick(),this.reset(t))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Pn={0:1,2:2};class En{constructor(t){this._correctEvent=t.checkCorrectEvent}startMove(t){const e=i.mouseButton(t);this._eventButton=e}endMove(t){delete this._eventButton}isValidStartEvent(t){return this._correctEvent(t)}isValidMoveEvent(t){return!function(t,e){const i=Pn[e];return void 0===t.buttons||(t.buttons&i)!==i}(t,this._eventButton)}isValidEndEvent(t){return i.mouseButton(t)===this._eventButton}}class Dn{constructor(){this._firstTouch=void 0}_isOneFingerTouch(t){return 1===t.targetTouches.length}_isSameTouchEvent(t){return t.targetTouches[0].identifier===this._firstTouch}startMove(t){this._firstTouch=t.targetTouches[0].identifier}endMove(t){delete this._firstTouch}isValidStartEvent(t){return this._isOneFingerTouch(t)}isValidMoveEvent(t){return this._isOneFingerTouch(t)&&this._isSameTouchEvent(t)}isValidEndEvent(t){return this._isOneFingerTouch(t)&&this._isSameTouchEvent(t)}}const Ln=t=>{t.mousedown=t.dragStart,t.mousemoveWindow=t.dragMove,t.mouseup=t.dragEnd,t.contextmenu=function(t){t.preventDefault()}},zn=({enable:t,clickTolerance:e,bearingDegreesPerPixelMoved:n=.8})=>{const r=new En({checkCorrectEvent:t=>0===i.mouseButton(t)&&t.ctrlKey||2===i.mouseButton(t)});return new Mn({clickTolerance:e,move:(t,e)=>({bearingDelta:(e.x-t.x)*n}),moveStateManager:r,enable:t,assignEvents:Ln})},On=({enable:t,clickTolerance:e,pitchDegreesPerPixelMoved:n=-.5})=>{const r=new En({checkCorrectEvent:t=>0===i.mouseButton(t)&&t.ctrlKey||2===i.mouseButton(t)});return new Mn({clickTolerance:e,move:(t,e)=>({pitchDelta:(e.y-t.y)*n}),moveStateManager:r,enable:t,assignEvents:Ln})};class Fn{constructor(t,e){this._minTouches=t.cooperativeGestures?2:1,this._clickTolerance=t.clickTolerance||1,this._map=e,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new t.P(0,0),setTimeout((()=>{this._cancelCooperativeMessage=!1}),200)}touchstart(t,e,i){return this._calculateTransform(t,e,i)}touchmove(t,e,i){if(this._map._cooperativeGestures&&(2===this._minTouches&&i.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(t,!1,i.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(i.length<this._minTouches))return t.preventDefault(),this._calculateTransform(t,e,i)}touchend(t,e,i){this._calculateTransform(t,e,i),this._active&&i.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e,i,n){n.length>0&&(this._active=!0);const r=Tn(n,i),s=new t.P(0,0),o=new t.P(0,0);let a=0;for(const t in r){const e=r[t],i=this._touches[t];i&&(s._add(e),o._add(e.sub(i)),a++,r[t]=e)}if(this._touches=r,a<this._minTouches||!o.mag())return;const l=o.div(a);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:s.div(a),panDelta:l}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Rn{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(t,e,i){this._firstTwoTouches||i.length<2||(this._firstTwoTouches=[i[0].identifier,i[1].identifier],this._start([e[0],e[1]]))}touchmove(t,e,i){if(!this._firstTwoTouches)return;t.preventDefault();const[n,r]=this._firstTwoTouches,s=Bn(i,e,n),o=Bn(i,e,r);if(!s||!o)return;const a=this._aroundCenter?null:s.add(o).div(2);return this._move([s,o],a,t)}touchend(t,e,n){if(!this._firstTwoTouches)return;const[r,s]=this._firstTwoTouches,o=Bn(n,e,r),a=Bn(n,e,s);o&&a||(this._active&&i.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Bn(t,e,i){for(let n=0;n<t.length;n++)if(t[n].identifier===i)return e[n]}function Nn(t,e){return Math.log(t/e)/Math.LN2}class jn extends Rn{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(t){this._startDistance=this._distance=t[0].dist(t[1])}_move(t,e){const i=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(Nn(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Nn(this._distance,i),pinchAround:e}}}function Un(t,e){return 180*t.angleWith(e)/Math.PI}class Vn extends Rn{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])}_move(t,e){const i=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Un(this._vector,i),pinchAround:e}}_isBelowThreshold(t){this._minDiameter=Math.min(this._minDiameter,t.mag());const e=25/(Math.PI*this._minDiameter)*360,i=Un(t,this._startVector);return Math.abs(i)<e}}function $n(t){return Math.abs(t.y)>Math.abs(t.x)}class Hn extends Rn{constructor(t){super(),this._map=t}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(t,e,i){super.touchstart(t,e,i),this._currentTouchCount=i.length}_start(t){this._lastPoints=t,$n(t[0].sub(t[1]))&&(this._valid=!1)}_move(t,e,i){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const n=t[0].sub(this._lastPoints[0]),r=t[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(n,r,i.timeStamp),this._valid?(this._lastPoints=t,this._active=!0,{pitchDelta:(n.y+r.y)/2*-.5}):void 0}gestureBeginsVertically(t,e,i){if(void 0!==this._valid)return this._valid;const n=t.mag()>=2,r=e.mag()>=2;if(!n&&!r)return;if(!n||!r)return void 0===this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;const s=t.y>0==e.y>0;return $n(t)&&$n(e)&&s}}const qn={panStep:100,bearingStep:15,pitchStep:10};class Gn{constructor(t){this._tr=new Sn(t);const e=qn;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(t){if(t.altKey||t.ctrlKey||t.metaKey)return;let e=0,i=0,n=0,r=0,s=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),r=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),r=1);break;case 38:t.shiftKey?n=1:(t.preventDefault(),s=-1);break;case 40:t.shiftKey?n=-1:(t.preventDefault(),s=1);break;default:return}return this._rotationDisabled&&(i=0,n=0),{cameraAnimation:o=>{const a=this._tr;o.easeTo({duration:300,easeId:"keyboardHandler",easing:Wn,zoom:e?Math.round(a.zoom)+e*(t.shiftKey?2:1):a.zoom,bearing:a.bearing+i*this._bearingStep,pitch:a.pitch+n*this._pitchStep,offset:[-r*this._panStep,-s*this._panStep],center:a.center},{originalEvent:t})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Wn(t){return t*(2-t)}const Xn=4.000244140625;class Yn{constructor(t,e){this._onTimeout=t=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)},this._map=t,this._tr=new Sn(t),this._el=t.getCanvasContainer(),this._triggerRenderFrame=e,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(t){this._defaultZoomRate=t}setWheelZoomRate(t){this._wheelZoomRate=t}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(e){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!e[this._map._metaKey])return;e.preventDefault()}let i=e.deltaMode===WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY;const n=t.h.now(),r=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==i&&i%Xn==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(r*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this._active||this._start(e)),e.preventDefault()}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const n=i.mousePos(this._el,e),r=this._tr;this._around=t.L.convert(this._aroundCenter?r.center:r.unproject(n)),this._aroundPoint=r.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const e=this._tr.transform;if(0!==this._delta){const t="wheel"===this._type&&Math.abs(this._delta)>Xn?this._wheelZoomRate:this._defaultZoomRate;let i=2/(1+Math.exp(-Math.abs(this._delta*t)));this._delta<0&&0!==i&&(i=1/i);const n="number"==typeof this._targetZoom?e.zoomScale(this._targetZoom):e.scale;this._targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,e.scaleZoom(n*i))),"wheel"===this._type&&(this._startZoom=e.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const i="number"==typeof this._targetZoom?this._targetZoom:e.zoom,n=this._startZoom,r=this._easing;let s,o=!1;if("wheel"===this._type&&n&&r){const e=Math.min((t.h.now()-this._lastWheelEventTime)/200,1),a=r(e);s=t.B.number(n,i,a),e<1?this._frameId||(this._frameId=!0):o=!0}else s=i,o=!0;return this._active=!0,o&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!o,zoomDelta:s-e.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let i=t.bb;if(this._prevEase){const e=this._prevEase,n=(t.h.now()-e.start)/e.duration,r=e.easing(n+.01)-e.easing(n),s=.27/Math.sqrt(r*r+1e-4)*.01,o=Math.sqrt(.0729-s*s);i=t.ba(s,o,.25,1)}return this._prevEase={start:t.h.now(),duration:e,easing:i},i}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Zn{constructor(t,e){this._clickZoom=t,this._tapZoom=e}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Kn{constructor(t){this._tr=new Sn(t),this.reset()}reset(){this._active=!1}dblclick(t,e){return t.preventDefault(),{cameraAnimation:i=>{i.easeTo({duration:300,zoom:this._tr.zoom+(t.shiftKey?-1:1),around:this._tr.unproject(e)},{originalEvent:t})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Jn{constructor(){this._tap=new An({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(t,e,i){if(!this._swipePoint)if(this._tapTime){const n=e[0],r=t.timeStamp-this._tapTime<500,s=this._tapPoint.dist(n)<30;r&&s?i.length>0&&(this._swipePoint=n,this._swipeTouch=i[0].identifier):this.reset()}else this._tap.touchstart(t,e,i)}touchmove(t,e,i){if(this._tapTime){if(this._swipePoint){if(i[0].identifier!==this._swipeTouch)return;const n=e[0],r=n.y-this._swipePoint.y;return this._swipePoint=n,t.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(t,e,i)}touchend(t,e,i){if(this._tapTime)this._swipePoint&&0===i.length&&this.reset();else{const n=this._tap.touchend(t,e,i);n&&(this._tapTime=t.timeStamp,this._tapPoint=n)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Qn{constructor(t,e,i){this._el=t,this._mousePan=e,this._touchPan=i}enable(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class tr{constructor(t,e,i){this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=e,this._mousePitch=i}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class er{constructor(t,e,i,n){this._el=t,this._touchZoom=e,this._touchRotate=i,this._tapDragZoom=n,this._rotationDisabled=!1,this._enabled=!0}enable(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const ir=t=>t.zoom||t.drag||t.pitch||t.rotate;class nr extends t.k{}function rr(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}class sr{constructor(t,e){this.handleWindowEvent=t=>{this.handleEvent(t,`${t.type}Window`)},this.handleEvent=(t,e)=>{if("blur"===t.type)return void this.stop(!0);this._updatingCamera=!0;const n="renderFrame"===t.type?void 0:t,r={needsRenderFrame:!1},s={},o={},a=t.touches,l=a?this._getMapTouches(a):void 0,c=l?i.touchPos(this._el,l):i.mousePos(this._el,t);for(const{handlerName:i,handler:d,allowed:p}of this._handlers){if(!d.isEnabled())continue;let a;this._blockedByActive(o,p,i)?d.reset():d[e||t.type]&&(a=d[e||t.type](t,c,l),this.mergeHandlerResult(r,s,a,i,n),a&&a.needsRenderFrame&&this._triggerRenderFrame()),(a||d.isActive())&&(o[i]=d)}const h={};for(const i in this._previousActiveHandlers)o[i]||(h[i]=n);this._previousActiveHandlers=o,(Object.keys(h).length||rr(r))&&(this._changes.push([r,s,h]),this._triggerRenderFrame()),(Object.keys(o).length||rr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:u}=r;u&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],u(this._map))},this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new mn(t),this._bearingSnap=e.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(e);const n=this._el;this._listeners=[[n,"touchstart",{passive:!0}],[n,"touchmove",{passive:!1}],[n,"touchend",void 0],[n,"touchcancel",void 0],[n,"mousedown",void 0],[n,"mousemove",void 0],[n,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[n,"mouseover",void 0],[n,"mouseout",void 0],[n,"dblclick",void 0],[n,"click",void 0],[n,"keydown",{capture:!1}],[n,"keyup",void 0],[n,"wheel",{passive:!1}],[n,"contextmenu",void 0],[window,"blur",void 0]];for(const[r,s,o]of this._listeners)i.addEventListener(r,s,r===document?this.handleWindowEvent:this.handleEvent,o)}destroy(){for(const[t,e,n]of this._listeners)i.removeEventListener(t,e,t===document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(t){const e=this._map,n=e.getCanvasContainer();this._add("mapEvent",new _n(e,t));const r=e.boxZoom=new Cn(e,t);this._add("boxZoom",r),t.interactive&&t.boxZoom&&r.enable();const s=new In(e),o=new Kn(e);e.doubleClickZoom=new Zn(o,s),this._add("tapZoom",s),this._add("clickZoom",o),t.interactive&&t.doubleClickZoom&&e.doubleClickZoom.enable();const a=new Jn;this._add("tapDragZoom",a);const l=e.touchPitch=new Hn(e);this._add("touchPitch",l),t.interactive&&t.touchPitch&&e.touchPitch.enable(t.touchPitch);const c=zn(t),h=On(t);e.dragRotate=new tr(t,c,h),this._add("mouseRotate",c,["mousePitch"]),this._add("mousePitch",h,["mouseRotate"]),t.interactive&&t.dragRotate&&e.dragRotate.enable();const u=(({enable:t,clickTolerance:e})=>{const n=new En({checkCorrectEvent:t=>0===i.mouseButton(t)&&!t.ctrlKey});return new Mn({clickTolerance:e,move:(t,e)=>({around:e,panDelta:e.sub(t)}),activateOnStart:!0,moveStateManager:n,enable:t,assignEvents:Ln})})(t),d=new Fn(t,e);e.dragPan=new Qn(n,u,d),this._add("mousePan",u),this._add("touchPan",d,["touchZoom","touchRotate"]),t.interactive&&t.dragPan&&e.dragPan.enable(t.dragPan);const p=new Vn,f=new jn;e.touchZoomRotate=new er(n,f,p,a),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",f,["touchPan","touchRotate"]),t.interactive&&t.touchZoomRotate&&e.touchZoomRotate.enable(t.touchZoomRotate);const m=e.scrollZoom=new Yn(e,(()=>this._triggerRenderFrame()));this._add("scrollZoom",m,["mousePan"]),t.interactive&&t.scrollZoom&&e.scrollZoom.enable(t.scrollZoom);const g=e.keyboard=new Gn(e);this._add("keyboard",g),t.interactive&&t.keyboard&&e.keyboard.enable(),this._add("blockableMapEvent",new wn(e))}_add(t,e,i){this._handlers.push({handlerName:t,handler:e,allowed:i}),this._handlersById[t]=e}stop(t){if(!this._updatingCamera){for(const{handler:t}of this._handlers)t.reset();this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}}isActive(){for(const{handler:t}of this._handlers)if(t.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(ir(this._eventsInProgress))||this.isZooming()}_blockedByActive(t,e,i){for(const n in t)if(n!==i&&(!e||e.indexOf(n)<0))return!0;return!1}_getMapTouches(t){const e=[];for(const i of t)this._el.contains(i.target)&&e.push(i);return e}mergeHandlerResult(e,i,n,r,s){if(!n)return;t.e(e,n);const o={handlerName:r,originalEvent:n.originalEvent||s};void 0!==n.zoomDelta&&(i.zoom=o),void 0!==n.panDelta&&(i.drag=o),void 0!==n.pitchDelta&&(i.pitch=o),void 0!==n.bearingDelta&&(i.rotate=o)}_applyChanges(){const e={},i={},n={};for(const[r,s,o]of this._changes)r.panDelta&&(e.panDelta=(e.panDelta||new t.P(0,0))._add(r.panDelta)),r.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(e.around=r.around),void 0!==r.pinchAround&&(e.pinchAround=r.pinchAround),r.noInertia&&(e.noInertia=r.noInertia),t.e(i,s),t.e(n,o);this._updateMapTransform(e,i,n),this._changes=[]}_updateMapTransform(t,e,i){const n=this._map,r=n._getTransformForUpdate(),s=n.terrain;if(!(rr(t)||s&&this._terrainMovement))return this._fireEvents(e,i,!0);let{panDelta:o,zoomDelta:a,bearingDelta:l,pitchDelta:c,around:h,pinchAround:u}=t;void 0!==u&&(h=u),n._stop(!0),h=h||n.transform.centerPoint;const d=r.pointLocation(o?h.sub(o):h);l&&(r.bearing+=l),c&&(r.pitch+=c),a&&(r.zoom+=a),s?this._terrainMovement||!e.drag&&!e.zoom?e.drag&&this._terrainMovement?r.center=r.pointLocation(r.centerPoint.sub(o)):r.setLocationAtPoint(d,h):(this._terrainMovement=!0,this._map._elevationFreeze=!0,r.setLocationAtPoint(d,h),this._map.once("moveend",(()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,r.recalculateZoom(n.terrain)}))):r.setLocationAtPoint(d,h),n._applyUpdatedTransform(r),this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(e,i,!0)}_fireEvents(e,i,n){const r=ir(this._eventsInProgress),s=ir(e),o={};for(const t in e){const{originalEvent:i}=e[t];this._eventsInProgress[t]||(o[`${t}start`]=i),this._eventsInProgress[t]=e[t]}!r&&s&&this._fireEvent("movestart",s.originalEvent);for(const t in o)this._fireEvent(t,o[t]);s&&this._fireEvent("move",s.originalEvent);for(const t in e){const{originalEvent:i}=e[t];this._fireEvent(t,i)}const a={};let l;for(const t in this._eventsInProgress){const{handlerName:e,originalEvent:n}=this._eventsInProgress[t];this._handlersById[e].isActive()||(delete this._eventsInProgress[t],l=i[e]||n,a[`${t}end`]=l)}for(const t in a)this._fireEvent(t,a[t]);const c=ir(this._eventsInProgress);if(n&&(r||s)&&!c){this._updatingCamera=!0;const e=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),i=t=>0!==t&&-this._bearingSnap<t&&t<this._bearingSnap;!e||!e.essential&&t.h.prefersReducedMotion?(this._map.fire(new t.k("moveend",{originalEvent:l})),i(this._map.getBearing())&&this._map.resetNorth()):(i(e.bearing||this._map.getBearing())&&(e.bearing=0),e.freezeElevation=!0,this._map.easeTo(e,{originalEvent:l})),this._updatingCamera=!1}}_fireEvent(e,i){this._map.fire(new t.k(e,i?{originalEvent:i}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((t=>{delete this._frameId,this.handleEvent(new nr("renderFrame",{timeStamp:t})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class or extends t.E{constructor(e,i){super(),this._renderFrameCallback=()=>{const e=Math.min((t.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=i.bearingSnap,this.on("moveend",(()=>{delete this._requestedCameraState}))}getCenter(){return new t.L(this.transform.center.lng,this.transform.center.lat)}setCenter(t,e){return this.jumpTo({center:t},e)}panBy(e,i,n){return e=t.P.convert(e).mult(-1),this.panTo(this.transform.center,t.e({offset:e},i),n)}panTo(e,i,n){return this.easeTo(t.e({center:e},i),n)}getZoom(){return this.transform.zoom}setZoom(t,e){return this.jumpTo({zoom:t},e),this}zoomTo(e,i,n){return this.easeTo(t.e({zoom:e},i),n)}zoomIn(t,e){return this.zoomTo(this.getZoom()+1,t,e),this}zoomOut(t,e){return this.zoomTo(this.getZoom()-1,t,e),this}getBearing(){return this.transform.bearing}setBearing(t,e){return this.jumpTo({bearing:t},e),this}getPadding(){return this.transform.padding}setPadding(t,e){return this.jumpTo({padding:t},e),this}rotateTo(e,i,n){return this.easeTo(t.e({bearing:e},i),n)}resetNorth(e,i){return this.rotateTo(0,t.e({duration:1e3},e),i),this}resetNorthPitch(e,i){return this.easeTo(t.e({bearing:0,pitch:0,duration:1e3},e),i),this}snapToNorth(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this}getPitch(){return this.transform.pitch}setPitch(t,e){return this.jumpTo({pitch:t},e),this}cameraForBounds(t,e){t=D.convert(t);const i=e&&e.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),i,e)}_cameraForBoxAndBearing(e,i,n,r){const s={top:0,bottom:0,right:0,left:0};if("number"==typeof(r=t.e({padding:s,offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){const t=r.padding;r.padding={top:t,bottom:t,right:t,left:t}}r.padding=t.e(s,r.padding);const o=this.transform,a=o.padding,l=o.project(t.L.convert(e)),c=o.project(t.L.convert(i)),h=l.rotate(-n*Math.PI/180),u=c.rotate(-n*Math.PI/180),d=new t.P(Math.max(h.x,u.x),Math.max(h.y,u.y)),p=new t.P(Math.min(h.x,u.x),Math.min(h.y,u.y)),f=d.sub(p),m=(o.width-(a.left+a.right+r.padding.left+r.padding.right))/f.x,g=(o.height-(a.top+a.bottom+r.padding.top+r.padding.bottom))/f.y;if(g<0||m<0)return void t.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const y=Math.min(o.scaleZoom(o.scale*Math.min(m,g)),r.maxZoom),x=t.P.convert(r.offset),v=new t.P((r.padding.left-r.padding.right)/2,(r.padding.top-r.padding.bottom)/2).rotate(n*Math.PI/180),b=x.add(v).mult(o.scale/o.zoomScale(y));return{center:o.unproject(l.add(c).div(2).sub(b)),zoom:y,bearing:n}}fitBounds(t,e,i){return this._fitInternal(this.cameraForBounds(t,e),e,i)}fitScreenCoordinates(e,i,n,r,s){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.P.convert(e)),this.transform.pointLocation(t.P.convert(i)),n,r),r,s)}_fitInternal(e,i,n){return e?(delete(i=t.e(e,i)).padding,i.linear?this.easeTo(i,n):this.flyTo(i,n)):this}jumpTo(e,i){this.stop();const n=this._getTransformForUpdate();let r=!1,s=!1,o=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(r=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=t.L.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(s=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(o=!0,n.pitch=+e.pitch),null==e.padding||n.isPaddingEqual(e.padding)||(n.padding=e.padding),this._applyUpdatedTransform(n),this.fire(new t.k("movestart",i)).fire(new t.k("move",i)),r&&this.fire(new t.k("zoomstart",i)).fire(new t.k("zoom",i)).fire(new t.k("zoomend",i)),s&&this.fire(new t.k("rotatestart",i)).fire(new t.k("rotate",i)).fire(new t.k("rotateend",i)),o&&this.fire(new t.k("pitchstart",i)).fire(new t.k("pitch",i)).fire(new t.k("pitchend",i)),this.fire(new t.k("moveend",i))}calculateCameraOptionsFromTo(e,i,n,r=0){const s=t.U.fromLngLat(e,i),o=t.U.fromLngLat(n,r),a=o.x-s.x,l=o.y-s.y,c=o.z-s.z,h=Math.hypot(a,l,c);if(0===h)throw new Error("Can't calculate camera options with same From and To");const u=Math.hypot(a,l),d=this.transform.scaleZoom(this.transform.cameraToCenterDistance/h/this.transform.tileSize),p=180*Math.atan2(a,-l)/Math.PI;let f=180*Math.acos(u/h)/Math.PI;return f=c<0?90-f:90+f,{center:o.toLngLat(),zoom:d,pitch:f,bearing:p}}easeTo(e,i){this._stop(!1,e.easeId),(!1===(e=t.e({offset:[0,0],duration:500,easing:t.bb},e)).animate||!e.essential&&t.h.prefersReducedMotion)&&(e.duration=0);const n=this._getTransformForUpdate(),r=this.getZoom(),s=this.getBearing(),o=this.getPitch(),a=this.getPadding(),l="zoom"in e?+e.zoom:r,c="bearing"in e?this._normalizeBearing(e.bearing,s):s,h="pitch"in e?+e.pitch:o,u="padding"in e?e.padding:n.padding,d=t.P.convert(e.offset);let p=n.centerPoint.add(d);const f=n.pointLocation(p),m=t.L.convert(e.center||f);this._normalizeCenter(m);const g=n.project(f),y=n.project(m).sub(g),x=n.zoomScale(l-r);let v,b;e.around&&(v=t.L.convert(e.around),b=n.locationPoint(v));const _={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==r,this._rotating=this._rotating||s!==c,this._pitching=this._pitching||h!==o,this._padding=!n.isPaddingEqual(u),this._easeId=e.easeId,this._prepareEase(i,e.noMoveStart,_),this.terrain&&this._prepareElevation(m),this._ease((f=>{if(this._zooming&&(n.zoom=t.B.number(r,l,f)),this._rotating&&(n.bearing=t.B.number(s,c,f)),this._pitching&&(n.pitch=t.B.number(o,h,f)),this._padding&&(n.interpolatePadding(a,u,f),p=n.centerPoint.add(d)),this.terrain&&!e.freezeElevation&&this._updateElevation(f),v)n.setLocationAtPoint(v,b);else{const t=n.zoomScale(n.zoom-r),e=l>r?Math.min(2,x):Math.max(.5,x),i=Math.pow(e,1-f),s=n.unproject(g.add(y.mult(f*i)).mult(t));n.setLocationAtPoint(n.renderWorldCopies?s.wrap():s,p)}this._applyUpdatedTransform(n),this._fireMoveEvents(i)}),(t=>{this.terrain&&this._finalizeElevation(),this._afterEase(i,t)}),e),this}_prepareEase(e,i,n={}){this._moving=!0,i||n.moving||this.fire(new t.k("movestart",e)),this._zooming&&!n.zooming&&this.fire(new t.k("zoomstart",e)),this._rotating&&!n.rotating&&this.fire(new t.k("rotatestart",e)),this._pitching&&!n.pitching&&this.fire(new t.k("pitchstart",e))}_prepareElevation(t){this._elevationCenter=t,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(t,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(e){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const i=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(e<1&&i!==this._elevationTarget){const t=this._elevationTarget-this._elevationStart;this._elevationStart+=e*(t-(i-(t*e+this._elevationStart))/(1-e)),this._elevationTarget=i}this.transform.elevation=t.B.number(this._elevationStart,this._elevationTarget,e)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(t){if(!this.transformCameraUpdate)return;const e=t.clone(),{center:i,zoom:n,pitch:r,bearing:s,elevation:o}=this.transformCameraUpdate(e);i&&(e.center=i),void 0!==n&&(e.zoom=n),void 0!==r&&(e.pitch=r),void 0!==s&&(e.bearing=s),void 0!==o&&(e.elevation=o),this.transform.apply(e)}_fireMoveEvents(e){this.fire(new t.k("move",e)),this._zooming&&this.fire(new t.k("zoom",e)),this._rotating&&this.fire(new t.k("rotate",e)),this._pitching&&this.fire(new t.k("pitch",e))}_afterEase(e,i){if(this._easeId&&i&&this._easeId===i)return;delete this._easeId;const n=this._zooming,r=this._rotating,s=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new t.k("zoomend",e)),r&&this.fire(new t.k("rotateend",e)),s&&this.fire(new t.k("pitchend",e)),this.fire(new t.k("moveend",e))}flyTo(e,i){if(!e.essential&&t.h.prefersReducedMotion){const n=t.F(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(n,i)}this.stop(),e=t.e({offset:[0,0],speed:1.2,curve:1.42,easing:t.bb},e);const n=this._getTransformForUpdate(),r=this.getZoom(),s=this.getBearing(),o=this.getPitch(),a=this.getPadding(),l="zoom"in e?t.ad(+e.zoom,n.minZoom,n.maxZoom):r,c="bearing"in e?this._normalizeBearing(e.bearing,s):s,h="pitch"in e?+e.pitch:o,u="padding"in e?e.padding:n.padding,d=n.zoomScale(l-r),p=t.P.convert(e.offset);let f=n.centerPoint.add(p);const m=n.pointLocation(f),g=t.L.convert(e.center||m);this._normalizeCenter(g);const y=n.project(m),x=n.project(g).sub(y);let v=e.curve;const b=Math.max(n.width,n.height),_=b/d,w=x.mag();if("minZoom"in e){const i=t.ad(Math.min(e.minZoom,r,l),n.minZoom,n.maxZoom),s=b/n.zoomScale(i-r);v=Math.sqrt(s/w*2)}const S=v*v;function C(t){const e=(_*_-b*b+(t?-1:1)*S*S*w*w)/(2*(t?_:b)*S*w);return Math.log(Math.sqrt(e*e+1)-e)}function T(t){return(Math.exp(t)-Math.exp(-t))/2}function k(t){return(Math.exp(t)+Math.exp(-t))/2}const A=C(!1);let I=function(t){return k(A)/k(A+v*t)},M=function(t){return b*((k(A)*(T(e=A+v*t)/k(e))-T(A))/S)/w;var e},P=(C(!0)-A)/v;if(Math.abs(w)<1e-6||!isFinite(P)){if(Math.abs(b-_)<1e-6)return this.easeTo(e,i);const t=_<b?-1:1;P=Math.abs(Math.log(_/b))/v,M=function(){return 0},I=function(e){return Math.exp(t*v*e)}}return e.duration="duration"in e?+e.duration:1e3*P/("screenSpeed"in e?+e.screenSpeed/v:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==c,this._pitching=h!==o,this._padding=!n.isPaddingEqual(u),this._prepareEase(i,!1),this.terrain&&this._prepareElevation(g),this._ease((d=>{const m=d*P,v=1/I(m);n.zoom=1===d?l:r+n.scaleZoom(v),this._rotating&&(n.bearing=t.B.number(s,c,d)),this._pitching&&(n.pitch=t.B.number(o,h,d)),this._padding&&(n.interpolatePadding(a,u,d),f=n.centerPoint.add(p)),this.terrain&&!e.freezeElevation&&this._updateElevation(d);const b=1===d?g:n.unproject(y.add(x.mult(M(m))).mult(v));n.setLocationAtPoint(n.renderWorldCopies?b.wrap():b,f),this._applyUpdatedTransform(n),this._fireMoveEvents(i)}),(()=>{this.terrain&&this._finalizeElevation(),this._afterEase(i)}),e),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(t,e){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const t=this._onEaseEnd;delete this._onEaseEnd,t.call(this,e)}if(!t){const t=this.handlers;t&&t.stop(!1)}return this}_ease(e,i,n){!1===n.animate||0===n.duration?(e(1),i()):(this._easeStart=t.h.now(),this._easeOptions=n,this._onEaseFrame=e,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(e,i){e=t.b5(e,-180,180);const n=Math.abs(e-i);return Math.abs(e-360-i)<n&&(e-=360),Math.abs(e+360-i)<n&&(e+=360),e}_normalizeCenter(t){const e=this.transform;if(!e.renderWorldCopies||e.lngRange)return;const i=t.lng-e.center.lng;t.lng+=i>180?-360:i<-180?360:0}queryTerrainElevation(e){return this.terrain?this.terrain.getElevationForLngLatZoom(t.L.convert(e),this.transform.tileZoom)-this.transform.elevation:null}}class ar{constructor(t={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=t=>{!t||"metadata"!==t.sourceDataType&&"visibility"!==t.sourceDataType&&"style"!==t.dataType&&"terrain"!==t.type||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=t}getDefaultPosition(){return"bottom-right"}onAdd(t){return this._map=t,this._compact=this.options&&this.options.compact,this._container=i.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=i.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=i.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){i.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(t,e){const i=this._map._getUIString(`AttributionControl.${e}`);t.title=i,t.setAttribute("aria-label",i)}_updateAttributions(){if(!this._map.style)return;let t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((t=>"string"!=typeof t?"":t))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){const t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}const e=this._map.style.sourceCaches;for(const n in e){const i=e[n];if(i.used||i.usedForTerrain){const e=i.getSource();e.attribution&&t.indexOf(e.attribution)<0&&t.push(e.attribution)}}t=t.filter((t=>String(t).trim())),t.sort(((t,e)=>t.length-e.length)),t=t.filter(((e,i)=>{for(let n=i+1;n<t.length;n++)if(t[n].indexOf(e)>=0)return!1;return!0}));const i=t.join(" | ");i!==this._attribHTML&&(this._attribHTML=i,t.length?(this._innerContainer.innerHTML=i,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class lr{constructor(t={}){this._updateCompact=()=>{const t=this._container.children;if(t.length){const e=t[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&e.classList.add("maplibregl-compact"):e.classList.remove("maplibregl-compact")}},this.options=t}getDefaultPosition(){return"bottom-left"}onAdd(t){this._map=t,this._compact=this.options&&this.options.compact,this._container=i.create("div","maplibregl-ctrl");const e=i.create("a","maplibregl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://maplibre.org/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){i.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class cr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(t){const e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e}remove(t){const e=this._currentlyRunning,i=e?this._queue.concat(e):this._queue;for(const n of i)if(n.id===t)return void(n.cancelled=!0)}run(t=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const e=this._currentlyRunning=this._queue;this._queue=[];for(const i of e)if(!i.cancelled&&(i.callback(t),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const hr={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var ur=t.Q([{name:"a_pos3d",type:"Int16",components:3}]);class dr extends t.E{constructor(t){super(),this.sourceCache=t,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,t.usedForTerrain=!0,t.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(e,i){this.sourceCache.update(e,i),this._renderableTilesKeys=[];const n={};for(const r of e.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:i}))n[r.key]=!0,this._renderableTilesKeys.push(r.key),this._tiles[r.key]||(r.posMatrix=new Float64Array(16),t.aS(r.posMatrix,0,t.N,0,t.N,0,1),this._tiles[r.key]=new W(r,this.tileSize));for(const t in this._tiles)n[t]||delete this._tiles[t]}freeRtt(t){for(const e in this._tiles){const i=this._tiles[e];(!t||i.tileID.equals(t)||i.tileID.isChildOf(t)||t.isChildOf(i.tileID))&&(i.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((t=>this.getTileByID(t)))}getTileByID(t){return this._tiles[t]}getTerrainCoords(e){const i={};for(const n of this._renderableTilesKeys){const r=this._tiles[n].tileID;if(r.canonical.equals(e.canonical)){const r=e.clone();r.posMatrix=new Float64Array(16),t.aS(r.posMatrix,0,t.N,0,t.N,0,1),i[n]=r}else if(r.canonical.isChildOf(e.canonical)){const s=e.clone();s.posMatrix=new Float64Array(16);const o=r.canonical.z-e.canonical.z,a=r.canonical.x-(r.canonical.x>>o<<o),l=r.canonical.y-(r.canonical.y>>o<<o),c=t.N>>o;t.aS(s.posMatrix,0,c,0,c,0,1),t.$(s.posMatrix,s.posMatrix,[-a*c,-l*c,0]),i[n]=s}else if(e.canonical.isChildOf(r.canonical)){const s=e.clone();s.posMatrix=new Float64Array(16);const o=e.canonical.z-r.canonical.z,a=e.canonical.x-(e.canonical.x>>o<<o),l=e.canonical.y-(e.canonical.y>>o<<o),c=t.N>>o;t.aS(s.posMatrix,0,t.N,0,t.N,0,1),t.$(s.posMatrix,s.posMatrix,[a*c,l*c,0]),t.a0(s.posMatrix,s.posMatrix,[1/2**o,1/2**o,0]),i[n]=s}}return i}getSourceTile(t,e){const i=this.sourceCache._source;let n=t.overscaledZ-this.deltaZoom;if(n>i.maxzoom&&(n=i.maxzoom),n<i.minzoom)return null;this._sourceTileCache[t.key]||(this._sourceTileCache[t.key]=t.scaledTo(n).key);let r=this.sourceCache.getTileByID(this._sourceTileCache[t.key]);if((!r||!r.dem)&&e)for(;n>=i.minzoom&&(!r||!r.dem);)r=this.sourceCache.getTileByID(t.scaledTo(n--).key);return r}tilesAfterTime(t=Date.now()){return Object.values(this._tiles).filter((e=>e.timeAdded>=t))}}class pr{constructor(t,e,i){this.painter=t,this.sourceCache=new dr(e),this.options=i,this.exaggeration="number"==typeof i.exaggeration?i.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(e,i,n,r=t.N){var s;if(!(i>=0&&i<r&&n>=0&&n<r))return 0;const o=this.getTerrainData(e),a=null===(s=o.tile)||void 0===s?void 0:s.dem;if(!a)return 0;const l=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t}([],[i/r*t.N,n/r*t.N],o.u_terrain_matrix),c=[l[0]*a.dim,l[1]*a.dim],h=Math.floor(c[0]),u=Math.floor(c[1]),d=c[0]-h,p=c[1]-u;return a.get(h,u)*(1-d)*(1-p)+a.get(h+1,u)*d*(1-p)+a.get(h,u+1)*(1-d)*p+a.get(h+1,u+1)*d*p}getElevationForLngLatZoom(e,i){const{tileID:n,mercatorX:r,mercatorY:s}=this._getOverscaledTileIDFromLngLatZoom(e,i);return this.getElevation(n,r%t.N,s%t.N,t.N)}getElevation(e,i,n,r=t.N){return this.getDEMElevation(e,i,n,r)*this.exaggeration}getTerrainData(e){if(!this._emptyDemTexture){const e=this.painter.context,i=new t.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new v(e,i,e.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new v(e,new t.R({width:1,height:1}),e.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=t.ao([])}const i=this.sourceCache.getSourceTile(e,!0);if(i&&i.dem&&(!i.demTexture||i.needsTerrainPrepare)){const t=this.painter.context;i.demTexture=this.painter.getTileTexture(i.dem.stride),i.demTexture?i.demTexture.update(i.dem.getPixels(),{premultiply:!1}):i.demTexture=new v(t,i.dem.getPixels(),t.gl.RGBA,{premultiply:!1}),i.demTexture.bind(t.gl.NEAREST,t.gl.CLAMP_TO_EDGE),i.needsTerrainPrepare=!1}const n=i&&i+i.tileID.key+e.key;if(n&&!this._demMatrixCache[n]){const n=this.sourceCache.sourceCache._source.maxzoom;let r=e.canonical.z-i.tileID.canonical.z;e.overscaledZ>e.canonical.z&&(e.canonical.z>=n?r=e.canonical.z-n:t.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const s=e.canonical.x-(e.canonical.x>>r<<r),o=e.canonical.y-(e.canonical.y>>r<<r),a=t.bc(new Float64Array(16),[1/(t.N<<r),1/(t.N<<r),0]);t.$(a,a,[s*t.N,o*t.N,0]),this._demMatrixCache[e.key]={matrix:a,coord:e}}return{u_depth:2,u_terrain:3,u_terrain_dim:i&&i.dem&&i.dem.dim||1,u_terrain_matrix:n?this._demMatrixCache[e.key].matrix:this._emptyDemMatrix,u_terrain_unpack:i&&i.dem&&i.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(i&&i.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:i}}getFramebuffer(t){const e=this.painter,i=e.width/devicePixelRatio,n=e.height/devicePixelRatio;return!this._fbo||this._fbo.width===i&&this._fbo.height===n||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new v(e.context,{width:i,height:n,data:null},e.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(e.context.gl.NEAREST,e.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new v(e.context,{width:i,height:n,data:null},e.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(e.context.gl.NEAREST,e.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=e.context.createFramebuffer(i,n,!0,!1),this._fbo.depthAttachment.set(e.context.createRenderbuffer(e.context.gl.DEPTH_COMPONENT16,i,n))),this._fbo.colorAttachment.set("coords"===t?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const e=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const i=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let t=0,s=0;t<this._coordsTextureSize;t++)for(let e=0;e<this._coordsTextureSize;e++,s+=4)i[s+0]=255&e,i[s+1]=255&t,i[s+2]=e>>8<<4|t>>8,i[s+3]=0;const n=new t.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(i.buffer)),r=new v(e,n,e.gl.RGBA,{premultiply:!1});return r.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),this._coordsTexture=r,r}pointCoordinate(e){const i=new Uint8Array(4),n=this.painter.context,r=n.gl;n.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),r.readPixels(e.x,this.painter.height/devicePixelRatio-e.y-1,1,1,r.RGBA,r.UNSIGNED_BYTE,i),n.bindFramebuffer.set(null);const s=i[0]+(i[2]>>4<<8),o=i[1]+((15&i[2])<<8),a=this.coordsIndex[255-i[3]],l=a&&this.sourceCache.getTileByID(a);if(!l)return null;const c=this._coordsTextureSize,h=(1<<l.tileID.canonical.z)*c;return new t.U(this._allowMercatorOverflow(e,(l.tileID.canonical.x*c+s)/h),(l.tileID.canonical.y*c+o)/h,this.getElevation(l.tileID,s,o,c))}getTerrainMesh(){if(this._mesh)return this._mesh;const e=this.painter.context,i=new t.bd,n=new t.b0,r=this.meshSize,s=t.N/r,o=r*r;for(let t=0;t<=r;t++)for(let e=0;e<=r;e++)i.emplaceBack(e*s,t*s,0);for(let t=0;t<o;t+=r+1)for(let e=0;e<r;e++)n.emplaceBack(e+t,r+e+t+1,r+e+t+2),n.emplaceBack(e+t,r+e+t+2,e+t+1);const a=i.length,l=a+2*(r+1);for(const u of[0,1])for(let e=0;e<=r;e++)for(const n of[0,1])i.emplaceBack(e*s,u*t.N,n);for(let t=0;t<2*r;t+=2)n.emplaceBack(l+t,l+t+1,l+t+3),n.emplaceBack(l+t,l+t+3,l+t+2),n.emplaceBack(a+t,a+t+3,a+t+1),n.emplaceBack(a+t,a+t+2,a+t+3);const c=i.length,h=c+2*(r+1);for(const u of[0,1])for(let e=0;e<=r;e++)for(const n of[0,1])i.emplaceBack(u*t.N,e*s,n);for(let t=0;t<2*r;t+=2)n.emplaceBack(c+t,c+t+1,c+t+3),n.emplaceBack(c+t,c+t+3,c+t+2),n.emplaceBack(h+t,h+t+3,h+t+1),n.emplaceBack(h+t,h+t+2,h+t+3);return this._mesh={indexBuffer:e.createIndexBuffer(n),vertexBuffer:e.createVertexBuffer(i,ur.members),segments:t.S.simpleSegment(0,0,i.length,n.length)},this._mesh}getMeshFrameDelta(e){return 2*Math.PI*t.be/Math.pow(2,e)/5}getMinTileElevationForLngLatZoom(t,e){var i;const{tileID:n}=this._getOverscaledTileIDFromLngLatZoom(t,e);return null!==(i=this.getMinMaxElevation(n).minElevation)&&void 0!==i?i:0}getMinMaxElevation(t){const e=this.getTerrainData(t).tile,i={minElevation:null,maxElevation:null};return e&&e.dem&&(i.minElevation=e.dem.min*this.exaggeration,i.maxElevation=e.dem.max*this.exaggeration),i}_getOverscaledTileIDFromLngLatZoom(e,i){const n=t.U.fromLngLat(e.wrap()),r=(1<<i)*t.N,s=n.x*r,o=n.y*r,a=Math.floor(s/t.N),l=Math.floor(o/t.N);return{tileID:new t.O(i,0,i,a,l),mercatorX:s,mercatorY:o}}_allowMercatorOverflow(e,i){const n=e.x<this.painter.width/2;let r=t.bf(i);const s=this.painter.transform.center.lng;return n&&Math.sign(r)>0&&Math.sign(s)<0||!n&&Math.sign(r)<0&&Math.sign(s)>0?(r=360*Math.sign(s)+r,t.G(r)):i}}class fr{constructor(t,e,i){this._context=t,this._size=e,this._tileSize=i,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const t of this._objects)t.texture.destroy(),t.fbo.destroy()}_createObject(t){const e=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),i=new v(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return i.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),e.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),e.colorAttachment.set(i.texture),{id:t,fbo:e,texture:i,stamp:-1,inUse:!1}}getObjectForId(t){return this._objects[t]}useObject(t){t.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((e=>t.id!==e)),this._recentlyUsed.push(t.id)}stampObject(t){t.stamp=++this._stamp}getOrCreateFreeObject(){for(const e of this._recentlyUsed)if(!this._objects[e].inUse)return this._objects[e];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const t=this._createObject(this._objects.length);return this._objects.push(t),t}freeObject(t){t.inUse=!1}freeAllObjects(){for(const t of this._objects)this.freeObject(t)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some((t=>!t.inUse))}}const mr={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class gr{constructor(t,e){this.painter=t,this.terrain=e,this.pool=new fr(t.context,30,e.sourceCache.tileSize*e.qualityFactor)}destruct(){this.pool.destruct()}getTexture(t){return this.pool.getObjectForId(t.rtt[this._stacks.length-1].id).texture}prepareForRender(t,e){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=t._order.filter((i=>!t._layers[i].isHidden(e))),this._coordsDescendingInv={};for(const i in t.sourceCaches){this._coordsDescendingInv[i]={};const e=t.sourceCaches[i].getVisibleCoordinates();for(const t of e){const e=this.terrain.sourceCache.getTerrainCoords(t);for(const t in e)this._coordsDescendingInv[i][t]||(this._coordsDescendingInv[i][t]=[]),this._coordsDescendingInv[i][t].push(e[t])}}this._coordsDescendingInvStr={};for(const i of t._order){const e=t._layers[i],n=e.source;if(mr[e.type]&&!this._coordsDescendingInvStr[n]){this._coordsDescendingInvStr[n]={};for(const t in this._coordsDescendingInv[n])this._coordsDescendingInvStr[n][t]=this._coordsDescendingInv[n][t].map((t=>t.key)).sort().join()}}for(const i of this._renderableTiles)for(const t in this._coordsDescendingInvStr){const e=this._coordsDescendingInvStr[t][i.tileID.key];e&&e!==i.rttCoords[t]&&(i.rtt=[])}}renderLayer(e){if(e.isHidden(this.painter.transform.zoom))return!1;const i=e.type,n=this.painter,r=this._renderableLayerIds[this._renderableLayerIds.length-1]===e.id;if(mr[i]&&(this._prevType&&mr[this._prevType]||this._stacks.push([]),this._prevType=i,this._stacks[this._stacks.length-1].push(e.id),!r))return!0;if(mr[this._prevType]||mr[i]&&r){this._prevType=i;const e=this._stacks.length-1,r=this._stacks[e]||[];for(const i of this._renderableTiles){if(this.pool.isFull()&&(en(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(i),i.rtt[e]){const t=this.pool.getObjectForId(i.rtt[e].id);if(t.stamp===i.rtt[e].stamp){this.pool.useObject(t);continue}}const s=this.pool.getOrCreateFreeObject();this.pool.useObject(s),this.pool.stampObject(s),i.rtt[e]={id:s.id,stamp:s.stamp},n.context.bindFramebuffer.set(s.fbo.framebuffer),n.context.clear({color:t.aT.transparent,stencil:0}),n.currentStencilSource=void 0;for(let t=0;t<r.length;t++){const e=n.style._layers[r[t]],o=e.source?this._coordsDescendingInv[e.source][i.tileID.key]:[i.tileID];n.context.viewport.set([0,0,s.fbo.width,s.fbo.height]),n._renderTileClippingMasks(e,o),n.renderLayer(n,n.style.sourceCaches[e.source],e,o),e.source&&(i.rttCoords[e.source]=this._coordsDescendingInvStr[e.source][i.tileID.key])}}return en(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),mr[i]}return!1}}const yr=e,xr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:t.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},vr=t=>{t.touchstart=t.dragStart,t.touchmoveWindow=t.dragMove,t.touchend=t.dragEnd},br={showCompass:!0,showZoom:!0,visualizePitch:!1};class _r{constructor(e,n,r=!1){this.mousedown=e=>{this.startMouse(t.e({},e,{ctrlKey:!0,preventDefault:()=>e.preventDefault()}),i.mousePos(this.element,e)),i.addEventListener(window,"mousemove",this.mousemove),i.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=t=>{this.moveMouse(t,i.mousePos(this.element,t))},this.mouseup=t=>{this.mouseRotate.dragEnd(t),this.mousePitch&&this.mousePitch.dragEnd(t),this.offTemp()},this.touchstart=t=>{1!==t.targetTouches.length?this.reset():(this._startPos=this._lastPos=i.touchPos(this.element,t.targetTouches)[0],this.startTouch(t,this._startPos),i.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),i.addEventListener(window,"touchend",this.touchend))},this.touchmove=t=>{1!==t.targetTouches.length?this.reset():(this._lastPos=i.touchPos(this.element,t.targetTouches)[0],this.moveTouch(t,this._lastPos))},this.touchend=t=>{0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const s=e.dragRotate._mouseRotate.getClickTolerance(),o=e.dragRotate._mousePitch.getClickTolerance();this.element=n,this.mouseRotate=zn({clickTolerance:s,enable:!0}),this.touchRotate=(({enable:t,clickTolerance:e,bearingDegreesPerPixelMoved:i=.8})=>{const n=new Dn;return new Mn({clickTolerance:e,move:(t,e)=>({bearingDelta:(e.x-t.x)*i}),moveStateManager:n,enable:t,assignEvents:vr})})({clickTolerance:s,enable:!0}),this.map=e,r&&(this.mousePitch=On({clickTolerance:o,enable:!0}),this.touchPitch=(({enable:t,clickTolerance:e,pitchDegreesPerPixelMoved:i=-.5})=>{const n=new Dn;return new Mn({clickTolerance:e,move:(t,e)=>({pitchDelta:(e.y-t.y)*i}),moveStateManager:n,enable:t,assignEvents:vr})})({clickTolerance:o,enable:!0})),i.addEventListener(n,"mousedown",this.mousedown),i.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),i.addEventListener(n,"touchcancel",this.reset)}startMouse(t,e){this.mouseRotate.dragStart(t,e),this.mousePitch&&this.mousePitch.dragStart(t,e),i.disableDrag()}startTouch(t,e){this.touchRotate.dragStart(t,e),this.touchPitch&&this.touchPitch.dragStart(t,e),i.disableDrag()}moveMouse(t,e){const i=this.map,{bearingDelta:n}=this.mouseRotate.dragMove(t,e)||{};if(n&&i.setBearing(i.getBearing()+n),this.mousePitch){const{pitchDelta:n}=this.mousePitch.dragMove(t,e)||{};n&&i.setPitch(i.getPitch()+n)}}moveTouch(t,e){const i=this.map,{bearingDelta:n}=this.touchRotate.dragMove(t,e)||{};if(n&&i.setBearing(i.getBearing()+n),this.touchPitch){const{pitchDelta:n}=this.touchPitch.dragMove(t,e)||{};n&&i.setPitch(i.getPitch()+n)}}off(){const t=this.element;i.removeEventListener(t,"mousedown",this.mousedown),i.removeEventListener(t,"touchstart",this.touchstart,{passive:!1}),i.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),i.removeEventListener(window,"touchend",this.touchend),i.removeEventListener(t,"touchcancel",this.reset),this.offTemp()}offTemp(){i.enableDrag(),i.removeEventListener(window,"mousemove",this.mousemove),i.removeEventListener(window,"mouseup",this.mouseup),i.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),i.removeEventListener(window,"touchend",this.touchend)}}let wr;function Sr(e,i,n){if(e=new t.L(e.lng,e.lat),i){const r=new t.L(e.lng-360,e.lat),s=new t.L(e.lng+360,e.lat),o=n.locationPoint(e).distSqr(i);n.locationPoint(r).distSqr(i)<o?e=r:n.locationPoint(s).distSqr(i)<o&&(e=s)}for(;Math.abs(e.lng-n.center.lng)>180;){const t=n.locationPoint(e);if(t.x>=0&&t.y>=0&&t.x<=n.width&&t.y<=n.height)break;e.lng>n.center.lng?e.lng-=360:e.lng+=360}return e}const Cr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Tr(t,e,i){const n=t.classList;for(const r in Cr)n.remove(`maplibregl-${i}-anchor-${r}`);n.add(`maplibregl-${i}-anchor-${e}`)}class kr extends t.E{constructor(e){if(super(),this._onKeyPress=t=>{const e=t.code,i=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==i&&13!==i||this.togglePopup()},this._onMapClick=t=>{const e=t.originalEvent.target,i=this._element;this._popup&&(e===i||i.contains(e))&&this.togglePopup()},this._update=t=>{if(!this._map)return;const e=this._map.loaded()&&!this._map.isMoving();("terrain"===(null==t?void 0:t.type)||"render"===(null==t?void 0:t.type)&&!e)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=Sr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let n="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?n=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(n=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r=`rotateX(${this._map.getPitch()}deg)`),t&&"moveend"!==t.type||(this._pos=this._pos.round()),i.setTransform(this._element,`${Cr[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${r} ${n}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout((()=>{const t=this._map.unproject(this._pos),e=40075016.686*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=t.distanceTo(this._lngLat)>20*e?"0.2":"1.0",this._opacityTimeout=null}),100))},this._onMove=e=>{if(!this._isDragging){const t=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=t}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.k("dragstart"))),this.fire(new t.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.k("dragend")),this._state="inactive"},this._addDragHandler=t=>{this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._pointerdownPos=t.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||"auto",this._pitchAlignment=e&&e.pitchAlignment&&"auto"!==e.pitchAlignment?e.pitchAlignment:this._rotationAlignment,e&&e.element)this._element=e.element,this._offset=t.P.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=i.create("div"),this._element.setAttribute("aria-label","Map marker");const n=i.createNS("http://www.w3.org/2000/svg","svg"),r=41,s=27;n.setAttributeNS(null,"display","block"),n.setAttributeNS(null,"height",`${r}px`),n.setAttributeNS(null,"width",`${s}px`),n.setAttributeNS(null,"viewBox",`0 0 ${s} ${r}`);const o=i.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"stroke","none"),o.setAttributeNS(null,"stroke-width","1"),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"fill-rule","evenodd");const a=i.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");const l=i.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");const c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const t of c){const e=i.createNS("http://www.w3.org/2000/svg","ellipse");e.setAttributeNS(null,"opacity","0.04"),e.setAttributeNS(null,"cx","10.5"),e.setAttributeNS(null,"cy","5.80029008"),e.setAttributeNS(null,"rx",t.rx),e.setAttributeNS(null,"ry",t.ry),l.appendChild(e)}const h=i.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill",this._color);const u=i.createNS("http://www.w3.org/2000/svg","path");u.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(u);const d=i.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"fill","#000000");const p=i.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),d.appendChild(p);const f=i.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"transform","translate(6.0, 7.0)"),f.setAttributeNS(null,"fill","#FFFFFF");const m=i.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(8.0, 8.0)");const g=i.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#000000"),g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962");const y=i.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#FFFFFF"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962"),m.appendChild(g),m.appendChild(y),a.appendChild(l),a.appendChild(h),a.appendChild(d),a.appendChild(f),a.appendChild(m),n.appendChild(a),n.setAttributeNS(null,"height",r*this._scale+"px"),n.setAttributeNS(null,"width",s*this._scale+"px"),this._element.appendChild(n),this._offset=t.P.convert(e&&e.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(t=>{t.preventDefault()})),this._element.addEventListener("mousedown",(t=>{t.preventDefault()})),Tr(this._element,this._anchor,"marker"),e&&e.className)for(const t of e.className.split(" "))this._element.classList.add(t);this._popup=null}addTo(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),t.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),i.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.L.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){const e=38.1,i=13.5,n=Math.abs(i)/Math.SQRT2;t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-e],"bottom-left":[n,-1*(e-i+n)],"bottom-right":[-n,-1*(e-i+n)],left:[i,-1*(e-i)],right:[-i,-1*(e-i)]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(e){return this._offset=t.P.convert(e),this._update(),this}addClassName(t){this._element.classList.add(t)}removeClassName(t){this._element.classList.remove(t)}toggleClassName(t){return this._element.classList.toggle(t)}setDraggable(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(t){return this._rotation=t||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(t){return this._rotationAlignment=t||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Ar={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Ir=0,Mr=!1;const Pr={maxWidth:100,unit:"metric"};function Er(t,e,i){const n=i&&i.maxWidth||100,r=t._container.clientHeight/2,s=t.unproject([0,r]),o=t.unproject([n,r]),a=s.distanceTo(o);if(i&&"imperial"===i.unit){const i=3.2808*a;i>5280?Dr(e,n,i/5280,t._getUIString("ScaleControl.Miles")):Dr(e,n,i,t._getUIString("ScaleControl.Feet"))}else i&&"nautical"===i.unit?Dr(e,n,a/1852,t._getUIString("ScaleControl.NauticalMiles")):a>=1e3?Dr(e,n,a/1e3,t._getUIString("ScaleControl.Kilometers")):Dr(e,n,a,t._getUIString("ScaleControl.Meters"))}function Dr(t,e,i,n){const r=function(t){const e=Math.pow(10,`${Math.floor(t)}`.length-1);let i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:i>=1?1:function(t){const e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(i),e*i}(i);t.style.width=e*(r/i)+"px",t.innerHTML=`${r}&nbsp;${n}`}const Lr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},zr=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Or(e){if(e){if("number"==typeof e){const i=Math.round(Math.abs(e)/Math.SQRT2);return{center:new t.P(0,0),top:new t.P(0,e),"top-left":new t.P(i,i),"top-right":new t.P(-i,i),bottom:new t.P(0,-e),"bottom-left":new t.P(i,-i),"bottom-right":new t.P(-i,-i),left:new t.P(e,0),right:new t.P(-e,0)}}if(e instanceof t.P||Array.isArray(e)){const i=t.P.convert(e);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:t.P.convert(e.center||[0,0]),top:t.P.convert(e.top||[0,0]),"top-left":t.P.convert(e["top-left"]||[0,0]),"top-right":t.P.convert(e["top-right"]||[0,0]),bottom:t.P.convert(e.bottom||[0,0]),"bottom-left":t.P.convert(e["bottom-left"]||[0,0]),"bottom-right":t.P.convert(e["bottom-right"]||[0,0]),left:t.P.convert(e.left||[0,0]),right:t.P.convert(e.right||[0,0])}}return Or(new t.P(0,0))}const Fr={extend:(e,...i)=>t.e(e,...i),run(t){t()},logToElement(t,e=!1,i="log"){const n=window.document.getElementById(i);n&&(e&&(n.innerHTML=""),n.innerHTML+=`<br>${t}`)}},Rr=e;class Br{static get version(){return Rr}static get workerCount(){return tt.workerCount}static set workerCount(t){tt.workerCount=t}static get maxParallelImageRequests(){return t.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(e){t.c.MAX_PARALLEL_IMAGE_REQUESTS=e}static get workerUrl(){return t.c.WORKER_URL}static set workerUrl(e){t.c.WORKER_URL=e}static addProtocol(e,i){t.c.REGISTERED_PROTOCOLS[e]=i}static removeProtocol(e){delete t.c.REGISTERED_PROTOCOLS[e]}}return Br.Map=class extends or{constructor(e){if(t.bg.mark(t.bh.create),null!=(e=t.e({},xr,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&e.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new an(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies),{bearingSnap:e.bearingSnap}),this._cooperativeGesturesOnWheel=t=>{this._onCooperativeGesture(t,t[this._metaKey],1)},this._contextLost=e=>{e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.k("webglcontextlost",{originalEvent:e}))},this._contextRestored=e=>{this._setupPainter(),this.resize(),this._update(),this.fire(new t.k("webglcontextrestored",{originalEvent:e}))},this._onMapScroll=t=>{if(t.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=e.interactive,this._cooperativeGestures=e.cooperativeGestures,this._metaKey=0===navigator.platform.indexOf("Mac")?"metaKey":"ctrlKey",this._maxTileCacheSize=e.maxTileCacheSize,this._maxTileCacheZoomLevels=e.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new cr,this._controls=[],this._mapId=t.a2(),this._locale=t.e({},hr,e.locale),this._clickTolerance=e.clickTolerance,this._overridePixelRatio=e.pixelRatio,this._maxCanvasSize=e.maxCanvasSize,this.transformCameraUpdate=e.transformCameraUpdate,this._imageQueueHandle=c.addThrottleControl((()=>this.isMoving())),this._requestManager=new u(e.transformRequest),"string"==typeof e.container){if(this._container=document.getElementById(e.container),!this._container)throw new Error(`Container '${e.container}' not found.`)}else{if(!(e.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})),this.once("idle",(()=>{this._idleTriggered=!0})),"undefined"!=typeof window){addEventListener("online",this._onWindowOnline,!1);let t=!1;const e=ln((t=>{this._trackResize&&!this._removed&&this.resize(t)._update()}),50);this._resizeObserver=new ResizeObserver((i=>{t?e(i):t=!0})),this._resizeObserver.observe(this._container)}this.handlers=new sr(this,e),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=e.hash&&new cn("string"==typeof e.hash&&e.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.e({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=e.localIdeographFontFamily,this._validateStyle=e.validateStyle,e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new ar({customAttribution:e.customAttribution})),e.maplibreLogo&&this.addControl(new lr,e.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(e=>{this._update("style"===e.dataType),this.fire(new t.k(`${e.dataType}data`,e))})),this.on("dataloading",(e=>{this.fire(new t.k(`${e.dataType}dataloading`,e))})),this.on("dataabort",(e=>{this.fire(new t.k("sourcedataabort",e))}))}_getMapId(){return this._mapId}addControl(e,i){if(void 0===i&&(i=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const n=e.onAdd(this);this._controls.push(e);const r=this._controlPositions[i];return-1!==i.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this}removeControl(e){if(!e||!e.onRemove)return this.fire(new t.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(e);return i>-1&&this._controls.splice(i,1),e.onRemove(this),this}hasControl(t){return this._controls.indexOf(t)>-1}calculateCameraOptionsFromTo(t,e,i,n){return null==n&&this.terrain&&(n=this.terrain.getElevationForLngLatZoom(i,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(t,e,i,n)}resize(e){var i;const n=this._containerDimensions(),r=n[0],s=n[1],o=this._getClampedPixelRatio(r,s);if(this._resizeCanvas(r,s,o),this.painter.resize(r,s,o),this.painter.overLimit()){const t=this.painter.context.gl;this._maxCanvasSize=[t.drawingBufferWidth,t.drawingBufferHeight];const e=this._getClampedPixelRatio(r,s);this._resizeCanvas(r,s,e),this.painter.resize(r,s,e)}this.transform.resize(r,s),null===(i=this._requestedCameraState)||void 0===i||i.resize(r,s);const a=!this._moving;return a&&(this.stop(),this.fire(new t.k("movestart",e)).fire(new t.k("move",e))),this.fire(new t.k("resize",e)),a&&this.fire(new t.k("moveend",e)),this}_getClampedPixelRatio(t,e){const{0:i,1:n}=this._maxCanvasSize,r=this.getPixelRatio(),s=t*r,o=e*r;return Math.min(s>i?i/s:1,o>n?n/o:1)*r}getPixelRatio(){var t;return null!==(t=this._overridePixelRatio)&&void 0!==t?t:devicePixelRatio}setPixelRatio(t){this._overridePixelRatio=t,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(t){return this.transform.setMaxBounds(D.convert(t)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?60:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(t){return this.transform.renderWorldCopies=t,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(t){return this._cooperativeGestures=t,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(e){return this.transform.locationPoint(t.L.convert(e),this.style&&this.terrain)}unproject(e){return this.transform.pointLocation(t.P.convert(e),this.terrain)}isMoving(){var t;return this._moving||(null===(t=this.handlers)||void 0===t?void 0:t.isMoving())}isZooming(){var t;return this._zooming||(null===(t=this.handlers)||void 0===t?void 0:t.isZooming())}isRotating(){var t;return this._rotating||(null===(t=this.handlers)||void 0===t?void 0:t.isRotating())}_createDelegatedListener(t,e,i){if("mouseenter"===t||"mouseover"===t){let n=!1;const r=r=>{const s=this.getLayer(e)?this.queryRenderedFeatures(r.point,{layers:[e]}):[];s.length?n||(n=!0,i.call(this,new xn(t,this,r.originalEvent,{features:s}))):n=!1};return{layer:e,listener:i,delegates:{mousemove:r,mouseout:()=>{n=!1}}}}if("mouseleave"===t||"mouseout"===t){let n=!1;const r=r=>{(this.getLayer(e)?this.queryRenderedFeatures(r.point,{layers:[e]}):[]).length?n=!0:n&&(n=!1,i.call(this,new xn(t,this,r.originalEvent)))},s=e=>{n&&(n=!1,i.call(this,new xn(t,this,e.originalEvent)))};return{layer:e,listener:i,delegates:{mousemove:r,mouseout:s}}}{const n=t=>{const n=this.getLayer(e)?this.queryRenderedFeatures(t.point,{layers:[e]}):[];n.length&&(t.features=n,i.call(this,t),delete t.features)};return{layer:e,listener:i,delegates:{[t]:n}}}}on(t,e,i){if(void 0===i)return super.on(t,e);const n=this._createDelegatedListener(t,e,i);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(n);for(const r in n.delegates)this.on(r,n.delegates[r]);return this}once(t,e,i){if(void 0===i)return super.once(t,e);const n=this._createDelegatedListener(t,e,i);for(const r in n.delegates)this.once(r,n.delegates[r]);return this}off(t,e,i){return void 0===i?super.off(t,e):(this._delegatedListeners&&this._delegatedListeners[t]&&(n=>{const r=this._delegatedListeners[t];for(let t=0;t<r.length;t++){const n=r[t];if(n.layer===e&&n.listener===i){for(const t in n.delegates)this.off(t,n.delegates[t]);return r.splice(t,1),this}}})(),this)}queryRenderedFeatures(e,i){if(!this.style)return[];let n;const r=e instanceof t.P||Array.isArray(e),s=r?e:[[0,0],[this.transform.width,this.transform.height]];if(i=i||(r?{}:e)||{},s instanceof t.P||"number"==typeof s[0])n=[t.P.convert(s)];else{const e=t.P.convert(s[0]),i=t.P.convert(s[1]);n=[e,new t.P(i.x,e.y),i,new t.P(e.x,i.y),e]}return this.style.queryRenderedFeatures(n,i,this.transform)}querySourceFeatures(t,e){return this.style.querySourceFeatures(t,e)}setStyle(e,i){return!1!==(i=t.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(e,i))}setTransformRequest(t){return this._requestManager.setTransformRequest(t),this}_getUIString(t){const e=this._locale[t];if(null==e)throw new Error(`Missing UI string '${t}'`);return e}_updateStyle(t,e){if(e.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(t,e)));const i=this.style&&e.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!t)),t?(this.style=new ne(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t,e,i):this.style.loadJSON(t,e,i),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ne(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(e,i){if("string"==typeof e){const n=this._requestManager.transformRequest(e,h.Style);t.f(n,((e,n)=>{e?this.fire(new t.j(e)):n&&this._updateDiff(n,i)}))}else"object"==typeof e&&this._updateDiff(e,i)}_updateDiff(e,i){try{this.style.setState(e,i)&&this._update(!0)}catch(n){t.w(`Unable to perform style diff: ${n.message||n.error||n}.  Rebuilding the style from scratch.`),this._updateStyle(e,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():t.w("There is no style added to the map.")}addSource(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)}isSourceLoaded(e){const i=this.style&&this.style.sourceCaches[e];if(void 0!==i)return i.loaded();this.fire(new t.j(new Error(`There is no source with ID '${e}'`)))}setTerrain(e){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),e){const i=this.style.sourceCaches[e.source];if(!i)throw new Error(`cannot load terrain, because there exists no source with ID: ${e.source}`);for(const n in this.style._layers){const i=this.style._layers[n];"hillshade"===i.type&&i.source===e.source&&t.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new pr(this.painter,i,e),this.painter.renderToTexture=new gr(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=t=>{"style"===t.dataType?this.terrain.sourceCache.freeRtt():"source"===t.dataType&&t.tile&&(t.sourceId!==e.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(t.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new t.k("terrain",{terrain:e})),this}getTerrain(){var t,e;return null!==(e=null===(t=this.terrain)||void 0===t?void 0:t.options)&&void 0!==e?e:null}areTilesLoaded(){const t=this.style&&this.style.sourceCaches;for(const e in t){const i=t[e]._tiles;for(const t in i){const e=i[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}}return!0}addSourceType(t,e,i){return this._lazyInitEmptyStyle(),this.style.addSourceType(t,e,i)}removeSource(t){return this.style.removeSource(t),this._update(!0)}getSource(t){return this.style.getSource(t)}addImage(e,i,n={}){const{pixelRatio:r=1,sdf:s=!1,stretchX:o,stretchY:a,content:l}=n;if(this._lazyInitEmptyStyle(),!(i instanceof HTMLImageElement||t.a(i))){if(void 0===i.width||void 0===i.height)return this.fire(new t.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:n,height:c,data:h}=i,u=i;return this.style.addImage(e,{data:new t.R({width:n,height:c},new Uint8Array(h)),pixelRatio:r,stretchX:o,stretchY:a,content:l,sdf:s,version:0,userImage:u}),u.onAdd&&u.onAdd(this,e),this}}{const{width:n,height:c,data:h}=t.h.getImageData(i);this.style.addImage(e,{data:new t.R({width:n,height:c},h),pixelRatio:r,stretchX:o,stretchY:a,content:l,sdf:s,version:0})}}updateImage(e,i){const n=this.style.getImage(e);if(!n)return this.fire(new t.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=i instanceof HTMLImageElement||t.a(i)?t.h.getImageData(i):i,{width:s,height:o,data:a}=r;if(void 0===s||void 0===o)return this.fire(new t.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(s!==n.data.width||o!==n.data.height)return this.fire(new t.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const l=!(i instanceof HTMLImageElement||t.a(i));return n.data.replace(a,l),this.style.updateImage(e,n),this}getImage(t){return this.style.getImage(t)}hasImage(e){return e?!!this.style.getImage(e):(this.fire(new t.j(new Error("Missing required image id"))),!1)}removeImage(t){this.style.removeImage(t)}loadImage(t,e){c.getImage(this._requestManager.transformRequest(t,h.Image),e)}listImages(){return this.style.listImages()}addLayer(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)}moveLayer(t,e){return this.style.moveLayer(t,e),this._update(!0)}removeLayer(t){return this.style.removeLayer(t),this._update(!0)}getLayer(t){return this.style.getLayer(t)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(t,e,i){return this.style.setLayerZoomRange(t,e,i),this._update(!0)}setFilter(t,e,i={}){return this.style.setFilter(t,e,i),this._update(!0)}getFilter(t){return this.style.getFilter(t)}setPaintProperty(t,e,i,n={}){return this.style.setPaintProperty(t,e,i,n),this._update(!0)}getPaintProperty(t,e){return this.style.getPaintProperty(t,e)}setLayoutProperty(t,e,i,n={}){return this.style.setLayoutProperty(t,e,i,n),this._update(!0)}getLayoutProperty(t,e){return this.style.getLayoutProperty(t,e)}setGlyphs(t,e={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(t,e),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(t,e,i={}){return this._lazyInitEmptyStyle(),this.style.addSprite(t,e,i,(t=>{t||this._update(!0)})),this}removeSprite(t){return this._lazyInitEmptyStyle(),this.style.removeSprite(t),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(t,e={}){return this._lazyInitEmptyStyle(),this.style.setSprite(t,e,(t=>{t||this._update(!0)})),this}setLight(t,e={}){return this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(t,e){return this.style.setFeatureState(t,e),this._update()}removeFeatureState(t,e){return this.style.removeFeatureState(t,e),this._update()}getFeatureState(t){return this.style.getFeatureState(t)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]}_setupContainer(){const t=this._container;t.classList.add("maplibregl-map");const e=this._canvasContainer=i.create("div","maplibregl-canvas-container",t);this._interactive&&e.classList.add("maplibregl-interactive"),this._canvas=i.create("canvas","maplibregl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const n=this._containerDimensions(),r=this._getClampedPixelRatio(n[0],n[1]);this._resizeCanvas(n[0],n[1],r);const s=this._controlContainer=i.create("div","maplibregl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((t=>{o[t]=i.create("div",`maplibregl-ctrl-${t} `,s)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=i.create("div","maplibregl-cooperative-gesture-screen",this._container);let t="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";0===navigator.platform.indexOf("Mac")&&(t="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`\n            <div class="maplibregl-desktop-message">${t}</div>\n            <div class="maplibregl-mobile-message">${"boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>\n        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){i.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(t,e,i){this._canvas.width=Math.floor(i*t),this._canvas.height=Math.floor(i*e),this._canvas.style.width=`${t}px`,this._canvas.style.height=`${e}px`}_setupPainter(){const t={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let e=null;this._canvas.addEventListener("webglcontextcreationerror",(i=>{e={requestedAttributes:t},i&&(e.statusMessage=i.statusMessage,e.type=i.type)}),{once:!0});const i=this._canvas.getContext("webgl2",t)||this._canvas.getContext("webgl",t);if(!i){const t="Failed to initialize WebGL";throw e?(e.message=t,new Error(JSON.stringify(e))):new Error(t)}this.painter=new nn(i,this.transform),n.testSupport(i)}_onCooperativeGesture(t,e,i){return!e&&i<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout((()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")}),100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(t){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(t){return this._update(),this._renderTaskQueue.add(t)}_cancelRenderFrame(t){this._renderTaskQueue.remove(t)}_render(e){const i=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),this._removed)return;let n=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const e=this.transform.zoom,r=t.h.now();this.style.zoomHistory.update(e,r);const s=new t.a8(e,{now:r,fadeDuration:i,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),o=s.crossFadingFactor();1===o&&o===this._crossFadingFactor||(n=!0,this._crossFadingFactor=o),this.style.update(s)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,i,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:i,showPadding:this.showPadding}),this.fire(new t.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,t.bg.mark(t.bh.load),this.fire(new t.k("load"))),this.style&&(this.style.hasTransitions()||n)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const r=this._sourcesDirty||this._styleDirty||this._placementDirty;return r||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.k("idle")),!this._loaded||this._fullyLoaded||r||(this._fullyLoaded=!0,t.bg.mark(t.bh.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var e;this._hash&&this._hash.remove();for(const t of this._controls)t.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),"undefined"!=typeof window&&removeEventListener("online",this._onWindowOnline,!1),c.removeThrottleControl(this._imageQueueHandle),null===(e=this._resizeObserver)||void 0===e||e.disconnect();const n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),i.remove(this._canvasContainer),i.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),t.bg.clearMetrics(),this._removed=!0,this.fire(new t.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=t.h.frame((e=>{t.bg.frame(e),this._frame=null,this._render(e)})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())}get showPadding(){return!!this._showPadding}set showPadding(t){this._showPadding!==t&&(this._showPadding=t,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())}get repaint(){return!!this._repaint}set repaint(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(t){this._vertices=t,this._update()}get version(){return yr}getCameraTargetElevation(){return this.transform.elevation}},Br.NavigationControl=class{constructor(e){this._updateZoomButtons=()=>{const t=this._map.getZoom(),e=t===this._map.getMaxZoom(),i=t===this._map.getMinZoom();this._zoomInButton.disabled=e,this._zoomOutButton.disabled=i,this._zoomInButton.setAttribute("aria-disabled",e.toString()),this._zoomOutButton.setAttribute("aria-disabled",i.toString())},this._rotateCompassArrow=()=>{const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=t},this._setButtonTitle=(t,e)=>{const i=this._map._getUIString(`NavigationControl.${e}`);t.title=i,t.setAttribute("aria-label",i)},this.options=t.e({},br,e),this._container=i.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(t=>t.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(t=>this._map.zoomIn({},{originalEvent:t}))),i.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(t=>this._map.zoomOut({},{originalEvent:t}))),i.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(t=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:t}):this._map.resetNorth({},{originalEvent:t})})),this._compassIcon=i.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new _r(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){i.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(t,e){const n=i.create("button",t,this._container);return n.type="button",n.addEventListener("click",e),n}},Br.GeolocateControl=class extends t.E{constructor(e){super(),this._onSuccess=e=>{if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.k("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new t.k("geolocate",e)),this._finish()}},this._updateCamera=e=>{const i=new t.L(e.coords.longitude,e.coords.latitude),n=e.coords.accuracy,r=this._map.getBearing(),s=t.e({bearing:r},this.options.fitBoundsOptions),o=D.fromLngLat(i,n);this._map.fitBounds(o,s,{geolocateSource:!0})},this._updateMarker=e=>{if(e){const i=new t.L(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=e=>{if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&Mr)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new t.k("error",e)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=e=>{if(this._map){if(this._container.addEventListener("contextmenu",(t=>t.preventDefault())),this._geolocateButton=i.create("button","maplibregl-ctrl-geolocate",this._container),i.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===e){t.w("Geolocation support is not available so the GeolocateControl will be disabled.");const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}else{const t=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=i.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new kr({element:this._dotElement}),this._circleElement=i.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new kr({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(e=>{e.geolocateSource||"ACTIVE_LOCK"!==this._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new t.k("trackuserlocationend")))}))}},this.options=t.e({},Ar,e)}onAdd(t){return this._map=t,this._container=i.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(t,e=!1){void 0===wr||e?void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((e=>{wr="denied"!==e.state,t(wr)})).catch((()=>{wr=!!window.navigator.geolocation,t(wr)})):(wr=!!window.navigator.geolocation,t(wr)):t(wr)}(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),i.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ir=0,Mr=!1}_isOutOfMapMaxBounds(t){const e=this._map.getMaxBounds(),i=t.coords;return e&&(i.longitude<e.getWest()||i.longitude>e.getEast()||i.latitude<e.getSouth()||i.latitude>e.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const t=this._map.getBounds(),e=t.getSouthEast(),i=t.getNorthEast(),n=e.distanceTo(i),r=Math.ceil(this._accuracy/(n/this._map._container.clientHeight)*2);this._circleElement.style.width=`${r}px`,this._circleElement.style.height=`${r}px`}trigger(){if(!this._setup)return t.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ir--,Mr=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new t.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let t;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Ir++,Ir>1?(t={maximumAge:6e5,timeout:0},Mr=!0):(t=this.options.positionOptions,Mr=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Br.AttributionControl=ar,Br.LogoControl=lr,Br.ScaleControl=class{constructor(e){this._onMove=()=>{Er(this._map,this._container,this.options)},this.setUnit=t=>{this.options.unit=t,Er(this._map,this._container,this.options)},this.options=t.e({},Pr,e)}getDefaultPosition(){return"bottom-left"}onAdd(t){return this._map=t,this._container=i.create("div","maplibregl-ctrl maplibregl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){i.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Br.FullscreenControl=class extends t.E{constructor(e={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,e&&e.container&&(e.container instanceof HTMLElement?this._container=e.container:t.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=i.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){i.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const t=this._fullscreenButton=i.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);i.create("span","maplibregl-ctrl-icon",t).setAttribute("aria-hidden","true"),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new t.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new t.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Br.TerrainControl=class{constructor(t){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=t}onAdd(t){return this._map=t,this._container=i.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=i.create("button","maplibregl-ctrl-terrain",this._container),i.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){i.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Br.Popup=class extends t.E{constructor(e){super(),this.remove=()=>(this._content&&i.remove(this._content),this._container&&(i.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new t.k("close")),this),this._onMouseUp=t=>{this._update(t.point)},this._onMouseMove=t=>{this._update(t.point)},this._onDrag=t=>{this._update(t.point)},this._update=t=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=i.create("div","maplibregl-popup",this._map.getContainer()),this._tip=i.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const t of this.options.className.split(" "))this._container.classList.add(t);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Sr(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!t)return;const e=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat);let n=this.options.anchor;const r=Or(this.options.offset);if(!n){const t=this._container.offsetWidth,i=this._container.offsetHeight;let s;s=e.y+r.bottom.y<i?["top"]:e.y>this._map.transform.height-i?["bottom"]:[],e.x<t/2?s.push("left"):e.x>this._map.transform.width-t/2&&s.push("right"),n=0===s.length?"bottom":s.join("-")}const s=e.add(r[n]).round();i.setTransform(this._container,`${Cr[n]} translate(${s.x}px,${s.y}px)`),Tr(this._container,n,"popup")},this._onClose=()=>{this.remove()},this.options=t.e(Object.create(Lr),e)}addTo(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new t.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.L.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(t){return this.setDOMContent(document.createTextNode(t))}setHTML(t){const e=document.createDocumentFragment(),i=document.createElement("body");let n;for(i.innerHTML=t;n=i.firstChild,n;)e.appendChild(n);return this.setDOMContent(e)}getMaxWidth(){var t;return null===(t=this._container)||void 0===t?void 0:t.style.maxWidth}setMaxWidth(t){return this.options.maxWidth=t,this._update(),this}setDOMContent(t){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=i.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(t),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(t){this._container&&this._container.classList.add(t)}removeClassName(t){this._container&&this._container.classList.remove(t)}setOffset(t){return this.options.offset=t,this._update(),this}toggleClassName(t){if(this._container)return this._container.classList.toggle(t)}_createCloseButton(){this.options.closeButton&&(this._closeButton=i.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const t=this._container.querySelector(zr);t&&t.focus()}},Br.Marker=kr,Br.Style=ne,Br.LngLat=t.L,Br.LngLatBounds=D,Br.Point=t.P,Br.MercatorCoordinate=t.U,Br.Evented=t.E,Br.AJAXError=t.bi,Br.config=t.c,Br.CanvasSource=U,Br.GeoJSONSource=R,Br.ImageSource=N,Br.RasterDEMTileSource=F,Br.RasterTileSource=O,Br.VectorTileSource=z,Br.VideoSource=j,Br.setRTLTextPlugin=t.bj,Br.getRTLTextPluginStatus=t.bk,Br.prewarm=function(){nt().acquire(Q)},Br.clearPrewarmedResources=function(){const t=it;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(Q),it=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},Fr.extend(Br,{isSafari:t.ac,getPerformanceMetrics:t.bg.getPerformanceMetrics}),Br}));var r=i;return r}))},5121:function(t,e,i){"use strict";i.d(e,{Z:function(){return Ve}});var n={};function r(t,e){return function(){return t.apply(e,arguments)}}i.r(n),i.d(n,{hasBrowserEnv:function(){return Dt},hasStandardBrowserEnv:function(){return Lt},hasStandardBrowserWebWorkerEnv:function(){return zt}});const{toString:s}=Object.prototype,{getPrototypeOf:o}=Object,a=(t=>e=>{const i=s.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),l=t=>(t=t.toLowerCase(),e=>a(e)===t),c=t=>e=>typeof e===t,{isArray:h}=Array,u=c("undefined");function d(t){return null!==t&&!u(t)&&null!==t.constructor&&!u(t.constructor)&&g(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const p=l("ArrayBuffer");function f(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&p(t.buffer),e}const m=c("string"),g=c("function"),y=c("number"),x=t=>null!==t&&"object"===typeof t,v=t=>!0===t||!1===t,b=t=>{if("object"!==a(t))return!1;const e=o(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_=l("Date"),w=l("File"),S=l("Blob"),C=l("FileList"),T=t=>x(t)&&g(t.pipe),k=t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||g(t.append)&&("formdata"===(e=a(t))||"object"===e&&g(t.toString)&&"[object FormData]"===t.toString()))},A=l("URLSearchParams"),I=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function M(t,e,{allOwnKeys:i=!1}={}){if(null===t||"undefined"===typeof t)return;let n,r;if("object"!==typeof t&&(t=[t]),h(t))for(n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else{const r=i?Object.getOwnPropertyNames(t):Object.keys(t),s=r.length;let o;for(n=0;n<s;n++)o=r[n],e.call(null,t[o],o,t)}}function P(t,e){e=e.toLowerCase();const i=Object.keys(t);let n,r=i.length;while(r-- >0)if(n=i[r],e===n.toLowerCase())return n;return null}const E=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),D=t=>!u(t)&&t!==E;function L(){const{caseless:t}=D(this)&&this||{},e={},i=(i,n)=>{const r=t&&P(e,n)||n;b(e[r])&&b(i)?e[r]=L(e[r],i):b(i)?e[r]=L({},i):h(i)?e[r]=i.slice():e[r]=i};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&M(arguments[n],i);return e}const z=(t,e,i,{allOwnKeys:n}={})=>(M(e,((e,n)=>{i&&g(e)?t[n]=r(e,i):t[n]=e}),{allOwnKeys:n}),t),O=t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),F=(t,e,i,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},R=(t,e,i,n)=>{let r,s,a;const l={};if(e=e||{},null==t)return e;do{r=Object.getOwnPropertyNames(t),s=r.length;while(s-- >0)a=r[s],n&&!n(a,t,e)||l[a]||(e[a]=t[a],l[a]=!0);t=!1!==i&&o(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},B=(t,e,i)=>{t=String(t),(void 0===i||i>t.length)&&(i=t.length),i-=e.length;const n=t.indexOf(e,i);return-1!==n&&n===i},N=t=>{if(!t)return null;if(h(t))return t;let e=t.length;if(!y(e))return null;const i=new Array(e);while(e-- >0)i[e]=t[e];return i},j=(t=>e=>t&&e instanceof t)("undefined"!==typeof Uint8Array&&o(Uint8Array)),U=(t,e)=>{const i=t&&t[Symbol.iterator],n=i.call(t);let r;while((r=n.next())&&!r.done){const i=r.value;e.call(t,i[0],i[1])}},V=(t,e)=>{let i;const n=[];while(null!==(i=t.exec(e)))n.push(i);return n},$=l("HTMLFormElement"),H=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,i){return e.toUpperCase()+i})),q=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),G=l("RegExp"),W=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),n={};M(i,((i,r)=>{let s;!1!==(s=e(i,r,t))&&(n[r]=s||i)})),Object.defineProperties(t,n)},X=t=>{W(t,((e,i)=>{if(g(t)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;const n=t[i];g(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")}))}))},Y=(t,e)=>{const i={},n=t=>{t.forEach((t=>{i[t]=!0}))};return h(t)?n(t):n(String(t).split(e)),i},Z=()=>{},K=(t,e)=>(t=+t,Number.isFinite(t)?t:e),J="abcdefghijklmnopqrstuvwxyz",Q="0123456789",tt={DIGIT:Q,ALPHA:J,ALPHA_DIGIT:J+J.toUpperCase()+Q},et=(t=16,e=tt.ALPHA_DIGIT)=>{let i="";const{length:n}=e;while(t--)i+=e[Math.random()*n|0];return i};function it(t){return!!(t&&g(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])}const nt=t=>{const e=new Array(10),i=(t,n)=>{if(x(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[n]=t;const r=h(t)?[]:{};return M(t,((t,e)=>{const s=i(t,n+1);!u(s)&&(r[e]=s)})),e[n]=void 0,r}}return t};return i(t,0)},rt=l("AsyncFunction"),st=t=>t&&(x(t)||g(t))&&g(t.then)&&g(t.catch);var ot={isArray:h,isArrayBuffer:p,isBuffer:d,isFormData:k,isArrayBufferView:f,isString:m,isNumber:y,isBoolean:v,isObject:x,isPlainObject:b,isUndefined:u,isDate:_,isFile:w,isBlob:S,isRegExp:G,isFunction:g,isStream:T,isURLSearchParams:A,isTypedArray:j,isFileList:C,forEach:M,merge:L,extend:z,trim:I,stripBOM:O,inherits:F,toFlatObject:R,kindOf:a,kindOfTest:l,endsWith:B,toArray:N,forEachEntry:U,matchAll:V,isHTMLForm:$,hasOwnProperty:q,hasOwnProp:q,reduceDescriptors:W,freezeMethods:X,toObjectSet:Y,toCamelCase:H,noop:Z,toFiniteNumber:K,findKey:P,global:E,isContextDefined:D,ALPHABET:tt,generateString:et,isSpecCompliantForm:it,toJSONObject:nt,isAsyncFn:rt,isThenable:st};function at(t,e,i,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),n&&(this.request=n),r&&(this.response=r)}ot.inherits(at,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ot.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const lt=at.prototype,ct={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{ct[t]={value:t}})),Object.defineProperties(at,ct),Object.defineProperty(lt,"isAxiosError",{value:!0}),at.from=(t,e,i,n,r,s)=>{const o=Object.create(lt);return ot.toFlatObject(t,o,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),at.call(o,t.message,e,i,n,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};var ht=at,ut=null;function dt(t){return ot.isPlainObject(t)||ot.isArray(t)}function pt(t){return ot.endsWith(t,"[]")?t.slice(0,-2):t}function ft(t,e,i){return t?t.concat(e).map((function(t,e){return t=pt(t),!i&&e?"["+t+"]":t})).join(i?".":""):e}function mt(t){return ot.isArray(t)&&!t.some(dt)}const gt=ot.toFlatObject(ot,{},null,(function(t){return/^is[A-Z]/.test(t)}));function yt(t,e,i){if(!ot.isObject(t))throw new TypeError("target must be an object");e=e||new(ut||FormData),i=ot.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!ot.isUndefined(e[t])}));const n=i.metaTokens,r=i.visitor||h,s=i.dots,o=i.indexes,a=i.Blob||"undefined"!==typeof Blob&&Blob,l=a&&ot.isSpecCompliantForm(e);if(!ot.isFunction(r))throw new TypeError("visitor must be a function");function c(t){if(null===t)return"";if(ot.isDate(t))return t.toISOString();if(!l&&ot.isBlob(t))throw new ht("Blob is not supported. Use a Buffer instead.");return ot.isArrayBuffer(t)||ot.isTypedArray(t)?l&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function h(t,i,r){let a=t;if(t&&!r&&"object"===typeof t)if(ot.endsWith(i,"{}"))i=n?i:i.slice(0,-2),t=JSON.stringify(t);else if(ot.isArray(t)&&mt(t)||(ot.isFileList(t)||ot.endsWith(i,"[]"))&&(a=ot.toArray(t)))return i=pt(i),a.forEach((function(t,n){!ot.isUndefined(t)&&null!==t&&e.append(!0===o?ft([i],n,s):null===o?i:i+"[]",c(t))})),!1;return!!dt(t)||(e.append(ft(r,i,s),c(t)),!1)}const u=[],d=Object.assign(gt,{defaultVisitor:h,convertValue:c,isVisitable:dt});function p(t,i){if(!ot.isUndefined(t)){if(-1!==u.indexOf(t))throw Error("Circular reference detected in "+i.join("."));u.push(t),ot.forEach(t,(function(t,n){const s=!(ot.isUndefined(t)||null===t)&&r.call(e,t,ot.isString(n)?n.trim():n,i,d);!0===s&&p(t,i?i.concat(n):[n])})),u.pop()}}if(!ot.isObject(t))throw new TypeError("data must be an object");return p(t),e}var xt=yt;function vt(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function bt(t,e){this._pairs=[],t&&xt(t,this,e)}const _t=bt.prototype;_t.append=function(t,e){this._pairs.push([t,e])},_t.toString=function(t){const e=t?function(e){return t.call(this,e,vt)}:vt;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var wt=bt;function St(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ct(t,e,i){if(!e)return t;const n=i&&i.encode||St,r=i&&i.serialize;let s;if(s=r?r(e,i):ot.isURLSearchParams(e)?e.toString():new wt(e,i).toString(n),s){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}class Tt{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ot.forEach(this.handlers,(function(e){null!==e&&t(e)}))}}var kt=Tt,At={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},It="undefined"!==typeof URLSearchParams?URLSearchParams:wt,Mt="undefined"!==typeof FormData?FormData:null,Pt="undefined"!==typeof Blob?Blob:null,Et={isBrowser:!0,classes:{URLSearchParams:It,FormData:Mt,Blob:Pt},protocols:["http","https","file","blob","url","data"]};const Dt="undefined"!==typeof window&&"undefined"!==typeof document,Lt=(t=>Dt&&["ReactNative","NativeScript","NS"].indexOf(t)<0)("undefined"!==typeof navigator&&navigator.product),zt=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)();var Ot={...n,...Et};function Ft(t,e){return xt(t,new Ot.classes.URLSearchParams,Object.assign({visitor:function(t,e,i,n){return Ot.isNode&&ot.isBuffer(t)?(this.append(e,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}function Rt(t){return ot.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}function Bt(t){const e={},i=Object.keys(t);let n;const r=i.length;let s;for(n=0;n<r;n++)s=i[n],e[s]=t[s];return e}function Nt(t){function e(t,i,n,r){let s=t[r++];const o=Number.isFinite(+s),a=r>=t.length;if(s=!s&&ot.isArray(n)?n.length:s,a)return ot.hasOwnProp(n,s)?n[s]=[n[s],i]:n[s]=i,!o;n[s]&&ot.isObject(n[s])||(n[s]=[]);const l=e(t,i,n[s],r);return l&&ot.isArray(n[s])&&(n[s]=Bt(n[s])),!o}if(ot.isFormData(t)&&ot.isFunction(t.entries)){const i={};return ot.forEachEntry(t,((t,n)=>{e(Rt(t),n,i,0)})),i}return null}var jt=Nt;function Ut(t,e,i){if(ot.isString(t))try{return(e||JSON.parse)(t),ot.trim(t)}catch(n){if("SyntaxError"!==n.name)throw n}return(i||JSON.stringify)(t)}const Vt={transitional:At,adapter:["xhr","http"],transformRequest:[function(t,e){const i=e.getContentType()||"",n=i.indexOf("application/json")>-1,r=ot.isObject(t);r&&ot.isHTMLForm(t)&&(t=new FormData(t));const s=ot.isFormData(t);if(s)return n&&n?JSON.stringify(jt(t)):t;if(ot.isArrayBuffer(t)||ot.isBuffer(t)||ot.isStream(t)||ot.isFile(t)||ot.isBlob(t))return t;if(ot.isArrayBufferView(t))return t.buffer;if(ot.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Ft(t,this.formSerializer).toString();if((o=ot.isFileList(t))||i.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return xt(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return r||n?(e.setContentType("application/json",!1),Ut(t)):t}],transformResponse:[function(t){const e=this.transitional||Vt.transitional,i=e&&e.forcedJSONParsing,n="json"===this.responseType;if(t&&ot.isString(t)&&(i&&!this.responseType||n)){const i=e&&e.silentJSONParsing,s=!i&&n;try{return JSON.parse(t)}catch(r){if(s){if("SyntaxError"===r.name)throw ht.from(r,ht.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ot.forEach(["delete","get","head","post","put","patch"],(t=>{Vt.headers[t]={}}));var $t=Vt;const Ht=ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var qt=t=>{const e={};let i,n,r;return t&&t.split("\n").forEach((function(t){r=t.indexOf(":"),i=t.substring(0,r).trim().toLowerCase(),n=t.substring(r+1).trim(),!i||e[i]&&Ht[i]||("set-cookie"===i?e[i]?e[i].push(n):e[i]=[n]:e[i]=e[i]?e[i]+", "+n:n)})),e};const Gt=Symbol("internals");function Wt(t){return t&&String(t).trim().toLowerCase()}function Xt(t){return!1===t||null==t?t:ot.isArray(t)?t.map(Xt):String(t)}function Yt(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;while(n=i.exec(t))e[n[1]]=n[2];return e}const Zt=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Kt(t,e,i,n,r){return ot.isFunction(n)?n.call(this,e,i):(r&&(e=i),ot.isString(e)?ot.isString(n)?-1!==e.indexOf(n):ot.isRegExp(n)?n.test(e):void 0:void 0)}function Jt(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,i)=>e.toUpperCase()+i))}function Qt(t,e){const i=ot.toCamelCase(" "+e);["get","set","has"].forEach((n=>{Object.defineProperty(t,n+i,{value:function(t,i,r){return this[n].call(this,e,t,i,r)},configurable:!0})}))}class te{constructor(t){t&&this.set(t)}set(t,e,i){const n=this;function r(t,e,i){const r=Wt(e);if(!r)throw new Error("header name must be a non-empty string");const s=ot.findKey(n,r);(!s||void 0===n[s]||!0===i||void 0===i&&!1!==n[s])&&(n[s||e]=Xt(t))}const s=(t,e)=>ot.forEach(t,((t,i)=>r(t,i,e)));return ot.isPlainObject(t)||t instanceof this.constructor?s(t,e):ot.isString(t)&&(t=t.trim())&&!Zt(t)?s(qt(t),e):null!=t&&r(e,t,i),this}get(t,e){if(t=Wt(t),t){const i=ot.findKey(this,t);if(i){const t=this[i];if(!e)return t;if(!0===e)return Yt(t);if(ot.isFunction(e))return e.call(this,t,i);if(ot.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Wt(t),t){const i=ot.findKey(this,t);return!(!i||void 0===this[i]||e&&!Kt(this,this[i],i,e))}return!1}delete(t,e){const i=this;let n=!1;function r(t){if(t=Wt(t),t){const r=ot.findKey(i,t);!r||e&&!Kt(i,i[r],r,e)||(delete i[r],n=!0)}}return ot.isArray(t)?t.forEach(r):r(t),n}clear(t){const e=Object.keys(this);let i=e.length,n=!1;while(i--){const r=e[i];t&&!Kt(this,this[r],r,t,!0)||(delete this[r],n=!0)}return n}normalize(t){const e=this,i={};return ot.forEach(this,((n,r)=>{const s=ot.findKey(i,r);if(s)return e[s]=Xt(n),void delete e[r];const o=t?Jt(r):String(r).trim();o!==r&&delete e[r],e[o]=Xt(n),i[o]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return ot.forEach(this,((i,n)=>{null!=i&&!1!==i&&(e[n]=t&&ot.isArray(i)?i.join(", "):i)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach((t=>i.set(t))),i}static accessor(t){const e=this[Gt]=this[Gt]={accessors:{}},i=e.accessors,n=this.prototype;function r(t){const e=Wt(t);i[e]||(Qt(n,t),i[e]=!0)}return ot.isArray(t)?t.forEach(r):r(t),this}}te.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ot.reduceDescriptors(te.prototype,(({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[i]=t}}})),ot.freezeMethods(te);var ee=te;function ie(t,e){const i=this||$t,n=e||i,r=ee.from(n.headers);let s=n.data;return ot.forEach(t,(function(t){s=t.call(i,s,r.normalize(),e?e.status:void 0)})),r.normalize(),s}function ne(t){return!(!t||!t.__CANCEL__)}function re(t,e,i){ht.call(this,null==t?"canceled":t,ht.ERR_CANCELED,e,i),this.name="CanceledError"}ot.inherits(re,ht,{__CANCEL__:!0});var se=re;function oe(t,e,i){const n=i.config.validateStatus;i.status&&n&&!n(i.status)?e(new ht("Request failed with status code "+i.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):t(i)}var ae=Ot.hasStandardBrowserEnv?{write(t,e,i,n,r,s){const o=[t+"="+encodeURIComponent(e)];ot.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),ot.isString(n)&&o.push("path="+n),ot.isString(r)&&o.push("domain="+r),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function le(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ce(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function he(t,e){return t&&!le(e)?ce(t,e):e}var ue=Ot.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let i;function n(i){let n=i;return t&&(e.setAttribute("href",n),n=e.href),e.setAttribute("href",n),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return i=n(window.location.href),function(t){const e=ot.isString(t)?n(t):t;return e.protocol===i.protocol&&e.host===i.host}}():function(){return function(){return!0}}();function de(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function pe(t,e){t=t||10;const i=new Array(t),n=new Array(t);let r,s=0,o=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),c=n[o];r||(r=l),i[s]=a,n[s]=l;let h=o,u=0;while(h!==s)u+=i[h++],h%=t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),l-r<e)return;const d=c&&l-c;return d?Math.round(1e3*u/d):void 0}}var fe=pe;function me(t,e){let i=0;const n=fe(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-i,l=n(a),c=s<=o;i=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:r};h[e?"download":"upload"]=!0,t(h)}}const ge="undefined"!==typeof XMLHttpRequest;var ye=ge&&function(t){return new Promise((function(e,i){let n=t.data;const r=ee.from(t.headers).normalize();let s,o,{responseType:a,withXSRFToken:l}=t;function c(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}if(ot.isFormData(n))if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if(!1!==(o=r.getContentType())){const[t,...e]=o?o.split(";").map((t=>t.trim())).filter(Boolean):[];r.setContentType([t||"multipart/form-data",...e].join("; "))}let h=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",i=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";r.set("Authorization","Basic "+btoa(e+":"+i))}const u=he(t.baseURL,t.url);function d(){if(!h)return;const n=ee.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),r=a&&"text"!==a&&"json"!==a?h.response:h.responseText,s={data:r,status:h.status,statusText:h.statusText,headers:n,config:t,request:h};oe((function(t){e(t),c()}),(function(t){i(t),c()}),s),h=null}if(h.open(t.method.toUpperCase(),Ct(u,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,"onloadend"in h?h.onloadend=d:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(d)},h.onabort=function(){h&&(i(new ht("Request aborted",ht.ECONNABORTED,t,h)),h=null)},h.onerror=function(){i(new ht("Network Error",ht.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const n=t.transitional||At;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),i(new ht(e,n.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,t,h)),h=null},Ot.hasStandardBrowserEnv&&(l&&ot.isFunction(l)&&(l=l(t)),l||!1!==l&&ue(u))){const e=t.xsrfHeaderName&&t.xsrfCookieName&&ae.read(t.xsrfCookieName);e&&r.set(t.xsrfHeaderName,e)}void 0===n&&r.setContentType(null),"setRequestHeader"in h&&ot.forEach(r.toJSON(),(function(t,e){h.setRequestHeader(e,t)})),ot.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),a&&"json"!==a&&(h.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&h.addEventListener("progress",me(t.onDownloadProgress,!0)),"function"===typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",me(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=e=>{h&&(i(!e||e.type?new se(null,t,h):e),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const p=de(u);p&&-1===Ot.protocols.indexOf(p)?i(new ht("Unsupported protocol "+p+":",ht.ERR_BAD_REQUEST,t)):h.send(n||null)}))};const xe={http:ut,xhr:ye};ot.forEach(xe,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(i){}Object.defineProperty(t,"adapterName",{value:e})}}));const ve=t=>`- ${t}`,be=t=>ot.isFunction(t)||null===t||!1===t;var _e={getAdapter:t=>{t=ot.isArray(t)?t:[t];const{length:e}=t;let i,n;const r={};for(let s=0;s<e;s++){let e;if(i=t[s],n=i,!be(i)&&(n=xe[(e=String(i)).toLowerCase()],void 0===n))throw new ht(`Unknown adapter '${e}'`);if(n)break;r[e||"#"+s]=n}if(!n){const t=Object.entries(r).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));let i=e?t.length>1?"since :\n"+t.map(ve).join("\n"):" "+ve(t[0]):"as no adapter specified";throw new ht("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:xe};function we(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new se(null,t)}function Se(t){we(t),t.headers=ee.from(t.headers),t.data=ie.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);const e=_e.getAdapter(t.adapter||$t.adapter);return e(t).then((function(e){return we(t),e.data=ie.call(t,t.transformResponse,e),e.headers=ee.from(e.headers),e}),(function(e){return ne(e)||(we(t),e&&e.response&&(e.response.data=ie.call(t,t.transformResponse,e.response),e.response.headers=ee.from(e.response.headers))),Promise.reject(e)}))}const Ce=t=>t instanceof ee?t.toJSON():t;function Te(t,e){e=e||{};const i={};function n(t,e,i){return ot.isPlainObject(t)&&ot.isPlainObject(e)?ot.merge.call({caseless:i},t,e):ot.isPlainObject(e)?ot.merge({},e):ot.isArray(e)?e.slice():e}function r(t,e,i){return ot.isUndefined(e)?ot.isUndefined(t)?void 0:n(void 0,t,i):n(t,e,i)}function s(t,e){if(!ot.isUndefined(e))return n(void 0,e)}function o(t,e){return ot.isUndefined(e)?ot.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function a(i,r,s){return s in e?n(i,r):s in t?n(void 0,i):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(t,e)=>r(Ce(t),Ce(e),!0)};return ot.forEach(Object.keys(Object.assign({},t,e)),(function(n){const s=l[n]||r,o=s(t[n],e[n],n);ot.isUndefined(o)&&s!==a||(i[n]=o)})),i}const ke="1.6.2",Ae={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Ae[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}}));const Ie={};function Me(t,e,i){if("object"!==typeof t)throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let r=n.length;while(r-- >0){const s=n[r],o=e[s];if(o){const e=t[s],i=void 0===e||o(e,s,t);if(!0!==i)throw new ht("option "+s+" must be "+i,ht.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new ht("Unknown option "+s,ht.ERR_BAD_OPTION)}}Ae.transitional=function(t,e,i){function n(t,e){return"[Axios v"+ke+"] Transitional option '"+t+"'"+e+(i?". "+i:"")}return(i,r,s)=>{if(!1===t)throw new ht(n(r," has been removed"+(e?" in "+e:"")),ht.ERR_DEPRECATED);return e&&!Ie[r]&&(Ie[r]=!0,console.warn(n(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(i,r,s)}};var Pe={assertOptions:Me,validators:Ae};const Ee=Pe.validators;class De{constructor(t){this.defaults=t,this.interceptors={request:new kt,response:new kt}}request(t,e){"string"===typeof t?(e=e||{},e.url=t):e=t||{},e=Te(this.defaults,e);const{transitional:i,paramsSerializer:n,headers:r}=e;void 0!==i&&Pe.assertOptions(i,{silentJSONParsing:Ee.transitional(Ee.boolean),forcedJSONParsing:Ee.transitional(Ee.boolean),clarifyTimeoutError:Ee.transitional(Ee.boolean)},!1),null!=n&&(ot.isFunction(n)?e.paramsSerializer={serialize:n}:Pe.assertOptions(n,{encode:Ee.function,serialize:Ee.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=r&&ot.merge(r.common,r[e.method]);r&&ot.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete r[t]})),e.headers=ee.concat(s,r);const o=[];let a=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,o.unshift(t.fulfilled,t.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let h,u=0;if(!a){const t=[Se.bind(this),void 0];t.unshift.apply(t,o),t.push.apply(t,l),h=t.length,c=Promise.resolve(e);while(u<h)c=c.then(t[u++],t[u++]);return c}h=o.length;let d=e;u=0;while(u<h){const t=o[u++],e=o[u++];try{d=t(d)}catch(p){e.call(this,p);break}}try{c=Se.call(this,d)}catch(p){return Promise.reject(p)}u=0,h=l.length;while(u<h)c=c.then(l[u++],l[u++]);return c}getUri(t){t=Te(this.defaults,t);const e=he(t.baseURL,t.url);return Ct(e,t.params,t.paramsSerializer)}}ot.forEach(["delete","get","head","options"],(function(t){De.prototype[t]=function(e,i){return this.request(Te(i||{},{method:t,url:e,data:(i||{}).data}))}})),ot.forEach(["post","put","patch"],(function(t){function e(e){return function(i,n,r){return this.request(Te(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}De.prototype[t]=e(),De.prototype[t+"Form"]=e(!0)}));var Le=De;class ze{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const i=this;this.promise.then((t=>{if(!i._listeners)return;let e=i._listeners.length;while(e-- >0)i._listeners[e](t);i._listeners=null})),this.promise.then=t=>{let e;const n=new Promise((t=>{i.subscribe(t),e=t})).then(t);return n.cancel=function(){i.unsubscribe(e)},n},t((function(t,n,r){i.reason||(i.reason=new se(t,n,r),e(i.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;const e=new ze((function(e){t=e}));return{token:e,cancel:t}}}var Oe=ze;function Fe(t){return function(e){return t.apply(null,e)}}function Re(t){return ot.isObject(t)&&!0===t.isAxiosError}const Be={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Be).forEach((([t,e])=>{Be[e]=t}));var Ne=Be;function je(t){const e=new Le(t),i=r(Le.prototype.request,e);return ot.extend(i,Le.prototype,e,{allOwnKeys:!0}),ot.extend(i,e,null,{allOwnKeys:!0}),i.create=function(e){return je(Te(t,e))},i}const Ue=je($t);Ue.Axios=Le,Ue.CanceledError=se,Ue.CancelToken=Oe,Ue.isCancel=ne,Ue.VERSION=ke,Ue.toFormData=xt,Ue.AxiosError=ht,Ue.Cancel=Ue.CanceledError,Ue.all=function(t){return Promise.all(t)},Ue.spread=Fe,Ue.isAxiosError=Re,Ue.mergeConfig=Te,Ue.AxiosHeaders=ee,Ue.formToJSON=t=>jt(ot.isHTMLForm(t)?new FormData(t):t),Ue.getAdapter=_e.getAdapter,Ue.HttpStatusCode=Ne,Ue.default=Ue;var Ve=Ue},5700:function(t,e,i){"use strict";var n=i(9755),r=i(991);
/*! DataTables Bootstrap 5 integration
 * 2020 SpryMedia Ltd - datatables.net/license
 */
let s=n;s.extend(!0,r["default"].defaults,{dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>><'row dt-row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",renderer:"bootstrap"}),s.extend(r["default"].ext.classes,{sWrapper:"dataTables_wrapper dt-bootstrap5",sFilterInput:"form-control form-control-sm",sLengthSelect:"form-select form-select-sm",sProcessing:"dataTables_processing card",sPageButton:"paginate_button page-item"}),r["default"].ext.renderer.pageButton.bootstrap=function(t,e,i,n,o,a){var l,c,h,u=new r["default"].Api(t),d=t.oClasses,p=t.oLanguage.oPaginate,f=t.oLanguage.oAria.paginate||{},m=function(e,n){var r,h,g,y,x=function(t){t.preventDefault(),s(t.currentTarget).hasClass("disabled")||u.page()==t.data.action||u.page(t.data.action).draw("page")};for(r=0,h=n.length;r<h;r++)if(y=n[r],Array.isArray(y))m(e,y);else{switch(l="",c="",y){case"ellipsis":l="&#x2026;",c="disabled";break;case"first":l=p.sFirst,c=y+(o>0?"":" disabled");break;case"previous":l=p.sPrevious,c=y+(o>0?"":" disabled");break;case"next":l=p.sNext,c=y+(o<a-1?"":" disabled");break;case"last":l=p.sLast,c=y+(o<a-1?"":" disabled");break;default:l=y+1,c=o===y?"active":"";break}if(l){var v=-1!==c.indexOf("disabled");g=s("<li>",{class:d.sPageButton+" "+c,id:0===i&&"string"===typeof y?t.sTableId+"_"+y:null}).append(s("<a>",{href:v?null:"#","aria-controls":t.sTableId,"aria-disabled":v?"true":null,"aria-label":f[y],role:"link","aria-current":"active"===c?"page":null,"data-dt-idx":y,tabindex:v?-1:t.iTabIndex,class:"page-link"}).html(l)).appendTo(e),t.oApi._fnBindAction(g,{action:y},x)}}},g=s(e);try{h=g.find(document.activeElement).data("dt-idx")}catch(x){}var y=g.children("ul.pagination");y.length?y.empty():y=g.html("<ul/>").children("ul").addClass("pagination"),m(y,n),void 0!==h&&g.find("[data-dt-idx="+h+"]").trigger("focus")},e.Z=r["default"]},635:function(t,e,i){"use strict";var n=i(9755),r=i(5700);i(8336);
/*! Bootstrap integration for DataTables' Buttons
 * © SpryMedia Ltd - datatables.net/license
 */
let s=n;s.extend(!0,r.Z.Buttons.defaults,{dom:{container:{className:"dt-buttons btn-group flex-wrap"},button:{className:"btn btn-secondary",active:"active"},collection:{action:{dropHtml:""},container:{tag:"div",className:"dropdown-menu dt-button-collection"},closeButton:!1,button:{tag:"a",className:"dt-button dropdown-item",active:"dt-button-active",disabled:"disabled",spacer:{className:"dropdown-divider",tag:"hr"}}},split:{action:{tag:"a",className:"btn btn-secondary dt-button-split-drop-button",closeButton:!1},dropdown:{tag:"button",dropHtml:"",className:"btn btn-secondary dt-button-split-drop dropdown-toggle dropdown-toggle-split",closeButton:!1,align:"split-left",splitAlignClass:"dt-button-split-left"},wrapper:{tag:"div",className:"dt-button-split btn-group",closeButton:!1}}},buttonCreated:function(t,e){return t.buttons?s('<div class="btn-group"/>').append(e):e}}),r.Z.ext.buttons.collection.className+=" dropdown-toggle",r.Z.ext.buttons.collection.rightAlignClassName="dropdown-menu-right"},7521:function(t,e,i){"use strict";var n=i(9755),r=i(991);i(8336);
/*!
 * Column visibility buttons for Buttons and DataTables.
 * © SpryMedia Ltd - datatables.net/license
 */
let s=n;s.extend(r["default"].ext.buttons,{colvis:function(t,e){var i=null,n={extend:"collection",init:function(t,e){i=e},text:function(t){return t.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",closeButton:!1,buttons:[{extend:"columnsToggle",columns:e.columns,columnText:e.columnText}]};return t.on("column-reorder.dt"+e.namespace,(function(n,r,s){t.button(null,t.button(null,i).node()).collectionRebuild([{extend:"columnsToggle",columns:e.columns,columnText:e.columnText}])})),n},columnsToggle:function(t,e){var i=t.columns(e.columns).indexes().map((function(t){return{extend:"columnToggle",columns:t,columnText:e.columnText}})).toArray();return i},columnToggle:function(t,e){return{extend:"columnVisibility",columns:e.columns,columnText:e.columnText}},columnsVisibility:function(t,e){var i=t.columns(e.columns).indexes().map((function(t){return{extend:"columnVisibility",columns:t,visibility:e.visibility,columnText:e.columnText}})).toArray();return i},columnVisibility:{columns:void 0,text:function(t,e,i){return i._columnText(t,i)},className:"buttons-columnVisibility",action:function(t,e,i,n){var r=e.columns(n.columns),s=r.visible();r.visible(void 0!==n.visibility?n.visibility:!(s.length&&s[0]))},init:function(t,e,i){var n=this;e.attr("data-cv-idx",i.columns),t.on("column-visibility.dt"+i.namespace,(function(e,r){r.bDestroying||r.nTable!=t.settings()[0].nTable||n.active(t.column(i.columns).visible())})).on("column-reorder.dt"+i.namespace,(function(e,r,s){i.destroying||1===t.columns(i.columns).count()&&(n.text(i._columnText(t,i)),n.active(t.column(i.columns).visible()))})),this.active(t.column(i.columns).visible())},destroy:function(t,e,i){t.off("column-visibility.dt"+i.namespace).off("column-reorder.dt"+i.namespace)},_columnText:function(t,e){var i=t.column(e.columns).index(),n=t.settings()[0].aoColumns[i].sTitle;return n||(n=t.column(i).header().innerHTML),n=n.replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select>/g,"").replace(/<!\-\-.*?\-\->/g,"").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),e.columnText?e.columnText(t,i,n):n}},colvisRestore:{className:"buttons-colvisRestore",text:function(t){return t.i18n("buttons.colvisRestore","Restore visibility")},init:function(t,e,i){i._visOriginal=t.columns().indexes().map((function(e){return t.column(e).visible()})).toArray()},action:function(t,e,i,n){e.columns().every((function(t){var i=e.colReorder&&e.colReorder.transpose?e.colReorder.transpose(t,"toOriginal"):t;this.visible(n._visOriginal[i])}))}},colvisGroup:{className:"buttons-colvisGroup",action:function(t,e,i,n){e.columns(n.show).visible(!0,!1),e.columns(n.hide).visible(!1,!1),e.columns.adjust()},show:[],hide:[]}})},1219:function(t,e,i){"use strict";var n=i(9755),r=i(991);i(8336);
/*!
 * HTML5 export buttons for Buttons and DataTables.
 * © SpryMedia Ltd - datatables.net/license
 *
 * FileSaver.js (1.3.3) - MIT license
 * Copyright © 2016 Eli Grey - http://eligrey.com
 */
let s=n;var o,a;function l(){return o||window.JSZip}function c(){return a||window.pdfMake}r["default"].Buttons.pdfMake=function(t){if(!t)return c();a=t},r["default"].Buttons.jszip=function(t){if(!t)return l();o=t};var h=function(t){if(!("undefined"===typeof t||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,i=function(){return t.URL||t.webkitURL||t},n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,s=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},o=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},c="application/octet-stream",h=4e4,u=function(t){var e=function(){"string"===typeof t?i().revokeObjectURL(t):t.remove()};setTimeout(e,h)},d=function(t,e,i){e=[].concat(e);var n=e.length;while(n--){var r=t["on"+e[n]];if("function"===typeof r)try{r.call(t,i||t)}catch(s){l(s)}}},p=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},f=function(e,l,h){h||(e=p(e));var f,m=this,g=e.type,y=g===c,x=function(){d(m,"writestart progress write writeend".split(" "))},v=function(){if((a||y&&o)&&t.FileReader){var n=new FileReader;return n.onloadend=function(){var e=a?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;"),i=t.open(e,"_blank");i||(t.location.href=e),e=void 0,m.readyState=m.DONE,x()},n.readAsDataURL(e),void(m.readyState=m.INIT)}if(f||(f=i().createObjectURL(e)),y)t.location.href=f;else{var r=t.open(f,"_blank");r||(t.location.href=f)}m.readyState=m.DONE,x(),u(f)};if(m.readyState=m.INIT,r)return f=i().createObjectURL(e),void setTimeout((function(){n.href=f,n.download=l,s(n),x(),u(f),m.readyState=m.DONE}));v()},m=f.prototype,g=function(t,e,i){return new f(t,e||t.name||"download",i)};return"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=p(t)),navigator.msSaveOrOpenBlob(t,e)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g)}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||(void 0).content);r["default"].fileSave=h;var u=function(t){var e="Sheet1";return t.sheetName&&(e=t.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),e},d=function(t){return t.newline?t.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},p=function(t,e){for(var i=d(e),n=t.buttons.exportData(e.exportOptions),r=e.fieldBoundary,s=e.fieldSeparator,o=new RegExp(r,"g"),a=void 0!==e.escapeChar?e.escapeChar:"\\",l=function(t){for(var e="",i=0,n=t.length;i<n;i++)i>0&&(e+=s),e+=r?r+(""+t[i]).replace(o,a+r)+r:t[i];return e},c=e.header?l(n.header)+i:"",h=e.footer&&n.footer?i+l(n.footer):"",u=[],p=0,f=n.body.length;p<f;p++)u.push(l(n.body[p]));return{str:c+u.join(i)+h,rows:u.length}},f=function(){var t=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("Opera");if(!t)return!1;var e=navigator.userAgent.match(/AppleWebKit\/(\d+\.\d+)/);return!!(e&&e.length>1&&1*e[1]<603.1)};function m(t){var e="A".charCodeAt(0),i="Z".charCodeAt(0),n=i-e+1,r="";while(t>=0)r=String.fromCharCode(t%n+e)+r,t=Math.floor(t/n)-1;return r}try{var g,y=new XMLSerializer}catch(S){}function x(t,e){void 0===g&&(g=-1===y.serializeToString((new window.DOMParser).parseFromString(_["xl/worksheets/sheet1.xml"],"text/xml")).indexOf("xmlns:r")),s.each(e,(function(e,i){if(s.isPlainObject(i)){var n=t.folder(e);x(n,i)}else{if(g){var r,o,a=i.childNodes[0],l=[];for(r=a.attributes.length-1;r>=0;r--){var c=a.attributes[r].nodeName,h=a.attributes[r].nodeValue;-1!==c.indexOf(":")&&(l.push({name:c,value:h}),a.removeAttribute(c))}for(r=0,o=l.length;r<o;r++){var u=i.createAttribute(l[r].name.replace(":","_dt_b_namespace_token_"));u.value=l[r].value,a.setAttributeNode(u)}}var d=y.serializeToString(i);g&&(-1===d.indexOf("<?xml")&&(d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+d),d=d.replace(/_dt_b_namespace_token_/g,":"),d=d.replace(/xmlns:NS[\d]+="" NS[\d]+:/g,"")),d=d.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g,"<$1 $2>"),t.file(e,d)}}))}function v(t,e,i){var n=t.createElement(e);return i&&(i.attr&&s(n).attr(i.attr),i.children&&s.each(i.children,(function(t,e){n.appendChild(e)})),null!==i.text&&void 0!==i.text&&n.appendChild(t.createTextNode(i.text))),n}function b(t,e){var i,n,r,s=t.header[e].length;t.footer&&t.footer[e].length>s&&(s=t.footer[e].length);for(var o=0,a=t.body.length;o<a;o++){var l=t.body[o][e];if(r=null!==l&&void 0!==l?l.toString():"",-1!==r.indexOf("\n")?(n=r.split("\n"),n.sort((function(t,e){return e.length-t.length})),i=n[0].length):i=r.length,i>s&&(s=i),s>40)return 54}return s*=1.35,s>6?s:6}var _={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><definedNames/></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/><mergeCells count="0"/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;£&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$€-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="68"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="1" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="2" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="14" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},w=[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(t){return t/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(t){return t/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?£[\d,]+.?\d*$/,style:58},{match:/^\-?€[\d,]+.?\d*$/,style:59},{match:/^\-?\d+$/,style:65},{match:/^\-?\d+\.\d{2}$/,style:66},{match:/^\([\d,]+\)$/,style:61,fmt:function(t){return-1*t.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(t){return-1*t.replace(/[\(\)]/g,"")}},{match:/^\-?[\d,]+$/,style:63},{match:/^\-?[\d,]+\.\d{2}$/,style:64},{match:/^[\d]{4}\-[01][\d]\-[0123][\d]$/,style:67,fmt:function(t){return Math.round(25569+Date.parse(t)/864e5)}}];r["default"].ext.buttons.copyHtml5={className:"buttons-copy buttons-html5",text:function(t){return t.i18n("buttons.copy","Copy")},action:function(t,e,i,n){this.processing(!0);var r=this,o=p(e,n),a=e.buttons.exportInfo(n),l=d(n),c=o.str,h=s("<div/>").css({height:1,width:1,overflow:"hidden",position:"fixed",top:0,left:0});a.title&&(c=a.title+l+l+c),a.messageTop&&(c=a.messageTop+l+l+c),a.messageBottom&&(c=c+l+l+a.messageBottom),n.customize&&(c=n.customize(c,n,e));var u=s("<textarea readonly/>").val(c).appendTo(h);if(document.queryCommandSupported("copy")){h.appendTo(e.table().container()),u[0].focus(),u[0].select();try{var f=document.execCommand("copy");if(h.remove(),f)return e.buttons.info(e.i18n("buttons.copyTitle","Copy to clipboard"),e.i18n("buttons.copySuccess",{1:"Copied one row to clipboard",_:"Copied %d rows to clipboard"},o.rows),2e3),void this.processing(!1)}catch(S){}}var m=s("<span>"+e.i18n("buttons.copyKeys","Press <i>ctrl</i> or <i>⌘</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.")+"</span>").append(h);e.buttons.info(e.i18n("buttons.copyTitle","Copy to clipboard"),m,0),u[0].focus(),u[0].select();var g=s(m).closest(".dt-button-info"),y=function(){g.off("click.buttons-copy"),s(document).off(".buttons-copy"),e.buttons.info(!1)};g.on("click.buttons-copy",y),s(document).on("keydown.buttons-copy",(function(t){27===t.keyCode&&(y(),r.processing(!1))})).on("copy.buttons-copy cut.buttons-copy",(function(){y(),r.processing(!1)}))},exportOptions:{},fieldSeparator:"\t",fieldBoundary:"",header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*"},r["default"].ext.buttons.csvHtml5={bom:!1,className:"buttons-csv buttons-html5",available:function(){return void 0!==window.FileReader&&window.Blob},text:function(t){return t.i18n("buttons.csv","CSV")},action:function(t,e,i,n){this.processing(!0);var r=p(e,n).str,s=e.buttons.exportInfo(n),o=n.charset;n.customize&&(r=n.customize(r,n,e)),!1!==o?(o||(o=document.characterSet||document.charset),o&&(o=";charset="+o)):o="",n.bom&&(r=String.fromCharCode(65279)+r),h(new Blob([r],{type:"text/csv"+o}),s.filename,!0),this.processing(!1)},filename:"*",extension:".csv",exportOptions:{},fieldSeparator:",",fieldBoundary:'"',escapeChar:'"',charset:null,header:!0,footer:!1},r["default"].ext.buttons.excelHtml5={className:"buttons-excel buttons-html5",available:function(){return void 0!==window.FileReader&&void 0!==l()&&!f()&&y},text:function(t){return t.i18n("buttons.excel","Excel")},action:function(t,e,i,n){this.processing(!0);var r,o,a,c,d=this,p=0,f=function(t){var e=_[t];return s.parseXML(e)},g=f("xl/worksheets/sheet1.xml"),y=g.getElementsByTagName("sheetData")[0],S={_rels:{".rels":f("_rels/.rels")},xl:{_rels:{"workbook.xml.rels":f("xl/_rels/workbook.xml.rels")},"workbook.xml":f("xl/workbook.xml"),"styles.xml":f("xl/styles.xml"),worksheets:{"sheet1.xml":g}},"[Content_Types].xml":f("[Content_Types].xml")},C=e.buttons.exportData(n.exportOptions),T=function(t){a=p+1,c=v(g,"row",{attr:{r:a}});for(var e=0,i=t.length;e<i;e++){var r=m(e)+""+a,s=null;if(null===t[e]||void 0===t[e]||""===t[e]){if(!0!==n.createEmptyCells)continue;t[e]=""}var o=t[e];t[e]="function"===typeof t[e].trim?t[e].trim():t[e];for(var l=0,h=w.length;l<h;l++){var u=w[l];if(t[e].match&&!t[e].match(/^0\d+/)&&t[e].match(u.match)){var d=t[e].replace(/[^\d\.\-]/g,"");u.fmt&&(d=u.fmt(d)),s=v(g,"c",{attr:{r:r,s:u.style},children:[v(g,"v",{text:d})]});break}}if(!s)if("number"===typeof t[e]||t[e].match&&t[e].match(/^-?\d+(\.\d+)?([eE]\-?\d+)?$/)&&!t[e].match(/^0\d+/))s=v(g,"c",{attr:{t:"n",r:r},children:[v(g,"v",{text:t[e]})]});else{var f=o.replace?o.replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):o;s=v(g,"c",{attr:{t:"inlineStr",r:r},children:{row:v(g,"is",{children:{row:v(g,"t",{text:f,attr:{"xml:space":"preserve"}})}})}})}c.appendChild(s)}y.appendChild(c),p++};n.customizeData&&n.customizeData(C);var k=function(t,e){var i=s("mergeCells",g);i[0].appendChild(v(g,"mergeCell",{attr:{ref:"A"+t+":"+m(e)+t}})),i.attr("count",parseFloat(i.attr("count"))+1),s("row:eq("+(t-1)+") c",g).attr("s","51")},A=e.buttons.exportInfo(n);A.title&&(T([A.title],p),k(p,C.header.length-1)),A.messageTop&&(T([A.messageTop],p),k(p,C.header.length-1)),n.header&&(T(C.header,p),s("row:last c",g).attr("s","2")),r=p;for(var I=0,M=C.body.length;I<M;I++)T(C.body[I],p);o=p,n.footer&&C.footer&&(T(C.footer,p),s("row:last c",g).attr("s","2")),A.messageBottom&&(T([A.messageBottom],p),k(p,C.header.length-1));var P=v(g,"cols");s("worksheet",g).prepend(P);for(var E=0,D=C.header.length;E<D;E++)P.appendChild(v(g,"col",{attr:{min:E+1,max:E+1,width:b(C,E),customWidth:1}}));var L=S.xl["workbook.xml"];s("sheets sheet",L).attr("name",u(n)),n.autoFilter&&(s("mergeCells",g).before(v(g,"autoFilter",{attr:{ref:"A"+r+":"+m(C.header.length-1)+o}})),s("definedNames",L).append(v(L,"definedName",{attr:{name:"_xlnm._FilterDatabase",localSheetId:"0",hidden:1},text:u(n)+"!$A$"+r+":"+m(C.header.length-1)+o}))),n.customize&&n.customize(S,n,e),0===s("mergeCells",g).children().length&&s("mergeCells",g).remove();var z=l(),O=new z,F={compression:"DEFLATE",type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};x(O,S);var R=A.filename;R>175&&(R=R.substr(0,175)),O.generateAsync?O.generateAsync(F).then((function(t){h(t,R),d.processing(!1)})):(h(O.generate(F),R),this.processing(!1))},filename:"*",extension:".xlsx",exportOptions:{},header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*",createEmptyCells:!1,autoFilter:!1,sheetName:""},r["default"].ext.buttons.pdfHtml5={className:"buttons-pdf buttons-html5",available:function(){return void 0!==window.FileReader&&c()},text:function(t){return t.i18n("buttons.pdf","PDF")},action:function(t,e,i,n){this.processing(!0);var r=e.buttons.exportData(n.exportOptions),o=e.buttons.exportInfo(n),a=[];n.header&&a.push(s.map(r.header,(function(t){return{text:"string"===typeof t?t:t+"",style:"tableHeader"}})));for(var l=0,h=r.body.length;l<h;l++)a.push(s.map(r.body[l],(function(t){return null!==t&&void 0!==t||(t=""),{text:"string"===typeof t?t:t+"",style:l%2?"tableBodyEven":"tableBodyOdd"}})));n.footer&&r.footer&&a.push(s.map(r.footer,(function(t){return{text:"string"===typeof t?t:t+"",style:"tableFooter"}})));var u={pageSize:n.pageSize,pageOrientation:n.orientation,content:[{table:{headerRows:1,body:a},layout:"noBorders"}],styles:{tableHeader:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154",alignment:"center"},tableBodyEven:{},tableBodyOdd:{fillColor:"#f3f3f3"},tableFooter:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154"},title:{alignment:"center",fontSize:15},message:{}},defaultStyle:{fontSize:10}};o.messageTop&&u.content.unshift({text:o.messageTop,style:"message",margin:[0,0,0,12]}),o.messageBottom&&u.content.push({text:o.messageBottom,style:"message",margin:[0,0,0,12]}),o.title&&u.content.unshift({text:o.title,style:"title",margin:[0,0,0,12]}),n.customize&&n.customize(u,n,e);var d=c().createPdf(u);"open"!==n.download||f()?d.download(o.filename):d.open(),this.processing(!1)},title:"*",filename:"*",extension:".pdf",exportOptions:{},orientation:"portrait",pageSize:"A4",header:!0,footer:!1,messageTop:"*",messageBottom:"*",customize:null,download:"download"}},8108:function(t,e,i){"use strict";var n=i(9755),r=i(991);i(8336);
/*!
 * Print button for Buttons and DataTables.
 * © SpryMedia Ltd - datatables.net/license
 */
let s=n;var o=document.createElement("a"),a=function(t){var e=s(t).clone()[0];return"link"===e.nodeName.toLowerCase()&&(e.href=l(e.href)),e.outerHTML},l=function(t){o.href=t;var e=o.host;return-1===e.indexOf("/")&&0!==o.pathname.indexOf("/")&&(e+="/"),o.protocol+"//"+e+o.pathname+o.search};r["default"].ext.buttons.print={className:"buttons-print",text:function(t){return t.i18n("buttons.print","Print")},action:function(t,e,i,n){var r=e.buttons.exportData(s.extend({decodeEntities:!1},n.exportOptions)),o=e.buttons.exportInfo(n),c=e.columns(n.exportOptions.columns).flatten().map((function(t){return e.settings()[0].aoColumns[e.column(t).index()].sClass})).toArray(),h=function(t,e){for(var i="<tr>",n=0,r=t.length;n<r;n++){var s=null===t[n]||void 0===t[n]?"":t[n],o=c[n]?'class="'+c[n]+'"':"";i+="<"+e+" "+o+">"+s+"</"+e+">"}return i+"</tr>"},u='<table class="'+e.table().node().className+'">';n.header&&(u+="<thead>"+h(r.header,"th")+"</thead>"),u+="<tbody>";for(var d=0,p=r.body.length;d<p;d++)u+=h(r.body[d],"td");u+="</tbody>",n.footer&&r.footer&&(u+="<tfoot>"+h(r.footer,"th")+"</tfoot>"),u+="</table>";var f=window.open("","");if(f){f.document.close();var m="<title>"+o.title+"</title>";s("style, link").each((function(){m+=a(this)}));try{f.document.head.innerHTML=m}catch(t){s(f.document.head).html(m)}f.document.body.innerHTML="<h1>"+o.title+"</h1><div>"+(o.messageTop||"")+"</div>"+u+"<div>"+(o.messageBottom||"")+"</div>",s(f.document.body).addClass("dt-print-view"),s("img",f.document.body).each((function(t,e){e.setAttribute("src",l(e.getAttribute("src")))})),n.customize&&n.customize(f,n,e);var g=function(){n.autoPrint&&(f.print(),f.close())};navigator.userAgent.match(/Trident\/\d.\d/)?g():f.setTimeout(g,1e3)}else e.buttons.info(e.i18n("buttons.printErrorTitle","Unable to open print view"),e.i18n("buttons.printErrorMsg","Please allow popups in your browser for this site to be able to view the print view."),5e3)},title:"*",messageTop:"*",messageBottom:"*",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:null}},8336:function(t,e,i){"use strict";i.r(e);var n=i(9755),r=i(991);
/*! Buttons for DataTables 2.4.2
 * © SpryMedia Ltd - datatables.net/license
 */
let s=n;var o=0,a=0,l=r["default"].ext.buttons,c=null;function h(t,e,i){s.fn.animate?t.stop().fadeIn(e,i):(t.css("display","block"),i&&i.call(t))}function u(t,e,i){s.fn.animate?t.stop().fadeOut(e,i):(t.css("display","none"),i&&i.call(t))}var d,p=function(t,e){if(!(this instanceof p))return function(e){return new p(e,t).container()};"undefined"===typeof e&&(e={}),!0===e&&(e={}),Array.isArray(e)&&(e={buttons:e}),this.c=s.extend(!0,{},p.defaults,e),e.buttons&&(this.c.buttons=e.buttons),this.s={dt:new r["default"].Api(t),buttons:[],listenKeys:"",namespace:"dtb"+o++},this.dom={container:s("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};s.extend(p.prototype,{action:function(t,e){var i=this._nodeToButton(t);return void 0===e?i.conf.action:(i.conf.action=e,this)},active:function(t,e){var i=this._nodeToButton(t),n=this.c.dom.button.active,r=s(i.node);return i.inCollection&&this.c.dom.collection.button&&void 0!==this.c.dom.collection.button.active&&(n=this.c.dom.collection.button.active),void 0===e?r.hasClass(n):(r.toggleClass(n,void 0===e||e),this)},add:function(t,e,i){var n=this.s.buttons;if("string"===typeof e){for(var r=e.split("-"),s=this.s,o=0,a=r.length-1;o<a;o++)s=s.buttons[1*r[o]];n=s.buttons,e=1*r[r.length-1]}return this._expandButton(n,t,void 0!==t?t.split:void 0,(void 0===t||void 0===t.split||0===t.split.length)&&void 0!==s,!1,e),void 0!==i&&!0!==i||this._draw(),this},collectionRebuild:function(t,e){var i=this._nodeToButton(t);if(void 0!==e){var n;for(n=i.buttons.length-1;n>=0;n--)this.remove(i.buttons[n].node);for(i.conf.prefixButtons&&e.unshift.apply(e,i.conf.prefixButtons),i.conf.postfixButtons&&e.push.apply(e,i.conf.postfixButtons),n=0;n<e.length;n++){var r=e[n];this._expandButton(i.buttons,r,void 0!==r&&void 0!==r.config&&void 0!==r.config.split,!0,void 0!==r.parentConf&&void 0!==r.parentConf.split,null,r.parentConf)}}this._draw(i.collection,i.buttons)},container:function(){return this.dom.container},disable:function(t){var e=this._nodeToButton(t);return s(e.node).addClass(this.c.dom.button.disabled).prop("disabled",!0),this},destroy:function(){s("body").off("keyup."+this.s.namespace);var t,e,i=this.s.buttons.slice();for(t=0,e=i.length;t<e;t++)this.remove(i[t].node);this.dom.container.remove();var n=this.s.dt.settings()[0];for(t=0,e=n.length;t<e;t++)if(n.inst===this){n.splice(t,1);break}return this},enable:function(t,e){if(!1===e)return this.disable(t);var i=this._nodeToButton(t);return s(i.node).removeClass(this.c.dom.button.disabled).prop("disabled",!1),this},index:function(t,e,i){e||(e="",i=this.s.buttons);for(var n=0,r=i.length;n<r;n++){var s=i[n].buttons;if(i[n].node===t)return e+n;if(s&&s.length){var o=this.index(t,n+"-",s);if(null!==o)return o}}return null},name:function(){return this.c.name},node:function(t){if(!t)return this.dom.container;var e=this._nodeToButton(t);return s(e.node)},processing:function(t,e){var i=this.s.dt,n=this._nodeToButton(t);return void 0===e?s(n.node).hasClass("processing"):(s(n.node).toggleClass("processing",e),s(i.table().node()).triggerHandler("buttons-processing.dt",[e,i.button(t),i,s(t),n.conf]),this)},remove:function(t){var e=this._nodeToButton(t),i=this._nodeToHost(t),n=this.s.dt;if(e.buttons.length)for(var r=e.buttons.length-1;r>=0;r--)this.remove(e.buttons[r].node);e.conf.destroying=!0,e.conf.destroy&&e.conf.destroy.call(n.button(t),n,s(t),e.conf),this._removeKey(e.conf),s(e.node).remove();var o=s.inArray(e,i);return i.splice(o,1),this},text:function(t,e){var i=this._nodeToButton(t),n=i.textNode,r=this.s.dt,o=s(i.node),a=function(t){return"function"===typeof t?t(r,o,i.conf):t};return void 0===e?a(i.conf.text):(i.conf.text=e,n.html(a(e)),this)},_constructor:function(){var t=this,e=this.s.dt,i=e.settings()[0],n=this.c.buttons;i._buttons||(i._buttons=[]),i._buttons.push({inst:this,name:this.c.name});for(var r=0,o=n.length;r<o;r++)this.add(n[r]);e.on("destroy",(function(e,n){n===i&&t.destroy()})),s("body").on("keyup."+this.s.namespace,(function(e){if(!document.activeElement||document.activeElement===document.body){var i=String.fromCharCode(e.keyCode).toLowerCase();-1!==t.s.listenKeys.toLowerCase().indexOf(i)&&t._keypress(i,e)}}))},_addKey:function(t){t.key&&(this.s.listenKeys+=s.isPlainObject(t.key)?t.key.key:t.key)},_draw:function(t,e){t||(t=this.dom.container,e=this.s.buttons),t.children().detach();for(var i=0,n=e.length;i<n;i++)t.append(e[i].inserter),t.append(" "),e[i].buttons&&e[i].buttons.length&&this._draw(e[i].collection,e[i].buttons)},_expandButton:function(t,e,i,n,r,o,a){var l=this.s.dt,c=!1,h=this.c.dom.collection,u=Array.isArray(e)?e:[e];void 0===e&&(u=Array.isArray(i)?i:[i]);for(var d=0,p=u.length;d<p;d++){var f=this._resolveExtends(u[d]);if(f)if(c=!(!f.config||!f.config.split),Array.isArray(f))this._expandButton(t,f,void 0!==m&&void 0!==m.conf?m.conf.split:void 0,n,void 0!==a&&void 0!==a.split,o,a);else{var m=this._buildButton(f,n,void 0!==f.split||void 0!==f.config&&void 0!==f.config.split,r);if(m){if(void 0!==o&&null!==o?(t.splice(o,0,m),o++):t.push(m),m.conf.buttons&&(m.collection=s("<"+h.container.content.tag+"/>"),m.conf._collection=m.collection,s(m.node).append(h.action.dropHtml),this._expandButton(m.buttons,m.conf.buttons,m.conf.split,!c,c,o,m.conf)),m.conf.split){m.collection=s("<"+h.container.tag+"/>"),m.conf._collection=m.collection;for(var g=0;g<m.conf.split.length;g++){var y=m.conf.split[g];"object"===typeof y&&(y.parent=a,void 0===y.collectionLayout&&(y.collectionLayout=m.conf.collectionLayout),void 0===y.dropup&&(y.dropup=m.conf.dropup),void 0===y.fade&&(y.fade=m.conf.fade))}this._expandButton(m.buttons,m.conf.buttons,m.conf.split,!c,c,o,m.conf)}m.conf.parent=a,f.init&&f.init.call(l.button(m.node),l,s(m.node),f)}}}},_buildButton:function(t,e,i,n){var r,o,c=this.c.dom,h=this.s.dt,u=function(e){return"function"===typeof e?e(h,o,t):e},d=s.extend(!0,{},c.button);if(e&&i&&c.collection.split?s.extend(!0,d,c.collection.split.action):n||e?s.extend(!0,d,c.collection.button):i&&s.extend(!0,d,c.split.button),t.spacer){var p=s("<"+d.spacer.tag+"/>").addClass("dt-button-spacer "+t.style+" "+d.spacer.className).html(u(t.text));return{conf:t,node:p,inserter:p,buttons:[],inCollection:e,isSplit:i,collection:null,textNode:p}}if(t.available&&!t.available(h,t)&&!t.hasOwnProperty("html"))return!1;if(t.hasOwnProperty("html"))o=s(t.html);else{var f=function(t,e,i,n){n.action.call(e.button(i),t,e,i,n),s(e.table().node()).triggerHandler("buttons-action.dt",[e.button(i),e,i,n])},m=t.tag||d.tag,g=void 0===t.clickBlurs||t.clickBlurs;if(o=s("<"+m+"/>").addClass(d.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",(function(e){e.preventDefault(),!o.hasClass(d.disabled)&&t.action&&f(e,h,o,t),g&&o.trigger("blur")})).on("keypress.dtb",(function(e){13===e.keyCode&&(e.preventDefault(),!o.hasClass(d.disabled)&&t.action&&f(e,h,o,t))})),"a"===m.toLowerCase()&&o.attr("href","#"),"button"===m.toLowerCase()&&o.attr("type","button"),d.liner.tag){var y=s("<"+d.liner.tag+"/>").html(u(t.text)).addClass(d.liner.className);"a"===d.liner.tag.toLowerCase()&&y.attr("href","#"),o.append(y),r=y}else o.html(u(t.text)),r=o;!1===t.enabled&&o.addClass(d.disabled),t.className&&o.addClass(t.className),t.titleAttr&&o.attr("title",u(t.titleAttr)),t.attr&&o.attr(t.attr),t.namespace||(t.namespace=".dt-button-"+a++),void 0!==t.config&&t.config.split&&(t.split=t.config.split)}var x,v,b=this.c.dom.buttonContainer;if(x=b&&b.tag?s("<"+b.tag+"/>").addClass(b.className).append(o):o,this._addKey(t),this.c.buttonCreated&&(x=this.c.buttonCreated(t,x)),i){var _=e?s.extend(!0,this.c.dom.split,this.c.dom.collection.split):this.c.dom.split,w=_.wrapper;v=s("<"+w.tag+"/>").addClass(w.className).append(o);var S=s.extend(t,{align:_.dropdown.align,attr:{"aria-haspopup":"dialog","aria-expanded":!1},className:_.dropdown.className,closeButton:!1,splitAlignClass:_.dropdown.splitAlignClass,text:_.dropdown.text});this._addKey(S);var C=function(t,e,i,n){l.split.action.call(e.button(v),t,e,i,n),s(e.table().node()).triggerHandler("buttons-action.dt",[e.button(i),e,i,n]),i.attr("aria-expanded",!0)},T=s('<button class="'+_.dropdown.className+' dt-button"></button>').html(_.dropdown.dropHtml).on("click.dtb",(function(t){t.preventDefault(),t.stopPropagation(),T.hasClass(d.disabled)||C(t,h,T,S),g&&T.trigger("blur")})).on("keypress.dtb",(function(t){13===t.keyCode&&(t.preventDefault(),T.hasClass(d.disabled)||C(t,h,T,S))}));0===t.split.length&&T.addClass("dtb-hide-drop"),v.append(T).attr(S.attr)}return{conf:t,node:i?v.get(0):o.get(0),inserter:i?v:x,buttons:[],inCollection:e,isSplit:i,inSplit:n,collection:null,textNode:r}},_nodeToButton:function(t,e){e||(e=this.s.buttons);for(var i=0,n=e.length;i<n;i++){if(e[i].node===t)return e[i];if(e[i].buttons.length){var r=this._nodeToButton(t,e[i].buttons);if(r)return r}}},_nodeToHost:function(t,e){e||(e=this.s.buttons);for(var i=0,n=e.length;i<n;i++){if(e[i].node===t)return e;if(e[i].buttons.length){var r=this._nodeToHost(t,e[i].buttons);if(r)return r}}},_keypress:function(t,e){if(!e._buttonsHandled){var i=function(i,n){if(i.key)if(i.key===t)e._buttonsHandled=!0,s(n).click();else if(s.isPlainObject(i.key)){if(i.key.key!==t)return;if(i.key.shiftKey&&!e.shiftKey)return;if(i.key.altKey&&!e.altKey)return;if(i.key.ctrlKey&&!e.ctrlKey)return;if(i.key.metaKey&&!e.metaKey)return;e._buttonsHandled=!0,s(n).click()}},n=function(t){for(var e=0,r=t.length;e<r;e++)i(t[e].conf,t[e].node),t[e].buttons.length&&n(t[e].buttons)};n(this.s.buttons)}},_removeKey:function(t){if(t.key){var e=s.isPlainObject(t.key)?t.key.key:t.key,i=this.s.listenKeys.split(""),n=s.inArray(e,i);i.splice(n,1),this.s.listenKeys=i.join("")}},_resolveExtends:function(t){var e,i,n=this,r=this.s.dt,o=function(e){var i=0;while(!s.isPlainObject(e)&&!Array.isArray(e)){if(void 0===e)return;if("function"===typeof e){if(e=e.call(n,r,t),!e)return!1}else if("string"===typeof e){if(!l[e])return{html:e};e=l[e]}if(i++,i>30)throw"Buttons: Too many iterations"}return Array.isArray(e)?e:s.extend({},e)};t=o(t);while(t&&t.extend){if(!l[t.extend])throw"Cannot extend unknown button type: "+t.extend;var a=o(l[t.extend]);if(Array.isArray(a))return a;if(!a)return!1;var c=a.className;void 0!==t.config&&void 0!==a.config&&(t.config=s.extend({},a.config,t.config)),t=s.extend({},a,t),c&&t.className!==c&&(t.className=c+" "+t.className),t.extend=a.extend}var h=t.postfixButtons;if(h)for(t.buttons||(t.buttons=[]),e=0,i=h.length;e<i;e++)t.buttons.push(h[e]);var u=t.prefixButtons;if(u)for(t.buttons||(t.buttons=[]),e=0,i=u.length;e<i;e++)t.buttons.splice(e,0,u[e]);return t},_popover:function(t,e,i,n){var r=e,o=this.c,a=!1,l=s.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",closeButton:!0,containerClassName:o.dom.collection.container.className,contentClassName:o.dom.collection.container.content.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,popoverTitle:"",rightAlignClassName:"dt-button-right",tag:o.dom.collection.container.tag},i),c=l.tag+"."+l.containerClassName.replace(/ /g,"."),d=e.node(),f=function(){a=!0,u(s(c),l.fade,(function(){s(this).detach()})),s(r.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes()).attr("aria-expanded","false"),s("div.dt-button-background").off("click.dtb-collection"),p.background(!1,l.backgroundClassName,l.fade,d),s(window).off("resize.resize.dtb-collection"),s("body").off(".dtb-collection"),r.off("buttons-action.b-internal"),r.off("destroy")};if(!1!==t){var m=s(r.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes());m.length&&(d.closest(c).length&&(d=m.eq(0)),f());var g=s(".dt-button",t).length,y="";3===g?y="dtb-b3":2===g?y="dtb-b2":1===g&&(y="dtb-b1");var x=s("<"+l.tag+"/>").addClass(l.containerClassName).addClass(l.collectionLayout).addClass(l.splitAlignClass).addClass(y).css("display","none").attr({"aria-modal":!0,role:"dialog"});t=s(t).addClass(l.contentClassName).attr("role","menu").appendTo(x),d.attr("aria-expanded","true"),d.parents("body")[0]!==document.body&&(d=document.body.lastChild),l.popoverTitle?x.prepend('<div class="dt-button-collection-title">'+l.popoverTitle+"</div>"):l.collectionTitle&&x.prepend('<div class="dt-button-collection-title">'+l.collectionTitle+"</div>"),l.closeButton&&x.prepend('<div class="dtb-popover-close">&times;</div>').addClass("dtb-collection-closeable"),h(x.insertAfter(d),l.fade);var v=s(e.table().container()),b=x.css("position");if("container"!==l.span&&"dt-container"!==l.align||(d=d.parent(),x.css("width",v.width())),"absolute"===b){var _=s(d[0].offsetParent),w=d.position(),S=d.offset(),C=_.offset(),T=_.position(),k=window.getComputedStyle(_[0]);C.height=_.outerHeight(),C.width=_.width()+parseFloat(k.paddingLeft),C.right=C.left+C.width,C.bottom=C.top+C.height;var A=w.top+d.outerHeight(),I=w.left;x.css({top:A,left:I}),k=window.getComputedStyle(x[0]);var M=x.offset();M.height=x.outerHeight(),M.width=x.outerWidth(),M.right=M.left+M.width,M.bottom=M.top+M.height,M.marginTop=parseFloat(k.marginTop),M.marginBottom=parseFloat(k.marginBottom),l.dropup&&(A=w.top-M.height-M.marginTop-M.marginBottom),("button-right"===l.align||x.hasClass(l.rightAlignClassName))&&(I=w.left-M.width+d.outerWidth()),"dt-container"!==l.align&&"container"!==l.align||(I<w.left&&(I=-w.left),I+M.width>C.width&&(I=C.width-M.width)),T.left+I+M.width>s(window).width()&&(I=s(window).width()-M.width-T.left),S.left+I<0&&(I=-S.left),T.top+A+M.height>s(window).height()+s(window).scrollTop()&&(A=w.top-M.height-M.marginTop-M.marginBottom),T.top+A<s(window).scrollTop()&&(A=w.top+d.outerHeight()),x.css({top:A,left:I})}else{b=function(){var t=s(window).height()/2,e=x.height()/2;e>t&&(e=t),x.css("marginTop",-1*e)};b(),s(window).on("resize.dtb-collection",(function(){b()}))}l.background&&p.background(!0,l.backgroundClassName,l.fade,l.backgroundHost||d),s("div.dt-button-background").on("click.dtb-collection",(function(){})),l.autoClose&&setTimeout((function(){r.on("buttons-action.b-internal",(function(t,e,i,n){n[0]!==d[0]&&f()}))}),0),s(x).trigger("buttons-popover.dt"),r.on("destroy",f),setTimeout((function(){a=!1,s("body").on("click.dtb-collection",(function(e){if(!a){var i=s.fn.addBack?"addBack":"andSelf",n=s(e.target).parent()[0];(!s(e.target).parents()[i]().filter(t).length&&!s(n).hasClass("dt-buttons")||s(e.target).hasClass("dt-button-background"))&&f()}})).on("keyup.dtb-collection",(function(t){27===t.keyCode&&f()})).on("keydown.dtb-collection",(function(e){var i=s("a, button",t),n=document.activeElement;9===e.keyCode&&(-1===i.index(n)?(i.first().focus(),e.preventDefault()):e.shiftKey?n===i[0]&&(i.last().focus(),e.preventDefault()):n===i.last()[0]&&(i.first().focus(),e.preventDefault()))}))}),0)}else f()}}),p.background=function(t,e,i,n){void 0===i&&(i=400),n||(n=document.body),t?h(s("<div/>").addClass(e).css("display","none").insertAfter(n),i):u(s("div."+e),i,(function(){s(this).removeClass(e).remove()}))},p.instanceSelector=function(t,e){if(void 0===t||null===t)return s.map(e,(function(t){return t.inst}));var i=[],n=s.map(e,(function(t){return t.name})),r=function(t){if(Array.isArray(t))for(var o=0,a=t.length;o<a;o++)r(t[o]);else if("string"===typeof t)if(-1!==t.indexOf(","))r(t.split(","));else{var l=s.inArray(t.trim(),n);-1!==l&&i.push(e[l].inst)}else"number"===typeof t?i.push(e[t].inst):"object"===typeof t&&i.push(t)};return r(t),i},p.buttonSelector=function(t,e){for(var i=[],n=function(t,e,i){for(var r,s,o=0,a=e.length;o<a;o++)r=e[o],r&&(s=void 0!==i?i+o:o+"",t.push({node:r.node,name:r.conf.name,idx:s}),r.buttons&&n(t,r.buttons,s+"-"))},r=function(t,e){var o,a,l=[];n(l,e.s.buttons);var c=s.map(l,(function(t){return t.node}));if(Array.isArray(t)||t instanceof s)for(o=0,a=t.length;o<a;o++)r(t[o],e);else if(null===t||void 0===t||"*"===t)for(o=0,a=l.length;o<a;o++)i.push({inst:e,node:l[o].node});else if("number"===typeof t)e.s.buttons[t]&&i.push({inst:e,node:e.s.buttons[t].node});else if("string"===typeof t)if(-1!==t.indexOf(",")){var h=t.split(",");for(o=0,a=h.length;o<a;o++)r(h[o].trim(),e)}else if(t.match(/^\d+(\-\d+)*$/)){var u=s.map(l,(function(t){return t.idx}));i.push({inst:e,node:l[s.inArray(t,u)].node})}else if(-1!==t.indexOf(":name")){var d=t.replace(":name","");for(o=0,a=l.length;o<a;o++)l[o].name===d&&i.push({inst:e,node:l[o].node})}else s(c).filter(t).each((function(){i.push({inst:e,node:this})}));else if("object"===typeof t&&t.nodeName){var p=s.inArray(t,c);-1!==p&&i.push({inst:e,node:c[p]})}},o=0,a=t.length;o<a;o++){var l=t[o];r(e,l)}return i},p.stripData=function(t,e){return"string"!==typeof t||(t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),t=t.replace(/<!\-\-.*?\-\->/g,""),e&&!e.stripHtml||(t=t.replace(/<[^>]*>/g,"")),e&&!e.trim||(t=t.replace(/^\s+|\s+$/g,"")),e&&!e.stripNewlines||(t=t.replace(/\n/g," ")),e&&!e.decodeEntities||(c?t=c(t):(x.innerHTML=t,t=x.value))),t},p.entityDecoder=function(t){c=t},p.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{action:{dropHtml:'<span class="dt-button-down-arrow">&#x25BC;</span>'},container:{className:"dt-button-collection",content:{className:"",tag:"div"},tag:"div"}},button:{tag:"button",className:"dt-button",active:"dt-button-active",disabled:"disabled",spacer:{className:"dt-button-spacer",tag:"span"},liner:{tag:"span",className:""}},split:{action:{className:"dt-button-split-drop-button dt-button",tag:"button"},dropdown:{align:"split-right",className:"dt-button-split-drop",dropHtml:'<span class="dt-button-down-arrow">&#x25BC;</span>',splitAlignClass:"dt-button-split-left",tag:"button"},wrapper:{className:"dt-button-split",tag:"div"}}}},p.version="2.4.2",s.extend(l,{collection:{text:function(t){return t.i18n("buttons.collection","Collection")},className:"buttons-collection",closeButton:!1,init:function(t,e,i){e.attr("aria-expanded",!1)},action:function(t,e,i,n){n._collection.parents("body").length?this.popover(!1,n):this.popover(n._collection,n),"keypress"===t.type&&s("a, button",n._collection).eq(0).focus()},attr:{"aria-haspopup":"dialog"}},split:{text:function(t){return t.i18n("buttons.split","Split")},className:"buttons-split",closeButton:!1,init:function(t,e,i){return e.attr("aria-expanded",!1)},action:function(t,e,i,n){this.popover(n._collection,n)},attr:{"aria-haspopup":"dialog"}},copy:function(t,e){if(l.copyHtml5)return"copyHtml5"},csv:function(t,e){if(l.csvHtml5&&l.csvHtml5.available(t,e))return"csvHtml5"},excel:function(t,e){if(l.excelHtml5&&l.excelHtml5.available(t,e))return"excelHtml5"},pdf:function(t,e){if(l.pdfHtml5&&l.pdfHtml5.available(t,e))return"pdfHtml5"},pageLength:function(t){var e=t.settings()[0].aLengthMenu,i=[],n=[],r=function(t){return t.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},t.page.len())};if(Array.isArray(e[0]))i=e[0],n=e[1];else for(var o=0;o<e.length;o++){var a=e[o];s.isPlainObject(a)?(i.push(a.value),n.push(a.label)):(i.push(a),n.push(a))}return{extend:"collection",text:r,className:"buttons-page-length",autoClose:!0,buttons:s.map(i,(function(t,e){return{text:n[e],className:"button-page-length",action:function(e,i){i.page.len(t).draw()},init:function(e,i,n){var r=this,s=function(){r.active(e.page.len()===t)};e.on("length.dt"+n.namespace,s),s()},destroy:function(t,e,i){t.off("length.dt"+i.namespace)}}})),init:function(t,e,i){var n=this;t.on("length.dt"+i.namespace,(function(){n.text(i.text)}))},destroy:function(t,e,i){t.off("length.dt"+i.namespace)}}},spacer:{style:"empty",spacer:!0,text:function(t){return t.i18n("buttons.spacer","")}}}),r["default"].Api.register("buttons()",(function(t,e){void 0===e&&(e=t,t=void 0),this.selector.buttonGroup=t;var i=this.iterator(!0,"table",(function(i){if(i._buttons)return p.buttonSelector(p.instanceSelector(t,i._buttons),e)}),!0);return i._groupSelector=t,i})),r["default"].Api.register("button()",(function(t,e){var i=this.buttons(t,e);return i.length>1&&i.splice(1,i.length),i})),r["default"].Api.registerPlural("buttons().active()","button().active()",(function(t){return void 0===t?this.map((function(t){return t.inst.active(t.node)})):this.each((function(e){e.inst.active(e.node,t)}))})),r["default"].Api.registerPlural("buttons().action()","button().action()",(function(t){return void 0===t?this.map((function(t){return t.inst.action(t.node)})):this.each((function(e){e.inst.action(e.node,t)}))})),r["default"].Api.registerPlural("buttons().collectionRebuild()","button().collectionRebuild()",(function(t){return this.each((function(e){for(var i=0;i<t.length;i++)"object"===typeof t[i]&&(t[i].parentConf=e);e.inst.collectionRebuild(e.node,t)}))})),r["default"].Api.register(["buttons().enable()","button().enable()"],(function(t){return this.each((function(e){e.inst.enable(e.node,t)}))})),r["default"].Api.register(["buttons().disable()","button().disable()"],(function(){return this.each((function(t){t.inst.disable(t.node)}))})),r["default"].Api.register("button().index()",(function(){var t=null;return this.each((function(e){var i=e.inst.index(e.node);null!==i&&(t=i)})),t})),r["default"].Api.registerPlural("buttons().nodes()","button().node()",(function(){var t=s();return s(this.each((function(e){t=t.add(e.inst.node(e.node))}))),t})),r["default"].Api.registerPlural("buttons().processing()","button().processing()",(function(t){return void 0===t?this.map((function(t){return t.inst.processing(t.node)})):this.each((function(e){e.inst.processing(e.node,t)}))})),r["default"].Api.registerPlural("buttons().text()","button().text()",(function(t){return void 0===t?this.map((function(t){return t.inst.text(t.node)})):this.each((function(e){e.inst.text(e.node,t)}))})),r["default"].Api.registerPlural("buttons().trigger()","button().trigger()",(function(){return this.each((function(t){t.inst.node(t.node).trigger("click")}))})),r["default"].Api.register("button().popover()",(function(t,e){return this.map((function(i){return i.inst._popover(t,this.button(this[0].node),e)}))})),r["default"].Api.register("buttons().containers()",(function(){var t=s(),e=this._groupSelector;return this.iterator(!0,"table",(function(i){if(i._buttons)for(var n=p.instanceSelector(e,i._buttons),r=0,s=n.length;r<s;r++)t=t.add(n[r].container())})),t})),r["default"].Api.register("buttons().container()",(function(){return this.containers().eq(0)})),r["default"].Api.register("button().add()",(function(t,e,i){var n=this.context;if(n.length){var r=p.instanceSelector(this._groupSelector,n[0]._buttons);r.length&&r[0].add(e,t,i)}return this.button(this._groupSelector,t)})),r["default"].Api.register("buttons().destroy()",(function(){return this.pluck("inst").unique().each((function(t){t.destroy()})),this})),r["default"].Api.registerPlural("buttons().remove()","buttons().remove()",(function(){return this.each((function(t){t.inst.remove(t.node)})),this})),r["default"].Api.register("buttons.info()",(function(t,e,i){var n=this;return!1===t?(this.off("destroy.btn-info"),u(s("#datatables_buttons_info"),400,(function(){s(this).remove()})),clearTimeout(d),d=null,this):(d&&clearTimeout(d),s("#datatables_buttons_info").length&&s("#datatables_buttons_info").remove(),t=t?"<h2>"+t+"</h2>":"",h(s('<div id="datatables_buttons_info" class="dt-button-info"/>').html(t).append(s("<div/>")["string"===typeof e?"html":"append"](e)).css("display","none").appendTo("body")),void 0!==i&&0!==i&&(d=setTimeout((function(){n.buttons.info(!1)}),i)),this.on("destroy.btn-info",(function(){n.buttons.info(!1)})),this)})),r["default"].Api.register("buttons.exportData()",(function(t){if(this.context.length)return v(new r["default"].Api(this.context[0]),t)})),r["default"].Api.register("buttons.exportInfo()",(function(t){return t||(t={}),{filename:f(t),title:g(t),messageTop:y(this,t.message||t.messageTop,"top"),messageBottom:y(this,t.messageBottom,"bottom")}}));var f=function(t){var e="*"===t.filename&&"*"!==t.title&&void 0!==t.title&&null!==t.title&&""!==t.title?t.title:t.filename;if("function"===typeof e&&(e=e()),void 0===e||null===e)return null;-1!==e.indexOf("*")&&(e=e.replace("*",s("head > title").text()).trim()),e=e.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"");var i=m(t.extension);return i||(i=""),e+i},m=function(t){return null===t||void 0===t?null:"function"===typeof t?t():t},g=function(t){var e=m(t.title);return null===e?null:-1!==e.indexOf("*")?e.replace("*",s("head > title").text()||"Exported data"):e},y=function(t,e,i){var n=m(e);if(null===n)return null;var r=s("caption",t.table().container()).eq(0);if("*"===n){var o=r.css("caption-side");return o!==i?null:r.length?r.text():""}return n},x=s("<textarea/>")[0],v=function(t,e){var i=s.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(t){return p.stripData(t,i)},footer:function(t){return p.stripData(t,i)},body:function(t){return p.stripData(t,i)}},customizeData:null},e),n=t.columns(i.columns).indexes().map((function(e){var n=t.column(e).header();return i.format.header(n.innerHTML,e,n)})).toArray(),r=t.table().footer()?t.columns(i.columns).indexes().map((function(e){var n=t.column(e).footer();return i.format.footer(n?n.innerHTML:"",e,n)})).toArray():null,o=s.extend({},i.modifier);t.select&&"function"===typeof t.select.info&&void 0===o.selected&&t.rows(i.rows,s.extend({selected:!0},o)).any()&&s.extend(o,{selected:!0});for(var a=t.rows(i.rows,o).indexes().toArray(),l=t.cells(a,i.columns),c=l.render(i.orthogonal).toArray(),h=l.nodes().toArray(),u=n.length,d=u>0?c.length/u:0,f=[],m=0,g=0,y=d;g<y;g++){for(var x=[u],v=0;v<u;v++)x[v]=i.format.body(c[m],g,v,h[m]),m++;f[g]=x}var b={header:n,footer:r,body:f};return i.customizeData&&i.customizeData(b),b};function b(t,e){var i=new r["default"].Api(t),n=e||(i.init().buttons||r["default"].defaults.buttons);return new p(i,n).container()}s.fn.dataTable.Buttons=p,s.fn.DataTable.Buttons=p,s(document).on("init.dt plugin-init.dt",(function(t,e){if("dt"===t.namespace){var i=e.oInit.buttons||r["default"].defaults.buttons;i&&!e._buttons&&new p(e,i).container()}})),r["default"].ext.feature.push({fnInit:b,cFeature:"B"}),r["default"].ext.features&&r["default"].ext.features.register("buttons",b),e["default"]=r["default"]},991:function(t,e,i){"use strict";i.r(e);var n,r,s,o,a=i(9755),l=a,c=function(t,e){if(c.factory(t,e))return c;if(this instanceof c)return l(t).DataTable(e);e=t,this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new r(t?fe(this[n.iApiIndex]):this)},this.fnAddData=function(t,e){var i=this.api(!0),n=Array.isArray(t)&&(Array.isArray(t[0])||l.isPlainObject(t[0]))?i.rows.add(t):i.row.add(t);return(void 0===e||e)&&i.draw(),n.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],n=i.oScroll;void 0===t||t?e.draw(!1):""===n.sX&&""===n.sY||Yt(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(void 0===t||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var n=this.api(!0),r=n.rows(t),s=r.settings()[0],o=s.aoData[r[0][0]];return r.remove(),e&&e.call(this,s,o),(void 0===i||i)&&n.draw(),o},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,n,r,s){var o=this.api(!0);null===e||void 0===e?o.search(t,i,n,s):o.column(e).search(t,i,n,s),o.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(void 0!==t){var n=t.nodeName?t.nodeName.toLowerCase():"";return void 0!==e||"td"==n||"th"==n?i.cell(t,e).data():i.row(t).data()||null}return i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return void 0!==t?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),i=t.nodeName.toUpperCase();if("TR"==i)return e.row(t).index();if("TD"==i||"TH"==i){var n=e.cell(t).index();return[n.row,n.columnVisible,n.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,i){return this.api(!0).row(t).child(e,i).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(void 0===e||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){var n=this.api(!0).column(t).visible(e);(void 0===i||i)&&n.columns.adjust().draw()},this.fnSettings=function(){return fe(this[n.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,i){this.api(!0).order.listener(t,e,i)},this.fnUpdate=function(t,e,i,n,r){var s=this.api(!0);return void 0===i||null===i?s.row(e).data(t):s.cell(e,i).data(t),(void 0===r||r)&&s.columns.adjust(),(void 0===n||n)&&s.draw(),0},this.fnVersionCheck=n.fnVersionCheck;var i=this,s=void 0===e,o=this.length;for(var a in s&&(e={}),this.oApi=this.internal=n.internal,c.ext.internal)a&&(this[a]=oi(a));return this.each((function(){var t,n={},r=o>1?ye(n,e,!0):e,a=0,h=this.getAttribute("id"),u=!1,d=c.defaults,p=l(this);if("table"==this.nodeName.toLowerCase()){O(d),F(d.column),D(d,d,!0),D(d.column,d.column,!0),D(d,l.extend(r,p.data()),!0);var f=c.settings;for(a=0,t=f.length;a<t;a++){var m=f[a];if(m.nTable==this||m.nTHead&&m.nTHead.parentNode==this||m.nTFoot&&m.nTFoot.parentNode==this){var g=void 0!==r.bRetrieve?r.bRetrieve:d.bRetrieve,y=void 0!==r.bDestroy?r.bDestroy:d.bDestroy;if(s||g)return m.oInstance;if(y){m.oInstance.fnDestroy();break}return void me(m,0,"Cannot reinitialise DataTable",3)}if(m.sTableId==this.id){f.splice(a,1);break}}null!==h&&""!==h||(h="DataTables_Table_"+c.ext._unique++,this.id=h);var x=l.extend(!0,{},c.models.oSettings,{sDestroyWidth:p[0].style.width,sInstance:h,sTableId:h});x.nTable=this,x.oApi=i.internal,x.oInit=r,f.push(x),x.oInstance=1===i.length?i:p.dataTable(),O(r),L(r.oLanguage),r.aLengthMenu&&!r.iDisplayLength&&(r.iDisplayLength=Array.isArray(r.aLengthMenu[0])?r.aLengthMenu[0][0]:r.aLengthMenu[0]),r=ye(l.extend(!0,{},d),r),ge(x.oFeatures,r,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),ge(x,r,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),ge(x.oScroll,r,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),ge(x.oLanguage,r,"fnInfoCallback"),ve(x,"aoDrawCallback",r.fnDrawCallback,"user"),ve(x,"aoServerParams",r.fnServerParams,"user"),ve(x,"aoStateSaveParams",r.fnStateSaveParams,"user"),ve(x,"aoStateLoadParams",r.fnStateLoadParams,"user"),ve(x,"aoStateLoaded",r.fnStateLoaded,"user"),ve(x,"aoRowCallback",r.fnRowCallback,"user"),ve(x,"aoRowCreatedCallback",r.fnCreatedRow,"user"),ve(x,"aoHeaderCallback",r.fnHeaderCallback,"user"),ve(x,"aoFooterCallback",r.fnFooterCallback,"user"),ve(x,"aoInitComplete",r.fnInitComplete,"user"),ve(x,"aoPreDrawCallback",r.fnPreDrawCallback,"user"),x.rowIdFn=nt(r.rowId),R(x);var v=x.oClasses;if(l.extend(v,c.ext.classes,r.oClasses),p.addClass(v.sTable),void 0===x.iInitDisplayStart&&(x.iInitDisplayStart=r.iDisplayStart,x._iDisplayStart=r.iDisplayStart),null!==r.iDeferLoading){x.bDeferLoading=!0;var b=Array.isArray(r.iDeferLoading);x._iRecordsDisplay=b?r.iDeferLoading[0]:r.iDeferLoading,x._iRecordsTotal=b?r.iDeferLoading[1]:r.iDeferLoading}var _=x.oLanguage;l.extend(!0,_,r.oLanguage),_.sUrl?(l.ajax({dataType:"json",url:_.sUrl,success:function(t){D(d.oLanguage,t),L(t),l.extend(!0,_,t,x.oInit.oLanguage),be(x,null,"i18n",[x]),jt(x)},error:function(){jt(x)}}),u=!0):be(x,null,"i18n",[x]),null===r.asStripeClasses&&(x.asStripeClasses=[v.sStripeOdd,v.sStripeEven]);var w=x.asStripeClasses,S=p.children("tbody").find("tr").eq(0);-1!==l.inArray(!0,l.map(w,(function(t,e){return S.hasClass(t)})))&&(l("tbody tr",this).removeClass(w.join(" ")),x.asDestroyStripes=w.slice());var C,T=[],k=this.getElementsByTagName("thead");if(0!==k.length&&(yt(x.aoHeader,k[0]),T=xt(x)),null===r.aoColumns)for(C=[],a=0,t=T.length;a<t;a++)C.push(null);else C=r.aoColumns;for(a=0,t=C.length;a<t;a++)N(x,T?T[a]:null);if(W(x,r.aoColumnDefs,C,(function(t,e){j(x,t,e)})),S.length){var A=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};l(S[0]).children("th, td").each((function(t,e){var i=x.aoColumns[t];if(i||me(x,0,"Incorrect column count",18),i.mData===t){var n=A(e,"sort")||A(e,"order"),r=A(e,"filter")||A(e,"search");null===n&&null===r||(i.mData={_:t+".display",sort:null!==n?t+".@data-"+n:void 0,type:null!==n?t+".@data-"+n:void 0,filter:null!==r?t+".@data-"+r:void 0},i._isArrayHost=!0,j(x,t))}}))}var I=x.oFeatures,M=function(){if(void 0===r.aaSorting){var e=x.aaSorting;for(a=0,t=e.length;a<t;a++)e[a][1]=x.aoColumns[a].asSorting[0]}ce(x),I.bSort&&ve(x,"aoDrawCallback",(function(){if(x.bSorted){var t=re(x),e={};l.each(t,(function(t,i){e[i.src]=i.dir})),be(x,null,"order",[x,t,e]),oe(x)}})),ve(x,"aoDrawCallback",(function(){(x.bSorted||"ssp"===Se(x)||I.bDeferRender)&&ce(x)}),"sc");var i=p.children("caption").each((function(){this._captionSide=l(this).css("caption-side")})),n=p.children("thead");0===n.length&&(n=l("<thead/>").appendTo(p)),x.nTHead=n[0];var s=p.children("tbody");0===s.length&&(s=l("<tbody/>").insertAfter(n)),x.nTBody=s[0];var o=p.children("tfoot");if(0===o.length&&i.length>0&&(""!==x.oScroll.sX||""!==x.oScroll.sY)&&(o=l("<tfoot/>").appendTo(p)),0===o.length||0===o.children().length?p.addClass(v.sNoFooter):o.length>0&&(x.nTFoot=o[0],yt(x.aoFooter,x.nTFoot)),r.aaData)for(a=0;a<r.aaData.length;a++)X(x,r.aaData[a]);else(x.bDeferLoading||"dom"==Se(x))&&Y(x,l(x.nTBody).children("tr"));x.aiDisplay=x.aiDisplayMaster.slice(),x.bInitialised=!0,!1===u&&jt(x)};ve(x,"aoDrawCallback",ue,"state_save"),r.bStateSave?(I.bStateSave=!0,de(x,r,M)):M()}else me(null,0,"Non-table node initialisation ("+this.nodeName+")",2)})),i=null,this},h={},u=/[\r\n\u2028]/g,d=/<.*?>/g,p=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,f=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),m=/['\u00A0,$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi,g=function(t){return!t||!0===t||"-"===t},y=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},x=function(t,e){return h[e]||(h[e]=new RegExp(Et(e),"g")),"string"===typeof t&&"."!==e?t.replace(/\./g,"").replace(h[e],"."):t},v=function(t,e,i){var n=typeof t,r="string"===n;return"number"===n||"bigint"===n||(!!g(t)||(e&&r&&(t=x(t,e)),i&&r&&(t=t.replace(m,"")),!isNaN(parseFloat(t))&&isFinite(t)))},b=function(t){return g(t)||"string"===typeof t},_=function(t,e,i){if(g(t))return!0;var n=b(t);return n&&!!v(k(t),e,i)||null},w=function(t,e,i){var n=[],r=0,s=t.length;if(void 0!==i)for(;r<s;r++)t[r]&&t[r][e]&&n.push(t[r][e][i]);else for(;r<s;r++)t[r]&&n.push(t[r][e]);return n},S=function(t,e,i,n){var r=[],s=0,o=e.length;if(void 0!==n)for(;s<o;s++)t[e[s]][i]&&r.push(t[e[s]][i][n]);else for(;s<o;s++)r.push(t[e[s]][i]);return r},C=function(t,e){var i,n=[];void 0===e?(e=0,i=t):(i=e,e=t);for(var r=e;r<i;r++)n.push(r);return n},T=function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},k=function(t){return t.replace(d,"").replace(/<script/i,"")},A=function(t){if(t.length<2)return!0;for(var e=t.slice().sort(),i=e[0],n=1,r=e.length;n<r;n++){if(e[n]===i)return!1;i=e[n]}return!0},I=function(t){if(A(t))return t.slice();var e,i,n,r=[],s=t.length,o=0;t:for(i=0;i<s;i++){for(e=t[i],n=0;n<o;n++)if(r[n]===e)continue t;r.push(e),o++}return r},M=function(t,e){if(Array.isArray(e))for(var i=0;i<e.length;i++)M(t,e[i]);else t.push(e);return t},P=function(t,e){return void 0===e&&(e=0),-1!==this.indexOf(t,e)};
/*! DataTables 1.13.7
 * ©2008-2023 SpryMedia Ltd - datatables.net/license
 */function E(t){var e,i,n="a aa ai ao as b fn i m o s ",r={};l.each(t,(function(s,o){e=s.match(/^([^A-Z]+?)([A-Z])/),e&&-1!==n.indexOf(e[1]+" ")&&(i=s.replace(e[0],e[2].toLowerCase()),r[i]=s,"o"===e[1]&&E(t[s]))})),t._hungarianMap=r}function D(t,e,i){var n;t._hungarianMap||E(t),l.each(e,(function(r,s){n=t._hungarianMap[r],void 0===n||!i&&void 0!==e[n]||("o"===n.charAt(0)?(e[n]||(e[n]={}),l.extend(!0,e[n],e[r]),D(t[n],e[n],i)):e[n]=e[r])}))}function L(t){var e=c.defaults.oLanguage,i=e.sDecimal;if(i&&Ze(i),t){var n=t.sZeroRecords;!t.sEmptyTable&&n&&"No data available in table"===e.sEmptyTable&&ge(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"Loading..."===e.sLoadingRecords&&ge(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var r=t.sDecimal;r&&i!==r&&Ze(r)}}Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.includes||(Array.prototype.includes=P),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=P),c.util={throttle:function(t,e){var i,n,r=void 0!==e?e:200;return function(){var e=this,s=+new Date,o=arguments;i&&s<i+r?(clearTimeout(n),n=setTimeout((function(){i=void 0,t.apply(e,o)}),r)):(i=s,t.apply(e,o))}},escapeRegex:function(t){return t.replace(f,"\\$1")},set:function(t){if(l.isPlainObject(t))return c.util.set(t._);if(null===t)return function(){};if("function"===typeof t)return function(e,i,n){t(e,"set",i,n)};if("string"!==typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,i){e[t]=i};var e=function(t,i,n){for(var r,s,o,a,l,c=it(n),h=c[c.length-1],u=0,d=c.length-1;u<d;u++){if("__proto__"===c[u]||"constructor"===c[u])throw new Error("Cannot set prototype values");if(s=c[u].match(tt),o=c[u].match(et),s){if(c[u]=c[u].replace(tt,""),t[c[u]]=[],r=c.slice(),r.splice(0,u+1),l=r.join("."),Array.isArray(i))for(var p=0,f=i.length;p<f;p++)a={},e(a,i[p],l),t[c[u]].push(a);else t[c[u]]=i;return}o&&(c[u]=c[u].replace(et,""),t=t[c[u]](i)),null!==t[c[u]]&&void 0!==t[c[u]]||(t[c[u]]={}),t=t[c[u]]}h.match(et)?t=t[h.replace(et,"")](i):t[h.replace(tt,"")]=i};return function(i,n){return e(i,n,t)}},get:function(t){if(l.isPlainObject(t)){var e={};return l.each(t,(function(t,i){i&&(e[t]=c.util.get(i))})),function(t,i,n,r){var s=e[i]||e._;return void 0!==s?s(t,i,n,r):t}}if(null===t)return function(t){return t};if("function"===typeof t)return function(e,i,n,r){return t(e,i,n,r)};if("string"!==typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,i){return e[t]};var i=function(t,e,n){var r,s,o,a;if(""!==n)for(var l=it(n),c=0,h=l.length;c<h;c++){if(r=l[c].match(tt),s=l[c].match(et),r){if(l[c]=l[c].replace(tt,""),""!==l[c]&&(t=t[l[c]]),o=[],l.splice(0,c+1),a=l.join("."),Array.isArray(t))for(var u=0,d=t.length;u<d;u++)o.push(i(t[u],e,a));var p=r[0].substring(1,r[0].length-1);t=""===p?o:o.join(p);break}if(s)l[c]=l[c].replace(et,""),t=t[l[c]]();else{if(null===t||null===t[l[c]])return null;if(void 0===t||void 0===t[l[c]])return;t=t[l[c]]}}return t};return function(e,n){return i(e,n,t)}}};var z=function(t,e,i){void 0!==t[e]&&(t[i]=t[e])};function O(t){z(t,"ordering","bSort"),z(t,"orderMulti","bSortMulti"),z(t,"orderClasses","bSortClasses"),z(t,"orderCellsTop","bSortCellsTop"),z(t,"order","aaSorting"),z(t,"orderFixed","aaSortingFixed"),z(t,"paging","bPaginate"),z(t,"pagingType","sPaginationType"),z(t,"pageLength","iDisplayLength"),z(t,"searching","bFilter"),"boolean"===typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"===typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var i=0,n=e.length;i<n;i++)e[i]&&D(c.models.oSearch,e[i])}function F(t){z(t,"orderable","bSortable"),z(t,"orderData","aDataSort"),z(t,"orderSequence","asSorting"),z(t,"orderDataType","sortDataType");var e=t.aDataSort;"number"!==typeof e||Array.isArray(e)||(t.aDataSort=[e])}function R(t){if(!c.__browser){var e={};c.__browser=e;var i=l("<div/>").css({position:"fixed",top:0,left:-1*l(window).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(l("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(l("<div/>").css({width:"100%",height:10}))).appendTo("body"),n=i.children(),r=n.children();e.barWidth=n[0].offsetWidth-n[0].clientWidth,e.bScrollOversize=100===r[0].offsetWidth&&100!==n[0].clientWidth,e.bScrollbarLeft=1!==Math.round(r.offset().left),e.bBounding=!!i[0].getBoundingClientRect().width,i.remove()}l.extend(t.oBrowser,c.__browser),t.oScroll.iBarWidth=c.__browser.barWidth}function B(t,e,i,n,r,s){var o,a=n,l=!1;void 0!==i&&(o=i,l=!0);while(a!==r)t.hasOwnProperty(a)&&(o=l?e(o,t[a],a,t):t[a],l=!0,a+=s);return o}function N(t,e){var i=c.defaults.column,n=t.aoColumns.length,r=l.extend({},c.models.oColumn,i,{nTh:e||document.createElement("th"),sTitle:i.sTitle?i.sTitle:e?e.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[n],mData:i.mData?i.mData:n,idx:n});t.aoColumns.push(r);var s=t.aoPreSearchCols;s[n]=l.extend({},c.models.oSearch,s[n]),j(t,n,l(e).data())}function j(t,e,i){var n=t.aoColumns[e],r=t.oClasses,s=l(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=s.attr("width")||null;var o=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);o&&(n.sWidthOrig=o[1])}if(void 0!==i&&null!==i){F(i),D(c.defaults.column,i,!0),void 0===i.mDataProp||i.mData||(i.mData=i.mDataProp),i.sType&&(n._sManualType=i.sType),i.className&&!i.sClass&&(i.sClass=i.className),i.sClass&&s.addClass(i.sClass);var a=n.sClass;l.extend(n,i),ge(n,i,"sWidth","sWidthOrig"),a!==n.sClass&&(n.sClass=a+" "+n.sClass),void 0!==i.iDataSort&&(n.aDataSort=[i.iDataSort]),ge(n,i,"aDataSort"),n.ariaTitle||(n.ariaTitle=s.attr("aria-label"))}var h=n.mData,u=nt(h),d=n.mRender?nt(n.mRender):null,p=function(t){return"string"===typeof t&&-1!==t.indexOf("@")};n._bAttrSrc=l.isPlainObject(h)&&(p(h.sort)||p(h.type)||p(h.filter)),n._setter=null,n.fnGetData=function(t,e,i){var n=u(t,e,void 0,i);return d&&e?d(n,e,t,i):n},n.fnSetData=function(t,e,i){return rt(h)(t,e,i)},"number"===typeof h||n._isArrayHost||(t._rowReadObject=!0),t.oFeatures.bSort||(n.bSortable=!1,s.addClass(r.sSortableNone));var f=-1!==l.inArray("asc",n.asSorting),m=-1!==l.inArray("desc",n.asSorting);n.bSortable&&(f||m)?f&&!m?(n.sSortingClass=r.sSortableAsc,n.sSortingClassJUI=r.sSortJUIAscAllowed):!f&&m?(n.sSortingClass=r.sSortableDesc,n.sSortingClassJUI=r.sSortJUIDescAllowed):(n.sSortingClass=r.sSortable,n.sSortingClassJUI=r.sSortJUI):(n.sSortingClass=r.sSortableNone,n.sSortingClassJUI="")}function U(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;Jt(t);for(var i=0,n=e.length;i<n;i++)e[i].nTh.style.width=e[i].sWidth}var r=t.oScroll;""===r.sY&&""===r.sX||Yt(t),be(t,null,"column-sizing",[t])}function V(t,e){var i=q(t,"bVisible");return"number"===typeof i[e]?i[e]:null}function $(t,e){var i=q(t,"bVisible"),n=l.inArray(e,i);return-1!==n?n:null}function H(t){var e=0;return l.each(t.aoColumns,(function(t,i){i.bVisible&&"none"!==l(i.nTh).css("display")&&e++})),e}function q(t,e){var i=[];return l.map(t.aoColumns,(function(t,n){t[e]&&i.push(n)})),i}function G(t){var e,i,n,r,s,o,a,l,h,u=t.aoColumns,d=t.aoData,p=c.ext.type.detect;for(e=0,i=u.length;e<i;e++)if(a=u[e],h=[],!a.sType&&a._sManualType)a.sType=a._sManualType;else if(!a.sType){for(n=0,r=p.length;n<r;n++){for(s=0,o=d.length;s<o;s++){if(void 0===h[s]&&(h[s]=J(t,s,e,"type")),l=p[n](h[s],t),!l&&n!==p.length-1)break;if("html"===l&&!g(h[s]))break}if(l){a.sType=l;break}}a.sType||(a.sType="string")}}function W(t,e,i,n){var r,s,o,a,c,h,u,d=t.aoColumns;if(e)for(r=e.length-1;r>=0;r--){u=e[r];var p=void 0!==u.target?u.target:void 0!==u.targets?u.targets:u.aTargets;for(Array.isArray(p)||(p=[p]),o=0,a=p.length;o<a;o++)if("number"===typeof p[o]&&p[o]>=0){while(d.length<=p[o])N(t);n(p[o],u)}else if("number"===typeof p[o]&&p[o]<0)n(d.length+p[o],u);else if("string"===typeof p[o])for(c=0,h=d.length;c<h;c++)("_all"==p[o]||l(d[c].nTh).hasClass(p[o]))&&n(c,u)}if(i)for(r=0,s=i.length;r<s;r++)n(r,i[r])}function X(t,e,i,n){var r=t.aoData.length,s=l.extend(!0,{},c.models.oRow,{src:i?"dom":"data",idx:r});s._aData=e,t.aoData.push(s);for(var o=t.aoColumns,a=0,h=o.length;a<h;a++)o[a].sType=null;t.aiDisplayMaster.push(r);var u=t.rowIdFn(e);return void 0!==u&&(t.aIds[u]=s),!i&&t.oFeatures.bDeferRender||ht(t,r,i,n),r}function Y(t,e){var i;return e instanceof l||(e=l(e)),e.map((function(e,n){return i=ct(t,n),X(t,i.data,n,i.cells)}))}function Z(t,e){return void 0!==e._DT_RowIndex?e._DT_RowIndex:null}function K(t,e,i){return l.inArray(i,t.aoData[e].anCells)}function J(t,e,i,n){"search"===n?n="filter":"order"===n&&(n="sort");var r=t.iDraw,s=t.aoColumns[i],o=t.aoData[e]._aData,a=s.sDefaultContent,l=s.fnGetData(o,n,{settings:t,row:e,col:i});if(void 0===l)return t.iDrawError!=r&&null===a&&(me(t,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+e+", column "+i,4),t.iDrawError=r),a;if(l!==o&&null!==l||null===a||void 0===n){if("function"===typeof l)return l.call(o)}else l=a;if(null===l&&"display"===n)return"";if("filter"===n){var h=c.ext.type.search;h[s.sType]&&(l=h[s.sType](l))}return l}function Q(t,e,i,n){var r=t.aoColumns[i],s=t.aoData[e]._aData;r.fnSetData(s,n,{settings:t,row:e,col:i})}var tt=/\[.*?\]$/,et=/\(\)$/;function it(t){return l.map(t.match(/(\\.|[^\.])+/g)||[""],(function(t){return t.replace(/\\\./g,".")}))}var nt=c.util.get,rt=c.util.set;function st(t){return w(t.aoData,"_aData")}function ot(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function at(t,e,i){for(var n=-1,r=0,s=t.length;r<s;r++)t[r]==e?n=r:t[r]>e&&t[r]--;-1!=n&&void 0===i&&t.splice(n,1)}function lt(t,e,i,n){var r,s,o=t.aoData[e],a=function(i,n){while(i.childNodes.length)i.removeChild(i.firstChild);i.innerHTML=J(t,e,n,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==o.src)){var l=o.anCells;if(l)if(void 0!==n)a(l[n],n);else for(r=0,s=l.length;r<s;r++)a(l[r],r)}else o._aData=ct(t,o,n,void 0===n?void 0:o._aData).data;o._aSortData=null,o._aFilterData=null;var c=t.aoColumns;if(void 0!==n)c[n].sType=null;else{for(r=0,s=c.length;r<s;r++)c[r].sType=null;ut(t,o)}}function ct(t,e,i,n){var r,s,o,a=[],l=e.firstChild,c=0,h=t.aoColumns,u=t._rowReadObject;n=void 0!==n?n:u?{}:[];var d=function(t,e){if("string"===typeof t){var i=t.indexOf("@");if(-1!==i){var r=t.substring(i+1),s=rt(t);s(n,e.getAttribute(r))}}},p=function(t){if(void 0===i||i===c)if(s=h[c],o=t.innerHTML.trim(),s&&s._bAttrSrc){var e=rt(s.mData._);e(n,o),d(s.mData.sort,t),d(s.mData.type,t),d(s.mData.filter,t)}else u?(s._setter||(s._setter=rt(s.mData)),s._setter(n,o)):n[c]=o;c++};if(l)while(l)r=l.nodeName.toUpperCase(),"TD"!=r&&"TH"!=r||(p(l),a.push(l)),l=l.nextSibling;else{a=e.anCells;for(var f=0,m=a.length;f<m;f++)p(a[f])}var g=e.firstChild?e:e.nTr;if(g){var y=g.getAttribute("id");y&&rt(t.rowId)(n,y)}return{data:n,cells:a}}function ht(t,e,i,n){var r,s,o,a,c,h,u=t.aoData[e],d=u._aData,p=[];if(null===u.nTr){for(r=i||document.createElement("tr"),u.nTr=r,u.anCells=p,r._DT_RowIndex=e,ut(t,u),a=0,c=t.aoColumns.length;a<c;a++)o=t.aoColumns[a],h=!i,s=h?document.createElement(o.sCellType):n[a],s||me(t,0,"Incorrect column count",18),s._DT_CellIndex={row:e,column:a},p.push(s),!h&&(!o.mRender&&o.mData===a||l.isPlainObject(o.mData)&&o.mData._===a+".display")||(s.innerHTML=J(t,e,a,"display")),o.sClass&&(s.className+=" "+o.sClass),o.bVisible&&!i?r.appendChild(s):!o.bVisible&&i&&s.parentNode.removeChild(s),o.fnCreatedCell&&o.fnCreatedCell.call(t.oInstance,s,J(t,e,a),d,e,a);be(t,"aoRowCreatedCallback",null,[r,d,e,p])}}function ut(t,e){var i=e.nTr,n=e._aData;if(i){var r=t.rowIdFn(n);if(r&&(i.id=r),n.DT_RowClass){var s=n.DT_RowClass.split(" ");e.__rowc=e.__rowc?I(e.__rowc.concat(s)):s,l(i).removeClass(e.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowAttr&&l(i).attr(n.DT_RowAttr),n.DT_RowData&&l(i).data(n.DT_RowData)}}function dt(t){var e,i,n,r,s,o=t.nTHead,a=t.nTFoot,c=0===l("th, td",o).length,h=t.oClasses,u=t.aoColumns;for(c&&(r=l("<tr/>").appendTo(o)),e=0,i=u.length;e<i;e++)s=u[e],n=l(s.nTh).addClass(s.sClass),c&&n.appendTo(r),t.oFeatures.bSort&&(n.addClass(s.sSortingClass),!1!==s.bSortable&&(n.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),le(t,s.nTh,e))),s.sTitle!=n[0].innerHTML&&n.html(s.sTitle),we(t,"header")(t,n,s,h);if(c&&yt(t.aoHeader,o),l(o).children("tr").children("th, td").addClass(h.sHeaderTH),l(a).children("tr").children("th, td").addClass(h.sFooterTH),null!==a){var d=t.aoFooter[0];for(e=0,i=d.length;e<i;e++)s=u[e],s?(s.nTf=d[e].cell,s.sClass&&l(s.nTf).addClass(s.sClass)):me(t,0,"Incorrect column count",18)}}function pt(t,e,i){var n,r,s,o,a,c,h,u,d,p=[],f=[],m=t.aoColumns.length;if(e){for(void 0===i&&(i=!1),n=0,r=e.length;n<r;n++){for(p[n]=e[n].slice(),p[n].nTr=e[n].nTr,s=m-1;s>=0;s--)t.aoColumns[s].bVisible||i||p[n].splice(s,1);f.push([])}for(n=0,r=p.length;n<r;n++){if(h=p[n].nTr,h)while(c=h.firstChild)h.removeChild(c);for(s=0,o=p[n].length;s<o;s++)if(u=1,d=1,void 0===f[n][s]){h.appendChild(p[n][s].cell),f[n][s]=1;while(void 0!==p[n+u]&&p[n][s].cell==p[n+u][s].cell)f[n+u][s]=1,u++;while(void 0!==p[n][s+d]&&p[n][s].cell==p[n][s+d].cell){for(a=0;a<u;a++)f[n+a][s+d]=1;d++}l(p[n][s].cell).attr("rowspan",u).attr("colspan",d)}}}}function ft(t,e){vt(t);var i=be(t,"aoPreDrawCallback","preDraw",[t]);if(-1===l.inArray(!1,i)){var n=[],r=0,s=t.asStripeClasses,o=s.length,a=t.oLanguage,c="ssp"==Se(t),h=t.aiDisplay,u=t._iDisplayStart,d=t.fnDisplayEnd();if(t.bDrawing=!0,t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,Wt(t,!1);else if(c){if(!t.bDestroying&&!e)return void _t(t)}else t.iDraw++;if(0!==h.length)for(var p=c?0:u,f=c?t.aoData.length:d,m=p;m<f;m++){var g=h[m],y=t.aoData[g];null===y.nTr&&ht(t,g);var x=y.nTr;if(0!==o){var v=s[r%o];y._sRowStripe!=v&&(l(x).removeClass(y._sRowStripe).addClass(v),y._sRowStripe=v)}be(t,"aoRowCallback",null,[x,y._aData,r,m,g]),n.push(x),r++}else{var b=a.sZeroRecords;1==t.iDraw&&"ajax"==Se(t)?b=a.sLoadingRecords:a.sEmptyTable&&0===t.fnRecordsTotal()&&(b=a.sEmptyTable),n[0]=l("<tr/>",{class:o?s[0]:""}).append(l("<td />",{valign:"top",colSpan:H(t),class:t.oClasses.sRowEmpty}).html(b))[0]}be(t,"aoHeaderCallback","header",[l(t.nTHead).children("tr")[0],st(t),u,d,h]),be(t,"aoFooterCallback","footer",[l(t.nTFoot).children("tr")[0],st(t),u,d,h]);var _=l(t.nTBody);_.children().detach(),_.append(l(n)),be(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}else Wt(t,!1)}function mt(t,e){var i=t.oFeatures,n=i.bSort,r=i.bFilter;n&&se(t),r?kt(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,ft(t),t._drawHold=!1}function gt(t){var e=t.oClasses,i=l(t.nTable),n=l("<div/>").insertBefore(i),r=t.oFeatures,s=l("<div/>",{id:t.sTableId+"_wrapper",class:e.sWrapper+(t.nTFoot?"":" "+e.sNoFooter)});t.nHolding=n[0],t.nTableWrapper=s[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var o,a,h,u,d,p,f=t.sDom.split(""),m=0;m<f.length;m++){if(o=null,a=f[m],"<"==a){if(h=l("<div/>")[0],u=f[m+1],"'"==u||'"'==u){d="",p=2;while(f[m+p]!=u)d+=f[m+p],p++;if("H"==d?d=e.sJUIHeader:"F"==d&&(d=e.sJUIFooter),-1!=d.indexOf(".")){var g=d.split(".");h.id=g[0].substr(1,g[0].length-1),h.className=g[1]}else"#"==d.charAt(0)?h.id=d.substr(1,d.length-1):h.className=d;m+=p}s.append(h),s=l(h)}else if(">"==a)s=s.parent();else if("l"==a&&r.bPaginate&&r.bLengthChange)o=$t(t);else if("f"==a&&r.bFilter)o=Tt(t);else if("r"==a&&r.bProcessing)o=Gt(t);else if("t"==a)o=Xt(t);else if("i"==a&&r.bInfo)o=Rt(t);else if("p"==a&&r.bPaginate)o=Ht(t);else if(0!==c.ext.feature.length)for(var y=c.ext.feature,x=0,v=y.length;x<v;x++)if(a==y[x].cFeature){o=y[x].fnInit(t);break}if(o){var b=t.aanFeatures;b[a]||(b[a]=[]),b[a].push(o),s.append(o)}}n.replaceWith(s),t.nHolding=null}function yt(t,e){var i,n,r,s,o,a,c,h,u,d,p,f=l(e).children("tr"),m=function(t,e,i){var n=t[e];while(n[i])i++;return i};for(t.splice(0,t.length),r=0,a=f.length;r<a;r++)t.push([]);for(r=0,a=f.length;r<a;r++){i=f[r],h=0,n=i.firstChild;while(n){if("TD"==n.nodeName.toUpperCase()||"TH"==n.nodeName.toUpperCase())for(u=1*n.getAttribute("colspan"),d=1*n.getAttribute("rowspan"),u=u&&0!==u&&1!==u?u:1,d=d&&0!==d&&1!==d?d:1,c=m(t,r,h),p=1===u,o=0;o<u;o++)for(s=0;s<d;s++)t[r+s][c+o]={cell:n,unique:p},t[r+s].nTr=i;n=n.nextSibling}}}function xt(t,e,i){var n=[];i||(i=t.aoHeader,e&&(i=[],yt(i,e)));for(var r=0,s=i.length;r<s;r++)for(var o=0,a=i[r].length;o<a;o++)!i[r][o].unique||n[o]&&t.bSortCellsTop||(n[o]=i[r][o].cell);return n}function vt(t){var e="ssp"==Se(t),i=t.iInitDisplayStart;void 0!==i&&-1!==i&&(t._iDisplayStart=e?i:i>=t.fnRecordsDisplay()?0:i,t.iInitDisplayStart=-1)}function bt(t,e,i){if(be(t,"aoServerParams","serverParams",[e]),e&&Array.isArray(e)){var n={},r=/(.*?)\[\]$/;l.each(e,(function(t,e){var i=e.name.match(r);if(i){var s=i[0];n[s]||(n[s]=[]),n[s].push(e.value)}else n[e.name]=e.value})),e=n}var s,o=t.ajax,a=t.oInstance,c=function(e){var n=t.jqXHR?t.jqXHR.status:null;(null===e||"number"===typeof n&&204==n)&&(e={},Ct(t,e,[]));var r=e.error||e.sError;r&&me(t,0,r),t.json=e,be(t,null,"xhr",[t,e,t.jqXHR]),i(e)};if(l.isPlainObject(o)&&o.data){s=o.data;var h="function"===typeof s?s(e,t):s;e="function"===typeof s&&h?h:l.extend(!0,e,h),delete o.data}var u={data:e,success:c,dataType:"json",cache:!1,type:t.sServerMethod,error:function(e,i,n){var r=be(t,null,"xhr",[t,null,t.jqXHR]);-1===l.inArray(!0,r)&&("parsererror"==i?me(t,0,"Invalid JSON response",1):4===e.readyState&&me(t,0,"Ajax error",7)),Wt(t,!1)}};t.oAjaxData=e,be(t,null,"preXhr",[t,e]),t.fnServerData?t.fnServerData.call(a,t.sAjaxSource,l.map(e,(function(t,e){return{name:e,value:t}})),c,t):t.sAjaxSource||"string"===typeof o?t.jqXHR=l.ajax(l.extend(u,{url:o||t.sAjaxSource})):"function"===typeof o?t.jqXHR=o.call(a,e,c,t):(t.jqXHR=l.ajax(l.extend(u,o)),o.data=s)}function _t(t){t.iDraw++,Wt(t,!0);var e=t._drawHold;bt(t,wt(t),(function(i){t._drawHold=e,St(t,i),t._drawHold=!1}))}function wt(t){var e,i,n,r,s=t.aoColumns,o=s.length,a=t.oFeatures,h=t.oPreviousSearch,u=t.aoPreSearchCols,d=[],p=re(t),f=t._iDisplayStart,m=!1!==a.bPaginate?t._iDisplayLength:-1,g=function(t,e){d.push({name:t,value:e})};g("sEcho",t.iDraw),g("iColumns",o),g("sColumns",w(s,"sName").join(",")),g("iDisplayStart",f),g("iDisplayLength",m);var y={draw:t.iDraw,columns:[],order:[],start:f,length:m,search:{value:h.sSearch,regex:h.bRegex}};for(e=0;e<o;e++)n=s[e],r=u[e],i="function"==typeof n.mData?"function":n.mData,y.columns.push({data:i,name:n.sName,searchable:n.bSearchable,orderable:n.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),g("mDataProp_"+e,i),a.bFilter&&(g("sSearch_"+e,r.sSearch),g("bRegex_"+e,r.bRegex),g("bSearchable_"+e,n.bSearchable)),a.bSort&&g("bSortable_"+e,n.bSortable);a.bFilter&&(g("sSearch",h.sSearch),g("bRegex",h.bRegex)),a.bSort&&(l.each(p,(function(t,e){y.order.push({column:e.col,dir:e.dir}),g("iSortCol_"+t,e.col),g("sSortDir_"+t,e.dir)})),g("iSortingCols",p.length));var x=c.ext.legacy.ajax;return null===x?t.sAjaxSource?d:y:x?d:y}function St(t,e){var i=function(t,i){return void 0!==e[t]?e[t]:e[i]},n=Ct(t,e),r=i("sEcho","draw"),s=i("iTotalRecords","recordsTotal"),o=i("iTotalDisplayRecords","recordsFiltered");if(void 0!==r){if(1*r<t.iDraw)return;t.iDraw=1*r}n||(n=[]),ot(t),t._iRecordsTotal=parseInt(s,10),t._iRecordsDisplay=parseInt(o,10);for(var a=0,l=n.length;a<l;a++)X(t,n[a]);t.aiDisplay=t.aiDisplayMaster.slice(),ft(t,!0),t._bInitComplete||Ut(t,e),Wt(t,!1)}function Ct(t,e,i){var n=l.isPlainObject(t.ajax)&&void 0!==t.ajax.dataSrc?t.ajax.dataSrc:t.sAjaxDataProp;if(!i)return"data"===n?e.aaData||e[n]:""!==n?nt(n)(e):e;rt(n)(e,i)}function Tt(t){var e=t.oClasses,i=t.sTableId,n=t.oLanguage,r=t.oPreviousSearch,s=t.aanFeatures,o='<input type="search" class="'+e.sFilterInput+'"/>',a=n.sSearch;a=a.match(/_INPUT_/)?a.replace("_INPUT_",o):a+o;var c=l("<div/>",{id:s.f?null:i+"_filter",class:e.sFilter}).append(l("<label/>").append(a)),h=function(e){s.f;var i=this.value?this.value:"";r["return"]&&"Enter"!==e.key||i!=r.sSearch&&(kt(t,{sSearch:i,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive,return:r["return"]}),t._iDisplayStart=0,ft(t))},u=null!==t.searchDelay?t.searchDelay:"ssp"===Se(t)?400:0,d=l("input",c).val(r.sSearch).attr("placeholder",n.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",u?Qt(h,u):h).on("mouseup.DT",(function(t){setTimeout((function(){h.call(d[0],t)}),10)})).on("keypress.DT",(function(t){if(13==t.keyCode)return!1})).attr("aria-controls",i);return l(t.nTable).on("search.dt.DT",(function(e,i){if(t===i)try{d[0]!==document.activeElement&&d.val(r.sSearch)}catch(n){}})),c[0]}function kt(t,e,i){var n=t.oPreviousSearch,r=t.aoPreSearchCols,s=function(t){n.sSearch=t.sSearch,n.bRegex=t.bRegex,n.bSmart=t.bSmart,n.bCaseInsensitive=t.bCaseInsensitive,n["return"]=t["return"]},o=function(t){return void 0!==t.bEscapeRegex?!t.bEscapeRegex:t.bRegex};if(G(t),"ssp"!=Se(t)){Mt(t,e.sSearch,i,o(e),e.bSmart,e.bCaseInsensitive),s(e);for(var a=0;a<r.length;a++)It(t,r[a].sSearch,a,o(r[a]),r[a].bSmart,r[a].bCaseInsensitive);At(t)}else s(e);t.bFiltered=!0,be(t,null,"search",[t])}function At(t){for(var e,i,n=c.ext.search,r=t.aiDisplay,s=0,o=n.length;s<o;s++){for(var a=[],h=0,u=r.length;h<u;h++)i=r[h],e=t.aoData[i],n[s](t,e._aFilterData,i,e._aData,h)&&a.push(i);r.length=0,l.merge(r,a)}}function It(t,e,i,n,r,s){if(""!==e){for(var o,a=[],l=t.aiDisplay,c=Pt(e,n,r,s),h=0;h<l.length;h++)o=t.aoData[l[h]]._aFilterData[i],c.test(o)&&a.push(l[h]);t.aiDisplay=a}}function Mt(t,e,i,n,r,s){var o,a,l,h=Pt(e,n,r,s),u=t.oPreviousSearch.sSearch,d=t.aiDisplayMaster,p=[];if(0!==c.ext.search.length&&(i=!0),a=zt(t),e.length<=0)t.aiDisplay=d.slice();else{for((a||i||n||u.length>e.length||0!==e.indexOf(u)||t.bSorted)&&(t.aiDisplay=d.slice()),o=t.aiDisplay,l=0;l<o.length;l++)h.test(t.aoData[o[l]]._sFilterRow)&&p.push(o[l]);t.aiDisplay=p}}function Pt(t,e,i,n){if(t=e?t:Et(t),i){var r=l.map(t.match(/["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],(function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}else if("“"===t.charAt(0)){e=t.match(/^\u201C(.*)\u201D$/);t=e?e[1]:t}return t.replace('"',"")}));t="^(?=.*?"+r.join(")(?=.*?")+").*$"}return new RegExp(t,n?"i":"")}var Et=c.util.escapeRegex,Dt=l("<div>")[0],Lt=void 0!==Dt.textContent;function zt(t){var e,i,n,r,s,o,a,l,c=t.aoColumns,h=!1;for(i=0,r=t.aoData.length;i<r;i++)if(l=t.aoData[i],!l._aFilterData){for(o=[],n=0,s=c.length;n<s;n++)e=c[n],e.bSearchable?(a=J(t,i,n,"filter"),null===a&&(a=""),"string"!==typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(Dt.innerHTML=a,a=Lt?Dt.textContent:Dt.innerText),a.replace&&(a=a.replace(/[\r\n\u2028]/g,"")),o.push(a);l._aFilterData=o,l._sFilterRow=o.join("  "),h=!0}return h}function Ot(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function Ft(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function Rt(t){var e=t.sTableId,i=t.aanFeatures.i,n=l("<div/>",{class:t.oClasses.sInfo,id:i?null:e+"_info"});return i||(t.aoDrawCallback.push({fn:Bt,sName:"information"}),n.attr("role","status").attr("aria-live","polite"),l(t.nTable).attr("aria-describedby",e+"_info")),n[0]}function Bt(t){var e=t.aanFeatures.i;if(0!==e.length){var i=t.oLanguage,n=t._iDisplayStart+1,r=t.fnDisplayEnd(),s=t.fnRecordsTotal(),o=t.fnRecordsDisplay(),a=o?i.sInfo:i.sInfoEmpty;o!==s&&(a+=" "+i.sInfoFiltered),a+=i.sInfoPostFix,a=Nt(t,a);var c=i.fnInfoCallback;null!==c&&(a=c.call(t.oInstance,t,n,r,s,o,a)),l(e).html(a)}}function Nt(t,e){var i=t.fnFormatNumber,n=t._iDisplayStart+1,r=t._iDisplayLength,s=t.fnRecordsDisplay(),o=-1===r;return e.replace(/_START_/g,i.call(t,n)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(t,s)).replace(/_PAGE_/g,i.call(t,o?1:Math.ceil(n/r))).replace(/_PAGES_/g,i.call(t,o?1:Math.ceil(s/r)))}function jt(t){var e,i,n,r=t.iInitDisplayStart,s=t.aoColumns,o=t.oFeatures,a=t.bDeferLoading;if(t.bInitialised){for(gt(t),dt(t),pt(t,t.aoHeader),pt(t,t.aoFooter),Wt(t,!0),o.bAutoWidth&&Jt(t),e=0,i=s.length;e<i;e++)n=s[e],n.sWidth&&(n.nTh.style.width=ne(n.sWidth));be(t,null,"preInit",[t]),mt(t);var l=Se(t);("ssp"!=l||a)&&("ajax"==l?bt(t,[],(function(i){var n=Ct(t,i);for(e=0;e<n.length;e++)X(t,n[e]);t.iInitDisplayStart=r,mt(t),Wt(t,!1),Ut(t,i)}),t):(Wt(t,!1),Ut(t)))}else setTimeout((function(){jt(t)}),200)}function Ut(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&U(t),be(t,null,"plugin-init",[t,e]),be(t,"aoInitComplete","init",[t,e])}function Vt(t,e){var i=parseInt(e,10);t._iDisplayLength=i,_e(t),be(t,null,"length",[t,i])}function $t(t){for(var e=t.oClasses,i=t.sTableId,n=t.aLengthMenu,r=Array.isArray(n[0]),s=r?n[0]:n,o=r?n[1]:n,a=l("<select/>",{name:i+"_length","aria-controls":i,class:e.sLengthSelect}),c=0,h=s.length;c<h;c++)a[0][c]=new Option("number"===typeof o[c]?t.fnFormatNumber(o[c]):o[c],s[c]);var u=l("<div><label/></div>").addClass(e.sLength);return t.aanFeatures.l||(u[0].id=i+"_length"),u.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",a[0].outerHTML)),l("select",u).val(t._iDisplayLength).on("change.DT",(function(e){Vt(t,l(this).val()),ft(t)})),l(t.nTable).on("length.dt.DT",(function(e,i,n){t===i&&l("select",u).val(n)})),u[0]}function Ht(t){var e=t.sPaginationType,i=c.ext.pager[e],n="function"===typeof i,r=function(t){ft(t)},s=l("<div/>").addClass(t.oClasses.sPaging+e)[0],o=t.aanFeatures;return n||i.fnInit(t,s,r),o.p||(s.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(t){if(n){var e,s,a=t._iDisplayStart,l=t._iDisplayLength,c=t.fnRecordsDisplay(),h=-1===l,u=h?0:Math.ceil(a/l),d=h?1:Math.ceil(c/l),p=i(u,d);for(e=0,s=o.p.length;e<s;e++)we(t,"pageButton")(t,o.p[e],e,p,u,d)}else i.fnUpdate(t,r)},sName:"pagination"})),s}function qt(t,e,i){var n=t._iDisplayStart,r=t._iDisplayLength,s=t.fnRecordsDisplay();0===s||-1===r?n=0:"number"===typeof e?(n=e*r,n>s&&(n=0)):"first"==e?n=0:"previous"==e?(n=r>=0?n-r:0,n<0&&(n=0)):"next"==e?n+r<s&&(n+=r):"last"==e?n=Math.floor((s-1)/r)*r:me(t,0,"Unknown paging action: "+e,5);var o=t._iDisplayStart!==n;return t._iDisplayStart=n,o?(be(t,null,"page",[t]),i&&ft(t)):be(t,null,"page-nc",[t]),o}function Gt(t){return l("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing,role:"status"}).html(t.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(t.nTable)[0]}function Wt(t,e){t.oFeatures.bProcessing&&l(t.aanFeatures.r).css("display",e?"block":"none"),be(t,null,"processing",[t,e])}function Xt(t){var e=l(t.nTable),i=t.oScroll;if(""===i.sX&&""===i.sY)return t.nTable;var n=i.sX,r=i.sY,s=t.oClasses,o=e.children("caption"),a=o.length?o[0]._captionSide:null,c=l(e[0].cloneNode(!1)),h=l(e[0].cloneNode(!1)),u=e.children("tfoot"),d="<div/>",p=function(t){return t?ne(t):null};u.length||(u=null);var f=l(d,{class:s.sScrollWrapper}).append(l(d,{class:s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:n?p(n):"100%"}).append(l(d,{class:s.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===a?o:null).append(e.children("thead"))))).append(l(d,{class:s.sScrollBody}).css({position:"relative",overflow:"auto",width:p(n)}).append(e));u&&f.append(l(d,{class:s.sScrollFoot}).css({overflow:"hidden",border:0,width:n?p(n):"100%"}).append(l(d,{class:s.sScrollFootInner}).append(h.removeAttr("id").css("margin-left",0).append("bottom"===a?o:null).append(e.children("tfoot")))));var m=f.children(),g=m[0],y=m[1],x=u?m[2]:null;return n&&l(y).on("scroll.DT",(function(t){var e=this.scrollLeft;g.scrollLeft=e,u&&(x.scrollLeft=e)})),l(y).css("max-height",r),i.bCollapse||l(y).css("height",r),t.nScrollHead=g,t.nScrollBody=y,t.nScrollFoot=x,t.aoDrawCallback.push({fn:Yt,sName:"scrolling"}),f[0]}function Yt(t){var e,i,n,r,s,o,a,c,h,u=t.oScroll,d=u.sX,p=u.sXInner,f=u.sY,m=u.iBarWidth,g=l(t.nScrollHead),y=g[0].style,x=g.children("div"),v=x[0].style,b=x.children("table"),_=t.nScrollBody,S=l(_),C=_.style,T=l(t.nScrollFoot),k=T.children("div"),A=k.children("table"),I=l(t.nTHead),M=l(t.nTable),P=M[0],E=P.style,D=t.nTFoot?l(t.nTFoot):null,L=t.oBrowser,z=L.bScrollOversize,O=(w(t.aoColumns,"nTh"),[]),F=[],R=[],B=[],N=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},j=_.scrollHeight>_.clientHeight;if(t.scrollBarVis!==j&&void 0!==t.scrollBarVis)return t.scrollBarVis=j,void U(t);t.scrollBarVis=j,M.children("thead, tfoot").remove(),D&&(o=D.clone().prependTo(M),i=D.find("tr"),r=o.find("tr"),o.find("[id]").removeAttr("id")),s=I.clone().prependTo(M),e=I.find("tr"),n=s.find("tr"),s.find("th, td").removeAttr("tabindex"),s.find("[id]").removeAttr("id"),d||(C.width="100%",g[0].style.width="100%"),l.each(xt(t,s),(function(e,i){a=V(t,e),i.style.width=t.aoColumns[a].sWidth})),D&&Zt((function(t){t.style.width=""}),r),h=M.outerWidth(),""===d?(E.width="100%",z&&(M.find("tbody").height()>_.offsetHeight||"scroll"==S.css("overflow-y"))&&(E.width=ne(M.outerWidth()-m)),h=M.outerWidth()):""!==p&&(E.width=ne(p),h=M.outerWidth()),Zt(N,n),Zt((function(t){var e=window.getComputedStyle?window.getComputedStyle(t).width:ne(l(t).width());R.push(t.innerHTML),O.push(e)}),n),Zt((function(t,e){t.style.width=O[e]}),e),l(n).css("height",0),D&&(Zt(N,r),Zt((function(t){B.push(t.innerHTML),F.push(ne(l(t).css("width")))}),r),Zt((function(t,e){t.style.width=F[e]}),i),l(r).height(0)),Zt((function(t,e){t.innerHTML='<div class="dataTables_sizing">'+R[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=O[e]}),n),D&&Zt((function(t,e){t.innerHTML='<div class="dataTables_sizing">'+B[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=F[e]}),r),Math.round(M.outerWidth())<Math.round(h)?(c=_.scrollHeight>_.offsetHeight||"scroll"==S.css("overflow-y")?h+m:h,z&&(_.scrollHeight>_.offsetHeight||"scroll"==S.css("overflow-y"))&&(E.width=ne(c-m)),""!==d&&""===p||me(t,1,"Possible column misalignment",6)):c="100%",C.width=ne(c),y.width=ne(c),D&&(t.nScrollFoot.style.width=ne(c)),f||z&&(C.height=ne(P.offsetHeight+m));var $=M.outerWidth();b[0].style.width=ne($),v.width=ne($);var H=M.height()>_.clientHeight||"scroll"==S.css("overflow-y"),q="padding"+(L.bScrollbarLeft?"Left":"Right");v[q]=H?m+"px":"0px",D&&(A[0].style.width=ne($),k[0].style.width=ne($),k[0].style[q]=H?m+"px":"0px"),M.children("colgroup").insertBefore(M.children("thead")),S.trigger("scroll"),!t.bSorted&&!t.bFiltered||t._drawHold||(_.scrollTop=0)}function Zt(t,e,i){var n,r,s=0,o=0,a=e.length;while(o<a){n=e[o].firstChild,r=i?i[o].firstChild:null;while(n)1===n.nodeType&&(i?t(n,r,s):t(n,s),s++),n=n.nextSibling,r=i?r.nextSibling:null;o++}}var Kt=/<.*?>/g;function Jt(t){var e,i,n,r=t.nTable,s=t.aoColumns,o=t.oScroll,a=o.sY,c=o.sX,h=o.sXInner,u=s.length,d=q(t,"bVisible"),p=l("th",t.nTHead),f=r.getAttribute("width"),m=r.parentNode,g=!1,y=t.oBrowser,x=y.bScrollOversize,v=r.style.width;v&&-1!==v.indexOf("%")&&(f=v);var b=te(w(s,"sWidthOrig"),m);for(e=0;e<d.length;e++)i=s[d[e]],null!==i.sWidth&&(i.sWidth=b[e],g=!0);if(x||!g&&!c&&!a&&u==H(t)&&u==p.length)for(e=0;e<u;e++){var _=V(t,e);null!==_&&(s[_].sWidth=ne(p.eq(e).width()))}else{var S=l(r).clone().css("visibility","hidden").removeAttr("id");S.find("tbody tr").remove();var C=l("<tr/>").appendTo(S.find("tbody"));for(S.find("thead, tfoot").remove(),S.append(l(t.nTHead).clone()).append(l(t.nTFoot).clone()),S.find("tfoot th, tfoot td").css("width",""),p=xt(t,S.find("thead")[0]),e=0;e<d.length;e++)i=s[d[e]],p[e].style.width=null!==i.sWidthOrig&&""!==i.sWidthOrig?ne(i.sWidthOrig):"",i.sWidthOrig&&c&&l(p[e]).append(l("<div/>").css({width:i.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(t.aoData.length)for(e=0;e<d.length;e++)n=d[e],i=s[n],l(ee(t,n)).clone(!1).append(i.sContentPadding).appendTo(C);l("[name]",S).removeAttr("name");var T=l("<div/>").css(c||a?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(S).appendTo(m);c&&h?S.width(h):c?(S.css("width","auto"),S.removeAttr("width"),S.width()<m.clientWidth&&f&&S.width(m.clientWidth)):a?S.width(m.clientWidth):f&&S.width(f);var k=0;for(e=0;e<d.length;e++){var A=l(p[e]),I=A.outerWidth()-A.width(),M=y.bBounding?Math.ceil(p[e].getBoundingClientRect().width):A.outerWidth();k+=M,s[d[e]].sWidth=ne(M-I)}r.style.width=ne(k),T.remove()}if(f&&(r.style.width=ne(f)),(f||c)&&!t._reszEvt){var P=function(){l(window).on("resize.DT-"+t.sInstance,Qt((function(){U(t)})))};x?setTimeout(P,1e3):P(),t._reszEvt=!0}}var Qt=c.util.throttle;function te(t,e){for(var i=[],n=[],r=0;r<t.length;r++)t[r]?i.push(l("<div/>").css("width",ne(t[r])).appendTo(e||document.body)):i.push(null);for(r=0;r<t.length;r++)n.push(i[r]?i[r][0].offsetWidth:null);return l(i).remove(),n}function ee(t,e){var i=ie(t,e);if(i<0)return null;var n=t.aoData[i];return n.nTr?n.anCells[e]:l("<td/>").html(J(t,i,e,"display"))[0]}function ie(t,e){for(var i,n=-1,r=-1,s=0,o=t.aoData.length;s<o;s++)i=J(t,s,e,"display")+"",i=i.replace(Kt,""),i=i.replace(/&nbsp;/g," "),i.length>n&&(n=i.length,r=s);return r}function ne(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function re(t){var e,i,n,r,s,o,a,h=[],u=t.aoColumns,d=t.aaSortingFixed,p=l.isPlainObject(d),f=[],m=function(t){t.length&&!Array.isArray(t[0])?f.push(t):l.merge(f,t)};for(Array.isArray(d)&&m(d),p&&d.pre&&m(d.pre),m(t.aaSorting),p&&d.post&&m(d.post),e=0;e<f.length;e++)for(a=f[e][0],r=u[a].aDataSort,i=0,n=r.length;i<n;i++)s=r[i],o=u[s].sType||"string",void 0===f[e]._idx&&(f[e]._idx=l.inArray(f[e][1],u[s].asSorting)),h.push({src:a,col:s,dir:f[e][1],index:f[e]._idx,type:o,formatter:c.ext.type.order[o+"-pre"]});return h}function se(t){var e,i,n,r,s,o=[],a=c.ext.type.order,l=t.aoData,h=(t.aoColumns,0),u=t.aiDisplayMaster;for(G(t),s=re(t),e=0,i=s.length;e<i;e++)r=s[e],r.formatter&&h++,he(t,r.col);if("ssp"!=Se(t)&&0!==s.length){for(e=0,n=u.length;e<n;e++)o[u[e]]=e;h===s.length?u.sort((function(t,e){var i,n,r,a,c,h=s.length,u=l[t]._aSortData,d=l[e]._aSortData;for(r=0;r<h;r++)if(c=s[r],i=u[c.col],n=d[c.col],a=i<n?-1:i>n?1:0,0!==a)return"asc"===c.dir?a:-a;return i=o[t],n=o[e],i<n?-1:i>n?1:0})):u.sort((function(t,e){var i,n,r,c,h,u,d=s.length,p=l[t]._aSortData,f=l[e]._aSortData;for(r=0;r<d;r++)if(h=s[r],i=p[h.col],n=f[h.col],u=a[h.type+"-"+h.dir]||a["string-"+h.dir],c=u(i,n),0!==c)return c;return i=o[t],n=o[e],i<n?-1:i>n?1:0}))}t.bSorted=!0}function oe(t){for(var e,i,n=t.aoColumns,r=re(t),s=t.oLanguage.oAria,o=0,a=n.length;o<a;o++){var l=n[o],c=l.asSorting,h=l.ariaTitle||l.sTitle.replace(/<.*?>/g,""),u=l.nTh;u.removeAttribute("aria-sort"),l.bSortable?(r.length>0&&r[0].col==o?(u.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),i=c[r[0].index+1]||c[0]):i=c[0],e=h+("asc"===i?s.sSortAscending:s.sSortDescending)):e=h,u.setAttribute("aria-label",e)}}function ae(t,e,i,n){var r,s=t.aoColumns[e],o=t.aaSorting,a=s.asSorting,c=function(t,e){var i=t._idx;return void 0===i&&(i=l.inArray(t[1],a)),i+1<a.length?i+1:e?null:0};if("number"===typeof o[0]&&(o=t.aaSorting=[o]),i&&t.oFeatures.bSortMulti){var h=l.inArray(e,w(o,"0"));-1!==h?(r=c(o[h],!0),null===r&&1===o.length&&(r=0),null===r?o.splice(h,1):(o[h][1]=a[r],o[h]._idx=r)):(o.push([e,a[0],0]),o[o.length-1]._idx=0)}else o.length&&o[0][0]==e?(r=c(o[0]),o.length=1,o[0][1]=a[r],o[0]._idx=r):(o.length=0,o.push([e,a[0]]),o[0]._idx=0);mt(t),"function"==typeof n&&n(t)}function le(t,e,i,n){var r=t.aoColumns[i];xe(e,{},(function(e){!1!==r.bSortable&&(t.oFeatures.bProcessing?(Wt(t,!0),setTimeout((function(){ae(t,i,e.shiftKey,n),"ssp"!==Se(t)&&Wt(t,!1)}),0)):ae(t,i,e.shiftKey,n))}))}function ce(t){var e,i,n,r=t.aLastSort,s=t.oClasses.sSortColumn,o=re(t),a=t.oFeatures;if(a.bSort&&a.bSortClasses){for(e=0,i=r.length;e<i;e++)n=r[e].src,l(w(t.aoData,"anCells",n)).removeClass(s+(e<2?e+1:3));for(e=0,i=o.length;e<i;e++)n=o[e].src,l(w(t.aoData,"anCells",n)).addClass(s+(e<2?e+1:3))}t.aLastSort=o}function he(t,e){var i,n,r,s=t.aoColumns[e],o=c.ext.order[s.sSortDataType];o&&(i=o.call(t.oInstance,t,e,$(t,e)));for(var a=c.ext.type.order[s.sType+"-pre"],l=0,h=t.aoData.length;l<h;l++)n=t.aoData[l],n._aSortData||(n._aSortData=[]),n._aSortData[e]&&!o||(r=o?i[l]:J(t,l,e,"sort"),n._aSortData[e]=a?a(r):r)}function ue(t){if(!t._bLoadingState){var e={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:l.extend(!0,[],t.aaSorting),search:Ot(t.oPreviousSearch),columns:l.map(t.aoColumns,(function(e,i){return{visible:e.bVisible,search:Ot(t.aoPreSearchCols[i])}}))};t.oSavedState=e,be(t,"aoStateSaveParams","stateSaveParams",[t,e]),t.oFeatures.bStateSave&&!t.bDestroying&&t.fnStateSaveCallback.call(t.oInstance,t,e)}}function de(t,e,i){if(t.oFeatures.bStateSave){var n=function(e){pe(t,e,i)},r=t.fnStateLoadCallback.call(t.oInstance,t,n);return void 0!==r&&pe(t,r,i),!0}i()}function pe(t,e,i){var n,r,s=t.aoColumns;t._bLoadingState=!0;var o=t._bInitComplete?new c.Api(t):null;if(!e||!e.time)return t._bLoadingState=!1,void i();var a=be(t,"aoStateLoadParams","stateLoadParams",[t,e]);if(-1!==l.inArray(!1,a))return t._bLoadingState=!1,void i();var h=t.iStateDuration;if(h>0&&e.time<+new Date-1e3*h)return t._bLoadingState=!1,void i();if(e.columns&&s.length!==e.columns.length)return t._bLoadingState=!1,void i();if(t.oLoadedState=l.extend(!0,{},e),void 0!==e.length&&(o?o.page.len(e.length):t._iDisplayLength=e.length),void 0!==e.start&&(null===o?(t._iDisplayStart=e.start,t.iInitDisplayStart=e.start):qt(t,e.start/t._iDisplayLength)),void 0!==e.order&&(t.aaSorting=[],l.each(e.order,(function(e,i){t.aaSorting.push(i[0]>=s.length?[0,i[1]]:i)}))),void 0!==e.search&&l.extend(t.oPreviousSearch,Ft(e.search)),e.columns){for(n=0,r=e.columns.length;n<r;n++){var u=e.columns[n];void 0!==u.visible&&(o?o.column(n).visible(u.visible,!1):s[n].bVisible=u.visible),void 0!==u.search&&l.extend(t.aoPreSearchCols[n],Ft(u.search))}o&&o.columns.adjust()}t._bLoadingState=!1,be(t,"aoStateLoaded","stateLoaded",[t,e]),i()}function fe(t){var e=c.settings,i=l.inArray(t,w(e,"nTable"));return-1!==i?e[i]:null}function me(t,e,i,n){if(i="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+i,n&&(i+=". For more information about this error, please see https://datatables.net/tn/"+n),e)window.console&&console.log&&console.log(i);else{var r=c.ext,s=r.sErrMode||r.errMode;if(t&&be(t,null,"error",[t,n,i]),"alert"==s)alert(i);else{if("throw"==s)throw new Error(i);"function"==typeof s&&s(t,n,i)}}}function ge(t,e,i,n){Array.isArray(i)?l.each(i,(function(i,n){Array.isArray(n)?ge(t,e,n[0],n[1]):ge(t,e,n)})):(void 0===n&&(n=i),void 0!==e[i]&&(t[n]=e[i]))}function ye(t,e,i){var n;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],l.isPlainObject(n)?(l.isPlainObject(t[r])||(t[r]={}),l.extend(!0,t[r],n)):i&&"data"!==r&&"aaData"!==r&&Array.isArray(n)?t[r]=n.slice():t[r]=n);return t}function xe(t,e,i){l(t).on("click.DT",e,(function(e){l(t).trigger("blur"),i(e)})).on("keypress.DT",e,(function(t){13===t.which&&(t.preventDefault(),i(t))})).on("selectstart.DT",(function(){return!1}))}function ve(t,e,i,n){i&&t[e].push({fn:i,sName:n})}function be(t,e,i,n){var r=[];if(e&&(r=l.map(t[e].slice().reverse(),(function(e,i){return e.fn.apply(t.oInstance,n)}))),null!==i){var s=l.Event(i+".dt"),o=l(t.nTable);o.trigger(s,n),0===o.parents("body").length&&l("body").trigger(s,n),r.push(s.result)}return r}function _e(t){var e=t._iDisplayStart,i=t.fnDisplayEnd(),n=t._iDisplayLength;e>=i&&(e=i-n),e-=e%n,(-1===n||e<0)&&(e=0),t._iDisplayStart=e}function we(t,e){var i=t.renderer,n=c.ext.renderer[e];return l.isPlainObject(i)&&i[e]?n[i[e]]||n._:"string"===typeof i&&n[i]||n._}function Se(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}var Ce=[],Te=Array.prototype,ke=function(t){var e,i,n=c.settings,r=l.map(n,(function(t,e){return t.nTable}));return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?(e=l.inArray(t,r),-1!==e?[n[e]]:null):t&&"function"===typeof t.settings?t.settings().toArray():("string"===typeof t?i=l(t):t instanceof l&&(i=t),i?i.map((function(t){return e=l.inArray(this,r),-1!==e?n[e]:null})).toArray():void 0):[]};r=function(t,e){if(!(this instanceof r))return new r(t,e);var i=[],n=function(t){var e=ke(t);e&&i.push.apply(i,e)};if(Array.isArray(t))for(var s=0,o=t.length;s<o;s++)n(t[s]);else n(t);this.context=I(i),e&&l.merge(this,e),this.selector={rows:null,cols:null,opts:null},r.extend(this,this,Ce)},c.Api=r,l.extend(r.prototype,{any:function(){return 0!==this.count()},concat:Te.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,i=this.length;e<i;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new r(e[t],this[t]):null},filter:function(t){var e=[];if(Te.filter)e=Te.filter.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)t.call(this,this[i],i,this)&&e.push(this[i]);return new r(this.context,e)},flatten:function(){var t=[];return new r(this.context,t.concat.apply(t,this.toArray()))},join:Te.join,indexOf:Te.indexOf||function(t,e){for(var i=e||0,n=this.length;i<n;i++)if(this[i]===t)return i;return-1},iterator:function(t,e,i,n){var s,o,a,l,c,h,u,d,p=[],f=this.context,m=this.selector;for("string"===typeof t&&(n=i,i=e,e=t,t=!1),o=0,a=f.length;o<a;o++){var g=new r(f[o]);if("table"===e)s=i.call(g,f[o],o),void 0!==s&&p.push(s);else if("columns"===e||"rows"===e)s=i.call(g,f[o],this[o],o),void 0!==s&&p.push(s);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(u=this[o],"column-rows"===e&&(h=De(f[o],m.opts)),l=0,c=u.length;l<c;l++)d=u[l],s="cell"===e?i.call(g,f[o],d.row,d.column,o,l):i.call(g,f[o],d,o,l,h),void 0!==s&&p.push(s)}if(p.length||n){var y=new r(f,t?p.concat.apply([],p):p),x=y.selector;return x.rows=m.rows,x.cols=m.cols,x.opts=m.opts,y}return this},lastIndexOf:Te.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(Te.map)e=Te.map.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)e.push(t.call(this,this[i],i));return new r(this.context,e)},pluck:function(t){var e=c.util.get(t);return this.map((function(t){return e(t)}))},pop:Te.pop,push:Te.push,reduce:Te.reduce||function(t,e){return B(this,t,e,0,this.length,1)},reduceRight:Te.reduceRight||function(t,e){return B(this,t,e,this.length-1,-1,-1)},reverse:Te.reverse,selector:null,shift:Te.shift,slice:function(){return new r(this.context,this)},sort:Te.sort,splice:Te.splice,toArray:function(){return Te.slice.call(this)},to$:function(){return l(this)},toJQuery:function(){return l(this)},unique:function(){return new r(this.context,I(this))},unshift:Te.unshift}),r.extend=function(t,e,i){if(i.length&&e&&(e instanceof r||e.__dt_wrapper)){var n,s,o,a=function(t,e,i){return function(){var n=e.apply(t,arguments);return r.extend(n,n,i.methodExt),n}};for(n=0,s=i.length;n<s;n++)o=i[n],e[o.name]="function"===o.type?a(t,o.val,o):"object"===o.type?{}:o.val,e[o.name].__dt_wrapper=!0,r.extend(t,e[o.name],o.propExt)}},r.register=s=function(t,e){if(Array.isArray(t))for(var i=0,n=t.length;i<n;i++)r.register(t[i],e);else{var s,o,a,c,h=t.split("."),u=Ce,d=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i].name===e)return t[i];return null};for(s=0,o=h.length;s<o;s++){c=-1!==h[s].indexOf("()"),a=c?h[s].replace("()",""):h[s];var p=d(u,a);p||(p={name:a,val:{},methodExt:[],propExt:[],type:"object"},u.push(p)),s===o-1?(p.val=e,p.type="function"===typeof e?"function":l.isPlainObject(e)?"object":"other"):u=c?p.methodExt:p.propExt}}},r.registerPlural=o=function(t,e,i){r.register(t,i),r.register(e,(function(){var t=i.apply(this,arguments);return t===this?this:t instanceof r?t.length?Array.isArray(t[0])?new r(t.context,t[0]):t[0]:void 0:t}))};var Ae=function(t,e){if(Array.isArray(t))return l.map(t,(function(t){return Ae(t,e)}));if("number"===typeof t)return[e[t]];var i=l.map(e,(function(t,e){return t.nTable}));return l(i).filter(t).map((function(t){var n=l.inArray(this,i);return e[n]})).toArray()};s("tables()",(function(t){return void 0!==t&&null!==t?new r(Ae(t,this.context)):this})),s("table()",(function(t){var e=this.tables(t),i=e.context;return i.length?new r(i[0]):e})),o("tables().nodes()","table().node()",(function(){return this.iterator("table",(function(t){return t.nTable}),1)})),o("tables().body()","table().body()",(function(){return this.iterator("table",(function(t){return t.nTBody}),1)})),o("tables().header()","table().header()",(function(){return this.iterator("table",(function(t){return t.nTHead}),1)})),o("tables().footer()","table().footer()",(function(){return this.iterator("table",(function(t){return t.nTFoot}),1)})),o("tables().containers()","table().container()",(function(){return this.iterator("table",(function(t){return t.nTableWrapper}),1)})),s("draw()",(function(t){return this.iterator("table",(function(e){"page"===t?ft(e):("string"===typeof t&&(t="full-hold"!==t),mt(e,!1===t))}))})),s("page()",(function(t){return void 0===t?this.page.info().page:this.iterator("table",(function(e){qt(e,t)}))})),s("page.info()",(function(t){if(0!==this.context.length){var e=this.context[0],i=e._iDisplayStart,n=e.oFeatures.bPaginate?e._iDisplayLength:-1,r=e.fnRecordsDisplay(),s=-1===n;return{page:s?0:Math.floor(i/n),pages:s?1:Math.ceil(r/n),start:i,end:e.fnDisplayEnd(),length:n,recordsTotal:e.fnRecordsTotal(),recordsDisplay:r,serverSide:"ssp"===Se(e)}}})),s("page.len()",(function(t){return void 0===t?0!==this.context.length?this.context[0]._iDisplayLength:void 0:this.iterator("table",(function(e){Vt(e,t)}))}));var Ie=function(t,e,i){if(i){var n=new r(t);n.one("draw",(function(){i(n.ajax.json())}))}if("ssp"==Se(t))mt(t,e);else{Wt(t,!0);var s=t.jqXHR;s&&4!==s.readyState&&s.abort(),bt(t,[],(function(i){ot(t);for(var n=Ct(t,i),r=0,s=n.length;r<s;r++)X(t,n[r]);mt(t,e),Wt(t,!1)}))}};s("ajax.json()",(function(){var t=this.context;if(t.length>0)return t[0].json})),s("ajax.params()",(function(){var t=this.context;if(t.length>0)return t[0].oAjaxData})),s("ajax.reload()",(function(t,e){return this.iterator("table",(function(i){Ie(i,!1===e,t)}))})),s("ajax.url()",(function(t){var e=this.context;if(void 0===t){if(0===e.length)return;return e=e[0],e.ajax?l.isPlainObject(e.ajax)?e.ajax.url:e.ajax:e.sAjaxSource}return this.iterator("table",(function(e){l.isPlainObject(e.ajax)?e.ajax.url=t:e.ajax=t}))})),s("ajax.url().load()",(function(t,e){return this.iterator("table",(function(i){Ie(i,!1===e,t)}))}));var Me=function(t,e,i,r,s){var o,a,l,c,h,u,d=[],p=typeof e;for(e&&"string"!==p&&"function"!==p&&void 0!==e.length||(e=[e]),l=0,c=e.length;l<c;l++)for(a=e[l]&&e[l].split&&!e[l].match(/[\[\(:]/)?e[l].split(","):[e[l]],h=0,u=a.length;h<u;h++)o=i("string"===typeof a[h]?a[h].trim():a[h]),o&&o.length&&(d=d.concat(o));var f=n.selector[t];if(f.length)for(l=0,c=f.length;l<c;l++)d=f[l](r,s,d);return I(d)},Pe=function(t){return t||(t={}),t.filter&&void 0===t.search&&(t.search=t.filter),l.extend({search:"none",order:"current",page:"all"},t)},Ee=function(t){for(var e=0,i=t.length;e<i;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},De=function(t,e){var i,n=[],r=t.aiDisplay,s=t.aiDisplayMaster,o=e.search,a=e.order,c=e.page;if("ssp"==Se(t))return"removed"===o?[]:C(0,s.length);if("current"==c)for(u=t._iDisplayStart,d=t.fnDisplayEnd();u<d;u++)n.push(r[u]);else if("current"==a||"applied"==a){if("none"==o)n=s.slice();else if("applied"==o)n=r.slice();else if("removed"==o){for(var h={},u=0,d=r.length;u<d;u++)h[r[u]]=null;n=l.map(s,(function(t){return h.hasOwnProperty(t)?null:t}))}}else if("index"==a||"original"==a)for(u=0,d=t.aoData.length;u<d;u++)"none"==o?n.push(u):(i=l.inArray(u,r),(-1===i&&"removed"==o||i>=0&&"applied"==o)&&n.push(u));return n},Le=function(t,e,i){var n,r=function(e){var r=y(e),s=t.aoData;if(null!==r&&!i)return[r];if(n||(n=De(t,i)),null!==r&&-1!==l.inArray(r,n))return[r];if(null===e||void 0===e||""===e)return n;if("function"===typeof e)return l.map(n,(function(t){var i=s[t];return e(t,i._aData,i.nTr)?t:null}));if(e.nodeName){var o=e._DT_RowIndex,a=e._DT_CellIndex;if(void 0!==o)return s[o]&&s[o].nTr===e?[o]:[];if(a)return s[a.row]&&s[a.row].nTr===e.parentNode?[a.row]:[];var c=l(e).closest("*[data-dt-row]");return c.length?[c.data("dt-row")]:[]}if("string"===typeof e&&"#"===e.charAt(0)){var h=t.aIds[e.replace(/^#/,"")];if(void 0!==h)return[h.idx]}var u=T(S(t.aoData,n,"nTr"));return l(u).filter(e).map((function(){return this._DT_RowIndex})).toArray()};return Me("row",e,r,t,i)};s("rows()",(function(t,e){void 0===t?t="":l.isPlainObject(t)&&(e=t,t=""),e=Pe(e);var i=this.iterator("table",(function(i){return Le(i,t,e)}),1);return i.selector.rows=t,i.selector.opts=e,i})),s("rows().nodes()",(function(){return this.iterator("row",(function(t,e){return t.aoData[e].nTr||void 0}),1)})),s("rows().data()",(function(){return this.iterator(!0,"rows",(function(t,e){return S(t.aoData,e,"_aData")}),1)})),o("rows().cache()","row().cache()",(function(t){return this.iterator("row",(function(e,i){var n=e.aoData[i];return"search"===t?n._aFilterData:n._aSortData}),1)})),o("rows().invalidate()","row().invalidate()",(function(t){return this.iterator("row",(function(e,i){lt(e,i,t)}))})),o("rows().indexes()","row().index()",(function(){return this.iterator("row",(function(t,e){return e}),1)})),o("rows().ids()","row().id()",(function(t){for(var e=[],i=this.context,n=0,s=i.length;n<s;n++)for(var o=0,a=this[n].length;o<a;o++){var l=i[n].rowIdFn(i[n].aoData[this[n][o]]._aData);e.push((!0===t?"#":"")+l)}return new r(i,e)})),o("rows().remove()","row().remove()",(function(){var t=this;return this.iterator("row",(function(e,i,n){var r,s,o,a,l,c,h=e.aoData,u=h[i];for(h.splice(i,1),r=0,s=h.length;r<s;r++)if(l=h[r],c=l.anCells,null!==l.nTr&&(l.nTr._DT_RowIndex=r),null!==c)for(o=0,a=c.length;o<a;o++)c[o]._DT_CellIndex.row=r;at(e.aiDisplayMaster,i),at(e.aiDisplay,i),at(t[n],i,!1),e._iRecordsDisplay>0&&e._iRecordsDisplay--,_e(e);var d=e.rowIdFn(u._aData);void 0!==d&&delete e.aIds[d]})),this.iterator("table",(function(t){for(var e=0,i=t.aoData.length;e<i;e++)t.aoData[e].idx=e})),this})),s("rows.add()",(function(t){var e=this.iterator("table",(function(e){var i,n,r,s=[];for(n=0,r=t.length;n<r;n++)i=t[n],i.nodeName&&"TR"===i.nodeName.toUpperCase()?s.push(Y(e,i)[0]):s.push(X(e,i));return s}),1),i=this.rows(-1);return i.pop(),l.merge(i,e),i})),s("row()",(function(t,e){return Ee(this.rows(t,e))})),s("row().data()",(function(t){var e=this.context;if(void 0===t)return e.length&&this.length?e[0].aoData[this[0]]._aData:void 0;var i=e[0].aoData[this[0]];return i._aData=t,Array.isArray(t)&&i.nTr&&i.nTr.id&&rt(e[0].rowId)(t,i.nTr.id),lt(e[0],this[0],"data"),this})),s("row().node()",(function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null})),s("row.add()",(function(t){t instanceof l&&t.length&&(t=t[0]);var e=this.iterator("table",(function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?Y(e,t)[0]:X(e,t)}));return this.row(e[0])})),l(document).on("plugin-init.dt",(function(t,e){var i=new r(e),n="on-plugin-init",s="stateSaveParams."+n,o="destroy. "+n;i.on(s,(function(t,e,i){for(var n=e.rowIdFn,r=e.aoData,s=[],o=0;o<r.length;o++)r[o]._detailsShow&&s.push("#"+n(r[o]._aData));i.childRows=s})),i.on(o,(function(){i.off(s+" "+o)}));var a=i.state.loaded();a&&a.childRows&&i.rows(l.map(a.childRows,(function(t){return t.replace(/:/g,"\\:")}))).every((function(){be(e,null,"requestChild",[this])}))}));var ze=function(t,e,i,n){var r=[],s=function(e,i){if(Array.isArray(e)||e instanceof l)for(var n=0,o=e.length;n<o;n++)s(e[n],i);else if(e.nodeName&&"tr"===e.nodeName.toLowerCase())r.push(e);else{var a=l("<tr><td></td></tr>").addClass(i);l("td",a).addClass(i).html(e)[0].colSpan=H(t),r.push(a[0])}};s(i,n),e._details&&e._details.detach(),e._details=l(r),e._detailsShow&&e._details.insertAfter(e.nTr)},Oe=c.util.throttle((function(t){ue(t[0])}),500),Fe=function(t,e){var i=t.context;if(i.length){var n=i[0].aoData[void 0!==e?e:t[0]];n&&n._details&&(n._details.remove(),n._detailsShow=void 0,n._details=void 0,l(n.nTr).removeClass("dt-hasChild"),Oe(i))}},Re=function(t,e){var i=t.context;if(i.length&&t.length){var n=i[0].aoData[t[0]];n._details&&(n._detailsShow=e,e?(n._details.insertAfter(n.nTr),l(n.nTr).addClass("dt-hasChild")):(n._details.detach(),l(n.nTr).removeClass("dt-hasChild")),be(i[0],null,"childRow",[e,t.row(t[0])]),Be(i[0]),Oe(i))}},Be=function(t){var e=new r(t),i=".dt.DT_details",n="draw"+i,s="column-sizing"+i,o="destroy"+i,a=t.aoData;e.off(n+" "+s+" "+o),w(a,"_details").length>0&&(e.on(n,(function(i,n){t===n&&e.rows({page:"current"}).eq(0).each((function(t){var e=a[t];e._detailsShow&&e._details.insertAfter(e.nTr)}))})),e.on(s,(function(e,i,n,r){if(t===i)for(var s,o=H(i),c=0,h=a.length;c<h;c++)s=a[c],s._details&&s._details.each((function(){var t=l(this).children("td");1==t.length&&t.attr("colspan",o)}))})),e.on(o,(function(i,n){if(t===n)for(var r=0,s=a.length;r<s;r++)a[r]._details&&Fe(e,r)})))},Ne="",je=Ne+"row().child",Ue=je+"()";s(Ue,(function(t,e){var i=this.context;return void 0===t?i.length&&this.length?i[0].aoData[this[0]]._details:void 0:(!0===t?this.child.show():!1===t?Fe(this):i.length&&this.length&&ze(i[0],i[0].aoData[this[0]],t,e),this)})),s([je+".show()",Ue+".show()"],(function(t){return Re(this,!0),this})),s([je+".hide()",Ue+".hide()"],(function(){return Re(this,!1),this})),s([je+".remove()",Ue+".remove()"],(function(){return Fe(this),this})),s(je+".isShown()",(function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1}));var Ve=/^([^:]+):(name|visIdx|visible)$/,$e=function(t,e,i,n,r){for(var s=[],o=0,a=r.length;o<a;o++)s.push(J(t,r[o],e));return s},He=function(t,e,i){var n=t.aoColumns,r=w(n,"sName"),s=w(n,"nTh"),o=function(e){var o=y(e);if(""===e)return C(n.length);if(null!==o)return[o>=0?o:n.length+o];if("function"===typeof e){var a=De(t,i);return l.map(n,(function(i,n){return e(n,$e(t,n,0,0,a),s[n])?n:null}))}var c="string"===typeof e?e.match(Ve):"";if(c)switch(c[2]){case"visIdx":case"visible":var h=parseInt(c[1],10);if(h<0){var u=l.map(n,(function(t,e){return t.bVisible?e:null}));return[u[u.length+h]]}return[V(t,h)];case"name":return l.map(r,(function(t,e){return t===c[1]?e:null}));default:return[]}if(e.nodeName&&e._DT_CellIndex)return[e._DT_CellIndex.column];var d=l(s).filter(e).map((function(){return l.inArray(this,s)})).toArray();if(d.length||!e.nodeName)return d;var p=l(e).closest("*[data-dt-column]");return p.length?[p.data("dt-column")]:[]};return Me("column",e,o,t,i)},qe=function(t,e,i){var n,r,s,o,a=t.aoColumns,c=a[e],h=t.aoData;if(void 0===i)return c.bVisible;if(c.bVisible!==i){if(i){var u=l.inArray(!0,w(a,"bVisible"),e+1);for(r=0,s=h.length;r<s;r++)o=h[r].nTr,n=h[r].anCells,o&&o.insertBefore(n[e],n[u]||null)}else l(w(t.aoData,"anCells",e)).detach();c.bVisible=i}};s("columns()",(function(t,e){void 0===t?t="":l.isPlainObject(t)&&(e=t,t=""),e=Pe(e);var i=this.iterator("table",(function(i){return He(i,t,e)}),1);return i.selector.cols=t,i.selector.opts=e,i})),o("columns().header()","column().header()",(function(t,e){return this.iterator("column",(function(t,e){return t.aoColumns[e].nTh}),1)})),o("columns().footer()","column().footer()",(function(t,e){return this.iterator("column",(function(t,e){return t.aoColumns[e].nTf}),1)})),o("columns().data()","column().data()",(function(){return this.iterator("column-rows",$e,1)})),o("columns().dataSrc()","column().dataSrc()",(function(){return this.iterator("column",(function(t,e){return t.aoColumns[e].mData}),1)})),o("columns().cache()","column().cache()",(function(t){return this.iterator("column-rows",(function(e,i,n,r,s){return S(e.aoData,s,"search"===t?"_aFilterData":"_aSortData",i)}),1)})),o("columns().nodes()","column().nodes()",(function(){return this.iterator("column-rows",(function(t,e,i,n,r){return S(t.aoData,r,"anCells",e)}),1)})),o("columns().visible()","column().visible()",(function(t,e){var i=this,n=this.iterator("column",(function(e,i){if(void 0===t)return e.aoColumns[i].bVisible;qe(e,i,t)}));return void 0!==t&&this.iterator("table",(function(n){pt(n,n.aoHeader),pt(n,n.aoFooter),n.aiDisplay.length||l(n.nTBody).find("td[colspan]").attr("colspan",H(n)),ue(n),i.iterator("column",(function(i,n){be(i,null,"column-visibility",[i,n,t,e])})),(void 0===e||e)&&i.columns.adjust()})),n})),o("columns().indexes()","column().index()",(function(t){return this.iterator("column",(function(e,i){return"visible"===t?$(e,i):i}),1)})),s("columns.adjust()",(function(){return this.iterator("table",(function(t){U(t)}),1)})),s("column.index()",(function(t,e){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===t||"toData"===t)return V(i,e);if("fromData"===t||"toVisible"===t)return $(i,e)}})),s("column()",(function(t,e){return Ee(this.columns(t,e))}));var Ge=function(t,e,i){var n,r,s,o,a,c,h,u=t.aoData,d=De(t,i),p=T(S(u,d,"anCells")),f=l(M([],p)),m=t.aoColumns.length,g=function(e){var i="function"===typeof e;if(null===e||void 0===e||i){for(r=[],s=0,o=d.length;s<o;s++)for(n=d[s],a=0;a<m;a++)c={row:n,column:a},i?(h=u[n],e(c,J(t,n,a),h.anCells?h.anCells[a]:null)&&r.push(c)):r.push(c);return r}if(l.isPlainObject(e))return void 0!==e.column&&void 0!==e.row&&-1!==l.inArray(e.row,d)?[e]:[];var p=f.filter(e).map((function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}})).toArray();return p.length||!e.nodeName?p:(h=l(e).closest("*[data-dt-row]"),h.length?[{row:h.data("dt-row"),column:h.data("dt-column")}]:[])};return Me("cell",e,g,t,i)};s("cells()",(function(t,e,i){if(l.isPlainObject(t)&&(void 0===t.row?(i=t,t=null):(i=e,e=null)),l.isPlainObject(e)&&(i=e,e=null),null===e||void 0===e)return this.iterator("table",(function(e){return Ge(e,t,Pe(i))}));var n,r,s,o,a=i?{page:i.page,order:i.order,search:i.search}:{},c=this.columns(e,a),h=this.rows(t,a),u=this.iterator("table",(function(t,e){var i=[];for(n=0,r=h[e].length;n<r;n++)for(s=0,o=c[e].length;s<o;s++)i.push({row:h[e][n],column:c[e][s]});return i}),1),d=i&&i.selected?this.cells(u,i):u;return l.extend(d.selector,{cols:e,rows:t,opts:i}),d})),o("cells().nodes()","cell().node()",(function(){return this.iterator("cell",(function(t,e,i){var n=t.aoData[e];return n&&n.anCells?n.anCells[i]:void 0}),1)})),s("cells().data()",(function(){return this.iterator("cell",(function(t,e,i){return J(t,e,i)}),1)})),o("cells().cache()","cell().cache()",(function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",(function(e,i,n){return e.aoData[i][t][n]}),1)})),o("cells().render()","cell().render()",(function(t){return this.iterator("cell",(function(e,i,n){return J(e,i,n,t)}),1)})),o("cells().indexes()","cell().index()",(function(){return this.iterator("cell",(function(t,e,i){return{row:e,column:i,columnVisible:$(t,i)}}),1)})),o("cells().invalidate()","cell().invalidate()",(function(t){return this.iterator("cell",(function(e,i,n){lt(e,i,t,n)}))})),s("cell()",(function(t,e,i){return Ee(this.cells(t,e,i))})),s("cell().data()",(function(t){var e=this.context,i=this[0];return void 0===t?e.length&&i.length?J(e[0],i[0].row,i[0].column):void 0:(Q(e[0],i[0].row,i[0].column,t),lt(e[0],i[0].row,"data",i[0].column),this)})),s("order()",(function(t,e){var i=this.context;return void 0===t?0!==i.length?i[0].aaSorting:void 0:("number"===typeof t?t=[[t,e]]:t.length&&!Array.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",(function(e){e.aaSorting=t.slice()})))})),s("order.listener()",(function(t,e,i){return this.iterator("table",(function(n){le(n,t,e,i)}))})),s("order.fixed()",(function(t){if(!t){var e=this.context,i=e.length?e[0].aaSortingFixed:void 0;return Array.isArray(i)?{pre:i}:i}return this.iterator("table",(function(e){e.aaSortingFixed=l.extend(!0,{},t)}))})),s(["columns().order()","column().order()"],(function(t){var e=this;return this.iterator("table",(function(i,n){var r=[];l.each(e[n],(function(e,i){r.push([i,t])})),i.aaSorting=r}))})),s("search()",(function(t,e,i,n){var r=this.context;return void 0===t?0!==r.length?r[0].oPreviousSearch.sSearch:void 0:this.iterator("table",(function(r){r.oFeatures.bFilter&&kt(r,l.extend({},r.oPreviousSearch,{sSearch:t+"",bRegex:null!==e&&e,bSmart:null===i||i,bCaseInsensitive:null===n||n}),1)}))})),o("columns().search()","column().search()",(function(t,e,i,n){return this.iterator("column",(function(r,s){var o=r.aoPreSearchCols;if(void 0===t)return o[s].sSearch;r.oFeatures.bFilter&&(l.extend(o[s],{sSearch:t+"",bRegex:null!==e&&e,bSmart:null===i||i,bCaseInsensitive:null===n||n}),kt(r,r.oPreviousSearch,1))}))})),s("state()",(function(){return this.context.length?this.context[0].oSavedState:null})),s("state.clear()",(function(){return this.iterator("table",(function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})}))})),s("state.loaded()",(function(){return this.context.length?this.context[0].oLoadedState:null})),s("state.save()",(function(){return this.iterator("table",(function(t){ue(t)}))})),c.use=function(t,e){"lib"===e||t.fn?l=t:"win"==e||t.document?(window=t,document=t.document):"datetime"!==e&&"DateTime"!==t.type||(c.DateTime=t)},c.factory=function(t,e){var i=!1;return t&&t.document&&(window=t,document=t.document),e&&e.fn&&e.fn.jquery&&(l=e,i=!0),i},c.versionCheck=c.fnVersionCheck=function(t){for(var e,i,n=c.version.split("."),r=t.split("."),s=0,o=r.length;s<o;s++)if(e=parseInt(n[s],10)||0,i=parseInt(r[s],10)||0,e!==i)return e>i;return!0},c.isDataTable=c.fnIsDataTable=function(t){var e=l(t).get(0),i=!1;return t instanceof c.Api||(l.each(c.settings,(function(t,n){var r=n.nScrollHead?l("table",n.nScrollHead)[0]:null,s=n.nScrollFoot?l("table",n.nScrollFoot)[0]:null;n.nTable!==e&&r!==e&&s!==e||(i=!0)})),i)},c.tables=c.fnTables=function(t){var e=!1;l.isPlainObject(t)&&(e=t.api,t=t.visible);var i=l.map(c.settings,(function(e){if(!t||t&&l(e.nTable).is(":visible"))return e.nTable}));return e?new r(i):i},c.camelToHungarian=D,s("$()",(function(t,e){var i=this.rows(e).nodes(),n=l(i);return l([].concat(n.filter(t).toArray(),n.find(t).toArray()))})),l.each(["on","one","off"],(function(t,e){s(e+"()",(function(){var t=Array.prototype.slice.call(arguments);t[0]=l.map(t[0].split(/\s/),(function(t){return t.match(/\.dt\b/)?t:t+".dt"})).join(" ");var i=l(this.tables().nodes());return i[e].apply(i,t),this}))})),s("clear()",(function(){return this.iterator("table",(function(t){ot(t)}))})),s("settings()",(function(){return new r(this.context,this.context)})),s("init()",(function(){var t=this.context;return t.length?t[0].oInit:null})),s("data()",(function(){return this.iterator("table",(function(t){return w(t.aoData,"_aData")})).flatten()})),s("destroy()",(function(t){return t=t||!1,this.iterator("table",(function(e){var i,n=e.oClasses,s=e.nTable,o=e.nTBody,a=e.nTHead,h=e.nTFoot,u=l(s),d=l(o),p=l(e.nTableWrapper),f=l.map(e.aoData,(function(t){return t.nTr}));e.bDestroying=!0,be(e,"aoDestroyCallback","destroy",[e]),t||new r(e).columns().visible(!0),p.off(".DT").find(":not(tbody *)").off(".DT"),l(window).off(".DT-"+e.sInstance),s!=a.parentNode&&(u.children("thead").detach(),u.append(a)),h&&s!=h.parentNode&&(u.children("tfoot").detach(),u.append(h)),e.aaSorting=[],e.aaSortingFixed=[],ce(e),l(f).removeClass(e.asStripeClasses.join(" ")),l("th, td",a).removeClass(n.sSortable+" "+n.sSortableAsc+" "+n.sSortableDesc+" "+n.sSortableNone),d.children().detach(),d.append(f);var m=e.nTableWrapper.parentNode,g=t?"remove":"detach";u[g](),p[g](),!t&&m&&(m.insertBefore(s,e.nTableReinsertBefore),u.css("width",e.sDestroyWidth).removeClass(n.sTable),i=e.asDestroyStripes.length,i&&d.children().each((function(t){l(this).addClass(e.asDestroyStripes[t%i])})));var y=l.inArray(e,c.settings);-1!==y&&c.settings.splice(y,1)}))})),l.each(["column","row","cell"],(function(t,e){s(e+"s().every()",(function(t){var i=this.selector.opts,n=this;return this.iterator(e,(function(r,s,o,a,l){t.call(n[e](s,"cell"===e?o:i,"cell"===e?i:void 0),s,o,a,l)}))}))})),s("i18n()",(function(t,e,i){var n=this.context[0],r=nt(t)(n.oLanguage);return void 0===r&&(r=e),void 0!==i&&l.isPlainObject(r)&&(r=void 0!==r[i]?r[i]:r._),"string"===typeof r?r.replace("%d",i):r})),c.version="1.13.7",c.settings=[],c.models={},c.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1},c.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},c.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},c.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(e){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(i){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:l.extend({},c.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},E(c.defaults),c.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},E(c.defaults.column),c.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:void 0,oAjaxData:void 0,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Se(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Se(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,i=e+t,n=this.aiDisplay.length,r=this.oFeatures,s=r.bPaginate;return r.bServerSide?!1===s||-1===t?e+n:Math.min(e+t,this._iRecordsDisplay):!s||i>n||-1===t?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},c.ext=n={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:c.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:c.version},l.extend(n,{afnFiltering:n.search,aTypes:n.type.detect,ofnSearch:n.type.search,oSort:n.type.order,afnSortData:n.order,aoFeatures:n.feature,oApi:n.internal,oStdClasses:n.classes,oPagination:n.pager}),l.extend(c.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var We=c.ext.pager;function Xe(t,e){var i=[],n=We.numbers_length,r=Math.floor(n/2);return e<=n?i=C(0,e):t<=r?(i=C(0,n-2),i.push("ellipsis"),i.push(e-1)):t>=e-1-r?(i=C(e-(n-2),e),i.splice(0,0,"ellipsis"),i.splice(0,0,0)):(i=C(t-r+2,t+r-1),i.push("ellipsis"),i.push(e-1),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}l.extend(We,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},numbers:function(t,e){return[Xe(t,e)]},simple_numbers:function(t,e){return["previous",Xe(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Xe(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Xe(t,e),"last"]},_numbers:Xe,numbers_length:7}),l.extend(!0,c.ext.renderer,{pageButton:{_:function(t,e,i,n,r,s){var o,a,c,h=t.oClasses,u=t.oLanguage.oPaginate,d=t.oLanguage.oAria.paginate||{},p=function(e,n){var c,f,m,g,y=h.sPageButtonDisabled,x=function(e){qt(t,e.data.action,!0)};for(c=0,f=n.length;c<f;c++)if(g=n[c],Array.isArray(g)){var v=l("<"+(g.DT_el||"div")+"/>").appendTo(e);p(v,g)}else{var b=!1;switch(o=null,a=g,g){case"ellipsis":e.append('<span class="ellipsis">&#x2026;</span>');break;case"first":o=u.sFirst,0===r&&(b=!0);break;case"previous":o=u.sPrevious,0===r&&(b=!0);break;case"next":o=u.sNext,0!==s&&r!==s-1||(b=!0);break;case"last":o=u.sLast,0!==s&&r!==s-1||(b=!0);break;default:o=t.fnFormatNumber(g+1),a=r===g?h.sPageButtonActive:"";break}if(null!==o){var _=t.oInit.pagingTag||"a";b&&(a+=" "+y),m=l("<"+_+">",{class:h.sPageButton+" "+a,"aria-controls":t.sTableId,"aria-disabled":b?"true":null,"aria-label":d[g],role:"link","aria-current":a===h.sPageButtonActive?"page":null,"data-dt-idx":g,tabindex:b?-1:t.iTabIndex,id:0===i&&"string"===typeof g?t.sTableId+"_"+g:null}).html(o).appendTo(e),xe(m,{action:g},x)}}};try{c=l(e).find(document.activeElement).data("dt-idx")}catch(f){}p(l(e).empty(),n),void 0!==c&&l(e).find("[data-dt-idx="+c+"]").trigger("focus")}}}),l.extend(c.ext.type.detect,[function(t,e){var i=e.oLanguage.sDecimal;return v(t,i)?"num"+i:null},function(t,e){if(t&&!(t instanceof Date)&&!p.test(t))return null;var i=Date.parse(t);return null!==i&&!isNaN(i)||g(t)?"date":null},function(t,e){var i=e.oLanguage.sDecimal;return v(t,i,!0)?"num-fmt"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return _(t,i)?"html-num"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return _(t,i,!0)?"html-num-fmt"+i:null},function(t,e){return g(t)||"string"===typeof t&&-1!==t.indexOf("<")?"html":null}]),l.extend(c.ext.type.search,{html:function(t){return g(t)?t:"string"===typeof t?t.replace(u," ").replace(d,""):""},string:function(t){return g(t)?t:"string"===typeof t?t.replace(u," "):t}});var Ye=function(t,e,i,n){if(0!==t&&(!t||"-"===t))return-1/0;var r=typeof t;return"number"===r||"bigint"===r?t:(e&&(t=x(t,e)),t.replace&&(i&&(t=t.replace(i,"")),n&&(t=t.replace(n,""))),1*t)};function Ze(t){l.each({num:function(e){return Ye(e,t)},"num-fmt":function(e){return Ye(e,t,m)},"html-num":function(e){return Ye(e,t,d)},"html-num-fmt":function(e){return Ye(e,t,d,m)}},(function(e,i){n.type.order[e+t+"-pre"]=i,e.match(/^html\-/)&&(n.type.search[e+t]=n.type.search.html)}))}l.extend(n.type.order,{"date-pre":function(t){var e=Date.parse(t);return isNaN(e)?-1/0:e},"html-pre":function(t){return g(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return g(t)?"":"string"===typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Ze(""),l.extend(!0,c.ext.renderer,{header:{_:function(t,e,i,n){l(t.nTable).on("order.dt.DT",(function(r,s,o,a){if(t===s){var l=i.idx;e.removeClass(n.sSortAsc+" "+n.sSortDesc).addClass("asc"==a[l]?n.sSortAsc:"desc"==a[l]?n.sSortDesc:i.sSortingClass)}}))},jqueryui:function(t,e,i,n){l("<div/>").addClass(n.sSortJUIWrapper).append(e.contents()).append(l("<span/>").addClass(n.sSortIcon+" "+i.sSortingClassJUI)).appendTo(e),l(t.nTable).on("order.dt.DT",(function(r,s,o,a){if(t===s){var l=i.idx;e.removeClass(n.sSortAsc+" "+n.sSortDesc).addClass("asc"==a[l]?n.sSortAsc:"desc"==a[l]?n.sSortDesc:i.sSortingClass),e.find("span."+n.sSortIcon).removeClass(n.sSortJUIAsc+" "+n.sSortJUIDesc+" "+n.sSortJUI+" "+n.sSortJUIAscAllowed+" "+n.sSortJUIDescAllowed).addClass("asc"==a[l]?n.sSortJUIAsc:"desc"==a[l]?n.sSortJUIDesc:i.sSortingClassJUI)}}))}}});var Ke=function(t){return Array.isArray(t)&&(t=t.join(",")),"string"===typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};function Je(t,e,i,n,r){return window.moment?t[e](r):window.luxon?t[i](r):n?t[n](r):t}var Qe=!1;function ti(t,e,i){var n;if(window.moment){if(n=window.moment.utc(t,e,i,!0),!n.isValid())return null}else if(window.luxon){if(n=e&&"string"===typeof t?window.luxon.DateTime.fromFormat(t,e):window.luxon.DateTime.fromISO(t),!n.isValid)return null;n.setLocale(i)}else e?(Qe||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),Qe=!0):n=new Date(t);return n}function ei(t){return function(e,i,n,r){0===arguments.length?(n="en",i=null,e=null):1===arguments.length?(n="en",i=e,e=null):2===arguments.length&&(n=i,i=e,e=null);var s="datetime-"+i;return c.ext.type.order[s]||(c.ext.type.detect.unshift((function(t){return t===s&&s})),c.ext.type.order[s+"-asc"]=function(t,e){var i=t.valueOf(),n=e.valueOf();return i===n?0:i<n?-1:1},c.ext.type.order[s+"-desc"]=function(t,e){var i=t.valueOf(),n=e.valueOf();return i===n?0:i>n?-1:1}),function(o,a){if(null===o||void 0===o)if("--now"===r){var l=new Date;o=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds()))}else o="";if("type"===a)return s;if(""===o)return"sort"!==a?"":ti("0000-01-01 00:00:00",null,n);if(null!==i&&e===i&&"sort"!==a&&"type"!==a&&!(o instanceof Date))return o;var c=ti(o,e,n);if(null===c)return o;if("sort"===a)return c;var h=null===i?Je(c,"toDate","toJSDate","")[t]():Je(c,"format","toFormat","toISOString",i);return"display"===a?Ke(h):h}}}var ii=",",ni=".";if(void 0!==window.Intl)try{for(var ri=(new Intl.NumberFormat).formatToParts(100000.1),si=0;si<ri.length;si++)"group"===ri[si].type?ii=ri[si].value:"decimal"===ri[si].type&&(ni=ri[si].value)}catch(ai){}function oi(t){return function(){var e=[fe(this[c.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return c.ext.internal[t].apply(this,e)}}c.datetime=function(t,e){var i="datetime-detect-"+t;e||(e="en"),c.ext.type.order[i]||(c.ext.type.detect.unshift((function(n){var r=ti(n,t,e);return!(""!==n&&!r)&&i})),c.ext.type.order[i+"-pre"]=function(i){return ti(i,t,e)||0})},c.render={date:ei("toLocaleDateString"),datetime:ei("toLocaleString"),time:ei("toLocaleTimeString"),number:function(t,e,i,n,r){return null!==t&&void 0!==t||(t=ii),null!==e&&void 0!==e||(e=ni),{display:function(s){if("number"!==typeof s&&"string"!==typeof s)return s;if(""===s||null===s)return s;var o=s<0?"-":"",a=parseFloat(s);if(isNaN(a))return Ke(s);a=a.toFixed(i),s=Math.abs(a);var l=parseInt(s,10),c=i?e+(s-l).toFixed(i).substring(2):"";return 0===l&&0===parseFloat(c)&&(o=""),o+(n||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+c+(r||"")}}},text:function(){return{display:Ke,filter:Ke}}},l.extend(c.ext.internal,{_fnExternApiFunc:oi,_fnBuildAjax:bt,_fnAjaxUpdate:_t,_fnAjaxParameters:wt,_fnAjaxUpdateDraw:St,_fnAjaxDataSrc:Ct,_fnAddColumn:N,_fnColumnOptions:j,_fnAdjustColumnSizing:U,_fnVisibleToColumnIndex:V,_fnColumnIndexToVisible:$,_fnVisbleColumns:H,_fnGetColumns:q,_fnColumnTypes:G,_fnApplyColumnDefs:W,_fnHungarianMap:E,_fnCamelToHungarian:D,_fnLanguageCompat:L,_fnBrowserDetect:R,_fnAddData:X,_fnAddTr:Y,_fnNodeToDataIndex:Z,_fnNodeToColumnIndex:K,_fnGetCellData:J,_fnSetCellData:Q,_fnSplitObjNotation:it,_fnGetObjectDataFn:nt,_fnSetObjectDataFn:rt,_fnGetDataMaster:st,_fnClearTable:ot,_fnDeleteIndex:at,_fnInvalidate:lt,_fnGetRowElements:ct,_fnCreateTr:ht,_fnBuildHead:dt,_fnDrawHead:pt,_fnDraw:ft,_fnReDraw:mt,_fnAddOptionsHtml:gt,_fnDetectHeader:yt,_fnGetUniqueThs:xt,_fnFeatureHtmlFilter:Tt,_fnFilterComplete:kt,_fnFilterCustom:At,_fnFilterColumn:It,_fnFilter:Mt,_fnFilterCreateSearch:Pt,_fnEscapeRegex:Et,_fnFilterData:zt,_fnFeatureHtmlInfo:Rt,_fnUpdateInfo:Bt,_fnInfoMacros:Nt,_fnInitialise:jt,_fnInitComplete:Ut,_fnLengthChange:Vt,_fnFeatureHtmlLength:$t,_fnFeatureHtmlPaginate:Ht,_fnPageChange:qt,_fnFeatureHtmlProcessing:Gt,_fnProcessingDisplay:Wt,_fnFeatureHtmlTable:Xt,_fnScrollDraw:Yt,_fnApplyToChildren:Zt,_fnCalculateColumnWidths:Jt,_fnThrottle:Qt,_fnConvertToWidth:te,_fnGetWidestNode:ee,_fnGetMaxLenString:ie,_fnStringToCss:ne,_fnSortFlatten:re,_fnSort:se,_fnSortAria:oe,_fnSortListener:ae,_fnSortAttachListener:le,_fnSortingClasses:ce,_fnSortData:he,_fnSaveState:ue,_fnLoadState:de,_fnImplementState:pe,_fnSettingsFromNode:fe,_fnLog:me,_fnMap:ge,_fnBindAction:xe,_fnCallbackReg:ve,_fnCallbackFire:be,_fnLengthOverflow:_e,_fnRenderer:we,_fnDataSource:Se,_fnRowAttributes:ut,_fnExtend:ye,_fnCalculateEnd:function(){}}),l.fn.dataTable=c,c.$=l,l.fn.dataTableSettings=c.settings,l.fn.dataTableExt=c.ext,l.fn.DataTable=function(t){return l(this).dataTable(t).api()},l.each(c,(function(t,e){l.fn.DataTable[t]=e})),e["default"]=c},2201:function(t,e,i){"use strict";i.d(e,{PO:function(){return N},p7:function(){return ee}});var n=i(6252),r=i(2262);
/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */
const s="undefined"!==typeof window;function o(t){return t.__esModule||"Module"===t[Symbol.toStringTag]}const a=Object.assign;function l(t,e){const i={};for(const n in e){const r=e[n];i[n]=h(r)?r.map(t):t(r)}return i}const c=()=>{},h=Array.isArray;const u=/\/$/,d=t=>t.replace(u,"");function p(t,e,i="/"){let n,r={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),r=t(s)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=_(null!=n?n:e,i),{fullPath:n+(s&&"?")+s+o,path:n,query:r,hash:o}}function f(t,e){const i=e.query?t(e.query):"";return e.path+(i&&"?")+i+(e.hash||"")}function m(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function g(t,e,i){const n=e.matched.length-1,r=i.matched.length-1;return n>-1&&n===r&&y(e.matched[n],i.matched[r])&&x(e.params,i.params)&&t(e.query)===t(i.query)&&e.hash===i.hash}function y(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function x(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!v(t[i],e[i]))return!1;return!0}function v(t,e){return h(t)?b(t,e):h(e)?b(e,t):t===e}function b(t,e){return h(e)?t.length===e.length&&t.every(((t,i)=>t===e[i])):1===t.length&&t[0]===e}function _(t,e){if(t.startsWith("/"))return t;if(!t)return e;const i=e.split("/"),n=t.split("/"),r=n[n.length-1];".."!==r&&"."!==r||n.push("");let s,o,a=i.length-1;for(s=0;s<n.length;s++)if(o=n[s],"."!==o){if(".."!==o)break;a>1&&a--}return i.slice(0,a).join("/")+"/"+n.slice(s-(s===n.length?1:0)).join("/")}var w,S;(function(t){t["pop"]="pop",t["push"]="push"})(w||(w={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(S||(S={}));function C(t){if(!t)if(s){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),d(t)}const T=/^[^#]+#/;function k(t,e){return t.replace(T,"#")+e}function A(t,e){const i=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-i.left-(e.left||0),top:n.top-i.top-(e.top||0)}}const I=()=>({left:window.pageXOffset,top:window.pageYOffset});function M(t){let e;if("el"in t){const i=t.el,n="string"===typeof i&&i.startsWith("#");0;const r="string"===typeof i?n?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!r)return;e=A(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function P(t,e){const i=history.state?history.state.position-e:-1;return i+t}const E=new Map;function D(t,e){E.set(t,e)}function L(t){const e=E.get(t);return E.delete(t),e}let z=()=>location.protocol+"//"+location.host;function O(t,e){const{pathname:i,search:n,hash:r}=e,s=t.indexOf("#");if(s>-1){let e=r.includes(t.slice(s))?t.slice(s).length:1,i=r.slice(e);return"/"!==i[0]&&(i="/"+i),m(i,"")}const o=m(i,t);return o+n+r}function F(t,e,i,n){let r=[],s=[],o=null;const l=({state:s})=>{const a=O(t,location),l=i.value,c=e.value;let h=0;if(s){if(i.value=a,e.value=s,o&&o===l)return void(o=null);h=c?s.position-c.position:0}else n(a);r.forEach((t=>{t(i.value,l,{delta:h,type:w.pop,direction:h?h>0?S.forward:S.back:S.unknown})}))};function c(){o=i.value}function h(t){r.push(t);const e=()=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)};return s.push(e),e}function u(){const{history:t}=window;t.state&&t.replaceState(a({},t.state,{scroll:I()}),"")}function d(){for(const t of s)t();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:h,destroy:d}}function R(t,e,i,n=!1,r=!1){return{back:t,current:e,forward:i,replaced:n,position:window.history.length,scroll:r?I():null}}function B(t){const{history:e,location:i}=window,n={value:O(t,i)},r={value:e.state};function s(n,s,o){const a=t.indexOf("#"),l=a>-1?(i.host&&document.querySelector("base")?t:t.slice(a))+n:z()+t+n;try{e[o?"replaceState":"pushState"](s,"",l),r.value=s}catch(c){console.error(c),i[o?"replace":"assign"](l)}}function o(t,i){const o=a({},e.state,R(r.value.back,t,r.value.forward,!0),i,{position:r.value.position});s(t,o,!0),n.value=t}function l(t,i){const o=a({},r.value,e.state,{forward:t,scroll:I()});s(o.current,o,!0);const l=a({},R(n.value,t,null),{position:o.position+1},i);s(t,l,!1),n.value=t}return r.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:n,state:r,push:l,replace:o}}function N(t){t=C(t);const e=B(t),i=F(t,e.state,e.location,e.replace);function n(t,e=!0){e||i.pauseListeners(),history.go(t)}const r=a({location:"",base:t,go:n,createHref:k.bind(null,t)},e,i);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function j(t){return"string"===typeof t||t&&"object"===typeof t}function U(t){return"string"===typeof t||"symbol"===typeof t}const V={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},$=Symbol("");var H;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})(H||(H={}));function q(t,e){return a(new Error,{type:t,[$]:!0},e)}function G(t,e){return t instanceof Error&&$ in t&&(null==e||!!(t.type&e))}const W="[^/]+?",X={sensitive:!1,strict:!1,start:!0,end:!0},Y=/[.+*?^${}()[\]/\\]/g;function Z(t,e){const i=a({},X,e),n=[];let r=i.start?"^":"";const s=[];for(const a of t){const t=a.length?[]:[90];i.strict&&!a.length&&(r+="/");for(let e=0;e<a.length;e++){const n=a[e];let o=40+(i.sensitive?.25:0);if(0===n.type)e||(r+="/"),r+=n.value.replace(Y,"\\$&"),o+=40;else if(1===n.type){const{value:t,repeatable:i,optional:l,regexp:c}=n;s.push({name:t,repeatable:i,optional:l});const h=c||W;if(h!==W){o+=10;try{new RegExp(`(${h})`)}catch(u){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+u.message)}}let d=i?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(d=l&&a.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),r+=d,o+=20,l&&(o+=-8),i&&(o+=-20),".*"===h&&(o+=-50)}t.push(o)}n.push(t)}if(i.strict&&i.end){const t=n.length-1;n[t][n[t].length-1]+=.7000000000000001}i.strict||(r+="/?"),i.end?r+="$":i.strict&&(r+="(?:/|$)");const o=new RegExp(r,i.sensitive?"":"i");function l(t){const e=t.match(o),i={};if(!e)return null;for(let n=1;n<e.length;n++){const t=e[n]||"",r=s[n-1];i[r.name]=t&&r.repeatable?t.split("/"):t}return i}function c(e){let i="",n=!1;for(const r of t){n&&i.endsWith("/")||(i+="/"),n=!1;for(const t of r)if(0===t.type)i+=t.value;else if(1===t.type){const{value:s,repeatable:o,optional:a}=t,l=s in e?e[s]:"";if(h(l)&&!o)throw new Error(`Provided param "${s}" is an array but it is not repeatable (* or + modifiers)`);const c=h(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${s}"`);r.length<2&&(i.endsWith("/")?i=i.slice(0,-1):n=!0)}i+=c}}return i||"/"}return{re:o,score:n,keys:s,parse:l,stringify:c}}function K(t,e){let i=0;while(i<t.length&&i<e.length){const n=e[i]-t[i];if(n)return n;i++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function J(t,e){let i=0;const n=t.score,r=e.score;while(i<n.length&&i<r.length){const t=K(n[i],r[i]);if(t)return t;i++}if(1===Math.abs(r.length-n.length)){if(Q(n))return 1;if(Q(r))return-1}return r.length-n.length}function Q(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const tt={type:0,value:""},et=/[a-zA-Z0-9_]/;function it(t){if(!t)return[[]];if("/"===t)return[[tt]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${i})/"${c}": ${t}`)}let i=0,n=i;const r=[];let s;function o(){s&&r.push(s),s=[]}let a,l=0,c="",h="";function u(){c&&(0===i?s.push({type:0,value:c}):1===i||2===i||3===i?(s.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:h,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function d(){c+=a}while(l<t.length)if(a=t[l++],"\\"!==a||2===i)switch(i){case 0:"/"===a?(c&&u(),o()):":"===a?(u(),i=1):d();break;case 4:d(),i=n;break;case 1:"("===a?i=2:et.test(a)?d():(u(),i=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==h[h.length-1]?h=h.slice(0,-1)+a:i=3:h+=a;break;case 3:u(),i=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,h="";break;default:e("Unknown state");break}else n=i,i=4;return 2===i&&e(`Unfinished custom RegExp for param "${c}"`),u(),o(),r}function nt(t,e,i){const n=Z(it(t.path),i);const r=a(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf===!e.record.aliasOf&&e.children.push(r),r}function rt(t,e){const i=[],n=new Map;function r(t){return n.get(t)}function s(t,i,n){const r=!n,l=ot(t);l.aliasOf=n&&n.record;const u=ht(e,t),d=[l];if("alias"in t){const e="string"===typeof t.alias?[t.alias]:t.alias;for(const t of e)d.push(a({},l,{components:n?n.record.components:l.components,path:t,aliasOf:n?n.record:l}))}let p,f;for(const e of d){const{path:a}=e;if(i&&"/"!==a[0]){const t=i.record.path,n="/"===t[t.length-1]?"":"/";e.path=i.record.path+(a&&n+a)}if(p=nt(e,i,u),n?n.alias.push(p):(f=f||p,f!==p&&f.alias.push(p),r&&t.name&&!lt(p)&&o(t.name)),l.children){const t=l.children;for(let e=0;e<t.length;e++)s(t[e],p,n&&n.children[e])}n=n||p,(p.record.components&&Object.keys(p.record.components).length||p.record.name||p.record.redirect)&&h(p)}return f?()=>{o(f)}:c}function o(t){if(U(t)){const e=n.get(t);e&&(n.delete(t),i.splice(i.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{const e=i.indexOf(t);e>-1&&(i.splice(e,1),t.record.name&&n.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function l(){return i}function h(t){let e=0;while(e<i.length&&J(t,i[e])>=0&&(t.record.path!==i[e].record.path||!ut(t,i[e])))e++;i.splice(e,0,t),t.record.name&&!lt(t)&&n.set(t.record.name,t)}function u(t,e){let r,s,o,l={};if("name"in t&&t.name){if(r=n.get(t.name),!r)throw q(1,{location:t});0,o=r.record.name,l=a(st(e.params,r.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params&&st(t.params,r.keys.map((t=>t.name)))),s=r.stringify(l)}else if("path"in t)s=t.path,r=i.find((t=>t.re.test(s))),r&&(l=r.parse(s),o=r.record.name);else{if(r=e.name?n.get(e.name):i.find((t=>t.re.test(e.path))),!r)throw q(1,{location:t,currentLocation:e});o=r.record.name,l=a({},e.params,t.params),s=r.stringify(l)}const c=[];let h=r;while(h)c.unshift(h.record),h=h.parent;return{name:o,path:s,params:l,matched:c,meta:ct(c)}}return e=ht({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>s(t))),{addRoute:s,resolve:u,removeRoute:o,getRoutes:l,getRecordMatcher:r}}function st(t,e){const i={};for(const n of e)n in t&&(i[n]=t[n]);return i}function ot(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:at(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function at(t){const e={},i=t.props||!1;if("component"in t)e.default=i;else for(const n in t.components)e[n]="object"===typeof i?i[n]:i;return e}function lt(t){while(t){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ct(t){return t.reduce(((t,e)=>a(t,e.meta)),{})}function ht(t,e){const i={};for(const n in t)i[n]=n in e?e[n]:t[n];return i}function ut(t,e){return e.children.some((e=>e===t||ut(t,e)))}const dt=/#/g,pt=/&/g,ft=/\//g,mt=/=/g,gt=/\?/g,yt=/\+/g,xt=/%5B/g,vt=/%5D/g,bt=/%5E/g,_t=/%60/g,wt=/%7B/g,St=/%7C/g,Ct=/%7D/g,Tt=/%20/g;function kt(t){return encodeURI(""+t).replace(St,"|").replace(xt,"[").replace(vt,"]")}function At(t){return kt(t).replace(wt,"{").replace(Ct,"}").replace(bt,"^")}function It(t){return kt(t).replace(yt,"%2B").replace(Tt,"+").replace(dt,"%23").replace(pt,"%26").replace(_t,"`").replace(wt,"{").replace(Ct,"}").replace(bt,"^")}function Mt(t){return It(t).replace(mt,"%3D")}function Pt(t){return kt(t).replace(dt,"%23").replace(gt,"%3F")}function Et(t){return null==t?"":Pt(t).replace(ft,"%2F")}function Dt(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function Lt(t){const e={};if(""===t||"?"===t)return e;const i="?"===t[0],n=(i?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const t=n[r].replace(yt," "),i=t.indexOf("="),s=Dt(i<0?t:t.slice(0,i)),o=i<0?null:Dt(t.slice(i+1));if(s in e){let t=e[s];h(t)||(t=e[s]=[t]),t.push(o)}else e[s]=o}return e}function zt(t){let e="";for(let i in t){const n=t[i];if(i=Mt(i),null==n){void 0!==n&&(e+=(e.length?"&":"")+i);continue}const r=h(n)?n.map((t=>t&&It(t))):[n&&It(n)];r.forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+i,null!=t&&(e+="="+t))}))}return e}function Ot(t){const e={};for(const i in t){const n=t[i];void 0!==n&&(e[i]=h(n)?n.map((t=>null==t?null:""+t)):null==n?n:""+n)}return e}const Ft=Symbol(""),Rt=Symbol(""),Bt=Symbol(""),Nt=Symbol(""),jt=Symbol("");function Ut(){let t=[];function e(e){return t.push(e),()=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)}}function i(){t=[]}return{add:e,list:()=>t.slice(),reset:i}}function Vt(t,e,i,n,r){const s=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise(((o,a)=>{const l=t=>{!1===t?a(q(4,{from:i,to:e})):t instanceof Error?a(t):j(t)?a(q(2,{from:e,to:t})):(s&&n.enterCallbacks[r]===s&&"function"===typeof t&&s.push(t),o())},c=t.call(n&&n.instances[r],e,i,l);let h=Promise.resolve(c);t.length<3&&(h=h.then(l)),h.catch((t=>a(t)))}))}function $t(t,e,i,n){const r=[];for(const s of t){0;for(const t in s.components){let a=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if(Ht(a)){const o=a.__vccOpts||a,l=o[e];l&&r.push(Vt(l,i,n,s,t))}else{let l=a();0,r.push((()=>l.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${s.path}"`));const a=o(r)?r.default:r;s.components[t]=a;const l=a.__vccOpts||a,c=l[e];return c&&Vt(c,i,n,s,t)()}))))}}}return r}function Ht(t){return"object"===typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}function qt(t){const e=(0,n.f3)(Bt),i=(0,n.f3)(Nt),s=(0,n.Fl)((()=>e.resolve((0,r.SU)(t.to)))),o=(0,n.Fl)((()=>{const{matched:t}=s.value,{length:e}=t,n=t[e-1],r=i.matched;if(!n||!r.length)return-1;const o=r.findIndex(y.bind(null,n));if(o>-1)return o;const a=Zt(t[e-2]);return e>1&&Zt(n)===a&&r[r.length-1].path!==a?r.findIndex(y.bind(null,t[e-2])):o})),a=(0,n.Fl)((()=>o.value>-1&&Yt(i.params,s.value.params))),l=(0,n.Fl)((()=>o.value>-1&&o.value===i.matched.length-1&&x(i.params,s.value.params)));function h(i={}){return Xt(i)?e[(0,r.SU)(t.replace)?"replace":"push"]((0,r.SU)(t.to)).catch(c):Promise.resolve()}return{route:s,href:(0,n.Fl)((()=>s.value.href)),isActive:a,isExactActive:l,navigate:h}}const Gt=(0,n.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qt,setup(t,{slots:e}){const i=(0,r.qj)(qt(t)),{options:s}=(0,n.f3)(Bt),o=(0,n.Fl)((()=>({[Kt(t.activeClass,s.linkActiveClass,"router-link-active")]:i.isActive,[Kt(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive})));return()=>{const r=e.default&&e.default(i);return t.custom?r:(0,n.h)("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:o.value},r)}}}),Wt=Gt;function Xt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Yt(t,e){for(const i in e){const n=e[i],r=t[i];if("string"===typeof n){if(n!==r)return!1}else if(!h(r)||r.length!==n.length||n.some(((t,e)=>t!==r[e])))return!1}return!0}function Zt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Kt=(t,e,i)=>null!=t?t:null!=e?e:i,Jt=(0,n.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:i}){const s=(0,n.f3)(jt),o=(0,n.Fl)((()=>t.route||s.value)),l=(0,n.f3)(Rt,0),c=(0,n.Fl)((()=>{let t=(0,r.SU)(l);const{matched:e}=o.value;let i;while((i=e[t])&&!i.components)t++;return t})),h=(0,n.Fl)((()=>o.value.matched[c.value]));(0,n.JJ)(Rt,(0,n.Fl)((()=>c.value+1))),(0,n.JJ)(Ft,h),(0,n.JJ)(jt,o);const u=(0,r.iH)();return(0,n.YP)((()=>[u.value,h.value,t.name]),(([t,e,i],[n,r,s])=>{e&&(e.instances[i]=t,r&&r!==e&&t&&t===n&&(e.leaveGuards.size||(e.leaveGuards=r.leaveGuards),e.updateGuards.size||(e.updateGuards=r.updateGuards))),!t||!e||r&&y(e,r)&&n||(e.enterCallbacks[i]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=o.value,s=t.name,l=h.value,c=l&&l.components[s];if(!c)return Qt(i.default,{Component:c,route:r});const d=l.props[s],p=d?!0===d?r.params:"function"===typeof d?d(r):d:null,f=t=>{t.component.isUnmounted&&(l.instances[s]=null)},m=(0,n.h)(c,a({},p,e,{onVnodeUnmounted:f,ref:u}));return Qt(i.default,{Component:m,route:r})||m}}});function Qt(t,e){if(!t)return null;const i=t(e);return 1===i.length?i[0]:i}const te=Jt;function ee(t){const e=rt(t.routes,t),i=t.parseQuery||Lt,o=t.stringifyQuery||zt,u=t.history;const d=Ut(),m=Ut(),y=Ut(),x=(0,r.XI)(V);let v=V;s&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=l.bind(null,(t=>""+t)),_=l.bind(null,Et),S=l.bind(null,Dt);function C(t,i){let n,r;return U(t)?(n=e.getRecordMatcher(t),r=i):r=t,e.addRoute(r,n)}function T(t){const i=e.getRecordMatcher(t);i&&e.removeRoute(i)}function k(){return e.getRoutes().map((t=>t.record))}function A(t){return!!e.getRecordMatcher(t)}function E(t,n){if(n=a({},n||x.value),"string"===typeof t){const r=p(i,t,n.path),s=e.resolve({path:r.path},n),o=u.createHref(r.fullPath);return a(r,s,{params:S(s.params),hash:Dt(r.hash),redirectedFrom:void 0,href:o})}let r;if("path"in t)r=a({},t,{path:p(i,t.path,n.path).path});else{const e=a({},t.params);for(const t in e)null==e[t]&&delete e[t];r=a({},t,{params:_(e)}),n.params=_(n.params)}const s=e.resolve(r,n),l=t.hash||"";s.params=b(S(s.params));const c=f(o,a({},t,{hash:At(l),path:s.path})),h=u.createHref(c);return a({fullPath:c,hash:l,query:o===zt?Ot(t.query):t.query||{}},s,{redirectedFrom:void 0,href:h})}function z(t){return"string"===typeof t?p(i,t,x.value.path):a({},t)}function O(t,e){if(v!==t)return q(8,{from:e,to:t})}function F(t){return N(t)}function R(t){return F(a(z(t),{replace:!0}))}function B(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:i}=e;let n="function"===typeof i?i(t):i;return"string"===typeof n&&(n=n.includes("?")||n.includes("#")?n=z(n):{path:n},n.params={}),a({query:t.query,hash:t.hash,params:"path"in n?{}:t.params},n)}}function N(t,e){const i=v=E(t),n=x.value,r=t.state,s=t.force,l=!0===t.replace,c=B(i);if(c)return N(a(z(c),{state:"object"===typeof c?a({},r,c.state):r,force:s,replace:l}),e||i);const h=i;let u;return h.redirectedFrom=e,!s&&g(o,n,i)&&(u=q(16,{to:h,from:n}),nt(n,n,!0,!1)),(u?Promise.resolve(u):H(h,n)).catch((t=>G(t)?G(t,2)?t:it(t):tt(t,h,n))).then((t=>{if(t){if(G(t,2))return N(a({replace:l},z(t.to),{state:"object"===typeof t.to?a({},r,t.to.state):r,force:s}),e||h)}else t=X(h,n,!0,l,r);return W(h,n,t),t}))}function j(t,e){const i=O(t,e);return i?Promise.reject(i):Promise.resolve()}function $(t){const e=at.values().next().value;return e&&"function"===typeof e.runWithContext?e.runWithContext(t):t()}function H(t,e){let i;const[n,r,s]=ie(t,e);i=$t(n.reverse(),"beforeRouteLeave",t,e);for(const a of n)a.leaveGuards.forEach((n=>{i.push(Vt(n,t,e))}));const o=j.bind(null,t,e);return i.push(o),ct(i).then((()=>{i=[];for(const n of d.list())i.push(Vt(n,t,e));return i.push(o),ct(i)})).then((()=>{i=$t(r,"beforeRouteUpdate",t,e);for(const n of r)n.updateGuards.forEach((n=>{i.push(Vt(n,t,e))}));return i.push(o),ct(i)})).then((()=>{i=[];for(const n of s)if(n.beforeEnter)if(h(n.beforeEnter))for(const r of n.beforeEnter)i.push(Vt(r,t,e));else i.push(Vt(n.beforeEnter,t,e));return i.push(o),ct(i)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),i=$t(s,"beforeRouteEnter",t,e),i.push(o),ct(i)))).then((()=>{i=[];for(const n of m.list())i.push(Vt(n,t,e));return i.push(o),ct(i)})).catch((t=>G(t,8)?t:Promise.reject(t)))}function W(t,e,i){y.list().forEach((n=>$((()=>n(t,e,i)))))}function X(t,e,i,n,r){const o=O(t,e);if(o)return o;const l=e===V,c=s?history.state:{};i&&(n||l?u.replace(t.fullPath,a({scroll:l&&c&&c.scroll},r)):u.push(t.fullPath,r)),x.value=t,nt(t,e,i,l),it()}let Y;function Z(){Y||(Y=u.listen(((t,e,i)=>{if(!lt.listening)return;const n=E(t),r=B(n);if(r)return void N(a(r,{replace:!0}),n).catch(c);v=n;const o=x.value;s&&D(P(o.fullPath,i.delta),I()),H(n,o).catch((t=>G(t,12)?t:G(t,2)?(N(t.to,n).then((t=>{G(t,20)&&!i.delta&&i.type===w.pop&&u.go(-1,!1)})).catch(c),Promise.reject()):(i.delta&&u.go(-i.delta,!1),tt(t,n,o)))).then((t=>{t=t||X(n,o,!1),t&&(i.delta&&!G(t,8)?u.go(-i.delta,!1):i.type===w.pop&&G(t,20)&&u.go(-1,!1)),W(n,o,t)})).catch(c)})))}let K,J=Ut(),Q=Ut();function tt(t,e,i){it(t);const n=Q.list();return n.length?n.forEach((n=>n(t,e,i))):console.error(t),Promise.reject(t)}function et(){return K&&x.value!==V?Promise.resolve():new Promise(((t,e)=>{J.add([t,e])}))}function it(t){return K||(K=!t,Z(),J.list().forEach((([e,i])=>t?i(t):e())),J.reset()),t}function nt(e,i,r,o){const{scrollBehavior:a}=t;if(!s||!a)return Promise.resolve();const l=!r&&L(P(e.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return(0,n.Y3)().then((()=>a(e,i,l))).then((t=>t&&M(t))).catch((t=>tt(t,e,i)))}const st=t=>u.go(t);let ot;const at=new Set,lt={currentRoute:x,listening:!0,addRoute:C,removeRoute:T,hasRoute:A,getRoutes:k,resolve:E,options:t,push:F,replace:R,go:st,back:()=>st(-1),forward:()=>st(1),beforeEach:d.add,beforeResolve:m.add,afterEach:y.add,onError:Q.add,isReady:et,install(t){const e=this;t.component("RouterLink",Wt),t.component("RouterView",te),t.config.globalProperties.$router=e,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,r.SU)(x)}),s&&!ot&&x.value===V&&(ot=!0,F(u.location).catch((t=>{0})));const i={};for(const r in V)Object.defineProperty(i,r,{get:()=>x.value[r],enumerable:!0});t.provide(Bt,e),t.provide(Nt,(0,r.Um)(i)),t.provide(jt,x);const n=t.unmount;at.add(t),t.unmount=function(){at.delete(t),at.size<1&&(v=V,Y&&Y(),Y=null,x.value=V,ot=!1,K=!1),n()}}};function ct(t){return t.reduce(((t,e)=>t.then((()=>$(e)))),Promise.resolve())}return lt}function ie(t,e){const i=[],n=[],r=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const s=e.matched[o];s&&(t.matched.find((t=>y(t,s)))?n.push(s):i.push(s));const a=t.matched[o];a&&(e.matched.find((t=>y(t,a)))||r.push(a))}return[i,n,r]}}}]);
//# sourceMappingURL=chunk-vendors.9d5d31e3.js.map